(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,i){"use strict";i.d(e,"a",(function(){return Ge})),i.d(e,"b",(function(){return Hi}));var n={};function r(t){t&&(t.value=!0)}function o(){}function s(t){return void 0===t.size&&(t.size=t.__iterate(u)),t.size}function a(t,e){if("number"!=typeof e){var i=e>>>0;if(""+i!==e||4294967295===i)return NaN;e=i}return e<0?s(t)+e:e}function u(){return!0}function l(t,e,i){return(0===t&&!p(t)||void 0!==i&&t<=-i)&&(void 0===e||void 0!==i&&e>=i)}function h(t,e){return f(t,e,0)}function c(t,e){return f(t,e,e)}function f(t,e,i){return void 0===t?i:p(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function p(t){return t<0||0===t&&1/t==-1/0}function d(t){return Boolean(t&&t["@@__IMMUTABLE_ITERABLE__@@"])}function y(t){return Boolean(t&&t["@@__IMMUTABLE_KEYED__@@"])}function v(t){return Boolean(t&&t["@@__IMMUTABLE_INDEXED__@@"])}function g(t){return y(t)||v(t)}var m=function(t){return d(t)?t:R(t)},x=function(t){function e(t){return y(t)?t:V(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m),S=function(t){function e(t){return v(t)?t:N(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m),A=function(t){function e(t){return d(t)&&!g(t)?t:U(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m);m.Keyed=x,m.Indexed=S,m.Set=A;function b(t){return Boolean(t&&t["@@__IMMUTABLE_SEQ__@@"])}function M(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function w(t){return d(t)||M(t)}var C="@@__IMMUTABLE_ORDERED__@@";function P(t){return Boolean(t&&t[C])}var E="function"==typeof Symbol&&Symbol.iterator,T=E||"@@iterator",k=function(t){this.next=t};function D(t,e,i,n){var r=0===t?e:1===t?i:[e,i];return n?n.value=r:n={value:r,done:!1},n}function F(){return{value:void 0,done:!0}}function _(t){return!!Array.isArray(t)||!!B(t)}function I(t){return t&&"function"==typeof t.next}function O(t){var e=B(t);return e&&e.call(t)}function B(t){var e=t&&(E&&t[E]||t["@@iterator"]);if("function"==typeof e)return e}k.prototype.toString=function(){return"[Iterator]"},k.KEYS=0,k.VALUES=1,k.ENTRIES=2,k.prototype.inspect=k.prototype.toSource=function(){return this.toString()},k.prototype[T]=function(){return this};var z=Object.prototype.hasOwnProperty;function L(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var R=function(t){function e(t){return null==t?X():w(t)?t.toSeq():function(t){var e=Q(t);if(e)return(n=B(i=t))&&n===i.entries?e.fromEntrySeq():function(t){var e=B(t);return e&&e===t.keys}(t)?e.toSetSeq():e;var i,n;if("object"==typeof t)return new G(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var i=this._cache;if(i){for(var n=i.length,r=0;r!==n;){var o=i[e?n-++r:r++];if(!1===t(o[1],o[0],this))break}return r}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var i=this._cache;if(i){var n=i.length,r=0;return new k((function(){if(r===n)return{value:void 0,done:!0};var o=i[e?n-++r:r++];return D(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(m),V=function(t){function e(t){return null==t?X().toKeyedSeq():d(t)?y(t)?t.toSeq():t.fromEntrySeq():M(t)?t.toSeq():H(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(R),N=function(t){function e(t){return null==t?X():d(t)?y(t)?t.entrySeq():t.toIndexedSeq():M(t)?t.toSeq().entrySeq():Z(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(R),U=function(t){function e(t){return(d(t)&&!g(t)?t:N(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(R);R.isSeq=b,R.Keyed=V,R.Set=U,R.Indexed=N,R.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var Y=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[a(this,t)]:e},e.prototype.__iterate=function(t,e){for(var i=this._array,n=i.length,r=0;r!==n;){var o=e?n-++r:r++;if(!1===t(i[o],o,this))break}return r},e.prototype.__iterator=function(t,e){var i=this._array,n=i.length,r=0;return new k((function(){if(r===n)return{value:void 0,done:!0};var o=e?n-++r:r++;return D(t,o,i[o])}))},e}(N),G=function(t){function e(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return z.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var i=this._object,n=this._keys,r=n.length,o=0;o!==r;){var s=n[e?r-++o:o++];if(!1===t(i[s],s,this))break}return o},e.prototype.__iterator=function(t,e){var i=this._object,n=this._keys,r=n.length,o=0;return new k((function(){if(o===r)return{value:void 0,done:!0};var s=n[e?r-++o:o++];return D(t,s,i[s])}))},e}(V);G.prototype[C]=!0;var j,W=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var i=O(this._collection),n=0;if(I(i))for(var r;!(r=i.next()).done&&!1!==t(r.value,n++,this););return n},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var i=O(this._collection);if(!I(i))return new k(F);var n=0;return new k((function(){var e=i.next();return e.done?e:D(t,n++,e.value)}))},e}(N);function X(){return j||(j=new Y([]))}function H(t){var e=Q(t);if(e)return e.fromEntrySeq();if("object"==typeof t)return new G(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Z(t){var e=Q(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Q(t){return L(t)?new Y(t):_(t)?new W(t):void 0}function q(t){return Boolean(t&&t["@@__IMMUTABLE_MAP__@@"])}function K(t){return q(t)&&P(t)}function J(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function $(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(J(t)&&J(e)&&t.equals(e))}var tt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var i=65535&(t|=0),n=65535&(e|=0);return i*n+((t>>>16)*n+i*(e>>>16)<<16>>>0)|0};function et(t){return t>>>1&1073741824|3221225471&t}var it=Object.prototype.valueOf;function nt(t){if(null==t)return rt(t);if("function"==typeof t.hashCode)return et(t.hashCode(t));var e,i=(e=t).valueOf!==it&&"function"==typeof e.valueOf?e.valueOf(e):e;if(null==i)return rt(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return et(e)}(i);case"string":return i.length>dt?function(t){var e=gt[t];void 0===e&&(e=ot(t),vt===yt&&(vt=0,gt={}),vt++,gt[t]=e);return e}(i):ot(i);case"object":case"function":return function(t){var e;if(ht&&void 0!==(e=lt.get(t)))return e;if(void 0!==(e=t[pt]))return e;if(!at){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[pt]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=ut(),ht)lt.set(t,e);else{if(void 0!==st&&!1===st(t))throw new Error("Non-extensible objects are not allowed as keys.");if(at)Object.defineProperty(t,pt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[pt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[pt]=e}}return e}(i);case"symbol":return function(t){var e=ct[t];if(void 0!==e)return e;return e=ut(),ct[t]=e,e}(i);default:if("function"==typeof i.toString)return ot(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function rt(t){return null===t?1108378658:1108378659}function ot(t){for(var e=0,i=0;i<t.length;i++)e=31*e+t.charCodeAt(i)|0;return et(e)}var st=Object.isExtensible,at=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function ut(){var t=++ft;return 1073741824&ft&&(ft=0),t}var lt,ht="function"==typeof WeakMap;ht&&(lt=new WeakMap);var ct=Object.create(null),ft=0,pt="__immutablehash__";"function"==typeof Symbol&&(pt=Symbol(pt));var dt=16,yt=255,vt=0,gt={},mt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=wt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var i=this,n=Mt(this,t,e);return this._useKeys||(n.valueSeq=function(){return i._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e,n){return t(e,n,i)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(V);mt.prototype[C]=!0;var xt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this,n=0;return e&&s(this),this._iter.__iterate((function(r){return t(r,e?i.size-++n:n++,i)}),e)},e.prototype.__iterator=function(t,e){var i=this,n=this._iter.__iterator(1,e),r=0;return e&&s(this),new k((function(){var o=n.next();return o.done?o:D(t,e?i.size-++r:r++,o.value,o)}))},e}(N),St=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(1,e);return new k((function(){var e=i.next();return e.done?e:D(t,e.value,e.value,e)}))},e}(U),At=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){if(e){Bt(e);var n=d(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],i)}}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(1,e);return new k((function(){for(;;){var e=i.next();if(e.done)return e;var n=e.value;if(n){Bt(n);var r=d(n);return D(t,r?n.get(0):n[0],r?n.get(1):n[1],e)}}}))},e}(V);function bt(t){var e=Lt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Rt,e.__iterateUncached=function(e,i){var n=this;return t.__iterate((function(t,i){return!1!==e(i,t,n)}),i)},e.__iteratorUncached=function(e,i){if(2===e){var n=t.__iterator(e,i);return new k((function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,i)},e}function Mt(t,e,i){var r=Lt(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var s=t.get(r,n);return s===n?o:e.call(i,s,r,t)},r.__iterateUncached=function(n,r){var o=this;return t.__iterate((function(t,r,s){return!1!==n(e.call(i,t,r,s),r,o)}),r)},r.__iteratorUncached=function(n,r){var o=t.__iterator(2,r);return new k((function(){var r=o.next();if(r.done)return r;var s=r.value,a=s[0];return D(n,a,e.call(i,s[1],a,t),r)}))},r}function wt(t,e){var i=this,n=Lt(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=bt(t);return e.reverse=function(){return t.flip()},e}),n.get=function(i,n){return t.get(e?i:-1-i,n)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(e){return t.includes(e)},n.cacheResult=Rt,n.__iterate=function(i,n){var r=this,o=0;return n&&s(t),t.__iterate((function(t,s){return i(t,e?s:n?r.size-++o:o++,r)}),!n)},n.__iterator=function(n,r){var o=0;r&&s(t);var a=t.__iterator(2,!r);return new k((function(){var t=a.next();if(t.done)return t;var s=t.value;return D(n,e?s[0]:r?i.size-++o:o++,s[1],t)}))},n}function Ct(t,e,i,r){var o=Lt(t);return r&&(o.has=function(r){var o=t.get(r,n);return o!==n&&!!e.call(i,o,r,t)},o.get=function(r,o){var s=t.get(r,n);return s!==n&&e.call(i,s,r,t)?s:o}),o.__iterateUncached=function(n,o){var s=this,a=0;return t.__iterate((function(t,o,u){if(e.call(i,t,o,u))return a++,n(t,r?o:a-1,s)}),o),a},o.__iteratorUncached=function(n,o){var s=t.__iterator(2,o),a=0;return new k((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,l=u[0],h=u[1];if(e.call(i,h,l,t))return D(n,r?l:a++,h,o)}}))},o}function Pt(t,e,i,n){var r=t.size;if(l(e,i,r))return t;if(void 0===r&&(e<0||i<0))return Pt(t.toSeq().cacheResult(),e,i,n);var o,s=h(e,r),u=c(i,r)-s;u==u&&(o=u<0?0:u);var f=Lt(t);return f.size=0===o?o:t.size&&o||void 0,!n&&b(t)&&o>=0&&(f.get=function(e,i){return(e=a(this,e))>=0&&e<o?t.get(e+s,i):i}),f.__iterateUncached=function(e,i){var r=this;if(0===o)return 0;if(i)return this.cacheResult().__iterate(e,i);var a=0,u=!0,l=0;return t.__iterate((function(t,i){if(!u||!(u=a++<s))return l++,!1!==e(t,n?i:l-1,r)&&l!==o})),l},f.__iteratorUncached=function(e,i){if(0!==o&&i)return this.cacheResult().__iterator(e,i);if(0===o)return new k(F);var r=t.__iterator(e,i),a=0,u=0;return new k((function(){for(;a++<s;)r.next();if(++u>o)return{value:void 0,done:!0};var t=r.next();return n||1===e||t.done?t:D(e,u-1,0===e?void 0:t.value[1],t)}))},f}function Et(t,e,i,n){var r=Lt(t);return r.__iterateUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterate(r,o);var a=!0,u=0;return t.__iterate((function(t,o,l){if(!a||!(a=e.call(i,t,o,l)))return u++,r(t,n?o:u-1,s)})),u},r.__iteratorUncached=function(r,o){var s=this;if(o)return this.cacheResult().__iterator(r,o);var a=t.__iterator(2,o),u=!0,l=0;return new k((function(){var t,o,h;do{if((t=a.next()).done)return n||1===r?t:D(r,l++,0===r?void 0:t.value[1],t);var c=t.value;o=c[0],h=c[1],u&&(u=e.call(i,h,o,s))}while(u);return 2===r?t:D(r,o,h,t)}))},r}function Tt(t,e){var i=y(t),n=[t].concat(e).map((function(t){return d(t)?i&&(t=x(t)):t=i?H(t):Z(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===n.length)return t;if(1===n.length){var r=n[0];if(r===t||i&&y(r)||v(t)&&v(r))return r}var o=new Y(n);return i?o=o.toKeyedSeq():v(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(t,e){if(void 0!==t){var i=e.size;if(void 0!==i)return t+i}}),0),o}function kt(t,e,i){var n=Lt(t);return n.__iterateUncached=function(r,o){if(o)return this.cacheResult().__iterate(r,o);var s=0,a=!1;return function t(u,l){u.__iterate((function(o,u){return(!e||l<e)&&d(o)?t(o,l+1):(s++,!1===r(o,i?u:s-1,n)&&(a=!0)),!a}),o)}(t,0),s},n.__iteratorUncached=function(n,r){if(r)return this.cacheResult().__iterator(n,r);var o=t.__iterator(n,r),s=[],a=0;return new k((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===n&&(u=u[1]),e&&!(s.length<e)||!d(u))return i?t:D(n,a++,u,t);s.push(o),o=u.__iterator(n,r)}else o=s.pop()}return{value:void 0,done:!0}}))},n}function Dt(t,e,i){e||(e=Vt);var n=y(t),r=0,o=t.toSeq().map((function(e,n){return[n,e,r++,i?i(e,n,t):e]})).valueSeq().toArray();return o.sort((function(t,i){return e(t[3],i[3])||t[2]-i[2]})).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?V(o):v(t)?N(o):U(o)}function Ft(t,e,i){if(e||(e=Vt),i){var n=t.toSeq().map((function(e,n){return[e,i(e,n,t)]})).reduce((function(t,i){return _t(e,t[1],i[1])?i:t}));return n&&n[0]}return t.reduce((function(t,i){return _t(e,t,i)?i:t}))}function _t(t,e,i){var n=t(i,e);return 0===n&&i!==e&&(null==i||i!=i)||n>0}function It(t,e,i,n){var r=Lt(t),o=new Y(i).map((function(t){return t.size}));return r.size=n?o.max():o.min(),r.__iterate=function(t,e){for(var i,n=this.__iterator(1,e),r=0;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},r.__iteratorUncached=function(t,r){var o=i.map((function(t){return t=m(t),O(r?t.reverse():t)})),s=0,a=!1;return new k((function(){var i;return a||(i=o.map((function(t){return t.next()})),a=n?i.every((function(t){return t.done})):i.some((function(t){return t.done}))),a?{value:void 0,done:!0}:D(t,s++,e.apply(null,i.map((function(t){return t.value}))))}))},r}function Ot(t,e){return t===e?t:b(t)?e:t.constructor(e)}function Bt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function zt(t){return y(t)?x:v(t)?S:A}function Lt(t){return Object.create((y(t)?V:v(t)?N:U).prototype)}function Rt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):R.prototype.cacheResult.call(this)}function Vt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Nt(t,e){e=e||0;for(var i=Math.max(0,t.length-e),n=new Array(i),r=0;r<i;r++)n[r]=t[r+e];return n}function Ut(t,e){if(!t)throw new Error(e)}function Yt(t){Ut(t!==1/0,"Cannot perform this action with an infinite size.")}function Gt(t){if(L(t)&&"string"!=typeof t)return t;if(P(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}xt.prototype.cacheResult=mt.prototype.cacheResult=St.prototype.cacheResult=At.prototype.cacheResult=Rt;var jt=Object.prototype.toString;function Wt(t){if(!t||"object"!=typeof t||"[object Object]"!==jt.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var i=e,n=Object.getPrototypeOf(e);null!==n;)i=n,n=Object.getPrototypeOf(i);return i===e}function Xt(t){return"object"==typeof t&&(w(t)||Array.isArray(t)||Wt(t))}function Ht(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function Zt(t,e){return w(t)?t.has(e):Xt(t)&&z.call(t,e)}function Qt(t,e,i){return w(t)?t.get(e,i):Zt(t,e)?"function"==typeof t.get?t.get(e):t[e]:i}function qt(t){if(Array.isArray(t))return Nt(t);var e={};for(var i in t)z.call(t,i)&&(e[i]=t[i]);return e}function Kt(t,e){if(!Xt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(w(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!z.call(t,e))return t;var i=qt(t);return Array.isArray(i)?i.splice(e,1):delete i[e],i}function Jt(t,e,i){if(!Xt(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(w(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,i)}if(z.call(t,e)&&i===t[e])return t;var n=qt(t);return n[e]=i,n}function $t(t,e,i,r){r||(r=i,i=void 0);var o=function t(e,i,r,o,s,a){var u=i===n;if(o===r.length){var l=u?s:i,h=a(l);return h===l?i:h}if(!u&&!Xt(i))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,o).map(Ht)+"]: "+i);var c=r[o],f=u?n:Qt(i,c,n),p=t(f===n?e:w(f),f,r,o+1,s,a);return p===f?i:p===n?Kt(i,c):Jt(u?e?_e():{}:i,c,p)}(w(t),t,Gt(e),0,i,r);return o===n?i:o}function te(t,e,i){return $t(t,e,n,(function(){return i}))}function ee(t,e){return te(this,t,e)}function ie(t,e){return $t(t,e,(function(){return n}))}function ne(t){return ie(this,t)}function re(t,e,i,n){return $t(t,[e],i,n)}function oe(t,e,i){return 1===arguments.length?t(this):re(this,t,e,i)}function se(t,e,i){return $t(this,t,e,i)}function ae(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return le(this,t)}function ue(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return le(this,e,t)}function le(t,e,i){for(var r=[],o=0;o<e.length;o++){var s=x(e[o]);0!==s.size&&r.push(s)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var e=i?function(e,r){re(t,r,n,(function(t){return t===n?e:i(t,e,r)}))}:function(e,i){t.set(i,e)},o=0;o<r.length;o++)r[o].forEach(e)})):t.constructor(r[0])}function he(t,e,i){return ce(t,e,function(t){return function e(i,n,r){return Xt(i)&&Xt(n)&&(o=n,s=R(i),a=R(o),v(s)===v(a)&&y(s)===y(a))?ce(i,[n],e):t?t(i,n,r):n;var o,s,a}}(i))}function ce(t,e,i){if(!Xt(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(w(t))return"function"==typeof i&&t.mergeWith?t.mergeWith.apply(t,[i].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),r=t,o=n?S:x,s=n?function(e){r===t&&(r=qt(r)),r.push(e)}:function(e,n){var o=z.call(r,n),s=o&&i?i(r[n],e,n):e;o&&s===r[n]||(r===t&&(r=qt(r)),r[n]=s)},a=0;a<e.length;a++)o(e[a]).forEach(s);return r}function fe(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return he(this,t)}function pe(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return he(this,e,t)}function de(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return $t(this,t,_e(),(function(t){return ce(t,e)}))}function ye(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return $t(this,t,_e(),(function(t){return he(t,e)}))}function ve(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function ge(){return this.__ownerID?this:this.__ensureOwner(new o)}function me(){return this.__ensureOwner()}function xe(){return this.__altered}var Se=function(t){function e(e){return null==e?_e():q(e)&&!P(e)?e:_e().withMutations((function(i){var n=t(e);Yt(n.size),n.forEach((function(t,e){return i.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return _e().withMutations((function(e){for(var i=0;i<t.length;i+=2){if(i+1>=t.length)throw new Error("Missing value for key: "+t[i]);e.set(t[i],t[i+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Ie(this,t,e)},e.prototype.remove=function(t){return Ie(this,t,n)},e.prototype.deleteAll=function(t){var e=m(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):_e()},e.prototype.sort=function(t){return ni(Dt(this,t))},e.prototype.sortBy=function(t,e){return ni(Dt(this,e,t))},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(n){n.forEach((function(r,o){n.set(o,t.call(e,r,o,i))}))}))},e.prototype.__iterator=function(t,e){return new Te(this,t,e)},e.prototype.__iterate=function(t,e){var i=this,n=0;return this._root&&this._root.iterate((function(e){return n++,t(e[1],e[0],i)}),e),n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Fe(this.size,this._root,t,this.__hash):0===this.size?_e():(this.__ownerID=t,this.__altered=!1,this)},e}(x);Se.isMap=q;var Ae=Se.prototype;Ae["@@__IMMUTABLE_MAP__@@"]=!0,Ae.delete=Ae.remove,Ae.removeAll=Ae.deleteAll,Ae.setIn=ee,Ae.removeIn=Ae.deleteIn=ne,Ae.update=oe,Ae.updateIn=se,Ae.merge=Ae.concat=ae,Ae.mergeWith=ue,Ae.mergeDeep=fe,Ae.mergeDeepWith=pe,Ae.mergeIn=de,Ae.mergeDeepIn=ye,Ae.withMutations=ve,Ae.wasAltered=xe,Ae.asImmutable=me,Ae["@@transducer/init"]=Ae.asMutable=ge,Ae["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Ae["@@transducer/result"]=function(t){return t.asImmutable()};var be=function(t,e){this.ownerID=t,this.entries=e};be.prototype.get=function(t,e,i,n){for(var r=this.entries,o=0,s=r.length;o<s;o++)if($(i,r[o][0]))return r[o][1];return n},be.prototype.update=function(t,e,i,s,a,u,l){for(var h=a===n,c=this.entries,f=0,p=c.length;f<p&&!$(s,c[f][0]);f++);var d=f<p;if(d?c[f][1]===a:h)return this;if(r(l),(h||!d)&&r(u),!h||1!==c.length){if(!d&&!h&&c.length>=Ve)return function(t,e,i,n){t||(t=new o);for(var r=new Pe(t,nt(i),[i,n]),s=0;s<e.length;s++){var a=e[s];r=r.update(t,0,void 0,a[0],a[1])}return r}(t,c,s,a);var y=t&&t===this.ownerID,v=y?c:Nt(c);return d?h?f===p-1?v.pop():v[f]=v.pop():v[f]=[s,a]:v.push([s,a]),y?(this.entries=v,this):new be(t,v)}};var Me=function(t,e,i){this.ownerID=t,this.bitmap=e,this.nodes=i};Me.prototype.get=function(t,e,i,n){void 0===e&&(e=nt(i));var r=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&r)?n:this.nodes[Le(o&r-1)].get(t+5,e,i,n)},Me.prototype.update=function(t,e,i,r,o,s,a){void 0===i&&(i=nt(r));var u=31&(0===e?i:i>>>e),l=1<<u,h=this.bitmap,c=0!=(h&l);if(!c&&o===n)return this;var f=Le(h&l-1),p=this.nodes,d=c?p[f]:void 0,y=Oe(d,t,e+5,i,r,o,s,a);if(y===d)return this;if(!c&&y&&p.length>=Ne)return function(t,e,i,n,r){for(var o=0,s=new Array(32),a=0;0!==i;a++,i>>>=1)s[a]=1&i?e[o++]:void 0;return s[n]=r,new we(t,o+1,s)}(t,p,h,u,y);if(c&&!y&&2===p.length&&Be(p[1^f]))return p[1^f];if(c&&y&&1===p.length&&Be(y))return y;var v=t&&t===this.ownerID,g=c?y?h:h^l:h|l,m=c?y?Re(p,f,y,v):function(t,e,i){var n=t.length-1;if(i&&e===n)return t.pop(),t;for(var r=new Array(n),o=0,s=0;s<n;s++)s===e&&(o=1),r[s]=t[s+o];return r}(p,f,v):function(t,e,i,n){var r=t.length+1;if(n&&e+1===r)return t[e]=i,t;for(var o=new Array(r),s=0,a=0;a<r;a++)a===e?(o[a]=i,s=-1):o[a]=t[a+s];return o}(p,f,y,v);return v?(this.bitmap=g,this.nodes=m,this):new Me(t,g,m)};var we=function(t,e,i){this.ownerID=t,this.count=e,this.nodes=i};we.prototype.get=function(t,e,i,n){void 0===e&&(e=nt(i));var r=31&(0===t?e:e>>>t),o=this.nodes[r];return o?o.get(t+5,e,i,n):n},we.prototype.update=function(t,e,i,r,o,s,a){void 0===i&&(i=nt(r));var u=31&(0===e?i:i>>>e),l=o===n,h=this.nodes,c=h[u];if(l&&!c)return this;var f=Oe(c,t,e+5,i,r,o,s,a);if(f===c)return this;var p=this.count;if(c){if(!f&&--p<Ue)return function(t,e,i,n){for(var r=0,o=0,s=new Array(i),a=0,u=1,l=e.length;a<l;a++,u<<=1){var h=e[a];void 0!==h&&a!==n&&(r|=u,s[o++]=h)}return new Me(t,r,s)}(t,h,p,u)}else p++;var d=t&&t===this.ownerID,y=Re(h,u,f,d);return d?(this.count=p,this.nodes=y,this):new we(t,p,y)};var Ce=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entries=i};Ce.prototype.get=function(t,e,i,n){for(var r=this.entries,o=0,s=r.length;o<s;o++)if($(i,r[o][0]))return r[o][1];return n},Ce.prototype.update=function(t,e,i,o,s,a,u){void 0===i&&(i=nt(o));var l=s===n;if(i!==this.keyHash)return l?this:(r(u),r(a),ze(this,t,e,i,[o,s]));for(var h=this.entries,c=0,f=h.length;c<f&&!$(o,h[c][0]);c++);var p=c<f;if(p?h[c][1]===s:l)return this;if(r(u),(l||!p)&&r(a),l&&2===f)return new Pe(t,this.keyHash,h[1^c]);var d=t&&t===this.ownerID,y=d?h:Nt(h);return p?l?c===f-1?y.pop():y[c]=y.pop():y[c]=[o,s]:y.push([o,s]),d?(this.entries=y,this):new Ce(t,this.keyHash,y)};var Pe=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entry=i};Pe.prototype.get=function(t,e,i,n){return $(i,this.entry[0])?this.entry[1]:n},Pe.prototype.update=function(t,e,i,o,s,a,u){var l=s===n,h=$(o,this.entry[0]);return(h?s===this.entry[1]:l)?this:(r(u),l?void r(a):h?t&&t===this.ownerID?(this.entry[1]=s,this):new Pe(t,this.keyHash,[o,s]):(r(a),ze(this,t,e,nt(o),[o,s])))},be.prototype.iterate=Ce.prototype.iterate=function(t,e){for(var i=this.entries,n=0,r=i.length-1;n<=r;n++)if(!1===t(i[e?r-n:n]))return!1},Me.prototype.iterate=we.prototype.iterate=function(t,e){for(var i=this.nodes,n=0,r=i.length-1;n<=r;n++){var o=i[e?r-n:n];if(o&&!1===o.iterate(t,e))return!1}},Pe.prototype.iterate=function(t,e){return t(this.entry)};var Ee,Te=function(t){function e(t,e,i){this._type=e,this._reverse=i,this._stack=t._root&&De(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var i=e.node,n=e.index++,r=void 0;if(i.entry){if(0===n)return ke(t,i.entry)}else if(i.entries){if(n<=(r=i.entries.length-1))return ke(t,i.entries[this._reverse?r-n:n])}else if(n<=(r=i.nodes.length-1)){var o=i.nodes[this._reverse?r-n:n];if(o){if(o.entry)return ke(t,o.entry);e=this._stack=De(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(k);function ke(t,e){return D(t,e[0],e[1])}function De(t,e){return{node:t,index:0,__prev:e}}function Fe(t,e,i,n){var r=Object.create(Ae);return r.size=t,r._root=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function _e(){return Ee||(Ee=Fe(0))}function Ie(t,e,i){var r,o;if(t._root){var s={value:!1},a={value:!1};if(r=Oe(t._root,t.__ownerID,0,void 0,e,i,s,a),!a.value)return t;o=t.size+(s.value?i===n?-1:1:0)}else{if(i===n)return t;o=1,r=new be(t.__ownerID,[[e,i]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Fe(o,r):_e()}function Oe(t,e,i,o,s,a,u,l){return t?t.update(e,i,o,s,a,u,l):a===n?t:(r(l),r(u),new Pe(e,o,[s,a]))}function Be(t){return t.constructor===Pe||t.constructor===Ce}function ze(t,e,i,n,r){if(t.keyHash===n)return new Ce(e,n,[t.entry,r]);var o,s=31&(0===i?t.keyHash:t.keyHash>>>i),a=31&(0===i?n:n>>>i),u=s===a?[ze(t,e,i+5,n,r)]:(o=new Pe(e,n,r),s<a?[t,o]:[o,t]);return new Me(e,1<<s|1<<a,u)}function Le(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Re(t,e,i,n){var r=n?t:Nt(t);return r[e]=i,r}var Ve=8,Ne=16,Ue=8;function Ye(t){return Boolean(t&&t["@@__IMMUTABLE_LIST__@@"])}var Ge=function(t){function e(e){var i=qe();if(null==e)return i;if(Ye(e))return e;var n=t(e),r=n.size;return 0===r?i:(Yt(r),r>0&&r<32?Qe(0,r,5,null,new We(n.toArray())):i.withMutations((function(t){t.setSize(r),n.forEach((function(e,i){return t.set(i,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=a(this,t))>=0&&t<this.size){var i=$e(this,t+=this._origin);return i&&i.array[31&t]}return e},e.prototype.set=function(t,e){return function(t,e,i){if((e=a(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?ti(t,e).set(0,i):ti(t,0,e+1).set(e,i)}));e+=t._origin;var n=t._tail,r=t._root,o={value:!1};e>=ei(t._capacity)?n=Ke(n,t.__ownerID,0,e,i,o):r=Ke(r,t.__ownerID,t._level,e,i,o);if(!o.value)return t;if(t.__ownerID)return t._root=r,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return Qe(t._origin,t._capacity,t._level,r,n)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):qe()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(i){ti(i,0,e+t.length);for(var n=0;n<t.length;n++)i.set(e+n,t[n])}))},e.prototype.pop=function(){return ti(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){ti(e,-t.length);for(var i=0;i<t.length;i++)e.set(i,t[i])}))},e.prototype.shift=function(){return ti(this,1)},e.prototype.concat=function(){for(var e=arguments,i=[],n=0;n<arguments.length;n++){var r=e[n],o=t("string"!=typeof r&&_(r)?r:[r]);0!==o.size&&i.push(o)}return 0===i.length?this:0!==this.size||this.__ownerID||1!==i.length?this.withMutations((function(t){i.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(i[0])},e.prototype.setSize=function(t){return ti(this,0,t)},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(n){for(var r=0;r<i.size;r++)n.set(r,t.call(e,n.get(r),r,i))}))},e.prototype.slice=function(t,e){var i=this.size;return l(t,e,i)?this:ti(this,h(t,i),c(e,i))},e.prototype.__iterator=function(t,e){var i=e?this.size:0,n=Ze(this,e);return new k((function(){var r=n();return r===He?{value:void 0,done:!0}:D(t,e?--i:i++,r)}))},e.prototype.__iterate=function(t,e){for(var i,n=e?this.size:0,r=Ze(this,e);(i=r())!==He&&!1!==t(i,e?--n:n++,this););return n},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qe(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?qe():(this.__ownerID=t,this.__altered=!1,this)},e}(S);Ge.isList=Ye;var je=Ge.prototype;je["@@__IMMUTABLE_LIST__@@"]=!0,je.delete=je.remove,je.merge=je.concat,je.setIn=ee,je.deleteIn=je.removeIn=ne,je.update=oe,je.updateIn=se,je.mergeIn=de,je.mergeDeepIn=ye,je.withMutations=ve,je.wasAltered=xe,je.asImmutable=me,je["@@transducer/init"]=je.asMutable=ge,je["@@transducer/step"]=function(t,e){return t.push(e)},je["@@transducer/result"]=function(t){return t.asImmutable()};var We=function(t,e){this.array=t,this.ownerID=e};We.prototype.removeBefore=function(t,e,i){if(i===e?1<<e:0===this.array.length)return this;var n=i>>>e&31;if(n>=this.array.length)return new We([],t);var r,o=0===n;if(e>0){var s=this.array[n];if((r=s&&s.removeBefore(t,e-5,i))===s&&o)return this}if(o&&!r)return this;var a=Je(this,t);if(!o)for(var u=0;u<n;u++)a.array[u]=void 0;return r&&(a.array[n]=r),a},We.prototype.removeAfter=function(t,e,i){if(i===(e?1<<e:0)||0===this.array.length)return this;var n,r=i-1>>>e&31;if(r>=this.array.length)return this;if(e>0){var o=this.array[r];if((n=o&&o.removeAfter(t,e-5,i))===o&&r===this.array.length-1)return this}var s=Je(this,t);return s.array.splice(r+1),n&&(s.array[r]=n),s};var Xe,He={};function Ze(t,e){var i=t._origin,n=t._capacity,r=ei(n),o=t._tail;return s(t._root,t._level,0);function s(t,a,u){return 0===a?function(t,s){var a=s===r?o&&o.array:t&&t.array,u=s>i?0:i-s,l=n-s;l>32&&(l=32);return function(){if(u===l)return He;var t=e?--l:u++;return a&&a[t]}}(t,u):function(t,r,o){var a,u=t&&t.array,l=o>i?0:i-o>>r,h=1+(n-o>>r);h>32&&(h=32);return function(){for(;;){if(a){var t=a();if(t!==He)return t;a=null}if(l===h)return He;var i=e?--h:l++;a=s(u&&u[i],r-5,o+(i<<r))}}}(t,a,u)}}function Qe(t,e,i,n,r,o,s){var a=Object.create(je);return a.size=e-t,a._origin=t,a._capacity=e,a._level=i,a._root=n,a._tail=r,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function qe(){return Xe||(Xe=Qe(0,0,5))}function Ke(t,e,i,n,o,s){var a,u=n>>>i&31,l=t&&u<t.array.length;if(!l&&void 0===o)return t;if(i>0){var h=t&&t.array[u],c=Ke(h,e,i-5,n,o,s);return c===h?t:((a=Je(t,e)).array[u]=c,a)}return l&&t.array[u]===o?t:(s&&r(s),a=Je(t,e),void 0===o&&u===a.array.length-1?a.array.pop():a.array[u]=o,a)}function Je(t,e){return e&&t&&e===t.ownerID?t:new We(t?t.array.slice():[],e)}function $e(t,e){if(e>=ei(t._capacity))return t._tail;if(e<1<<t._level+5){for(var i=t._root,n=t._level;i&&n>0;)i=i.array[e>>>n&31],n-=5;return i}}function ti(t,e,i){void 0!==e&&(e|=0),void 0!==i&&(i|=0);var n=t.__ownerID||new o,r=t._origin,s=t._capacity,a=r+e,u=void 0===i?s:i<0?s+i:r+i;if(a===r&&u===s)return t;if(a>=u)return t.clear();for(var l=t._level,h=t._root,c=0;a+c<0;)h=new We(h&&h.array.length?[void 0,h]:[],n),c+=1<<(l+=5);c&&(a+=c,r+=c,u+=c,s+=c);for(var f=ei(s),p=ei(u);p>=1<<l+5;)h=new We(h&&h.array.length?[h]:[],n),l+=5;var d=t._tail,y=p<f?$e(t,u-1):p>f?new We([],n):d;if(d&&p>f&&a<s&&d.array.length){for(var v=h=Je(h,n),g=l;g>5;g-=5){var m=f>>>g&31;v=v.array[m]=Je(v.array[m],n)}v.array[f>>>5&31]=d}if(u<s&&(y=y&&y.removeAfter(n,0,u)),a>=p)a-=p,u-=p,l=5,h=null,y=y&&y.removeBefore(n,0,a);else if(a>r||p<f){for(c=0;h;){var x=a>>>l&31;if(x!==p>>>l&31)break;x&&(c+=(1<<l)*x),l-=5,h=h.array[x]}h&&a>r&&(h=h.removeBefore(n,l,a-c)),h&&p<f&&(h=h.removeAfter(n,l,p-c)),c&&(a-=c,u-=c)}return t.__ownerID?(t.size=u-a,t._origin=a,t._capacity=u,t._level=l,t._root=h,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Qe(a,u,l,h,y)}function ei(t){return t<32?0:t-1>>>5<<5}var ii,ni=function(t){function e(t){return null==t?oi():K(t)?t:oi().withMutations((function(e){var i=x(t);Yt(i.size),i.forEach((function(t,i){return e.set(i,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var i=this._map.get(t);return void 0!==i?this._list.get(i)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):oi()},e.prototype.set=function(t,e){return si(this,t,e)},e.prototype.remove=function(t){return si(this,t,n)},e.prototype.__iterate=function(t,e){var i=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],i)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),i=this._list.__ensureOwner(t);return t?ri(e,i,t,this.__hash):0===this.size?oi():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=i,this)},e}(Se);function ri(t,e,i,n){var r=Object.create(ni.prototype);return r.size=t?t.size:0,r._map=t,r._list=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function oi(){return ii||(ii=ri(_e(),qe()))}function si(t,e,i){var r,o,s=t._map,a=t._list,u=s.get(e),l=void 0!==u;if(i===n){if(!l)return t;a.size>=32&&a.size>=2*s.size?(r=(o=a.filter((function(t,e){return void 0!==t&&u!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=s.remove(e),o=u===a.size-1?a.pop():a.set(u,void 0))}else if(l){if(i===a.get(u)[1])return t;r=s,o=a.set(u,[e,i])}else r=s.set(e,a.size),o=a.set(a.size,[e,i]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t.__altered=!0,t):ri(r,o)}ni.isOrderedMap=K,ni.prototype[C]=!0,ni.prototype.delete=ni.prototype.remove;function ai(t){return Boolean(t&&t["@@__IMMUTABLE_STACK__@@"])}var ui=function(t){function e(t){return null==t?fi():ai(t)?t:fi().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var i=this._head;for(t=a(this,t);i&&t--;)i=i.next;return i?i.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,i=this._head,n=arguments.length-1;n>=0;n--)i={value:t[n],next:i};return this.__ownerID?(this.size=e,this._head=i,this.__hash=void 0,this.__altered=!0,this):ci(e,i)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&ai(e))return e;Yt(e.size);var i=this.size,n=this._head;return e.__iterate((function(t){i++,n={value:t,next:n}}),!0),this.__ownerID?(this.size=i,this._head=n,this.__hash=void 0,this.__altered=!0,this):ci(i,n)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):fi()},e.prototype.slice=function(e,i){if(l(e,i,this.size))return this;var n=h(e,this.size);if(c(i,this.size)!==this.size)return t.prototype.slice.call(this,e,i);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):ci(r,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ci(this.size,this._head,t,this.__hash):0===this.size?fi():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var i=this;if(e)return new Y(this.toArray()).__iterate((function(e,n){return t(e,n,i)}),e);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},e.prototype.__iterator=function(t,e){if(e)return new Y(this.toArray()).__iterator(t,e);var i=0,n=this._head;return new k((function(){if(n){var e=n.value;return n=n.next,D(t,i++,e)}return{value:void 0,done:!0}}))},e}(S);ui.isStack=ai;var li,hi=ui.prototype;function ci(t,e,i,n){var r=Object.create(hi);return r.size=t,r._head=e,r.__ownerID=i,r.__hash=n,r.__altered=!1,r}function fi(){return li||(li=ci(0))}hi["@@__IMMUTABLE_STACK__@@"]=!0,hi.shift=hi.pop,hi.unshift=hi.push,hi.unshiftAll=hi.pushAll,hi.withMutations=ve,hi.wasAltered=xe,hi.asImmutable=me,hi["@@transducer/init"]=hi.asMutable=ge,hi["@@transducer/step"]=function(t,e){return t.unshift(e)},hi["@@transducer/result"]=function(t){return t.asImmutable()};function pi(t){return Boolean(t&&t["@@__IMMUTABLE_SET__@@"])}function di(t){return pi(t)&&P(t)}function yi(t,e){if(t===e)return!0;if(!d(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||y(t)!==y(e)||v(t)!==v(e)||P(t)!==P(e))return!1;if(0===t.size&&0===e.size)return!0;var i=!g(t);if(P(t)){var r=t.entries();return e.every((function(t,e){var n=r.next().value;return n&&$(n[1],t)&&(i||$(n[0],e))}))&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var s=t;t=e,e=s}var a=!0,u=e.__iterate((function(e,r){if(i?!t.has(e):o?!$(e,t.get(r,n)):!$(t.get(r,n),e))return a=!1,!1}));return a&&t.size===u}function vi(t,e){var i=function(i){t.prototype[i]=e[i]};return Object.keys(e).forEach(i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i),t}function gi(t){if(!t||"object"!=typeof t)return t;if(!d(t)){if(!Xt(t))return t;t=R(t)}if(y(t)){var e={};return t.__iterate((function(t,i){e[i]=gi(t)})),e}var i=[];return t.__iterate((function(t){i.push(gi(t))})),i}var mi=function(t){function e(e){return null==e?Mi():pi(e)&&!P(e)?e:Mi().withMutations((function(i){var n=t(e);Yt(n.size),n.forEach((function(t){return i.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(x(t).keySeq())},e.intersect=function(t){return(t=m(t).toArray()).length?Si.intersect.apply(e(t.pop()),t):Mi()},e.union=function(t){return(t=m(t).toArray()).length?Si.union.apply(e(t.pop()),t):Mi()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Ai(this,this._map.set(t,t))},e.prototype.remove=function(t){return Ai(this,this._map.remove(t))},e.prototype.clear=function(){return Ai(this,this._map.clear())},e.prototype.map=function(t,e){var i=this,n=!1,r=Ai(this,this._map.mapEntries((function(r){var o=r[1],s=t.call(e,o,o,i);return s!==o&&(n=!0),[s,s]}),e));return n?r:this},e.prototype.union=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(i){for(var n=0;n<e.length;n++)"string"==typeof e[n]?i.add(e[n]):t(e[n]).forEach((function(t){return i.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var n=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&n.push(t)})),this.withMutations((function(t){n.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return Yi(Dt(this,t))},e.prototype.sortBy=function(t,e){return Yi(Dt(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var i=this;return this._map.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(A);mi.isSet=pi;var xi,Si=mi.prototype;function Ai(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function bi(t,e){var i=Object.create(Si);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function Mi(){return xi||(xi=bi(_e()))}Si["@@__IMMUTABLE_SET__@@"]=!0,Si.delete=Si.remove,Si.merge=Si.concat=Si.union,Si.withMutations=ve,Si.asImmutable=me,Si["@@transducer/init"]=Si.asMutable=ge,Si["@@transducer/step"]=function(t,e){return t.add(e)},Si["@@transducer/result"]=function(t){return t.asImmutable()},Si.__empty=Mi,Si.__make=bi;var wi,Ci=function(t){function e(t,i,n){if(!(this instanceof e))return new e(t,i,n);if(Ut(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===i&&(i=1/0),n=void 0===n?1:Math.abs(n),i<t&&(n=-n),this._start=t,this._end=i,this._step=n,this.size=Math.max(0,Math.ceil((i-t)/n-1)+1),0===this.size){if(wi)return wi;wi=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+a(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,i){return l(t,i,this.size)?this:(t=h(t,this.size),(i=c(i,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var i=e/this._step;if(i>=0&&i<this.size)return i}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var i=this.size,n=this._step,r=e?this._start+(i-1)*n:this._start,o=0;o!==i&&!1!==t(r,e?i-++o:o++,this);)r+=e?-n:n;return o},e.prototype.__iterator=function(t,e){var i=this.size,n=this._step,r=e?this._start+(i-1)*n:this._start,o=0;return new k((function(){if(o===i)return{value:void 0,done:!0};var s=r;return r+=e?-n:n,D(t,e?i-++o:o++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:yi(this,t)},e}(N);function Pi(t,e,i){for(var r=Gt(e),o=0;o!==r.length;)if((t=Qt(t,r[o++],n))===n)return i;return t}function Ei(t,e){return Pi(this,t,e)}function Ti(t,e){return Pi(t,e,n)!==n}function ki(){Yt(this.size);var t={};return this.__iterate((function(e,i){t[i]=e})),t}m.isIterable=d,m.isKeyed=y,m.isIndexed=v,m.isAssociative=g,m.isOrdered=P,m.Iterator=k,vi(m,{toArray:function(){Yt(this.size);var t=new Array(this.size||0),e=y(this),i=0;return this.__iterate((function(n,r){t[i++]=e?[r,n]:n})),t},toIndexedSeq:function(){return new xt(this)},toJS:function(){return gi(this)},toKeyedSeq:function(){return new mt(this,!0)},toMap:function(){return Se(this.toKeyedSeq())},toObject:ki,toOrderedMap:function(){return ni(this.toKeyedSeq())},toOrderedSet:function(){return Yi(y(this)?this.valueSeq():this)},toSet:function(){return mi(y(this)?this.valueSeq():this)},toSetSeq:function(){return new St(this)},toSeq:function(){return v(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ui(y(this)?this.valueSeq():this)},toList:function(){return Ge(y(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ot(this,Tt(this,t))},includes:function(t){return this.some((function(e){return $(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Yt(this.size);var i=!0;return this.__iterate((function(n,r,o){if(!t.call(e,n,r,o))return i=!1,!1})),i},filter:function(t,e){return Ot(this,Ct(this,t,e,!0))},partition:function(t,e){return function(t,e,i){var n=y(t),r=[[],[]];t.__iterate((function(o,s){r[e.call(i,o,s,t)?1:0].push(n?[s,o]:o)}));var o=zt(t);return r.map((function(e){return Ot(t,o(e))}))}(this,t,e)},find:function(t,e,i){var n=this.findEntry(t,e);return n?n[1]:i},forEach:function(t,e){return Yt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Yt(this.size),t=void 0!==t?""+t:",";var e="",i=!0;return this.__iterate((function(n){i?i=!1:e+=t,e+=null!=n?n.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return Ot(this,Mt(this,t,e))},reduce:function(t,e,i){return Oi(this,t,e,i,arguments.length<2,!1)},reduceRight:function(t,e,i){return Oi(this,t,e,i,arguments.length<2,!0)},reverse:function(){return Ot(this,wt(this,!0))},slice:function(t,e){return Ot(this,Pt(this,t,e,!0))},some:function(t,e){Yt(this.size);var i=!1;return this.__iterate((function(n,r,o){if(t.call(e,n,r,o))return i=!0,!1})),i},sort:function(t){return Ot(this,Dt(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return s(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,i){var n=Se().asMutable();return t.__iterate((function(r,o){n.update(e.call(i,r,o,t),0,(function(t){return t+1}))})),n.asImmutable()}(this,t,e)},equals:function(t){return yi(this,t)},entrySeq:function(){var t=this;if(t._cache)return new Y(t._cache);var e=t.toSeq().map(zi).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Li(t),e)},findEntry:function(t,e,i){var n=i;return this.__iterate((function(i,r,o){if(t.call(e,i,r,o))return n=[r,i],!1})),n},findKey:function(t,e){var i=this.findEntry(t,e);return i&&i[0]},findLast:function(t,e,i){return this.toKeyedSeq().reverse().find(t,e,i)},findLastEntry:function(t,e,i){return this.toKeyedSeq().reverse().findEntry(t,e,i)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(u,null,t)},flatMap:function(t,e){return Ot(this,function(t,e,i){var n=zt(t);return t.toSeq().map((function(r,o){return n(e.call(i,r,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return Ot(this,kt(this,t,!0))},fromEntrySeq:function(){return new At(this)},get:function(t,e){return this.find((function(e,i){return $(i,t)}),void 0,e)},getIn:Ei,groupBy:function(t,e){return function(t,e,i){var n=y(t),r=(P(t)?ni():Se()).asMutable();t.__iterate((function(o,s){r.update(e.call(i,o,s,t),(function(t){return(t=t||[]).push(n?[s,o]:o),t}))}));var o=zt(t);return r.map((function(e){return Ot(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,n)!==n},hasIn:function(t){return Ti(this,t)},isSubset:function(t){return t="function"==typeof t.includes?t:m(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:m(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return $(e,t)}))},keySeq:function(){return this.toSeq().map(Bi).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Ft(this,t)},maxBy:function(t,e){return Ft(this,e,t)},min:function(t){return Ft(this,t?Ri(t):Ni)},minBy:function(t,e){return Ft(this,e?Ri(e):Ni,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Ot(this,Et(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Li(t),e)},sortBy:function(t,e){return Ot(this,Dt(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Ot(this,function(t,e,i){var n=Lt(t);return n.__iterateUncached=function(n,r){var o=this;if(r)return this.cacheResult().__iterate(n,r);var s=0;return t.__iterate((function(t,r,a){return e.call(i,t,r,a)&&++s&&n(t,r,o)})),s},n.__iteratorUncached=function(n,r){var o=this;if(r)return this.cacheResult().__iterator(n,r);var s=t.__iterator(2,r),a=!0;return new k((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var r=t.value,u=r[0],l=r[1];return e.call(i,l,u,o)?2===n?t:D(n,u,l,t):(a=!1,{value:void 0,done:!0})}))},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Li(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=P(t),i=y(t),n=e?1:0;return function(t,e){return e=tt(e,3432918353),e=tt(e<<15|e>>>-15,461845907),e=tt(e<<13|e>>>-13,5),e=tt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=et((e=tt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(i?e?function(t,e){n=31*n+Ui(nt(t),nt(e))|0}:function(t,e){n=n+Ui(nt(t),nt(e))|0}:e?function(t){n=31*n+nt(t)|0}:function(t){n=n+nt(t)|0}),n)}(this))}});var Di=m.prototype;Di["@@__IMMUTABLE_ITERABLE__@@"]=!0,Di[T]=Di.values,Di.toJSON=Di.toArray,Di.__toStringMapper=Ht,Di.inspect=Di.toSource=function(){return this.toString()},Di.chain=Di.flatMap,Di.contains=Di.includes,vi(x,{flip:function(){return Ot(this,bt(this))},mapEntries:function(t,e){var i=this,n=0;return Ot(this,this.toSeq().map((function(r,o){return t.call(e,[o,r],n++,i)})).fromEntrySeq())},mapKeys:function(t,e){var i=this;return Ot(this,this.toSeq().flip().map((function(n,r){return t.call(e,n,r,i)})).flip())}});var Fi=x.prototype;Fi["@@__IMMUTABLE_KEYED__@@"]=!0,Fi[T]=Di.entries,Fi.toJSON=ki,Fi.__toStringMapper=function(t,e){return Ht(e)+": "+Ht(t)},vi(S,{toKeyedSeq:function(){return new mt(this,!1)},filter:function(t,e){return Ot(this,Ct(this,t,e,!1))},findIndex:function(t,e){var i=this.findEntry(t,e);return i?i[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ot(this,wt(this,!1))},slice:function(t,e){return Ot(this,Pt(this,t,e,!1))},splice:function(t,e){var i=arguments.length;if(e=Math.max(e||0,0),0===i||2===i&&!e)return this;t=h(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ot(this,1===i?n:n.concat(Nt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var i=this.findLastEntry(t,e);return i?i[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Ot(this,kt(this,t,!1))},get:function(t,e){return(t=a(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,i){return i===t}),void 0,e)},has:function(t){return(t=a(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ot(this,function(t,e){var i=Lt(t);return i.size=t.size&&2*t.size-1,i.__iterateUncached=function(i,n){var r=this,o=0;return t.__iterate((function(t){return(!o||!1!==i(e,o++,r))&&!1!==i(t,o++,r)}),n),o},i.__iteratorUncached=function(i,n){var r,o=t.__iterator(1,n),s=0;return new k((function(){return(!r||s%2)&&(r=o.next()).done?r:s%2?D(i,s++,e):D(i,s++,r.value,r)}))},i}(this,t))},interleave:function(){var t=[this].concat(Nt(arguments)),e=It(this.toSeq(),N.of,t),i=e.flatten(!0);return e.size&&(i.size=e.size*t.length),Ot(this,i)},keySeq:function(){return Ci(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Ot(this,Et(this,t,e,!1))},zip:function(){var t=[this].concat(Nt(arguments));return Ot(this,It(this,Vi,t))},zipAll:function(){var t=[this].concat(Nt(arguments));return Ot(this,It(this,Vi,t,!0))},zipWith:function(t){var e=Nt(arguments);return e[0]=this,Ot(this,It(this,t,e))}});var _i=S.prototype;_i["@@__IMMUTABLE_INDEXED__@@"]=!0,_i[C]=!0,vi(A,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Ii=A.prototype;function Oi(t,e,i,n,r,o){return Yt(t.size),t.__iterate((function(t,o,s){r?(r=!1,i=t):i=e.call(n,i,t,o,s)}),o),i}function Bi(t,e){return e}function zi(t,e){return[e,t]}function Li(t){return function(){return!t.apply(this,arguments)}}function Ri(t){return function(){return-t.apply(this,arguments)}}function Vi(){return Nt(arguments)}function Ni(t,e){return t<e?1:t>e?-1:0}function Ui(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Ii.has=Di.includes,Ii.contains=Ii.includes,Ii.keys=Ii.values,vi(V,Fi),vi(N,_i),vi(U,Ii);var Yi=function(t){function e(t){return null==t?Xi():di(t)?t:Xi().withMutations((function(e){var i=A(t);Yt(i.size),i.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(x(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(mi);Yi.isOrderedSet=di;var Gi,ji=Yi.prototype;function Wi(t,e){var i=Object.create(ji);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function Xi(){return Gi||(Gi=Wi(oi()))}ji[C]=!0,ji.zip=_i.zip,ji.zipWith=_i.zipWith,ji.zipAll=_i.zipAll,ji.__empty=Xi,ji.__make=Wi;var Hi=function(t,e){var i;!function(t){if(M(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(w(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!=typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var n=function(o){var s=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!i){i=!0;var a=Object.keys(t),u=r._indices={};r._name=e,r._keys=a,r._defaultValues=t;for(var l=0;l<a.length;l++){var h=a[l];u[h]=l,r[h]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+qi(this)+' with property "'+h+'" since that property name is part of the Record API.'):Ji(r,h)}}return this.__ownerID=void 0,this._values=Ge().withMutations((function(t){t.setSize(s._keys.length),x(o).forEach((function(e,i){t.set(s._indices[i],e===s._defaultValues[i]?void 0:e)}))})),this},r=n.prototype=Object.create(Zi);return r.constructor=n,e&&(n.displayName=e),n};Hi.prototype.toString=function(){for(var t,e=qi(this)+" { ",i=this._keys,n=0,r=i.length;n!==r;n++)e+=(n?", ":"")+(t=i[n])+": "+Ht(this.get(t));return e+" }"},Hi.prototype.equals=function(t){return this===t||M(t)&&Ki(this).equals(Ki(t))},Hi.prototype.hashCode=function(){return Ki(this).hashCode()},Hi.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Hi.prototype.get=function(t,e){if(!this.has(t))return e;var i=this._indices[t],n=this._values.get(i);return void 0===n?this._defaultValues[t]:n},Hi.prototype.set=function(t,e){if(this.has(t)){var i=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(i!==this._values&&!this.__ownerID)return Qi(this,i)}return this},Hi.prototype.remove=function(t){return this.set(t)},Hi.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Qi(this,t)},Hi.prototype.wasAltered=function(){return this._values.wasAltered()},Hi.prototype.toSeq=function(){return Ki(this)},Hi.prototype.toJS=function(){return gi(this)},Hi.prototype.entries=function(){return this.__iterator(2)},Hi.prototype.__iterator=function(t,e){return Ki(this).__iterator(t,e)},Hi.prototype.__iterate=function(t,e){return Ki(this).__iterate(t,e)},Hi.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Qi(this,e,t):(this.__ownerID=t,this._values=e,this)},Hi.isRecord=M,Hi.getDescriptiveName=qi;var Zi=Hi.prototype;function Qi(t,e,i){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=i,n}function qi(t){return t.constructor.displayName||t.constructor.name||"Record"}function Ki(t){return H(t._keys.map((function(e){return[e,t.get(e)]})))}function Ji(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Ut(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}Zi["@@__IMMUTABLE_RECORD__@@"]=!0,Zi.delete=Zi.remove,Zi.deleteIn=Zi.removeIn=ne,Zi.getIn=Ei,Zi.hasIn=Di.hasIn,Zi.merge=ae,Zi.mergeWith=ue,Zi.mergeIn=de,Zi.mergeDeep=fe,Zi.mergeDeepWith=pe,Zi.mergeDeepIn=ye,Zi.setIn=ee,Zi.update=oe,Zi.updateIn=se,Zi.withMutations=ve,Zi.asMutable=ge,Zi.asImmutable=me,Zi[T]=Zi.entries,Zi.toJSON=Zi.toObject=Di.toObject,Zi.inspect=Zi.toSource=function(){return this.toString()}},function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};function r(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t}var a=function(t){function e(i){var n,r="EventError: "+i+"}";return n=t.call(this,r)||this,Object.setPrototypeOf(n,e.prototype),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(Error),u=0,l=function(t,e){return new a("Event listener with "+t.token+" id does not exist at Eventer with "+e+" id.")},h=function(){function t(){this.id=++u,this.lastEventIndex=0,this.topics=new Map}return t.prototype.on=function(t,e,i){var n,r,o=this.topics.get(t),s=i||(n=this.id,r=this.lastEventIndex+=1,{token:n+"-"+r,ownerIndex:n,id:r});return o?o.set(s,e):this.topics.set(t,new Map([[s,e]])),s},t.prototype.has=function(t,e){var i,n;if(e)return(h=this.topics.get(e))?(c=h.get(t))||l(t,this.id):new a("Eventer with "+t.ownerIndex+" does not have "+e+".");try{for(var s=r(this.topics),u=s.next();!u.done;u=s.next()){var h,c,f=o(u.value,2);f[0];if(c=(h=f[1]).get(t))return c}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return l(t,this.id)},t.prototype.off=function(t,e){var i,n;if(e)return!(!(u=this.topics.get(e))||!u.delete(t));try{for(var s=r(this.topics),a=s.next();!a.done;a=s.next()){var u,l=o(a.value,2);l[0];if((u=l[1]).delete(t))return!0}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return!1},t.prototype.allOff=function(){return this.topics.clear(),this},t.prototype.topicOff=function(t){return this.topics.delete(t)},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.topics.get(t);if(n){var r=Array.from(n.values()),o=r.map((function(t){return t.apply(void 0,s(e))}));return o}return[]},t.prototype.listeners=function(t){var e=this.topics.get(t);return e||new Map},t}()},function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,o,a,u,l,h,p,d=e&&e.length,v=d?e[0]*i:t.length,g=r(t,0,v,i,!0),m=[];if(!g||g.next===g.prev)return m;if(d&&(g=function(t,e,i,n){var o,s,a,u,l,h=[];for(o=0,s=e.length;o<s;o++)a=e[o]*n,u=o<s-1?e[o+1]*n:t.length,(l=r(t,a,u,n,!1))===l.next&&(l.steiner=!0),h.push(y(l));for(h.sort(c),o=0;o<h.length;o++)i=f(h[o],i);return i}(t,e,g,i)),t.length>80*i){n=a=t[0],o=u=t[1];for(var x=i;x<v;x+=i)(l=t[x])<n&&(n=l),(h=t[x+1])<o&&(o=h),l>a&&(a=l),h>u&&(u=h);p=0!==(p=Math.max(a-n,u-o))?32767/p:0}return s(g,m,i,n,o,p,0),m}function r(t,e,i,n,r){var o,s;if(r===T(t,e,i,n)>0)for(o=e;o<i;o+=n)s=C(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=C(o,t[o],t[o+1],s);return s&&x(s,s.next)&&(P(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!x(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{if(P(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,r,c,f){if(t){!f&&c&&function(t,e,i,n){var r=t;do{0===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,o,s,a,u,l=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,l*=2}while(s>1)}(r)}(t,n,r,c);for(var p,y,v=t;t.prev!==t.next;)if(p=t.prev,y=t.next,c?u(t,n,r,c):a(t))e.push(p.i/i|0),e.push(t.i/i|0),e.push(y.i/i|0),P(t),t=y.next,v=y.next;else if((t=y)===v){f?1===f?s(t=l(o(t),e,i),e,i,n,r,c,2):2===f&&h(t,e,i,n,r,c):s(o(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(m(e,i,n)>=0)return!1;for(var r=e.x,o=i.x,s=n.x,a=e.y,u=i.y,l=n.y,h=r<o?r<s?r:s:o<s?o:s,c=a<u?a<l?a:l:u<l?u:l,f=r>o?r>s?r:s:o>s?o:s,p=a>u?a>l?a:l:u>l?u:l,d=n.next;d!==e;){if(d.x>=h&&d.x<=f&&d.y>=c&&d.y<=p&&v(r,a,o,u,s,l,d.x,d.y)&&m(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function u(t,e,i,n){var r=t.prev,o=t,s=t.next;if(m(r,o,s)>=0)return!1;for(var a=r.x,u=o.x,l=s.x,h=r.y,c=o.y,f=s.y,p=a<u?a<l?a:l:u<l?u:l,y=h<c?h<f?h:f:c<f?c:f,g=a>u?a>l?a:l:u>l?u:l,x=h>c?h>f?h:f:c>f?c:f,S=d(p,y,e,i,n),A=d(g,x,e,i,n),b=t.prevZ,M=t.nextZ;b&&b.z>=S&&M&&M.z<=A;){if(b.x>=p&&b.x<=g&&b.y>=y&&b.y<=x&&b!==r&&b!==s&&v(a,h,u,c,l,f,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,M.x>=p&&M.x<=g&&M.y>=y&&M.y<=x&&M!==r&&M!==s&&v(a,h,u,c,l,f,M.x,M.y)&&m(M.prev,M,M.next)>=0)return!1;M=M.nextZ}for(;b&&b.z>=S;){if(b.x>=p&&b.x<=g&&b.y>=y&&b.y<=x&&b!==r&&b!==s&&v(a,h,u,c,l,f,b.x,b.y)&&m(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;M&&M.z<=A;){if(M.x>=p&&M.x<=g&&M.y>=y&&M.y<=x&&M!==r&&M!==s&&v(a,h,u,c,l,f,M.x,M.y)&&m(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function l(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!x(r,s)&&S(r,n,n.next,s)&&M(r,s)&&M(s,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(s.i/i|0),P(n),P(n.next),n=t=s),n=n.next}while(n!==t);return o(n)}function h(t,e,i,n,r,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var h=w(u,l);return u=o(u,u.next),h=o(h,h.next),s(u,e,i,n,r,a,0),void s(h,e,i,n,r,a,0)}l=l.next}u=u.next}while(u!==t)}function c(t,e){return t.x-e.x}function f(t,e){var i=function(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,i=n.x<n.next.x?n:n.next,a===r))return i}n=n.next}while(n!==e);if(!i)return null;var u,l=i,h=i.x,c=i.y,f=1/0;n=i;do{r>=n.x&&n.x>=h&&r!==n.x&&v(o<c?r:s,o,h,c,o<c?s:r,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(r-n.x),M(n,t)&&(u<f||u===f&&(n.x>i.x||n.x===i.x&&p(i,n)))&&(i=n,f=u)),n=n.next}while(n!==l);return i}(t,e);if(!i)return e;var n=w(i,t);return o(n,n.next),o(i,i.next)}function p(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function y(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function v(t,e,i,n,r,o,s,a){return(r-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(n-a)>=(i-s)*(e-a)&&(i-s)*(o-a)>=(r-s)*(n-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&S(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(M(t,e)&&M(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||x(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function x(t,e){return t.x===e.x&&t.y===e.y}function S(t,e,i,n){var r=b(m(t,e,i)),o=b(m(t,e,n)),s=b(m(i,n,t)),a=b(m(i,n,e));return r!==o&&s!==a||(!(0!==r||!A(t,i,e))||(!(0!==o||!A(t,n,e))||(!(0!==s||!A(i,t,n))||!(0!==a||!A(i,e,n)))))}function A(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function b(t){return t>0?1:t<0?-1:0}function M(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function w(t,e){var i=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function C(t,e,i,n){var r=new E(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=n,t.exports.default=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(T(t,0,o,i));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*i,h=a<u-1?e[a+1]*i:t.length;s-=Math.abs(T(t,l,h,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,p=n[a+1]*i,d=n[a+2]*i;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},,function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"AbstractCursor",(function(){return uh})),i.d(e,"Animation",(function(){return ut})),i.d(e,"AnimationEasings",(function(){return at})),i.d(e,"Animator",(function(){return lt})),i.d(e,"AreaRangeSeries",(function(){return Jp})),i.d(e,"AreaSeries",(function(){return Lp})),i.d(e,"AreaSeriesBipolar",(function(){return Np})),i.d(e,"AreaSeriesMonopolar",(function(){return Yp})),i.d(e,"AreaSeriesNegative",(function(){return Wp})),i.d(e,"AreaSeriesPositive",(function(){return Zp})),i.d(e,"AreaSeriesTypes",(function(){return Qp})),i.d(e,"AutoFitStrategies",(function(){return nh})),i.d(e,"AutoFitStrategy",(function(){return th})),i.d(e,"Axis",(function(){return Xu})),i.d(e,"Axis3D",(function(){return ec})),i.d(e,"AxisPosition",(function(){return $p})),i.d(e,"AxisScrollStrategies",(function(){return Lr})),i.d(e,"AxisTickStrategies",(function(){return Rr})),i.d(e,"AxisXYTitlePositionOptions",(function(){return ua})),i.d(e,"Band",(function(){return Or})),i.d(e,"BarChart",(function(){return Dg})),i.d(e,"BarChartBar",(function(){return Cg})),i.d(e,"BarChartCategoryAxis",(function(){return Sg})),i.d(e,"BarChartSorting",(function(){return _g})),i.d(e,"BarChartTypes",(function(){return Fg})),i.d(e,"BarChartValueAxis",(function(){return Mg})),i.d(e,"BasicSeries",(function(){return np})),i.d(e,"BorderedPicture",(function(){return Ws})),i.d(e,"BoxFigure",(function(){return Hf})),i.d(e,"BoxSeries",(function(){return ap})),i.d(e,"BoxSeries3D",(function(){return pc})),i.d(e,"Button",(function(){return cu})),i.d(e,"Chart",(function(){return Gl})),i.d(e,"Chart3D",(function(){return Hc})),i.d(e,"ChartComponent",(function(){return Vn})),i.d(e,"ChartWithSeries",(function(){return Pc})),i.d(e,"ChartXY",(function(){return ly})),i.d(e,"ChartXYTitlePositionOptions",(function(){return uy})),i.d(e,"Color",(function(){return E})),i.d(e,"ColorCSS",(function(){return _})),i.d(e,"ColorHEX",(function(){return D})),i.d(e,"ColorHSV",(function(){return F})),i.d(e,"ColorPalettes",(function(){return Qs})),i.d(e,"ColorRGBA",(function(){return k})),i.d(e,"ColorShadingStyles",(function(){return sa})),i.d(e,"ColorUint32",(function(){return I})),i.d(e,"ConstantLine",(function(){return zr})),i.d(e,"Cursor2D",(function(){return ch})),i.d(e,"Cursor3D",(function(){return Gc})),i.d(e,"CursorBuilder2D",(function(){return fh})),i.d(e,"CursorBuilder3D",(function(){return jc})),i.d(e,"CursorBuilderXY",(function(){return zd})),i.d(e,"CursorBuilders",(function(){return Qg})),i.d(e,"CursorXY",(function(){return Bd})),i.d(e,"CustomTick",(function(){return Ds})),i.d(e,"Dashboard",(function(){return Hg})),i.d(e,"DashedLine",(function(){return da})),i.d(e,"DataGrid",(function(){return dg})),i.d(e,"DataGridCellContentAlignmentOptions",(function(){return sg})),i.d(e,"DataPatternsNew",(function(){return zo})),i.d(e,"DataSetXY",(function(){return Ca})),i.d(e,"DateTimeTickStrategy",(function(){return bl})),i.d(e,"EllipseFigure",(function(){return hp})),i.d(e,"EllipseSeries",(function(){return cp})),i.d(e,"EmptyFill",(function(){return K})),i.d(e,"EmptyTickStrategy",(function(){return Zr})),i.d(e,"EmptyUIElement",(function(){return Us})),i.d(e,"Figure",(function(){return Wf})),i.d(e,"FigureSeries",(function(){return $f})),i.d(e,"FontSettings",(function(){return uo})),i.d(e,"FormattingFunctions",(function(){return mn})),i.d(e,"FunnelChart",(function(){return Jy})),i.d(e,"FunnelChartTypes",(function(){return ov})),i.d(e,"FunnelChartWithLabelsInsideSlices",(function(){return rv})),i.d(e,"FunnelChartWithLabelsOnSides",(function(){return nv})),i.d(e,"FunnelLabelSide",(function(){return Qy})),i.d(e,"FunnelSlice",(function(){return Xy})),i.d(e,"FunnelSliceModes",(function(){return hy})),i.d(e,"GaugeChart",(function(){return Vg})),i.d(e,"GenericAxis",(function(){return eo})),i.d(e,"GlowEffect",(function(){return Aa})),i.d(e,"GradientExtent",(function(){return h})),i.d(e,"GradientShape",(function(){return l})),i.d(e,"HeatmapGridSeries",(function(){return Cp})),i.d(e,"HeatmapGridSeriesIntensityValues",(function(){return Pp})),i.d(e,"HeatmapScrollingGridSeries",(function(){return kp})),i.d(e,"HeatmapScrollingGridSeriesIntensityValues",(function(){return Dp})),i.d(e,"HighlightModes",(function(){return on})),i.d(e,"Highlighter",(function(){return Un})),i.d(e,"Icon",(function(){return ma})),i.d(e,"ImageFill",(function(){return la})),i.d(e,"ImageFitMode",(function(){return ms})),i.d(e,"IndividualPointFill",(function(){return nt})),i.d(e,"LUT",(function(){return H})),i.d(e,"LegendBoxBuilders",(function(){return Vu})),i.d(e,"LineAndPointSeries3D",(function(){return yc})),i.d(e,"LineSeries",(function(){return Ud})),i.d(e,"LineSeries3D",(function(){return vc})),i.d(e,"LinearGradientFill",(function(){return dt})),i.d(e,"LinearGradientFillPalette",(function(){return kt})),i.d(e,"MapChart",(function(){return uf})),i.d(e,"MapRegions",(function(){return om})),i.d(e,"MapRegionsAfrica",(function(){return qg})),i.d(e,"MapRegionsAsia",(function(){return Kg})),i.d(e,"MapRegionsAustralia",(function(){return Jg})),i.d(e,"MapRegionsCanada",(function(){return $g})),i.d(e,"MapRegionsEurope",(function(){return tm})),i.d(e,"MapRegionsNorthAmerica",(function(){return nm})),i.d(e,"MapRegionsSouthAmerica",(function(){return rm})),i.d(e,"MapRegionsUSA",(function(){return im})),i.d(e,"MapRegionsWorld",(function(){return em})),i.d(e,"MapTypes",(function(){return Jc})),i.d(e,"MeshModel3D",(function(){return Uc})),i.d(e,"MouseStyles",(function(){return Kn})),i.d(e,"NumericTickStrategy",(function(){return Fl})),i.d(e,"OHLCSeries",(function(){return Ed})),i.d(e,"OHLCSeriesBars",(function(){return Fd})),i.d(e,"OHLCSeriesCandlesticks",(function(){return kd})),i.d(e,"OHLCSeriesTypes",(function(){return _d})),i.d(e,"OSMPosition",(function(){return Ar})),i.d(e,"OnScreenMenu",(function(){return Wd})),i.d(e,"OnScreenMenuAnimationsButton",(function(){return gr})),i.d(e,"OnScreenMenuButton",(function(){return lr})),i.d(e,"OnScreenMenuButtonShape",(function(){return Rn})),i.d(e,"OnScreenMenuButtonType",(function(){return Ln})),i.d(e,"OnScreenMenuControlBase",(function(){return Qn})),i.d(e,"OnScreenMenuCustomButton",(function(){return xr})),i.d(e,"OnScreenMenuOsmToggleButton",(function(){return Sr})),i.d(e,"OnScreenMenuToggleButton",(function(){return hr})),i.d(e,"OnScreenMenuZoomInButton",(function(){return cr})),i.d(e,"OnScreenMenuZoomInXButton",(function(){return fr})),i.d(e,"OnScreenMenuZoomInYButton",(function(){return pr})),i.d(e,"OnScreenMenuZoomOutButton",(function(){return dr})),i.d(e,"OnScreenMenuZoomOutXButton",(function(){return yr})),i.d(e,"OnScreenMenuZoomOutYButton",(function(){return vr})),i.d(e,"OnScreenMenuZoomToFitButton",(function(){return mr})),i.d(e,"PalettedFill",(function(){return ot})),i.d(e,"Panel",(function(){return Rl})),i.d(e,"PhongShadingStyle",(function(){return na})),i.d(e,"Picture",(function(){return js})),i.d(e,"PieChart",(function(){return Oh})),i.d(e,"PieChartTypes",(function(){return Yh})),i.d(e,"PieChartWithLabelsInsideSlices",(function(){return Uh})),i.d(e,"PieChartWithLabelsOnSides",(function(){return Nh})),i.d(e,"PieSlice",(function(){return Th})),i.d(e,"PixelatedPoints3D",(function(){return vo})),i.d(e,"PointCloudSeries3D",(function(){return Mc})),i.d(e,"PointLineAreaSeries",(function(){return Zd})),i.d(e,"PointLineSeries",(function(){return rd})),i.d(e,"PointLineSeries3D",(function(){return mc})),i.d(e,"PointSeries",(function(){return jd})),i.d(e,"PointSeries3D",(function(){return bc})),i.d(e,"PointSeriesTypes3D",(function(){return wc})),i.d(e,"PointShape",(function(){return Co})),i.d(e,"PointStyle3D",(function(){return mo})),i.d(e,"PolarAreaSeries",(function(){return Fy})),i.d(e,"PolarAreaSeriesInterior",(function(){return By})),i.d(e,"PolarAxis",(function(){return ff})),i.d(e,"PolarAxisAmplitude",(function(){return vf})),i.d(e,"PolarAxisTick",(function(){return pf})),i.d(e,"PolarChart",(function(){return Yy})),i.d(e,"PolarHeatmapSeries",(function(){return Lf})),i.d(e,"PolarLineSeries",(function(){return Nf})),i.d(e,"PolarPointLineSeries",(function(){return Gf})),i.d(e,"PolarPointSeries",(function(){return wy})),i.d(e,"PolarPolygon",(function(){return Cy})),i.d(e,"PolarPolygonSeries",(function(){return ky})),i.d(e,"PolarSector",(function(){return Cf})),i.d(e,"PolarSeries",(function(){return kf})),i.d(e,"PolygonFigure",(function(){return dp})),i.d(e,"PolygonSeries",(function(){return yp})),i.d(e,"PyramidChart",(function(){return dv})),i.d(e,"PyramidChartTypes",(function(){return Av})),i.d(e,"PyramidChartWithLabelsInsideSlices",(function(){return Sv})),i.d(e,"PyramidChartWithLabelsOnSides",(function(){return xv})),i.d(e,"PyramidLabelSide",(function(){return cv})),i.d(e,"PyramidSlice",(function(){return uv})),i.d(e,"PyramidSliceModes",(function(){return sv})),i.d(e,"RadialGradientFill",(function(){return ft})),i.d(e,"RadialGradientFillPalette",(function(){return Tt})),i.d(e,"RangeSeries",(function(){return Bp})),i.d(e,"RectangleFigure",(function(){return mp})),i.d(e,"RectangleSeries",(function(){return xp})),i.d(e,"SegmentFigure",(function(){return bp})),i.d(e,"SegmentSeries",(function(){return Mp})),i.d(e,"Series2D",(function(){return Ef})),i.d(e,"Series3D",(function(){return cc})),i.d(e,"SeriesXY",(function(){return Qf})),i.d(e,"SimpleShadingStyle",(function(){return ta})),i.d(e,"Slice",(function(){return wh})),i.d(e,"SliceLabelFormatters",(function(){return bh})),i.d(e,"SliceLabelIndices",(function(){return Hu})),i.d(e,"SliceSorters",(function(){return Ah})),i.d(e,"SolidFill",(function(){return et})),i.d(e,"SolidFillPalette",(function(){return Et})),i.d(e,"SolidLine",(function(){return Hn})),i.d(e,"SpiderAxis",(function(){return Tv})),i.d(e,"SpiderChart",(function(){return Nv})),i.d(e,"SpiderSeries",(function(){return Dv})),i.d(e,"SpiderWebMode",(function(){return bv})),i.d(e,"SplineSeries",(function(){return ud})),i.d(e,"StepOptions",(function(){return Sh})),i.d(e,"StepSeries",(function(){return Cd})),i.d(e,"StipplePatterns",(function(){return pa})),i.d(e,"SurfaceGridSeries3D",(function(){return Ic})),i.d(e,"SurfaceScrollingGridSeries3D",(function(){return zc})),i.d(e,"Themes",(function(){return Bm})),i.d(e,"Tick",(function(){return Wu})),i.d(e,"TickStyle",(function(){return Ju})),i.d(e,"TimeFormattingFunctions",(function(){return ol})),i.d(e,"TimeTickStrategy",(function(){return al})),i.d(e,"TreeMapChart",(function(){return mm})),i.d(e,"TriangulatedPoints3D",(function(){return po})),i.d(e,"UIBackgrounds",(function(){return rh})),i.d(e,"UICircle",(function(){return La})),i.d(e,"UIColumnGrid",(function(){return Qa})),i.d(e,"UIDiamond",(function(){return Ra})),i.d(e,"UIDirections",(function(){return Qt})),i.d(e,"UIDraggingModes",(function(){return Zt})),i.d(e,"UIElementBuilders",(function(){return Ru})),i.d(e,"UIElementColumn",(function(){return Ha})),i.d(e,"UIElementLine",(function(){return Wa})),i.d(e,"UIElementRow",(function(){return Xa})),i.d(e,"UIElementWithBackground",(function(){return Es})),i.d(e,"UIEmptyBackground",(function(){return Ys})),i.d(e,"UILabel",(function(){return Oa})),i.d(e,"UILayoutBuilders",(function(){return Qc})),i.d(e,"UILayoutGap",(function(){return ja})),i.d(e,"UILegendBoxPanel",(function(){return Kc})),i.d(e,"UIObject",(function(){return bs})),i.d(e,"UIOrigins",(function(){return br})),i.d(e,"UIPanel",(function(){return Nl})),i.d(e,"UIPoint",(function(){return Na})),i.d(e,"UIPointer",(function(){return Va})),i.d(e,"UIPolygon",(function(){return Xs})),i.d(e,"UIRectangle",(function(){return za})),i.d(e,"UIRowGrid",(function(){return qa})),i.d(e,"UISpace",(function(){return Xt})),i.d(e,"UIVisibilityModes",(function(){return Ht})),i.d(e,"VisibleFill",(function(){return tt})),i.d(e,"ZoomBandChart",(function(){return Sy})),i.d(e,"_translatePoint",(function(){return Pt})),i.d(e,"defaultOsmBackgroundColor",(function(){return Dr})),i.d(e,"disableThemeEffects",(function(){return Rm})),i.d(e,"emptyFill",(function(){return J})),i.d(e,"emptyLine",(function(){return gt})),i.d(e,"emptyPoints3D",(function(){return fo})),i.d(e,"emptyTick",(function(){return tl})),i.d(e,"formatLongitudeLatitude",(function(){return lf})),i.d(e,"formatNumberAsUnicodeSuperscript",(function(){return xn})),i.d(e,"isColor",(function(){return T})),i.d(e,"isCoordinate3D",(function(){return Rc})),i.d(e,"isCoordinateBarChart",(function(){return Pg})),i.d(e,"isCoordinateClient",(function(){return kn})),i.d(e,"isCoordinatePolar",(function(){return Mf})),i.d(e,"isCoordinateXY",(function(){return Fn})),i.d(e,"isDashedLine",(function(){return ya})),i.d(e,"isDateTimeTickStrategy",(function(){return Ml})),i.d(e,"isEmptyFill",(function(){return $})),i.d(e,"isEmptyTick",(function(){return el})),i.d(e,"isEmptyTickStrategy",(function(){return Qr})),i.d(e,"isFontSettings",(function(){return lo})),i.d(e,"isGlowEffect",(function(){return ba})),i.d(e,"isHitBox",(function(){return Vt})),i.d(e,"isHitBox3D",(function(){return Lt})),i.d(e,"isHitEllipse",(function(){return Nt})),i.d(e,"isHitHeatmap",(function(){return _t})),i.d(e,"isHitMeshModel",(function(){return zt})),i.d(e,"isHitOHLC",(function(){return Ot})),i.d(e,"isHitPolarHeatmap",(function(){return Bt})),i.d(e,"isHitPolygon",(function(){return Ut})),i.d(e,"isHitRectangle",(function(){return Rt})),i.d(e,"isHitSampleXY",(function(){return Gt})),i.d(e,"isHitSegment",(function(){return Yt})),i.d(e,"isHitSurface",(function(){return It})),i.d(e,"isIcon",(function(){return xa})),i.d(e,"isIndividualPointFill",(function(){return rt})),i.d(e,"isLUT",(function(){return Z})),i.d(e,"isLinearGradientFill",(function(){return yt})),i.d(e,"isNumericTickStrategy",(function(){return _l})),i.d(e,"isPalettedFill",(function(){return st})),i.d(e,"isPhongShadingStyle",(function(){return ra})),i.d(e,"isPixelatedPoints3D",(function(){return go})),i.d(e,"isRadialGradientFill",(function(){return pt})),i.d(e,"isSeriesSupportedByZoomBandChart",(function(){return xy})),i.d(e,"isSimpleShadingStyle",(function(){return ea})),i.d(e,"isSolidFill",(function(){return it})),i.d(e,"isSolidLine",(function(){return Zn})),i.d(e,"isTickStyle",(function(){return $u})),i.d(e,"isTimeTickStrategy",(function(){return ul})),i.d(e,"isTriangulatedPoints3D",(function(){return yo})),i.d(e,"lightningChart",(function(){return Fw})),i.d(e,"onScreenMenuControlBaseHeight",(function(){return Cr})),i.d(e,"onScreenMenuControlBaseWidth",(function(){return Pr})),i.d(e,"onScreenMenuControlOpacity",(function(){return Er})),i.d(e,"onScreenMenuDefaultButtonShape",(function(){return kr})),i.d(e,"onScreenMenuSpriteURL",(function(){return Tr})),i.d(e,"regularColorSteps",(function(){return Ft})),i.d(e,"saveToFile",(function(){return Il})),i.d(e,"synchronizeAxisIntervals",(function(){return Dt})),i.d(e,"transparentFill",(function(){return Mr})),i.d(e,"transparentLine",(function(){return wr})),i.d(e,"uint32ColorFromObject",(function(){return N})),i.d(e,"uint32ColorFromRGBA",(function(){return V})),i.d(e,"useCursorFormatterSeriesOverride",(function(){return ql})),i.d(e,"vec3Utils",(function(){return xi})),i.d(e,"xDimensionStrategy",(function(){return Zu})),i.d(e,"yDimensionStrategy",(function(){return Qu}));var n=i(0),r=i(1),o=i(2),s=i.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u,l,h,c,f=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),p=function(){function t(){this.o=!0}return t.prototype.u=function(){return this.o},t}(),d=function(t){function e(e,i){var n=t.call(this)||this;return n.S=e,n.o=i,n}return f(e,t),e.prototype.M=function(t){return t!==this.S&&(this.S=t,this.o=!0),this},e.prototype.C=function(){return this.S},e.prototype.u=function(){return t.prototype.u.call(this)},e}(p),y=function(t,e){return{x:t,y:e}},v=function(t,e){return{x:t,y:e}},g=function(t,e,i){return{position:t,high:e,low:i}},m=function(t,e,i){return{x:t,y:e,z:i}},x=function(t){var e=Array(0),i=Array(0);return t.length>0&&t.forEach((function(t){e.push(y(t.position,t.high)),i.push(y(t.position,t.low))})),[e,i]},S=function(t,e){return{min:t,max:e}},A=function(t,e,i,n){return{x:t,y:e,width:i,height:n}},b=function(t,e){return void 0===e&&(e=!0),new d(t,e)},M=function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),{left:t,top:e,right:i,bottom:n}},w=M,C=function(t,e){return{left:void 0!==e.left?e.left:t.left,top:void 0!==e.top?e.top:t.top,right:void 0!==e.right?e.right:t.right,bottom:void 0!==e.bottom?e.bottom:t.bottom}},P=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),E=function(t){function e(e){return t.call(this,e)||this}return P(e,t),e.prototype.toUint32=function(){return void 0!==this._||(this._=V(this.getR(),this.getG(),this.getB(),this.getA())),this._},e.prototype.toString=function(){return"color:".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a)},e.prototype.setA=function(t){return this.set("a",t/255)},e.prototype.setR=function(t){return this.set("r",t/255)},e.prototype.setG=function(t){return this.set("g",t/255)},e.prototype.setB=function(t){return this.set("b",t/255)},e.prototype.getA=function(){return 255*this.get("a")},e.prototype.getR=function(){return 255*this.get("r")},e.prototype.getG=function(){return 255*this.get("g")},e.prototype.getB=function(){return 255*this.get("b")},e.prototype.getHighlight=function(){return this.T||(this.T=new e({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.T},e.prototype.getLighter=function(){return this.O||(this.O=new e({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.O},e.prototype.getDarker=function(){return this.F||(this.F=new e({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.F},e.prototype.toRGBAString=function(){return"rgba( ".concat(255*this.r,", ").concat(255*this.g,", ").concat(255*this.b,", ").concat(255*this.a," )")},e}(Object(n.b)({type:"color",r:1,g:1,b:1,a:1})),T=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"color"!==t.type)},k=function(t,e,i,n){return void 0===n&&(n=255),new E({r:t/255,g:e/255,b:i/255,a:n/255})},D=function(t){var e=t.startsWith("#")?t.substring(1):t.startsWith("0x")?t.substr(2):t;switch(e.length){case 8:return new E({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255,a:Number("0x".concat(e.substring(6,8)))/255});case 6:return new E({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255});case 4:return new E({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255,a:Number("0x".concat(e.charAt(3)).concat(e.charAt(3)))/255});case 3:return new E({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255});default:throw new Error("ColorHEX parsing error | input: ".concat(t))}},F=function(t,e,i){var n,r,o;void 0===e&&(e=1),void 0===i&&(i=1),t/=360;var s=Math.floor(6*t),a=6*t-s,u=i*(1-e),l=i*(1-a*e),h=i*(1-(1-a)*e);switch(s%6){case 0:n=i,r=h,o=u;break;case 1:n=l,r=i,o=u;break;case 2:n=u,r=i,o=h;break;case 3:n=u,r=l,o=i;break;case 4:n=h,r=u,o=i;break;default:n=i,r=u,o=l}return new E({r:n,g:r,b:o})},_=function(t){try{if(t.startsWith("rgba")){var e=t.substr(5).slice(0,-1),i=JSON.parse("[".concat(e,"]"));return k(i[0],i[1],i[2],255*i[3])}if(t.startsWith("rgb"))return e=t.substr(4).slice(0,-1),i=JSON.parse("[".concat(e,"]")),k(i[0],i[1],i[2]);if(t.startsWith("hsl")){i=t.substr(4).slice(0,-1).split(",").map(parseFloat);var n=O(i[0],i[1],i[2]);return k(n[0],n[1],n[2])}return t.startsWith("#")||t.startsWith("0x")?D(t):D(z(t))}catch(t){}return console.warn("ColorCSS parsing error: ".concat(t)),D("#fff")},I=function(t){return k(255&t,255&(t>>=8),255&(t>>=8),255&(t>>=8))},O=function(t,e,i){e/=100,i/=100;var n=(1-Math.abs(2*i-1))*e,r=t/60,o=n*(1-Math.abs(r%2-1)),s=[];isNaN(t)?s=[0,0,0]:r<=1?s=[n,o,0]:r<=2?s=[o,n,0]:r<=3?s=[0,n,o]:r<=4?s=[0,o,n]:r<=5?s=[o,0,n]:r<=6&&(s=[n,0,o]);var a=i-.5*n;return[Math.round(255*(s[0]+a)),Math.round(255*(s[1]+a)),Math.round(255*(s[2]+a))]},B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},z=function(t){var e=B[t.toLowerCase()];if(e)return e;throw new Error("Unknown color code: ".concat(t))},L=new E({}),R=k(0,0,0,0),V=function(t,e,i,n){return void 0===n&&(n=255),(n<<24|i<<16|e<<8|t)>>>0},N=function(t){return V(255*t.r,255*t.g,255*t.b,255*t.a)},U=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Y=function(){return(Y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},G=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},j=function(t,e){return t.value-e.value},W=Object(n.b)({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:k(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1}),X=function(t){var e=t.steps,i=e.length;e.sort(j);for(var n=G(i>0?[e[0].value,e[i-1].value]:[0,0],2),r=n[0],o=n[1],s=i>0?i-1:0,a=Array(s),u=0;u<s;u+=1)a[u]={min:e[u],max:e[u+1]};return{min:r,max:o,length:i,steps:e,subranges:a,isValid:i>0&&r!==o}},H=function(t){function e(e){var i=X(e);return t.call(this,function(t,e){return{steps:t.steps,title:t.title,units:t.units,interpolate:t.interpolate,percentageValues:t.percentageValues,color:t.color,length:e.length,min:e.min,max:e.max,subranges:e.subranges,isValid:e.isValid}}(e,i))||this}return U(e,t),e.prototype.toString=function(){return"LUT:interpolate=".concat(this.interpolate,",steps=").concat(this.steps.length,",percentage=").concat(this.percentageValues)},e.prototype.setSteps=function(t){return this.merge(X(Y(Y({},this),{steps:t})))},e.prototype.getSteps=function(){return this.get("steps")},e.prototype.setTitle=function(t){return this.set("title",t)},e.prototype.getTitle=function(){return this.get("title")},e.prototype.setUnits=function(t){return this.set("units",t)},e.prototype.getUnits=function(){return this.get("units")},e.prototype.setInterpolation=function(t){return this.set("interpolate",t)},e.prototype.getInterpolation=function(){return this.get("interpolate")},e.prototype.setFallbackColor=function(t){return this.set("color",t)},e.prototype.getFallbackColor=function(){return this.get("color")},e.prototype.setPercentageValues=function(t){return this.set("percentageValues",t)},e.prototype.getPercentageValues=function(){return this.get("percentageValues")},e.prototype.getColors=function(t){if(Array.isArray(t)){if(Array.isArray(t[0])){for(var e=t,i=e.length,n=e[0].length,r=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],G(Array(i)),!1).map((function(){return Array(n)})),o=0;o<i;o+=1)for(var s=0;s<n;s+=1)r[o][s]=this.I(e[o][s]);return r}for(var a=t,u=a.length,l=Array(u),h=0;h<u;h+=1)l[h]=this.I(a[h]);return l}return this.I(t)},e.prototype.I=function(t){var e,i,n,r=this.steps,o=r.length;if(0===o)return this.getFallbackColor();if(1===o)return r[0].color||this.color;if(this.interpolate){for(var s=0;s<o-1;s+=1){var a=r[s],u=r[s+1],l=Math.min(a.value,u.value),h=Math.max(a.value,u.value);if(t>=l&&t<=h){if(l===h)return a.color;var c=(t-a.value)/(u.value-a.value);return e=a.color,i=u.color,n=c,new E({r:e.r+(i.r-e.r)*n,g:e.g+(i.g-e.g)*n,b:e.b+(i.b-e.b)*n,a:e.a+(i.a-e.a)*n})}}return t<r[0].value?r[0].color:r[o-1].color}for(s=o-1;s>=0;s-=1)if(t>=r[s].value)return r[s].color;return r[0].color},e}(W),Z=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"lut"!==t.type)},Q=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),q=function(){return(q=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.prototype.toString=function(){return"emptyFill"},e}(Object(n.b)({type:"fillstyle",fillType:"empty"})),J=new K,$=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"empty"===t.fillType)},tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e}(Object(n.b)({type:"fillstyle",fillType:"solid",color:k(255,255,255)})),et=function(t){function e(e){return t.call(this,q(q({},e),{fillType:"solid"}))||this}return Q(e,t),e.prototype.toString=function(){return"solidFill:".concat(this.color.toString())},e.prototype.setColor=function(t){return T(t)?this.set("color",t):this.set("color",t(this.get("color")))},e.prototype.getColor=function(){return this.get("color")},e.prototype.setA=function(t){return this.setColor(this.getColor().setA(t))},e.prototype.setR=function(t){return this.setColor(this.getColor().setR(t))},e.prototype.setG=function(t){return this.setColor(this.getColor().setG(t))},e.prototype.setB=function(t){return this.setColor(this.getColor().setB(t))},e}(tt),it=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"solid"===t.fillType)},nt=function(t){function e(e){return t.call(this,q(q({},e),{fillType:"individual"}))||this}return Q(e,t),e.prototype.toString=function(){return"individualPointFill:".concat(this.color.toString())},e.prototype.setFallbackColor=function(t){return T(t)?this.set("color",t):this.set("color",t(this.get("color")))},e.prototype.getFallbackColor=function(){return this.get("color")},e}(tt),rt=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"individual"===t.fillType)},ot=function(t){function e(e){return t.call(this,q(q({},e),{fillType:"palette"}))||this}return Q(e,t),e.prototype.toString=function(){return"palettedFill:lut=".concat(this.lut.toString(),",lookUpProperty=").concat(this.lookUpProperty)},e.prototype.getPalette=function(){return this.get("lut")},e.prototype.setLookUpProperty=function(t){return"function"==typeof t?this.set("lookUpProperty",t(this.get("lookUpProperty"))):this.set("lookUpProperty",t)},e.prototype.getLookUpProperty=function(){return this.get("lookUpProperty")},e}(Object(n.b)({type:"fillstyle",fillType:"palette",lut:new H({steps:[]}),lookUpProperty:"value"})),st=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"palette"===t.fillType)},at={linear:function(t,e,i){var n=e-t;return function(r){return r<i?t+n/i*r:e}},easeIn:function(t,e,i){return function(n){return n<i?t+Math.abs(2*Math.pow(Math.sqrt(.5)*n/i,2))*(e-t):e}},easeOut:function(t,e,i){return function(n){return n<i?t+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-n/i),2))*(e-t):e}},ease:function(t,e,i){return function(n){return n<i?t+(n<i/2?.5*Math.pow(n/i*2,2.5):.5+.5*(1-Math.pow(1-2*(n/i-.5),2.5)))*(e-t):e}},logarithmic:function(t){var e=Ve(t);return function(i,n,r){var o=e(i),s=e(n);return function(e){return e<r?Math.pow(t,o+Math.abs(1-2*Math.pow(Math.sqrt(.5)*(1-e/r),2))*(s-o)):n}}}},ut=function(){function t(t,e,i,n,o){void 0===n&&(n=at.linear);var s=this;this.delta=0,this.nextAnimations=new Array,this.j=!1,this.easing=at.linear,this.D=new r.a,this.isOver=function(){return(s.delta===s.duration||s.j)&&0===s.nextAnimations.length},this.values=t,this.action=e,this.duration=i,this.easing=n,this.P=o,this.eases=t.map((function(t){var e=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t,2),r=e[0],o=e[1];return n(r,o,i)}))}return t.prototype.L=function(){this.D.emit("start")},t.prototype.start=function(){return this.P.includes(this)||this.P.push(this),this},t.prototype.addNextAnimations=function(t){var e=this;return t instanceof Array?t.forEach((function(t){return e.nextAnimations.push(t)})):this.nextAnimations.push(t),this},t.prototype.NextAnimation=function(e,i,n,r){void 0===n&&(n=this.duration),void 0===r&&(r=this.easing);var o=new t(e,i,n,r,this.P);return this.nextAnimations.push(o),o},t.prototype.onAnimationStart=function(t,e){return this.D.on("start",t,e)},t.prototype.onAnimationEnd=function(t,e){return this.D.on("end",t,e)},t.prototype.onEveryAnimationEnd=function(t,e){return this.D.on("everyEnd",t,e)},t.prototype.onAllAnimationEnd=function(t,e){return this.D.on("allEnd",t,e)},t.prototype.allOffAnimationEnd=function(){return this.D.topicOff("end"),this},t.prototype.allOffEveryAnimationEnd=function(){return this.D.topicOff("everyEnd"),this},t.prototype.allOffAllAnimationEnd=function(){return this.D.topicOff("allEnd"),this},t.prototype.offAnimationEnd=function(t){return this.D.off(t,"end")},t.prototype.offEveryAnimationEnd=function(t){return this.D.off(t,"everyEnd")},t.prototype.offAllAnimationEnd=function(t){return this.D.off(t,"allEnd")},t.prototype.finish=function(t){if(void 0===t&&(t=!0),this.j=!0,this.P.splice(this.P.indexOf(this),1),this.nextAnimations.length>0){var e=this.nextAnimations[0];return t&&(this.D.listeners("allEnd").forEach((function(t,i){return e.onAllAnimationEnd(t,i)})),this.D.listeners("everyEnd").forEach((function(t,i){return e.onEveryAnimationEnd(t,i)}))),e.addNextAnimations(this.nextAnimations.slice(1)),e.start(),t&&(this.D.emit("end",e),this.D.emit("everyEnd",e)),e}t&&(this.D.emit("end",void 0),this.D.emit("everyEnd",void 0),this.D.emit("allEnd"))},t.prototype.finishAll=function(t){void 0===t&&(t=!0);for(var e=this;e;)e=e.finish(t)},t.prototype.getFinalValues=function(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map(se):this.values.map(se)},t.prototype.getTimeUntilFinish=function(){for(var t=this.duration-this.delta,e=0;e<this.nextAnimations.length;e+=1)t+=this.nextAnimations[e].duration-this.nextAnimations[e].delta;return t},t}(),lt=function(t,e){void 0===e&&(e=60),e>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");var i,n,r=[],o=0,s=function s(){i=void 0;var a=Date.now();(o=a-(n=n||a))/1e3>=1/e&&(n=Date.now()-o%(1e3/e),r.forEach((function(t){0===t.delta&&t.L(),t.delta+=o-o%(1e3/e),t.delta>t.duration&&(t.delta=t.duration),t.action(t.eases.map((function(e){return e(t.delta)}))),t.delta===t.duration&&t.finish()})),t()),r.length>0?i=ne.requestAnimationFrame(s):(i=void 0,n=void 0)};return function(t,e){return void 0===t&&(t=1e3),void 0===e&&(e=at.linear),function(n,o,a){void 0===a&&(a=t);var u=new ut(n,o,a,e,r).start();return i||(i=ne.requestAnimationFrame(s)),u}}},ht=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t.circle="circle",t.ellipse="ellipse"}(l||(l={})),function(t){t.closestSide="closest-side",t.closestCorner="closest-corner",t.farthestSide="farthest-side",t.farthestCorner="farthest-corner"}(h||(h={}));var ct,ft=function(t){function e(e){var i=t.call(this,e)||this;if(null===e||e&&null===e.stops||e&&e.stops&&!Array.isArray(e.stops)||e&&e.stops&&Array.isArray(e.stops)&&e.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.");return i}return ht(e,t),e.prototype.toString=function(){return"radialGradientFill:".concat(this.shape,",").concat(this.extent,",").concat(this.position.x,",").concat(this.position.y,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},e.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)},e.prototype.getColorStops=function(){return this.get("stops")},e.prototype.setPosition=function(t){return this.set("position",t)},e.prototype.getPosition=function(){return this.get("position")},e.prototype.setShape=function(t){return this.set("shape",t)},e.prototype.getShape=function(){return this.get("shape")},e.prototype.setExtent=function(t){return this.set("extent",t)},e.prototype.getExtent=function(){return this.get("extent")},e}(Object(n.b)({type:"fillstyle",fillType:"radial-gradient",stops:[{color:D("#f00"),offset:0},{color:D("#0f0"),offset:1}],position:y(.5,.5),shape:l.ellipse,extent:h.farthestCorner})),pt=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"radial-gradient"===t.fillType)},dt=function(t){function e(e){var i=t.call(this,e)||this;if(null===e||e&&null===e.stops||e&&e.stops&&!Array.isArray(e.stops)||e&&e.stops&&Array.isArray(e.stops)&&e.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.");return i}return ht(e,t),e.prototype.toString=function(){return"linearGradientFill:".concat(this.angle,",").concat(this.stops.map((function(t){return"".concat(t.offset,",").concat(t.color.toString())})).join(","))},e.prototype.setColorStops=function(t){if(t.length<2)throw new Error("Minimum of two color stops required");var e=t.sort((function(t,e){return t.offset-e.offset}));return this.set("stops",e)},e.prototype.getColorStops=function(){return this.get("stops")},e.prototype.setAngle=function(t,e){return this.set("angle",e?function(t){return 180*t/Math.PI}(t):t)},e.prototype.getAngle=function(t){return t?en(this.get("angle")):this.get("angle")},e}(Object(n.b)({type:"fillstyle",fillType:"linear-gradient",stops:[{color:D("#f00"),offset:0},{color:D("#0f0"),offset:1}],angle:0})),yt=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"linear-gradient"===t.fillType)},vt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gt=new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.thickness=0,e}return vt(e,t),e.prototype.setThickness=function(t){return this},e.prototype.getThickness=function(){return 0},e.prototype.V=function(){return 0},e.prototype.setFillStyle=function(t){return this},e.prototype.getFillStyle=function(){return J},e}(Object(n.b)({type:"linestyle",lineType:"empty"}))),mt=function(t){return!(!t||"object"!==a(t)||!("lineType"in t)||"empty"!==t.lineType)},xt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),St=function(){return(St=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},At=function(){function t(t,e,i,n){var o=this;this.cellIndex=t,this.cellSpan=e,this.cellsAmount=i,this.observedAmount=n,this.x=new bt,this.y=new bt,this.z=new bt,this.D=new r.a;var s=St({},t),a=St({},e);if(n){var u=function(t){o.cellsAmount.x=t.reduce(Di,0),o.cellIndex.x=t.reduce((function(t,e,i){return i>=s.x?t:t+e}),0),o.cellSpan.x=t.reduce((function(t,e,i){return i>=s.x&&i<s.x+a.x?t+e:t}),0),o.D.emit("cell-resize")},l=n.x.N(u);u(n.x.C());var h=function(t){o.cellsAmount.y=t.reduce(Di,0),o.cellIndex.y=t.reduce((function(t,e,i){return i>=s.y?t:t+e}),0),o.cellSpan.y=t.reduce((function(t,e,i){return i>=s.y&&i<s.y+a.y?t+e:t}),0),o.D.emit("cell-resize")},c=n.y.N(h);h(n.y.C()),this.R=function(){n.x.G(l),n.y.G(c)}}}return t.prototype.U=function(){return this.R&&(this.R(),this.R=void 0),this},t.prototype.W=function(t){return this.D.on("cell-resize",t)},t.prototype.Y=function(t){return this.D.off(t,"cell-resize")},t}(),bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.X=0,e.H=10,e.Z=1,e}return xt(e,t),e.prototype.K=function(){return this.o=!1,this},e.prototype.J=function(){return this.o=!0,this},e.prototype.getInnerStart=function(){return this.X},e.prototype.getInnerEnd=function(){return this.H},e.prototype.getInnerInterval=function(){return Math.abs(this.getInnerEnd()-this.getInnerStart())},e.prototype.q=function(t,e){return this.X=t,this.H=e,this.$(),this},e.prototype.tt=function(t){return this.Z=t,this.$(),this},e.prototype.it=function(t){return t/this.Z},e.prototype.$=function(){var t=this.it(this.H-this.X),e=this.Z;void 0!==this.nt&&!1!==le(t,this.nt)||(this.o=!0,this.rt=e,this.nt=t)},e.prototype.et=function(){return this.nt},e.prototype.ot=function(){return this.rt},e.prototype.st=function(){return this.H<this.X},e.prototype.ut=function(t,e){return!0},e}(p),Mt=function(){return(Mt=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},wt={d1:function(t){return new t.scale1DConstructor(0,1,1,void 0)},d2:function(t){return(new t.scaleXYConstructor).ht({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},d3:function(){return new At({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)}},Ct=function(t,e,i){return e===i?t:i.ft(e.ct(t))},Pt=function(t,e,i){if(e===i)return t;var n=e instanceof wn?e.x:e.x instanceof wn?e.x.x:e.x.vt,r=e instanceof wn?e.y:e.y instanceof wn?e.y.y:e.y.vt,o=i instanceof wn?i.x:i.x instanceof wn?i.x.x:i.x.vt,s=i instanceof wn?i.y:i.y instanceof wn?i.y.y:i.y.vt;return Mt(Mt({},t),{x:Ct(t.x,n,o),y:Ct(t.y,r,s)})},Et=function(t,e,i){var n=t(e,i);return function(t){return new et({color:n(t)})}},Tt=function(t,e,i){var n=t(e+1,i);return function(t){return new ft({stops:[{offset:0,color:n(t)},{offset:1,color:n(t).getDarker()}]})}},kt=function(t,e,i,n){var r=t(e+1,n);return function(t){return new dt({stops:[{offset:0,color:r(t).getDarker()},{offset:.5,color:r(t)},{offset:1,color:r(t).getDarker()}],angle:i||90})}},Dt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return{remove:ue};var i=!1,n=function(e,n,r){i||(i=!0,t.filter((function(t){return t!==e})).forEach((function(t){return t.dt(n,r,!1,e.getStopped(),"synchronizedAxis")})),i=!1)},r=t.map((function(t){return t.onIntervalChange((function(e,i,r){return n(t,i,r)}))})),o=!1,s=function(e,i){o||(o=!0,t.filter((function(t){return t!==e})).forEach((function(t){return t.setStopped(i)})),o=!1)},a=t.map((function(t){return t.onStoppedStateChanged((function(e,i){return s(t,i)}))})),u={remove:function(){t.forEach((function(t,e){t.offIntervalChange(r[e]),t.offStoppedStateChanged(a[e])}))}};return u},Ft=function(t,e,i,n){if(!i||0===i.length)throw new Error("Invalid use regularColorSteps 'colorPalette' is undefined or empty");var r=null==n?void 0:n.formatLabels,o=null==n?void 0:n.alpha;return i.map((function(n,s){var a=t+s/(i.length-1)*(e-t);return{color:void 0!==o?n.setA(o):n,value:a,label:r?r(a):void 0}}))},_t=function(t){return t&&"object"===a(t)&&"column"in t&&"row"in t},It=function(t){return t&&"object"===a(t)&&"z"in t&&"column"in t&&"row"in t},Ot=function(t){return t&&"object"===a(t)&&"position"in t&&"open"in t&&"high"in t&&"isPacked"in t},Bt=function(t){return t&&"object"===a(t)&&"annulus"in t&&"sector"in t},zt=function(t){return t&&"object"===a(t)&&"index"in t},Lt=function(t){return t&&"object"===a(t)&&"xSize"in t&&"ySize"in t&&"zSize"in t},Rt=function(t){return t&&"object"===a(t)&&"figure"in t&&"x1"in t&&"y2"in t&&"height"in t},Vt=function(t){return t&&"object"===a(t)&&"figure"in t&&"start"in t&&"end"in t&&"median"in t&&"upperQuartile"in t},Nt=function(t){return t&&"object"===a(t)&&"figure"in t&&"x"in t&&"radiusX"in t&&"radiusY"in t},Ut=function(t){return t&&"object"===a(t)&&"figure"in t&&"x"in t&&"coordinates"in t},Yt=function(t){return t&&"object"===a(t)&&"figure"in t&&"startX"in t&&"endX"in t},Gt=function(t){return t&&"object"===a(t)&&"x"in t&&"y"in t},jt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wt=function(t){function e(i,n){var r,o="ChartError: ".concat(i," ").concat(n?"in ".concat(n.constructor.name):"");return r=t.call(this,o)||this,Object.setPrototypeOf(r,e.prototype),r}return jt(e,t),e}(Error);ct=Error,jt((function t(e,i){var n,r="Axis Error: ".concat(e," ").concat(i?"in ".concat(i.constructor.name):"");return n=ct.call(this,r)||this,Object.setPrototypeOf(n,t.prototype),n}),ct);var Xt,Ht,Zt,Qt,qt=function(t){function e(i,n,r){void 0===r&&(r=!1);var o,s="EngineError: ".concat(i," ").concat(n?"in ".concat(n.constructor.name):"");return o=t.call(this,s)||this,r&&ne.alert(s),Object.setPrototypeOf(o,e.prototype),o}return jt(e,t),e}(Error),Kt=function(t){function e(i){var n=t.call(this,i)||this;return Object.setPrototypeOf(n,e.prototype),n}return jt(e,t),e}(qt);!function(t){jt((function e(i){var n,r="UnImplemented Error: ".concat(i,"() is not implemented!");return n=t.call(this,r)||this,Object.setPrototypeOf(n,e.prototype),n}),t)}(Error),function(t){t[t.Content=0]="Content",t[t.PaddedContent=1]="PaddedContent",t[t.PaddedBackground=2]="PaddedBackground",t[t.Everything=3]="Everything"}(Xt||(Xt={})),function(t){t[t.never=0]="never",t[t.always=1]="always",t[t.whenHovered=2]="whenHovered",t[t.whenDragged=3]="whenDragged",t[t.whenNotDragged=4]="whenNotDragged",t[t.whenHoveredOrDragged=5]="whenHoveredOrDragged"}(Ht||(Ht={})),function(t){t[t.notDraggable=0]="notDraggable",t[t.draggable=1]="draggable",t[t.onlyHorizontal=2]="onlyHorizontal",t[t.onlyVertical=3]="onlyVertical"}(Zt||(Zt={})),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(Qt||(Qt={}));var Jt,$t,te=function(){return(te=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ee=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},ie=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ne="undefined"!=typeof window?window:void 0!==t&&t._lcjs?t._lcjs:{},re=function(t,e){return t.x===e.x&&t.y===e.y},oe=function(t){return t!==Ai&&t!==bi&&!Number.isNaN(t)&&Number.isFinite(t)&&t!==1/0&&t!==-1/0},se=function(t){return t[1]},ae=function(t){return t.dispose()},ue=function(){},le=function(t,e){return t===e},he=function(t,e,i){return i>e?Math.min(Math.max(t,e),i):Math.min(Math.max(t,i),e)},ce=function(t){return Array.prototype.concat.apply([],t)},fe=function(t,e){var i=e&&void 0!==e.row.start?e.row.start:0,n=e&&void 0!==e.row.end?e.row.end:t.y,r=e&&void 0!==e.column.start?e.column.start:0,o=e&&void 0!==e.column.end?e.column.end:t.x;return[Math.min(i,n),Math.max(i,n),Math.min(r,o),Math.max(r,o)]},pe=function(t,e){for(;e;)t.push(t.shift()),e-=1},de=function(t){var e,i,n=[];try{for(var r=ie(t),o=r.next();!o.done;o=r.next()){var s=o.value;n.push(s.slice())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return n},ye=function(t,e){return void 0===t||Number.isNaN(t)?e:t},ve=function(t){return t.At()},ge=function(t){return t.yt()},me=function(t){return t.bt()},xe=function(t){return t.St()},Se=function(t){return t.min.x},Ae=function(t){return t.max.x},be=function(t){return t.min.y},Me=function(t){return t.max.y},we=function(t,e,i,n,r){if(t.length>0){for(var o=r?n(r):void 0,s=0;s<t.length;s+=1){var a=e(t[s]);void 0!==a&&(o=void 0!==o?i(o,a):a)}return o}if(r)return n(r)},Ce=function(t,e){return t.position===e.position&&t.high===e.high&&t.low===e.low},Pe=y(0,1),Ee=y(1,0),Te=y(0,-1),ke=y(-1,0),De=y(0,0),Fe=function(t){switch(t){case Qt.Up:return Pe;case Qt.Right:return Ee;case Qt.Down:return Te;case Qt.Left:return ke;default:return De}},_e=function(t){return t===Qt.Left||t===Qt.Right},Ie=function(t){t.stopPropagation(),t.preventDefault()},Oe=function(t,e){if(!e)return t;for(var i=t.length,n=new Float32Array(2*i),r=0,o=0;o<i;o+=1){var s=t[o],a=Math.fround(s);n[r+0]=a,n[r+1]=s-a,r+=2}return n},Be=function(t,e,i){if(void 0===i&&(i=Float32Array),!e){for(var n=t.length,r=new i(2*n),o=0,s=0;s<n;s+=1){var a=t[s];r[o+0]=a.x,r[o+1]=a.y,o+=2}return r}var u=t.length,l=new i(4*u),h=0;for(s=0;s<u;s+=1){a=t[s];var c=Math.fround(a.x),f=Math.fround(a.y);l[h+0]=c,l[h+1]=f,l[h+2]=a.x-c,l[h+3]=a.y-f,h+=4}return l},ze=function(t){for(var e=t.length,i=new Float32Array(3*e),n=0,r=0;r<e;r+=1){var o=t[r];i[n+0]=o.x,i[n+1]=o.y,i[n+2]=o.z,n+=3}return i},Le=function(t){return function(e){var i=t.indexOf(e);i>=0&&t.splice(i,1)}},Re=function(t){for(var e=t.length,i=0;i<e-1;i+=1)t[i].x===t[i+1].x&&t[i].y===t[i+1].y&&(t.splice(i,1),i-=1,e-=1);return t},Ve=function(t){var e=Math.log(t);return function(t){return Math.log(t)/e}},Ne=Ve(Math.E),Ue=function(t,e){var i=e[t];return i?i():void 0},Ye=function(t,e){var i;if(e)i=e;else{for(var n={x:0,y:0},r=0;r<t.length;r+=1)n.x+=t[r].x/t.length,n.y+=t[r].y/t.length;i=n}return t.sort((function(t,e){return nn(Zi(t,i))-nn(Zi(e,i))}))},Ge=function(t,e,i){if(0===t.length)return!1===i.canReturnB?e.slice():e;var n=e.length;if(n<1e5)return t.push.apply(t,e),t;for(var r=0;r<n;r+=1)t.push(e[r]);return t},je=function(t,e,i){return i<0?t:i>1?e:k(t.getR()+i*(e.getR()-t.getR()),t.getG()+i*(e.getG()-t.getG()),t.getB()+i*(e.getB()-t.getB()),t.getA()+i*(e.getA()-t.getA()))},We=function(t){return 255===t.getA()?t:t.setA(255)},Xe=(Jt=k(0,0,0),function(t){return t=We(t),new ft({shape:l.circle,extent:h.farthestCorner,position:{x:.2,y:.8},stops:[{offset:0,color:t},{offset:1,color:je(t,Jt,.5)}]})}),He=($t=function(t){var e;if(t){if(it(t)){if(0===t.getColor().getA())return;return t.getColor()}if(pt(t)||yt(t)){var i=t.getColorStops();return 3===i.length?i[1].color:null===(e=i[0])||void 0===e?void 0:e.color}st(t)}},function(t,e,i,n){var r,o,s,a,u=[];if(n.fill&&u.push(n.fill),n.fill2&&u.push(n.fill2),n.stroke){var l=n.stroke.getFillStyle();l!==J&&("stroke"===(null===(r=n.behavior)||void 0===r?void 0:r.priority)?u.unshift(l):u.push(l))}if(n.point3D){var h=n.point3D;u.push(h.getFillStyle())}if(n.behavior&&!0===n.behavior.colorStep){var c=ee(u.reduce((function(t,e){if(t[0]&&t[1])return t;var i=$t(e);return i&&(void 0===t[0]?t[0]=i:t[1]=i),t}),[void 0,void 0]),2),f=c[0],p=c[1];o=f&&p?(s=f)===(a=p)||s.getR()===a.getR()&&s.getG()===a.getG()&&s.getB()===a.getB()?Xe(s):(s=We(s),a=We(a),new dt({angle:0,stops:[{offset:0,color:a},{offset:.5,color:a},{offset:.5,color:s},{offset:1,color:s}]})):e.uiButtonFillStyle}else{var d=u.reduce((function(t,e){return t||$t(e)}),void 0);o=d?i?new et({color:d}):Xe(d):e.uiButtonFillStyle}t.setButtonOnFillStyle(o)}),Ze=function(t){var e=t;if(st(e))return{lut:e.getPalette(),lookUpProperty:e.getLookUpProperty()}},Qe=function(t){var e=0;return function(){return e+=1,"".concat(t,"-").concat(e)}},qe=function(t,e){for(var i="string"==typeof t?t:String(t),n=i.indexOf("."),r=n>=0?n:i.length;r<e;r+=1)i="0".concat(i);return i},Ke=function(t,e){return"function"==typeof t?t(e):t},Je=function(t){return t.ctrlKey?Math.sign(t.deltaY)*Math.min(.05*Math.abs(t.deltaY),1):Math.sign(t.deltaY)},$e=function(t,e){return e()},ti=function(){return new Error("LightningChart JS encountered an unexpected error.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact")};new et({color:k(255,255,255,1)});var ei=function(t){return t===Mi||t.min.x===Mi.min.x&&t.max.x===Mi.max.x&&t.min.y===Mi.min.y&&t.max.y===Mi.max.y},ii=function(t){return Array.from(new Set(t))},ni=function(t){return t.filter((function(t){return void 0!==t}))},ri=function(t){return"boolean"==typeof t?t?1:0:t>1?1:t<0?0:t},oi=function(t,e,i){e.length<=0||(t.setText(i.label).setOn(e[0].getVisible()),i.style&&t.setButtonOnFillStyle(i.style),i.toggleVisibilityOnClick&&t.onSwitch((function(t,i){return e.forEach((function(t){return t.setVisible(i)}))})),t.onMouseEnter((function(){return e.forEach((function(t){return t.setHighlight(!0)}))})),t.onMouseLeave((function(){return e.forEach((function(t){return t.setHighlight(!1)}))})),e.forEach((function(e){return e.onMouseEnter((function(){return t.setHighlight(!0)}))})),e.forEach((function(e){return e.onMouseLeave((function(){return t.setHighlight(!1)}))})),e.forEach((function(e){return e.onTouchStart((function(){return t.setHighlight(!0)}))})),e.forEach((function(e){return e.onTouchEnd((function(){return t.setHighlight(!1)}))})))},si=function(t,e){throw new Error(e)},ai=function(t){var e;return function(){return e||(e=t())}},ui=function(t){if(t===gt)return 0;var e=t.getThickness();return e<0?1:1*e},li=function(t,e,i,n){var r=n.shouldCrash,o='LightningChart JS Resources not found.\nresourcesBaseUrl: "'.concat(t,'"\ninitiator: ').concat(i,"\nresource url: ").concat(e,"\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/");if(r)throw ne.alert(o),new Error(o);ne.console.warn(o)},hi=function(t,e,i,n){if(void 0===n&&(n=0),!(t<i(n)||i(e)<t)){for(var r=e;n!==e;){var o=Math.ceil((n+e)/2);t<i(o)?e=o-1:n=o}var s=Math.abs(t-i(n));return n<r&&Math.abs(t-i(n+1))<s?n+1:n}},ci=function(){var t=new Map;return{xt:function(e){return e.setMouseEnterEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.wt(e,i,n,r)})),e.setMouseLeaveEventHandler((function(e,i,n){var r=n&&t.get(n);r&&r.Mt(e,i,n)})),e.setMouseClickEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Ct(e,i,n,r)})),e.setMouseDoubleClickEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o._t(e,i,n,r)})),e.setMouseDownEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Tt(e,i,n,r)})),e.setMouseUpEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.kt(e,i,n,r)})),e.setMouseMoveEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Ot(e,i,n,r)})),e.setMouseDragEventHandler((function(e,i,n,r,o,s,a){var u=s&&t.get(s);u&&u.Ft(e,i,n,r,o,s,a)})),e.setMouseDragStartEventHandler((function(e,i,n,r,o){var s=r&&t.get(r);s&&s.It(e,i,n,r,o)})),e.setMouseDragStopEventHandler((function(e,i,n,r,o,s){var a=o&&t.get(o);a&&a.jt(e,i,n,r,o,s)})),e.setMouseWheelEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Dt(e,i,n,r)})),e.setTouchStartEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Bt(e,i,n,r)})),e.setTouchMoveEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Et(e,i,n,r)})),e.setTouchEndEventHandler((function(e,i,n,r){var o=n&&t.get(n);o&&o.Pt(e,i,n,r)})),e},Lt:function(e,i){t.set(e,i)},zt:function(){t.clear()}}},fi={left:0,right:0,top:0,bottom:0},pi=function(){return Math.round(Math.random()*Number.MAX_SAFE_INTEGER)},di=function(t,e,i){e&&e.Vt();var n=i();return{Nt:t,Vt:function(){n.forEach((function(e){return t.Rt(e)}))}}},yi=function(t,e,i){var n,r,o,s=function(){return o=i()},a=te(te({},t),{resolve:function(){return o||s()}}),u=function(t){Object.defineProperty(a,t,{get:function(){return o?o[t]:s()[t]}})};try{for(var l=ie(Object.keys(e)),h=l.next();!h.done;h=l.next())u(h.value)}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return a},vi=function(t){if(t)return"resolve"in t?t.resolve():t},gi=function(t){var e=t;return{Gt:function(t){var i=e;return e=i+t,[i,t]}}},mi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xi={add:function(t,e){return m(t.x+e,t.y+e,t.z+e)},addVec:function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={x:t.x,y:t.y,z:t.z};try{for(var s=mi(n),a=s.next();!a.done;a=s.next()){var u=a.value;o.x+=u.x,o.y+=u.y,o.z+=u.z}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o},subtract:function(t,e){return m(t.x-e,t.y-e,t.z-e)},subtractVec:function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={x:t.x,y:t.y,z:t.z};try{for(var s=mi(n),a=s.next();!a.done;a=s.next()){var u=a.value;o.x-=u.x,o.y-=u.y,o.z-=u.z}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o},multiply:function(t,e){return m(t.x*e,t.y*e,t.z*e)},divide:function(t,e){return m(t.x/e,t.y/e,t.z/e)},multiplyVec:function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={x:t.x,y:t.y,z:t.z};try{for(var s=mi(n),a=s.next();!a.done;a=s.next()){var u=a.value;o.x*=u.x,o.y*=u.y,o.z*=u.z}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o},divideVec:function(t){for(var e,i,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o={x:t.x,y:t.y,z:t.z};try{for(var s=mi(n),a=s.next();!a.done;a=s.next()){var u=a.value;o.x/=u.x,o.y/=u.y,o.z/=u.z}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},normalize:function(t){return xi.divide(t,xi.length(t))},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},cross:function(t,e){return m(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)},angle:function(t,e){return Math.acos(xi.dot(t,e)/(xi.length(t)*xi.length(e)))},rotateAroundAxis:function(t,e,i){var n=Math.cos(i),r=Math.sin(i),o=xi.dot(e,t),s=xi.cross(e,t);return xi.addVec(xi.multiply(t,n),xi.addVec(xi.multiply(e,(1-n)*o),xi.multiply(s,r)))},lerp:function(t,e,i){return i=he(i,0,1),xi.addVec(xi.multiply(t,1-i),xi.multiply(e,i))},equals:function(t,e){return le(t.x,e.x)&&le(t.y,e.y)&&le(t.z,e.z)},abs:function(t){return{x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}},sign:function(t){return{x:Math.sign(t.x),y:Math.sign(t.y),z:Math.sign(t.z)}}},Si=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ai=Number.MAX_SAFE_INTEGER,bi=-Number.MAX_SAFE_INTEGER,Mi=S(y(Ai,Ai),y(bi,bi)),wi=S(m(Ai,Ai,Ai),m(bi,bi,bi)),Ci=function(t,e){var i=Math.log(t)/Math.log(e);return Math.floor(function(t){return Math.ceil(t)-t<1e-4?t=Math.ceil(t):t-Math.floor(t)<1e-4&&(t=Math.floor(t)),t}(i))},Pi=function(t,e){return!(e.min.x>t.max.x||e.max.x<t.min.x||e.min.y>t.max.y||e.max.y<t.min.y)},Ei=function(t,e){return!(t[1].x<e[0].x||t[0].x>e[1].x||t[3].y<e[0].y||t[0].y>e[3].y)},Ti=function(t,e){return{min:{x:Math.min(t[0].x,e[0].x),y:Math.min(t[0].y,e[0].y)},max:{x:Math.max(t[2].x,e[2].x),y:Math.max(t[2].y,e[2].y)}}},ki=function(t){for(var e=t.length,i=0;i<e;i+=1)for(var n=i+1;n<e;n+=1)if(Pi(t[i],t[n]))return!0;return!1},Di=function(t,e){return e+t},Fi=function(t,e,i){var n=Zi(e,t),r=n.x*n.x+n.y*n.y;if(0===r)return t;var o=Zi(i,t),s=(o.x*n.x+o.y*n.y)/r;return s<=0?t:s>=1?e:y(t.x+s*n.x,t.y+s*n.y)},_i=function(t,e,i){return i>e?t>=e&&t<=i:t>=i&&t<=e},Ii=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},Oi=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},Bi=function(t,e,i){return Hi(t,Xi(Zi(e,t),i))},zi=function(t,e,i){return xi.addVec(t,xi.multiply(xi.subtractVec(e,t),i))};function Li(t){var e=t.length;if(e>0){for(var i=t[0].x,n=t[0].x,r=t[0].y,o=t[0].y,s=0;s<e;s+=1){var a=t[s];a.x>i&&(i=a.x),a.x<n&&(n=a.x),a.y>r&&(r=a.y),a.y<o&&(o=a.y)}return S(y(n,o),y(i,r))}return Mi}function Ri(t){var e=t.length;if(e>0){for(var i=t[0].x,n=t[0].x,r=t[0].y,o=t[0].y,s=t[0].z,a=t[0].z,u=0;u<e;u+=1){var l=t[u];l.x>i&&(i=l.x),l.x<n&&(n=l.x),l.y>r&&(r=l.y),l.y<o&&(o=l.y),l.z>s&&(s=l.z),l.z<a&&(a=l.z)}return S(m(n,o,a),m(i,r,s))}return wi}var Vi=function(){for(var t,e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var r={min:{x:Ai,y:Ai},max:{x:bi,y:bi}};try{for(var o=Si(i),s=o.next();!s.done;s=o.next()){var a=s.value;r.min.x=r.min.x<a.min.x?r.min.x:a.min.x,r.max.x=r.max.x>a.max.x?r.max.x:a.max.x,r.min.y=r.min.y<a.min.y?r.min.y:a.min.y,r.max.y=r.max.y>a.max.y?r.max.y:a.max.y}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},Ni=function(t,e){return S(m(t.min.x<e.min.x?t.min.x:e.min.x,t.min.y<e.min.y?t.min.y:e.min.y,t.min.z<e.min.z?t.min.z:e.min.z),m(t.max.x>e.max.x?t.max.x:e.max.x,t.max.y>e.max.y?t.max.y:e.max.y,t.max.z>e.max.z?t.max.z:e.max.z))};function Ui(t,e,i){return y(Math.cos(i)*(t.x-e.x)+Math.sin(i)*(t.y-e.y)+e.x,-Math.sin(i)*(t.x-e.x)+Math.cos(i)*(t.y-e.y)+e.y)}function Yi(t,e){return y(t.x-e.x,t.y-e.y)}function Gi(t){var e=Wi(t);return 0===e?y(0,0):y(t.x/e,t.y/e)}function ji(t,e){var i={x:e.x-t.x,y:e.y-t.y};i=Gi(i);var n=Math.PI/2,r=i.x;return i.x=-Math.sin(n)*i.y,i.y=r*Math.sin(n),i}function Wi(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Xi(t,e){return y(t.x*e,t.y*e)}function Hi(t,e){return y(t.x+e.x,t.y+e.y)}function Zi(t,e){return y(t.x-e.x,t.y-e.y)}function Qi(t,e){return y(t.x*e.x,t.y*e.y)}function qi(t,e){return y(t.x/e.x,t.y/e.y)}function Ki(t){return Xi(t,-1)}function Ji(t,e){return t.x*e.x+t.y*e.y}var $i=function(t,e,i){var n=(i.y-e.y)/(i.x-e.x),r=e.y+(t-e.x)*n;return y(t,r)},tn=function(t,e,i){var n=(i.y-e.y)/(i.x-e.x),r=e.x+(t-e.y)/n;return y(r,t)};function en(t){return t*Math.PI/180}function nn(t){return 180*Math.atan2(t.y,t.x)/Math.PI}function rn(t){return y(Math.cos(t),Math.sin(t))}var on,sn=function(t,e,i,n){var r,o,s,a;if(e.x-t.x!=0||n.x-i.x!=0)return e.x-t.x==0?(s=e.x,a=(o=(n.y-i.y)/(n.x-i.x))*(s-i.x)+i.y):n.x-i.x==0?(s=n.x,a=(r=(e.y-t.y)/(e.x-t.x))*(s-t.x)+t.y):(r=(e.y-t.y)/(e.x-t.x),o=(n.y-i.y)/(n.x-i.x),a=r*((s=(i.y-o*i.x+r*t.x-t.y)/(r-o))-t.x)+t.y),y(s,a)},an=function(t,e){var i=t.length,n=e.length,r=new Uint16Array(i+n);return r.set(t,0),r.set(e,i),r},un=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ln=function(t){function e(e,i,n,r){var o=t.call(this)||this;if(o.Ut=!0,o.Wt=!0,o.Yt=[0,0],o.Xt=!0,o.Ht=e,o.Zt=i,o.Qt=n,o.Kt=e,o.Jt=i,r){var s=r.N(o.qt.bind(o));o.qt(r.C()),o.$t=function(){return r.G(s)}}return o}return un(e,t),e.prototype.tt=function(t){return this.Z=t,this.Wt=!0,this},e.prototype.ti=function(t){return this.Yt=t.map(Math.abs),this.Xt=!0,this},e.prototype.ii=function(){return this.Ht/this.Qt*this.Z+this.Yt[0]},e.prototype.ni=function(){return(this.Ht+this.Zt)/this.Qt*this.Z-this.Yt[1]},e.prototype.ri=function(){return this.getCellSize()-this.ei()},e.prototype.oi=function(){return this.Z},e.prototype.getCellSize=function(){return this.si(this.Z)},e.prototype.ei=function(){return this.Yt[0]+this.Yt[1]},e.prototype.ui=function(){return this.Yt},e.prototype.qt=function(t){var e=this;this.Qt=t.reduce(Di,0),this.Ht=t.reduce((function(t,i,n){return n>=e.Kt?t:t+i}),0),this.Zt=t.reduce((function(t,i,n){return n>=e.Kt&&n<e.Kt+e.Jt?t+i:t}),0),this.Ut=!0,this.hi()},e.prototype.si=function(t){return t*this.Zt/this.Qt},e.prototype.K=function(){return t.prototype.K.call(this),this.Wt=!1,this.Xt=!1,this.Ut=!1,this},e.prototype.J=function(){return t.prototype.J.call(this),this.Wt=!0,this.Xt=!0,this.Ut=!0,this},e}(function(){function t(){this.ai=!0}return t.prototype.getInnerStart=function(){return this.X},t.prototype.getInnerEnd=function(){return this.H},t.prototype.getInnerInterval=function(){return Math.abs(this.H-this.X)},t.prototype.q=function(t,e){return this.ai=t!==this.X||e!==this.H,this.X=t,this.H=e,this},t.prototype.K=function(){return this.ai=!1,this},t.prototype.J=function(){return this.ai=!0,this},t}()),hn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),cn=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.fi={internal:10,function:fn(10),number:10},o.Z=1e3,o.q(1,1e3),o.ci=o.li(),o}return hn(e,t),e.prototype.ut=function(t,e,i,n,r){if(t===e)return!1;var o=Math.min(t,e)<dn,s=Math.max(t,e)>yn;return!o&&!s||!!r&&(e>t?{start:o?dn:t,end:s?yn:e}:{start:s?yn:t,end:o?dn:e})},e.prototype.ct=function(t){var e=this.ii(),i=this.ni(),n=Math.max(t,dn);return e+(this.fi.function(n)-this.ci.scaleStartLog)/this.ci.scaleIntervalLog*(i-e)},e.prototype.ft=function(t){var e=this.ii(),i=(t-e)/(this.ni()-e),n=this.ci.scaleStartLog+i*this.ci.scaleIntervalLog;return Math.pow(this.fi.number,n)},e.prototype.hi=function(){this.fi&&this.li()},e.prototype.q=function(e,i){return t.prototype.q.call(this,e,i),this.fi&&this.li(),this},e.prototype.ti=function(e){return t.prototype.ti.call(this,e),this.fi&&this.li(),this},e.prototype.tt=function(e){return t.prototype.tt.call(this,e),this.fi&&this.li(),this},e.prototype.vi=function(t){return this.fi={internal:t,function:fn(t),number:pn(t)},this},e.prototype.di=function(){return this.fi.internal},e.prototype.Ai=function(t,e){var i=this.ct(t)+e;return this.ft(i)},e.prototype.yi=function(){return this.Wt||this.ai||this.Xt||this.Ut},e.prototype.li=function(){var t=this.fi.function(this.X),e=this.fi.function(this.H)-t,i=2*this.ii()/this.Z-1,n=2*this.ni()/this.Z-1-i;return this.ci={scaleStartLog:t,scaleIntervalLog:e,viewportStart:i,viewportSize:n},this.ci},e.prototype.mi=function(){return this.ci},e}(ln),fn=function(t){return"e"===t?Ne:Ve(t)},pn=function(t){return"e"===t?Math.E:t},dn=.9*Math.pow(10,-4),yn=1.1*Math.pow(10,25),vn=[{prefix:"T",unit:Math.pow(10,12)},{prefix:"B",unit:Math.pow(10,9)},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],gn=function(t,e,i){var n=Math.abs(i-e),r=Math.max(2-Ci(n,10),0);return t.toFixed(r)},mn={Numeric:function(t,e){return gn(t,e.getInnerStart(),e.getInnerEnd())},NumericUnits:function(t,e){var i,n,r=Math.abs(e.getInnerEnd()-e.getInnerStart()),o=t<0;t=Math.abs(t);var s="",a="";if(r>=1e3&&t>1e3){var u="";try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(vn),h=l.next();!h.done;h=l.next()){var c=h.value,f=Math.round(1e3*t/c.unit)/1e3;if(f>=1){u=f.toString(),a=c.prefix;break}}}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}s=(o?"-":"")+u}else{u=String(Math.floor(t));for(var p=Ci(t,1e3),d=1;d<=p;d+=1){var y=u.length-(3*d+(d-1));u="".concat(u.substring(0,y)," ").concat(u.substring(y,u.length))}s=(o?"-":"")+u+(r<=10?function(t,e){if(0===e)return"";var i=(Math.abs(t)-Math.abs(Math.floor(t))).toString().substring(1);return i.length>e&&(i=i.substring(0,e+1)),i}(t,2-Ci(r,10)):"")}return s+a},LogarithmicExponentsRounded:function(t,e,i,n){void 0===n&&(n=10);var r=fn(n)(t);return"".concat(n).concat(xn(r))},LogarithmicExponents:function(t,e,i,n){void 0===n&&(n=10);var r=fn(n),o=Math.floor(r(t)),s=pn(n),a=t/Math.pow(s,o);return"".concat(Math.round(a),"×").concat(n).concat(xn(o))},LogarithmicExtreme:function(t,e,i,n){void 0===n&&(n=10);var r=fn(n),o=Math.floor(r(t)),s=pn(n),a=t/Math.pow(s,o);return"".concat(a.toFixed(2),"×").concat(n).concat(xn(o))},LogarithmicNoExponents:function(t,e,i,n){void 0===n&&(n=10);var r=fn(n);if("e"===n){var o=Math.floor(r(t));return"".concat(o,"e")}var s=t.toString();if(t>1)return s;var a=Math.floor(r(t));return t.toFixed(Math.abs(a))},Scientific:function(t,e){var i=Math.max(Math.abs(e.getInnerStart()),Math.abs(e.getInnerEnd())),n=Math.floor(Math.log10(i));return 0===t?"0.00e".concat(n<0?"":"+").concat(n):t.toExponential(2)}},xn=function(t){return Math.round(t).toString().split("").map((function(t){switch(t){case"0":return"⁰";case"1":return"¹";case"2":return"²";case"3":return"³";case"4":return"⁴";case"5":return"⁵";case"6":return"⁶";case"7":return"⁷";case"8":return"⁸";case"9":return"⁹";case"-":return"⁻";default:return t}})).join("")},Sn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),An=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.bi=!1,o.pi=!1,o.gi=0,o.Z=1e3,o.q(0,10),o.$(),o}return Sn(e,t),e.prototype.yi=function(){return this.pi},e.prototype.ut=function(t,e,i,n,r){if(t===e)return!1;var o=Math.abs(n-i),s=Math.abs(e-t);if(!this.bi){var a=function(t,e,i){var n=function(t,e){if(e<Ai&&e>bi&&t<Ai&&t>bi){var i=Math.abs(t/Math.pow(2,23)),n=Math.abs(e/Math.pow(2,23)),r=Math.min(i,n);return Math.pow(10,Math.floor(Math.log10(r)))}}(t,e);if(void 0!==n)return n*i}(t,e,this.getCellSize());if(void 0===a)return!1;if(s>a)return!0;var u=(e+t)/2,l=(r?a/2:o/2)*(t>e?-1:1);return{start:u-l,end:u+l}}var h=Math.pow(10,-(12-Math.log10(Math.max(Math.abs(t),1))));if(s>h)return!0;var c=(e+t)/2,f=(r?h/2:o/2)*(t>e?-1:1);return{start:c-f,end:c+f}},e.prototype.hi=function(){this.$()},e.prototype.ct=function(t){return this.ii()+(t-this.X)/(this.H-this.X)*(this.ni()-this.ii())},e.prototype.ft=function(t){return this.X+(t-this.ii())/(this.ni()-this.ii())*(this.H-this.X)},e.prototype.q=function(e,i){return t.prototype.q.call(this,e,i),this.$(),this},e.prototype.ti=function(e){return t.prototype.ti.call(this,e),this.$(),this},e.prototype.tt=function(e){return t.prototype.tt.call(this,e),this.Si=bn(this.H-this.X,this.Yt,this.Z,this.Zt,this.Qt),this.$(),this},e.prototype.xi=function(){return this.bi=!0,this},e.prototype.wi=function(){return this.bi},e.prototype.Mi=function(){return Math.abs(this.Ci)},e.prototype._i=function(){return this.Mi()/this.Si},e.prototype.Ti=function(){return this.ki},e.prototype.Oi=function(){return this.Fi},e.prototype.getPixelSize=function(){return this.Si},e.prototype.mi=function(){return this.ci},e.prototype.J=function(){return t.prototype.J.call(this),this.pi=!0,this},e.prototype.K=function(){return t.prototype.K.call(this),this.pi=!1,this},e.prototype.Ii=function(t,e){return void 0===e&&(e=mn.Numeric),e(t,this)},e.prototype.ji=function(){var t=Math.abs(this.getInnerEnd()).toString().length,e=Math.abs(this.getInnerStart()).toString().length;return t>e?t:e},e.prototype.Di=function(t){return bn(t,this.Yt,this.Z,this.Zt,this.Qt)},e.prototype.$=function(){var t=this.X,e=this.H,i=0;this.bi&&(t=0,e=this.H-this.X,i=this.X);var n=e-t,r=bn(n,this.Yt,this.Z,this.Zt,this.Qt);this.Fi=t-this.Yt[0]*r,this.ki=e+this.Yt[1]*r;var o=this.ki-this.Fi,s=o-this.Ci,a=Math.abs(s/r),u=n-this.gi,l=Math.abs(u/r);(!this.ci||a>=.4||l>=.4)&&(this.gi=n,this.Ci=o,this.Si=r,this.pi=!0);var h=this.Ci*this.Qt/(2*this.Zt),c=-(this.Fi-this.Ci*this.Ht/this.Zt)-h,f=2*this.ii()/this.Z-1,p=2*this.ni()/this.Z-1-f;this.ci={displacement:c,scaling:h,highPrecisionOffset:i,viewportStart:f,viewportSize:p,scaleStartLog:0,scaleIntervalLog:0}},e.prototype.Ai=function(t,e){return t+this.Si*e},e}(ln),bn=function(t,e,i,n,r){return void 0===n&&(n=1),void 0===r&&(r=1),t/(i*n/r-(e[0]+e[1]))},Mn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wn=function(){function t(){}return t.prototype.Bi=function(t,e){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),this},t.prototype.K=function(){return this.x.K(),this.y.K(),this},t.prototype.J=function(){return this.x.J(),this.y.J(),this},t.prototype.tt=function(t,e){return"object"===a(t)?(this.x.tt(t.x),this.y.tt(t.y)):(this.x.tt(t),this.y.tt(e)),this},t.prototype.oi=function(){return y(this.x.oi(),this.y.oi())},t.prototype.Ei=function(t){return this.x.ti(t),this},t.prototype.Pi=function(t){return this.y.ti(t),this},t.prototype.ei=function(){return y(this.x.ei(),this.y.ei())},t.prototype.Li=function(t,e){return this.x.q(t,e),this},t.prototype.zi=function(t,e){return this.y.q(t,e),this},t.prototype.getInnerIntervalPixels=function(){var t=this.x.getCellSize(),e=this.y.getCellSize();return{x:t-this.x.ei(),y:e-this.y.ei()}},t.prototype.Vi=function(){return this.x.yi()||this.y.yi()},t}(),Cn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Ni="LinearScaleXY",e}return Mn(e,t),e.prototype.ht=function(t,e,i,n){return this.x=new An(t.x,e.x,i.x,n?n.x:void 0),this.y=new An(t.y,e.y,i.y,n?n.y:void 0),this},e.prototype.wi=function(){return this.x.wi()||this.y.wi()},e.prototype.Ri=function(){return y(this.x.getPixelSize(),this.y.getPixelSize())},e.prototype.mi=function(){return{x:this.x.mi(),y:this.y.mi()}},e.prototype.Ai=function(t,e){var i=this.Ri();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}},e.prototype.Gi=function(t,e,i,n){var r=this.Ri(),o=ji(t,e);return o.x*=n,o.y*=n,{x:t.x+i*r.x*o.x,y:t.y+i*r.y*o.y}},e}(wn),Pn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Ni="MixedScaleXY",e}return Mn(e,t),e.prototype.wi=function(){return!1},e.prototype.Ai=function(t,e){var i=this.x.ct(t.x),n=this.y.ct(t.y),r={x:i+e.x,y:n+e.y};return{x:this.x.ft(r.x),y:this.y.ft(r.y)}},e.prototype.Gi=function(t,e,i,n){var r={x:this.x.ct(t.x),y:this.y.ct(t.y)},o={x:this.x.ct(e.x),y:this.y.ct(e.y)},s=Gi(Zi(o,r)),a=ji(o,r),u={x:r.x+s.x*n+a.x*i,y:r.y+s.y*n+a.y*i};return{x:this.x.ft(u.x),y:this.y.ft(u.y)}},e.prototype.mi=function(){var t=this.x.mi(),e=this.y.mi();return{uScaleStart:[this.x.X,this.y.X],uScaleInterval:[this.x.getInnerInterval(),this.y.getInnerInterval()],uScaleStartLog:[t.scaleStartLog,e.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,e.scaleIntervalLog],uViewportStart:[t.viewportStart,e.viewportStart],uViewportSize:[t.viewportSize,e.viewportSize]}},e}(wn),En=function(t,e){return t instanceof cn||e instanceof cn?(new Pn).Bi(t,e):(new Cn).Bi(t,e)},Tn=function(t){return"client"===t},kn=function(t){return!!(t&&"object"===a(t)&&"clientX"in t&&"number"==typeof t.clientX&&"clientY"in t&&"number"==typeof t.clientY)},Dn=function(t){return"relative"===t},Fn=function(t){return!!(t&&"object"===a(t)&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y)},_n=function(t,e,i){if(t){var n={x:i.x.ii(),y:i.y.ii(),width:i.x.ri(),height:i.y.ri()};e.forEach((function(t){t.Ui=n}))}else e.forEach((function(t){t.Ui=void 0}))},In=function(t,e){var i;return e?"string"==typeof e?"".concat(t," ").concat(e):!1!==(null===(i=e.Wi)||void 0===i?void 0:i.displayInCursor)&&e.getUnits()?"".concat(t," ").concat(e.getUnits()):t:t},On=function(t){var e=!1,i={type:"linear"};if(t&&(void 0!==t.opposite&&(e=t.opposite),t.type&&"linear-highPrecision"===t.type&&(i={type:"linear-highPrecision"}),t.type&&"logarithmic"===t.type)){var n=10;if(t.base)if("E"===t.base||"e"===t.base||"natural"===t.base)n="e";else if("number"==typeof t.base)n=t.base;else if("string"==typeof t.base)try{n=Number(t.base)}catch(e){console.warn('Unidentified logarithmic base "'.concat(t.base,'"'))}i={base:n,type:"logarithmic"}}return{opposite:e,type:i}},Bn=function(t,e,i,n){return void 0===n&&(n=1),he(t+.1*n*(e-t)+.5*n*i.getPixelSize()*Math.sign(e-t),t,e)},zn=function(t,e,i,n){void 0===n&&(n=1);var r=i.ct(t),o=i.ct(e);return he(i.ft(r+.1*n*(o-r)+.5*n*Math.sign(o-r)),t,e)};!function(t){t[t.noHighlighting=0]="noHighlighting",t[t.onHover=1]="onHover"}(on||(on={}));var Ln,Rn,Vn=function(){function t(t,e,i,n){var o=this;this.Yi=!0,this.Xi=on.onHover,this.Hi=!1,this.Zi=!0,this.D=new r.a,this.Qi=[],this.Ki=[],this.onMouseEnter=function(t){return o.D.on("mouseEnter",t)},this.onMouseLeave=function(t){return o.D.on("mouseLeave",t)},this.onMouseClick=function(t){return o.D.on("mouseClick",t)},this.onMouseDoubleClick=function(t){return o.D.on("mouseDoubleClick",t)},this.onMouseDown=function(t){return o.D.on("mouseDown",t)},this.onMouseUp=function(t){return o.D.on("mouseUp",t)},this.onMouseMove=function(t){return o.D.on("mouseMove",t)},this.offMouseEnter=function(t){return o.D.off(t,"mouseEnter")},this.offMouseLeave=function(t){return o.D.off(t,"mouseLeave")},this.offMouseClick=function(t){return o.D.off(t,"mouseClick")},this.offMouseDoubleClick=function(t){return o.D.off(t,"mouseDoubleClick")},this.offMouseDown=function(t){return o.D.off(t,"mouseDown")},this.offMouseUp=function(t){return o.D.off(t,"mouseUp")},this.offMouseMove=function(t){return o.D.off(t,"mouseMove")},this.offMouseDragStart=function(t){return o.D.off(t,"mouseDragStart")},this.offMouseDrag=function(t){return o.D.off(t,"mouseDrag")},this.offMouseDragStop=function(t){return o.D.off(t,"mouseDragStop")},this.offMouseWheel=function(t){return o.D.off(t,"mouseWheel")},this.wt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseEnter",o,e,r),o.Xi===on.onHover&&o.setHighlight(!0)},this.Mt=function(t,e,i){o.D.emit("mouseLeave",o,e,void 0),o.Xi===on.onHover&&o.setHighlight(!1)},this.Ot=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseMove",o,e,r)},this.Ct=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseClick",o,e,r)},this._t=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseDoubleClick",o,e,r)},this.Tt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseDown",o,e,r)},this.kt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseUp",o,e,r)},this.It=function(t,e,i,n,r){var s=o.Ji(r,e);o.D.emit("mouseDragStart",o,e,i,s)},this.Ft=function(t,e,i,n,r,s,a){var u=o.Ji(a,e);o.D.emit("mouseDrag",o,e,i,n,r,u)},this.jt=function(t,e,i,n,r,s){var a=o.Ji(s,e);o.D.emit("mouseDragStop",o,e,i,n,a)},this.Dt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("mouseWheel",o,e,r)},this.Bt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("touchStart",o,e,r),o.Xi===on.onHover&&o.setHighlight(!0)},this.Et=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("touchMove",o,e,r)},this.Pt=function(t,e,i,n){var r=o.Ji(n,e);o.D.emit("touchEnd",o,e,r),o.Xi===on.onHover&&o.setHighlight(!1)},this.chart=t,this.qi=e,this.$i=i,this.tn=new Map,this.nn=n,this.rn=this.nn.en(this,{sn:{themeEffectEnabled:this.$i.effectsText},un:{}}),this.chart.fn.an.hn(this,(function(t){o.tn.forEach((function(e,i){return i.cn(t)})),o.Ki.forEach((function(e){return e.setHighlight(t)})),o.Qi.forEach((function(e){return e.cn(t)}))}),{animationEnabled:this.chart.getAnimationsEnabled()})}return t.prototype.ln=function(){},t.prototype.vn=function(t,e){var i=this,n=void 0===(null==e?void 0:e.setEventHandlers)||e.setEventHandlers,r=void 0!==(null==e?void 0:e.isText)&&e.isText;this.tn.set(t,{isText:r});var o=Array.from(this.tn);this.rn.sn.dn(o.filter((function(t){return t[1].isText})).map((function(t){return t[0]}))),this.rn.un.dn(o.filter((function(t){return!t[1].isText})).map((function(t){return t[0]}))),t.setMouseInteractions(this.Yi).setVisible(this.Zi).cn(this.chart.fn.an.An(this,!0)),n&&t.setMouseEnterEventHandler(this.wt).setMouseLeaveEventHandler(this.Mt).setMouseClickEventHandler(this.Ct).setMouseDoubleClickEventHandler(this._t).setMouseDownEventHandler(this.Tt).setMouseUpEventHandler(this.kt).setMouseMoveEventHandler(this.Ot).setMouseDragStartEventHandler(this.It).setMouseDragEventHandler(this.Ft).setMouseDragStopEventHandler(this.jt).setMouseWheelEventHandler(this.Dt).setTouchStartEventHandler(this.Bt).setTouchMoveEventHandler(this.Et).setTouchEndEventHandler(this.Pt);var s=t.onDispose((function(){t.offDispose(s),i.tn.delete(t)}))},t.prototype.yn=function(t){var e=this;this.Qi=t;var i=this.chart.fn.an.An(this,!0);t.forEach((function(t){t.cn(i).mn(e.Zi)}))},t.prototype.Ji=function(t,e){},t.prototype.bn=function(t){var e=this.chart.fn.pn(t);if(e&&Array.from(this.tn.keys()).includes(e.entity))return this.Ji(e.info,t)},t.prototype.setEffect=function(t){return this.rn.sn.gn(t&&this.$i.effectsText),this.rn.un.gn(t),this.chart.fn.Sn(),this},t.prototype.getEffect=function(){return this.rn.sn.xn()||this.rn.un.xn()},t.prototype.onHighlight=function(t){return this.D.on("highlight",t)},t.prototype.offHighlight=function(t){return this.D.off(t)},t.prototype.setIcon=function(t){return this.wn=t,this.chart.fn.Sn(),this},t.prototype.getIcon=function(){return this.wn},t.prototype.setName=function(t){return this.Mn=t,this.Ki.forEach((function(e){return e.setText(t)})),this},t.prototype.getName=function(){return this.Mn||"Component"},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.tn.forEach((function(t,e){return e.dispose()})),this.qi(this),this.Ki.forEach((function(t){t.dispose()})),this.Ki.length=0,this.D.emit("dispose",this),this.chart.fn.Sn()),this},t.prototype.setVisible=function(t){return t===this.Zi||(this.Zi=t,this.tn.forEach((function(e,i){return i.setVisible(t)})),this.Qi.forEach((function(e){return e.mn(t)})),this.Ki.forEach((function(e){return e.setOn(t)})),this.D.emit("visibleStateChanged",this,this.Zi),this.chart.fn.Sn()),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.onVisibleStateChanged=function(t){return this.D.on("visibleStateChanged",t)},t.prototype.offVisibleStateChanged=function(t){return this.D.off(t,"visibleStateChanged")},t.prototype.setHighlight=function(t){return this.chart.fn.an.Cn(this,t),this.D.emit("highlight",this,t),this},t.prototype.getHighlight=function(){return this.chart.fn.an.An(this)},t.prototype.setAnimationHighlight=function(t){return this.chart.fn.an._n(this,t),this},t.prototype.getAnimationHighlight=function(){return this.chart.fn.an.Tn(this)},t.prototype.setMouseInteractions=function(t){return this.Yi=t,this.tn.forEach((function(e,i){return i.setMouseInteractions(t)})),this.chart.fn.Sn(),this},t.prototype.getMouseInteractions=function(){return this.Yi},t.prototype.getIsUnderMouse=function(){var t,e;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.tn),n=i.next();!n.done;n=i.next())if(n.value[0].kn)return!0}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!1},t.prototype.setHighlightOnHover=function(t){return this.Xi=t?on.onHover:on.noHighlighting,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this},t.prototype.getHighlightOnHover=function(){return this.Xi!==on.noHighlighting},t.prototype.attach=function(t,e,i){var n=this;return void 0===e&&(e=!0),void 0===i&&(i=!1),this.styleLegendEntry(t,i),oi(t,[this],{toggleVisibilityOnClick:e,label:this.getName(),style:void 0}),this.Ki.push(t),t.onDispose((function(){var e=n.Ki.indexOf(t);e>=0&&n.Ki.splice(e,1)})),this},t.prototype.On=function(){return this.wn},t.prototype.onMouseDragStart=function(t){return this.D.on("mouseDragStart",t)},t.prototype.onMouseDrag=function(t){return this.D.on("mouseDrag",t)},t.prototype.onMouseDragStop=function(t){return this.D.on("mouseDragStop",t)},t.prototype.onMouseWheel=function(t){return this.D.on("mouseWheel",t)},t.prototype.onTouchStart=function(t){return this.D.on("touchStart",t)},t.prototype.onTouchMove=function(t){return this.D.on("touchMove",t)},t.prototype.onTouchEnd=function(t){return this.D.on("touchEnd",t)},t.prototype.isDisposed=function(){return this.Hi},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offTouchStart=function(t){return this.D.off(t,"touchStart")},t.prototype.offTouchMove=function(t){return this.D.off(t,"touchMove")},t.prototype.offTouchEnd=function(t){return this.D.off(t,"touchEnd")},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t}(),Nn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Un=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,i,n,a,u)||this;return l.Fn=!0,l.In=e,l.axis=r,l.vt=o,l.jn=s,l.Dn(),l}return Nn(e,t),e.prototype.setClipping=function(t){return this.Fn=t,this.In.Sn(),this},e.prototype.getClipping=function(){return this.Fn},e}(Vn),Yn=function(t){var e=t.length;if(e>0){for(var i=0,n=0,r=0;r<e;r+=1)i+=t[r].x,n+=t[r].y;return y(i/e,n/e)}return y(0,0)},Gn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length,n=new Array(i).fill(!1),r=function(e,r){for(var o=0;o<i;o+=1){var s=t[o],a=s.Bn(e,r);a?s.En(e,r,!0):n[o]&&n[o]&&s.En(e,r,!1),n[o]=a}return!1};return{onTouchStart:r,onTouchMove:r,onTouchEnd:r}},jn={Poke:function(){function t(t,e){void 0===e&&(e=300),this.Pn=!1,this.Ln=[],this.zn=300,this.Vn=t,this.zn=e}return t.prototype.Bn=function(t,e){for(var i=ne.performance.now(),n=!1,r=0;r<this.Ln.length;r+=1)i-this.Ln[r].time>=this.zn?(this.Ln.splice(r,1),r-=1):this.Ln[r].state&&(n=!0);return this.Pn?0===e.interactions.length&&(this.Ln.push({state:!1,time:i}),this.Pn=!1):1===e.interactions.length&&"pointerdown"===e.type&&(this.Ln.push({state:!0,time:i}),n=!0,this.Pn=!0),n},t.prototype.En=function(t,e,i){if(i&&!this.Pn){var n=this.Ln.reduce((function(t,e){return e.state?t.on+=1:t.off+=1,t}),{on:0,off:0});n.on>=1&&n.off>=1&&(this.Vn(t,e),this.Ln.length=0)}},t}(),DoublePoke:function(){function t(t,e){void 0===e&&(e=300),this.Pn=!1,this.Ln=[],this.zn=300,this.Vn=t,this.zn=e}return t.prototype.Bn=function(t,e){for(var i=ne.performance.now(),n=!1,r=0;r<this.Ln.length;r+=1)i-this.Ln[r].time>=this.zn?(this.Ln.splice(r,1),r-=1):this.Ln[r].state&&(n=!0);return this.Pn?0===e.interactions.length&&(this.Ln.push({state:!1,time:i}),this.Pn=!1):1===e.interactions.length&&"pointerdown"===e.type&&(this.Ln.push({state:!0,time:i}),n=!0,this.Pn=!0),n},t.prototype.En=function(t,e,i){if(i){var n=this.Ln.reduce((function(t,e){return e.state?t.on+=1:t.off+=1,t}),{on:0,off:0});n.on>=2&&n.off>=1&&(this.Vn(t,e),this.Ln.length=0)}},t}(),Drag:function(){function t(t,e,i,n,r){void 0===n&&(n=1),void 0===r&&(r=100),this.Nn=t,this.Rn=e,this.Gn=i,this.Un=n,this.Wn=r}return t.prototype.Bn=function(t,e){var i=e.interactions.length;if(i===this.Un){if(void 0!==this.Yn)return!0;if("pointerdown"===e.type&&(1===i||function(t){var e=t.length;if(e>0){for(var i=Yn(t),n=0,r=0;r<e;r+=1)n=Math.max(n,Ii(i,y(t[r].x,t[r].y)));return n}return Ai}(e.interactions)<=this.Wn))return this.Yn=Yn(e.interactions),!0}return!1},t.prototype.En=function(t,e,i){var n=this.Xn;if(!i||e.forceTouchEnd||"pointerup"===e.type)this.Gn&&this.Gn(t,this.Yn,n,e),this.Yn=void 0,this.Xn=void 0;else{var r=Yn(e.interactions);"pointerdown"===e.type?this.Nn&&this.Nn(t,this.Yn,e):"pointermove"===e.type&&this.Rn&&this.Rn(t,this.Yn,r,y(r.x-n.x,n.y-r.y),e),this.Xn=r}},t}(),Pinch:function(){function t(t,e,i){this.Hn=!1,this.Nn=t,this.Rn=e,this.Gn=i}return t.prototype.Bn=function(t,e){return this.Hn?2!==e.interactions.length&&(this.Hn=!1):2===e.interactions.length&&"pointerdown"===e.type&&(this.Hn=!0),this.Hn},t.prototype.En=function(t,e,i){var n,r;if(i&&"pointerup"!==e.type){if("pointerdown"===e.type)n=(l=e.interactions)[0],r=l[1],this.Nn(t,n,r,e);else if("pointermove"===e.type){n=e.interactions[0],r=e.interactions[1];var o=this.Zn,s=this.Qn,a=y(n.x-o.x,o.y-n.y),u=y(r.x-s.x,s.y-r.y);this.Rn(t,n,r,a,u,e)}}else{var l=e.interactions;this.Gn(t,l[0],l[1],e)}this.Zn=n,this.Qn=r},t}()},Wn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xn=function(){return(Xn=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Hn=function(t){function e(e){return t.call(this,Xn(Xn({},e),{lineType:"solid"}))||this}return Wn(e,t),e.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},e.prototype.getFillStyle=function(){return this.get("fillStyle")},e.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},e.prototype.getThickness=function(){return this.get("thickness")},e.prototype.V=function(){var t=this.getThickness();return t<0?1:t},e}(Object(n.b)({type:"linestyle",lineType:"solid",fillStyle:new et({color:k(255,255,255)}),thickness:1})),Zn=function(t){return!(!t||"object"!==a(t)||!("lineType"in t)||"solid"!==t.lineType)},Qn=function(t,e){this.Kn=t,this.Jn=e,this.qn=e.rows*Cr,this.$n=e.columns*Pr},qn=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.ZoomIn=0]="ZoomIn",t[t.ZoomInX=1]="ZoomInX",t[t.ZoomInY=2]="ZoomInY",t[t.ZoomOut=3]="ZoomOut",t[t.ZoomOutX=4]="ZoomOutX",t[t.ZoomOutY=5]="ZoomOutY",t[t.ZoomToFit=6]="ZoomToFit",t[t.ToggleAnimations=7]="ToggleAnimations"}(Ln||(Ln={})),function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.RoundedRectangle=2]="RoundedRectangle"}(Rn||(Rn={}));var Kn,Jn={x:-43,y:0},$n={x:-65,y:0},tr={x:-86,y:0},er={x:-107,y:-1},ir={x:-128,y:-3},nr={x:-150,y:0},rr={x:-171,y:0},or={x:-276,y:0},sr={x:-298,y:0},ar={x:0,y:0},ur={x:-21,y:0},lr=function(t){function e(e,i,n,r){var o=t.call(this,e,n)||this;return o.tr=ne.document.createElement("button"),o.ir=ne.document.createElement("div"),o.nr=ne.document.createElement("label"),o.Jn=n,o.rr=i,o.er=r,o}return qn(e,t),e.prototype.sr=function(t,e,i,n){this.ur(t,n),this.hr(),this.ar(e),this.cr(),this.nr.textContent=i||"";var r=ne.document.createElement("div");this.lr(r),this.tr.onclick=this.onClick.bind(this),r.appendChild(this.ir),r.appendChild(this.nr),this.tr.appendChild(r)},e.prototype.cr=function(){this.tr.style.cursor="pointer"},e.prototype.lr=function(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"},e.prototype.ar=function(t){"string"==typeof t?(this.ir.style.backgroundImage="url(".concat(t,")"),this.ir.style.backgroundSize="100%",this.ir.style.backgroundRepeat="no-repeat",this.ir.style.backgroundPosition="center",this.ir.style.width="20px",this.ir.style.height="20px"):this.applyStyleForSprite(t),this.ir.style.margin="auto"},e.prototype.hr=function(){switch(this.rr){case Rn.RoundedRectangle:this.tr.style.borderRadius="10px";break;case Rn.Rectangle:this.tr.style.borderRadius="0px";break;case Rn.Circle:default:this.tr.style.borderRadius="31px"}},e.prototype.ur=function(t,e){this.tr.style.width="".concat(this.$n.toString(),"px"),this.tr.style.height="".concat(this.qn.toString(),"px"),this.tr.style.backgroundColor=t,this.tr.style.opacity=e||Er,this.tr.style.alignItems="center",this.tr.style.border="2px solid #707070",this.tr.style.transition="background-color .8s ease"},e.prototype.applyStyleForSprite=function(t){this.ir.style.backgroundImage="url(".concat(this.Kn,"/").concat(Tr,")"),this.ir.style.backgroundPositionX="".concat(t.x,"px"),this.ir.style.backgroundPositionY="".concat(t.y,"px"),this.ir.style.backgroundSize="1600%",this.ir.style.backgroundRepeat="no-repeat",this.ir.style.width="20px",this.ir.style.height="20px"},e.prototype.vr=function(t){return t.appendChild(this.tr),t},e.prototype.dr=function(){return this.tr},e}(Qn),hr=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.Ar="",o.yr="",o.mr=!1,o.er=r,o}return qn(e,t),e.prototype.br=function(){this.pr(),this.onToggledStateAction()},e.prototype.gr=function(){this.Sr(),this.onInitialStateAction()},e.prototype.Sr=function(){this.wr(this.Ar)},e.prototype.pr=function(){this.wr(this.yr)},e.prototype.wr=function(t){"string"==typeof t?this.ir.style.background=t:(this.ir.style.backgroundImage="url(".concat(this.Kn,"/").concat(Tr,")"),this.ir.style.backgroundPositionX="".concat(t.x,"px"),this.ir.style.backgroundPositionY="".concat(t.y,"px"))},e.prototype.onClick=function(){this.mr?this.gr():this.br(),this.mr=!this.mr},e}(lr),cr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),Jn),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:-1,y:-1})},e}(lr),fr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),er),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:-1,y:0})},e}(lr),pr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),nr),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:0,y:-1})},e}(lr),dr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),$n),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:1,y:1})},e}(lr),yr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),ir),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:1,y:0})},e}(lr),vr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),rr),r}return qn(e,t),e.prototype.onClick=function(){var t=this.er.Mr();t&&this.er.zoom(t,{x:0,y:1})},e}(lr),gr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.Ar=or,r.yr=sr,r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),r.Ar),r}return qn(e,t),e.prototype.onToggledStateAction=function(){this.er.setAnimationsEnabled(!1)},e.prototype.onInitialStateAction=function(){this.er.setAnimationsEnabled(!0)},e}(hr),mr=function(t){function e(e,i,n){var r=t.call(this,e,n,{rows:1,columns:1},i)||this;r.er=i;var o=r.er.getTheme();return r.sr(o.onScreenMenuBackgroundColor.toRGBAString(),tr),r}return qn(e,t),e.prototype.onClick=function(){this.er.forEachAxis((function(t){t.fit(!0)}))},e}(lr),xr=function(t){function e(e,i,n){var r=t.call(this,e,i.shape||kr,i.dimensions||{rows:1,columns:1},n)||this,o=n.getTheme(),s=i.color||o.onScreenMenuBackgroundColor.toRGBAString(),a=i.icon||"",u=i.label||"",l=i.opacity||"";return r.sr(s,a,u,l),r.Cr=i.action,r}return qn(e,t),e.prototype.onClick=function(){this.Cr(this.er)},e}(lr),Sr=function(t){function e(e,i,n,r){var o=t.call(this,e,i,{rows:1,columns:1},n)||this;return o.er=n,o._r=r,o.Ar=ur,o.yr=ar,o.sr(Dr,o.Ar),o}return qn(e,t),e.prototype.Sr=function(){this.wr(this.Ar),this.tr.style.backgroundColor=Dr,this.tr.style.border="2px solid #707070",this.tr.style.margin="0px"},e.prototype.pr=function(){this.wr(this.yr),this.tr.style.background="#FECC00 0% 0% no-repeat padding-box",this.tr.style.border="10px solid #BCBCBC12",this.tr.style.margin="1px"},e.prototype.onToggledStateAction=function(){var t;null===(t=this._r)||void 0===t||t.style.setProperty("display","block")},e.prototype.onInitialStateAction=function(){var t;null===(t=this._r)||void 0===t||t.style.setProperty("display","none")},e}(hr);!function(t){t.Move="move",t.ResizeColumn="col-resize",t.ResizeRow="row-resize",t.Horizontal="ew-resize",t.Vertical="ns-resize",t.NorthWest="nw-resize",t.NorthEast="ne-resize",t.Copy="copy",t.CrossHair="crosshair",t.Default="default",t.Help="help",t.Restricted="not-allowed",t.None="none",t.Point="pointer",t.Text="text",t.Wait="wait",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out"}(Kn||(Kn={}));var Ar,br={LeftBottom:y(-1,-1),CenterBottom:y(0,-1),RightBottom:y(1,-1),LeftCenter:y(-1,0),Center:y(0,0),RightCenter:y(1,0),LeftTop:y(-1,1),CenterTop:y(0,1),RightTop:y(1,1)},Mr=new et({color:k(255,255,255,0)}),wr=new Hn({thickness:1,fillStyle:Mr}),Cr=60,Pr=60,Er="1.0",Tr="osm/osm-sprite-transparent.png",kr=Rn.Circle,Dr="#363636";!function(t){t[t.TopRight=0]="TopRight",t[t.TopLeft=1]="TopLeft",t[t.BottomLeft=2]="BottomLeft",t[t.BottomRight=3]="BottomRight"}(Ar||(Ar={}));var Fr,_r,Ir=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Or=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,e,i,n,r,o,s,a,u)||this;return l.Mn="Band",l.Tr=0,l.kr=0,l.Or=l.$i.bandFillStyle,l.Fr=l.$i.bandStrokeStyle,l.Ir=!0,l.jr=l.In.Er(l.vt).Br(l.Or).Dr(l.Fr).cn(l.getHighlight()),l.vn(l.jr),l}return Ir(e,t),e.prototype.setValueStart=function(t){return this.Tr=t,this.D.emit("valueChange",this,this.Tr,this.kr),this.In.Sn(),this},e.prototype.getValueStart=function(){return this.Tr},e.prototype.setValueEnd=function(t){return this.kr=t,this.D.emit("valueChange",this,this.Tr,this.kr),this.In.Sn(),this},e.prototype.getValueEnd=function(){return this.kr},e.prototype.setFillStyle=function(t){this.Or="function"==typeof t?t(this.Or):t;var e=this.Or;return this.jr.Br(e),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){this.Fr="function"==typeof t?t(this.Fr):t;var e=this.Fr;return this.jr.Dr(e),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.onValueChange=function(t){return this.D.on("valueChange",t)},e.prototype.offValueChange=function(t){return this.D.off(t,"valueChange")},e.prototype.Pr=function(){return this.jr.Lr(this.jn.toVec2(this.Tr,this.jn.getHeight(this.vt).getInnerStart())).tt(this.jn.toVec2(this.kr-this.Tr,this.jn.getHeight(this.vt).getInnerInterval())),_n(this.Fn,[this.jr],this.vt),this},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or,stroke:this.Fr})},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.setDefaultMouseInteractions=function(t){return this.Ir=t,this},e.prototype.Dn=function(){var t,e,i=this,n=function(n,r){if(i.Ir){var o=Pt(i.In.fn.Vr(r.x,r.y),i.In.fn.vt,i.vt),s=i.jn.getWidth(o),a=i.axis.vt.ct(i.Tr),u=i.axis.vt.ct(i.kr),l=(i.axis.vt.ct(s)-a)/(u-a);0==(t=!(l<.1||l>.9))&&(e=l<.5)}},r=function(n,r,o,s,a){if(i.Ir){var u=i.jn.getWidth(s);t?(i.Tr=i.axis.vt.Ai(i.Tr,u),i.kr=i.axis.vt.Ai(i.kr,u)):e?i.Tr=i.axis.vt.Ai(i.Tr,u):i.kr=i.axis.vt.Ai(i.kr,u),Ie(a),i.D.emit("valueChange",i,i.Tr,i.kr),i.In.Sn()}};this.onMouseMove((function(e,r){if(i.Ir){n(0,y(r.clientX,r.clientY));var o=t?Kn.Point:i.jn.getWidth({x:Kn.Horizontal,y:Kn.Vertical});i.Nr=i.chart.engine.setMouseStyle(o,i.Nr)}})),this.onMouseLeave((function(){i.Ir&&(i.chart.engine.restoreMouseStyle(i.Nr),i.Nr=void 0)})),this.onMouseDrag((function(t,e,n,o,s){i.Ir&&0===n&&r(0,0,0,s,e)}));var o=Gn(new jn.Drag(n,r));this.onTouchStart(o.onTouchStart),this.onTouchMove(o.onTouchMove),this.onTouchEnd(o.onTouchEnd)},e}(Un),Br=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),zr=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,e,i,n,r,o,s,a,u)||this;return l.Mn="Constant Line",l.S=0,l.Fr=l.$i.constantLineStrokeStyle,l.Rr=!0,l.Ir=!0,l.Gr=l.In.Wr(l.vt).Ur(l.Fr).cn(l.getHighlight()),l.vn(l.Gr),l}return Br(e,t),e.prototype.setValue=function(t){return this.S=t,this.D.emit("valueChange",this,this.S),this.In.Sn(),this},e.prototype.getValue=function(){return this.S},e.prototype.setStrokeStyle=function(t){this.Fr="function"==typeof t?t(this.Fr):t;var e=this.Fr;return this.Gr.Ur(e),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.setInteractionMoveByDragging=function(t){return this.Rr=t,this},e.prototype.getInteractionMoveByDragging=function(){return this.Rr},e.prototype.onValueChange=function(t){return this.D.on("valueChange",t)},e.prototype.offValueChange=function(t){return this.D.off(t,"valueChange")},e.prototype.Pr=function(){return this.Gr.Xr(this.jn.toVec2(this.S,this.jn.getHeight(this.vt).getInnerStart())).Yr(this.jn.toVec2(this.S,this.jn.getHeight(this.vt).getInnerEnd())),_n(this.Fn,[this.Gr],this.vt),this},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{stroke:this.Fr})},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.setDefaultMouseInteractions=function(t){return this.Ir=t,this},e.prototype.Dn=function(){var t=this,e=function(e,i){t.Ir&&t.Rr&&(t.S=t.axis.vt.Ai(t.S,t.jn.getWidth(i)),t.D.emit("valueChange",t,t.S),t.In.Sn(),Ie(e))};this.onMouseMove((function(){if(t.Ir&&t.Rr){var e=t.jn.getWidth({x:Kn.Horizontal,y:Kn.Vertical});t.Nr=t.chart.engine.setMouseStyle(e,t.Nr)}})),this.onMouseLeave((function(){t.Ir&&t.Rr&&(t.chart.engine.restoreMouseStyle(t.Nr),t.Nr=void 0)})),this.onMouseDrag((function(i,n,r,o,s){t.Ir&&t.Rr&&0===r&&e(n,s)}));var i=Gn(new jn.Drag(void 0,(function(t,i,n,r,o){return e(o,r)})));this.onTouchStart(i.onTouchStart),this.onTouchMove(i.onTouchMove),this.onTouchEnd(i.onTouchEnd)},e}(Un),Lr={fitting:{start:function(t,e,i,n){return e>=t?i:n},end:function(t,e,i,n){return e>=t?n:i},allowIntervalLengthChange:!0},expansion:{start:function(t,e,i,n){return e>=t?i<t?i:t:n>t?n:t},end:function(t,e,i,n){return e>=t?n>e?n:e:i<e?i:e},allowIntervalLengthChange:!0},progressive:{start:function(t,e,i,n){return e>t?Lr.progressive.end(t,e,i,n)+(t-e):n>t?n:t},end:function(t,e,i,n){return e>t?n>e?n:e:Lr.progressive.start(t,e,i,n)+(e-t)},allowIntervalLengthChange:!1},regressive:{start:function(t,e,i,n){return e>t?i<t?i:t:Lr.regressive.end(t,e,i,n)+(t-e)},end:function(t,e,i,n){return e>t?Lr.regressive.start(t,e,i,n)+(e-t):i<e?i:e},allowIntervalLengthChange:!1}},Rr={Empty:"Empty",Numeric:"Numeric",DateTime:"DateTime",Time:"Time"},Vr=function(t){return void 0!==t.Hr},Nr=function(t,e){return[t,e]},Ur=function(t,e,i,n){for(var r=[],o=Math.round(Math.abs((t-e)/i)),s=1;s<o;s+=1){var a=Math.round((t+i*s)*n)/n;a<e&&r.push(a)}return r},Yr=function(t,e,i,n,r){le(t,0)&&(t=0),le(e,0)&&(e=0);var o=[],s=void 0!==n?function(t,e,i){return t-(t-i)%e}(t,i,n):t;if(i<=0)throw new Error("_getRegularGreatKeyValues unit less than or equal to 0, unit: ".concat(i));for(;s<e&&!1===le(s,e);)o.push(s),s+=i,s=Math.round(s*r)/r;return o.push(s),o},Gr=function(t,e,i,n){for(var r=[],o=i(t),s=0;o<e&&!1===le(o,e);)if(r.push(o),o=n(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(o),r},jr=function(t,e,i,n,r){return i&&(t=t.filter((function(t,e){return e>0}))),n&&(t=t.filter((function(e,i){return i<t.length-1}))),t.filter((function(t,i){return(i+r)%e==0}))},Wr=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=e.length>0?e.length:t?1:0;return function(i,r,o,s,a,u){if(!(r>=n)){var l=e[r]||1,h=!1,c=!1,f=1;return t&&(h="ignore"in t?"first"===t.ignore||"both"===t.ignore:h,c="ignore"in t?"last"===t.ignore||"both"===t.ignore:c,f="offset"in t&&void 0!==t.offset?t.offset:f),jr(i,l,h,c,f)}}},Xr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.length>0?t.length:0;return function(e,n,r,o,s,a){if(!(n>=i)){var u=t[n]||1;return e.filter((function(t,e){return e%u==0}))}}},Hr=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.Zr=function(t){return{Qr:[],Kr:[],Jr:this.cursorFormatter?this.cursorFormatter:mn.Numeric,qr:void 0,$r:void 0}},e.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},e.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},e}(Object(n.b)({type:"empty-ticks",cursorFormatter:void 0})),Qr=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"empty-ticks"!==t.type)},qr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kr=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Jr=function(t,e){if(e.has(t))return e.get(t);var i=Li(t.ie.te());if(ei(i))return i;var n=t.ne.Ai(i.min,{x:-5,y:-5}),r=t.ne.Ai(i.min,{x:5,y:5}),o=t.ne.Ai(i.max,{x:-5,y:-5}),s=t.ne.Ai(i.max,{x:5,y:5}),a={min:{x:Math.min(n.x,r.x,o.x,s.x),y:Math.min(n.y,r.y,o.y,s.y)},max:{x:Math.max(n.x,r.x,o.x,s.x),y:Math.max(n.y,r.y,o.y,s.y)}};return e.set(t,a),a},$r=function(t){var e,i,n,r,o=new Map;if(!Qr(t)){try{for(var s=qr(t.Qr),a=s.next();!a.done;a=s.next()){var u=a.value;o.set(u,new Map)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}try{for(var l=qr(t.Kr),h=l.next();!h.done;h=l.next()){var c=h.value;o.set(c,new Map)}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}return o},to=(new Zr).Zr({type:"linear"}),eo=function(){function t(t,e,i,n,o,s,u){var l=this;this.D=new r.a,this.re=to,this.ee=Rr.Empty,this.oe=new Map,this.se=new Map,this.ue=Lr.fitting,this.he=!0,this.ae=lt((function(){return l.chart.fn.Sn()}))(300,at.linear),this.fe=!0,this.Zi=!0,this.ce=!1,this.le=bi,this.ve=!1,this.de=!1,this.Ae=bi,this.ye=bi,this.me=bi,this.be=!1,this.pe="",this.ge={},this.Se=function(){l.xe.setMouseInteractions(!0).setMouseMoveEventHandler((function(t,e){return l.D.emit("mouseMoveTitle",l,e)})).setMouseEnterEventHandler((function(t,e){return l.D.emit("mouseEnterTitle",l,e)})).setMouseLeaveEventHandler((function(t,e){return l.D.emit("mouseLeaveTitle",l,e)})).setMouseDownEventHandler((function(t,e){return l.D.emit("mouseDownTitle",l,e)})).setMouseUpEventHandler((function(t,e){return l.D.emit("mouseUpTitle",l,e)})).setMouseClickEventHandler((function(t,e){return l.D.emit("mouseClickTitle",l,e)})).setMouseDoubleClickEventHandler((function(t,e){return l.D.emit("mouseDoubleClickTitle",l,e)})).setMouseWheelEventHandler((function(t,e){return l.D.emit("mouseWheelTitle",l,e)})).setMouseDragStartEventHandler((function(t,e,i){return l.D.emit("mouseDragStartTitle",l,e,i)})).setMouseDragEventHandler((function(t,e,i,n,r){return l.D.emit("mouseDragTitle",l,e,i,n,r)})).setMouseDragStopEventHandler((function(t,e,i,n){return l.D.emit("mouseDragStopTitle",l,e,i,n)})).setTouchStartEventHandler((function(t,e){return l.D.emit("touchStartTitle",l,e)})).setTouchMoveEventHandler((function(t,e){return l.D.emit("touchMoveTitle",l,e)})).setTouchEndEventHandler((function(t,e){return l.D.emit("touchEndTitle",l,e)})),l.Se=void 0},this.we=function(t,e,i,n,r,o){var s,a,u=[],h=[];try{for(var c=qr(t),f=c.next();!f.done;f=c.next()){var p=f.value;if(p<i||p>n)u.push(p);else{var d=l.oe.get(e),y=(d?d.get(p):void 0)||l.Me(p,e);y.Ce=!1;var v=l._e(y,r);o.set(y,v),u.push(p),h.push(y)}}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}return{displayedKeyValues:u,createdTicks:h}},this.Te=function(t,e,i,n,r,o,s,u,h,c,f){for(var p=[],d=function(a){var d=t[a],y=e[a],v=void 0,g=void 0;if(l.ke(d,i)){var m=Jr(d,h);v=(g=[t[a-1],t[a+1]].concat(c).concat(f).filter((function(t){return void 0!==t})).filter((function(e){return e.Oe!==i||!!t.find((function(t){return t===e}))})).map((function(t){return Pi(m,Jr(t,h))?t:void 0}))).some((function(t){return void 0!==t}))}else v=!1;if(v){var x=!0,S=g.filter((function(t){return void 0!==t}));return x&&S.every((function(t){return Vr(t.Oe)}))&&(x=!1),x&&i.Fe&&i.Fe.Ie&&!1===i.Fe.Ie(y,n,r,o,s,u)&&(x=!1),!1===x?"continue":{value:!0}}p.push(d)},y=0;y<t.length;y+=1){var v=d(y);if("object"===a(v))return v.value}return p},this.formatValue=function(t){return l.re.Jr(t,l.vt)},this.je=!0,this.De=!0,this.chart=t,this.Be=e,this.$i=n,this.Ee=s,this.vt=i,this.Pe=u,"logarithmic"===u.type&&this.setAnimationZoom(at.logarithmic(pn(u.base))),this.Le=s.numeric,this.ze("Numeric"),this.Ve=i.getInnerStart(),this.Ne=i.getInnerEnd(),this.setAnimationsEnabled(o)}return t.prototype.setUnits=function(t,e){return void 0===e&&(e={}),this.Re=t,this.Wi=e,this.Ge(),this},t.prototype.getUnits=function(){return this.Re},t.prototype.setDefaultInterval=function(t,e){return this.Ue=t,!1!==(null==e?void 0:e.applyImmediately)&&(this.be=!0,this.chart.fn.Sn()),this},t.prototype.getDefaultInterval=function(){return this.Ue},t.prototype.getTitle=function(){return this.pe},t.prototype.setTitle=function(t){return this.pe=t,this.Ge(),this},t.prototype.getTitleFillStyle=function(){return this.xe.We()},t.prototype.setIntervalRestrictions=function(t){return this.Ye=t,this.chart.fn.Sn(),this},t.prototype.getIntervalRestrictions=function(){return this.Ye},t.prototype.setTitleFillStyle=function(t){return this.xe.Br(t),this.chart.fn.Sn(),this},t.prototype.getTitleFont=function(){return this.xe.Xe()},t.prototype.setTitleFont=function(t){return this.xe.He(t),this.chart.fn.Sn(),this},t.prototype.setTitleRotation=function(t){return this.xe.Ze(t),this.chart.fn.Sn(),this},t.prototype.getTitleRotation=function(){return this.xe.Qe()},t.prototype.setTitleEffect=function(t){return this.Ke.gn(t),this.chart.fn.Sn(),this},t.prototype.getTitleEffect=function(){return this.Ke.xn()},t.prototype.ze=function(t,e){if(this.oe.size>0&&this.Je(),"Empty"===t){var i=e||function(t){return t};this.Le=i(new Zr),this.re=this.Le.Zr(this.Pe),this.ee=t}else"Numeric"===t?("Numeric"!==this.ee&&(this.Le=this.Ee.numeric),i=e||function(t){return t},this.Le=i(this.Le),this.re=this.Le.Zr(this.Pe),this.ee=t):"DateTime"===t?("DateTime"!==this.ee&&(this.Le=this.Ee.datetime),i=e||function(t){return t},this.Le=i(this.Le),this.re=this.Le.Zr(this.Pe),this.ee=t):"Time"===t&&("Time"!==this.ee&&(this.Le=this.Ee.time),i=e||function(t){return t},this.Le=i(this.Le),this.re=this.Le.Zr(this.Pe),this.ee=t);return this.se.forEach((function(t){return Array.from(t.values()).forEach((function(t){return t.dispose()}))})),this.se=$r(this.re),this.chart.fn.Sn(),this},t.prototype.qe=function(){return this.re},t.prototype.$e=function(t){this.re=t,this.se.forEach((function(t){return Array.from(t.values()).forEach((function(t){return t.dispose()}))})),this.se=$r(this.re),this.chart.fn.Sn()},t.prototype.setInterval=function(t){var e=t.start,i=t.end,n=t.animate,r=t.stopAxisAfter;return this.dt(void 0!==e?e:this.Ve,void 0!==i?i:this.Ne,void 0!==n&&n,void 0===r||r,"userSetInterval"),this},t.prototype.dt=function(t,e,i,n,r){var o=this;void 0===i&&(i=!1),void 0===n&&(n=!0);var s,a,u={start:t,end:e},l=Math.abs(e-t);Math.abs(this.Ne-this.Ve),void 0!==this.re.qr&&this.re.qr>l&&(u={start:(s=(e+t)/2)-(a=this.re.qr/2*(t>e?-1:1)),end:s+a}),void 0!==this.re.$r&&this.re.$r<l&&(u={start:(s=(e+t)/2)-(a=this.re.$r/2*(t>e?-1:1)),end:s+a});var h,c=this.vt.ut(u.start,u.end,this.Ve,this.Ne,!0);if(!1===c)return this;if(!0===c);else if(u=c,"zoomBandChart"===r)return this;switch(r){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":h=!0;break;case"zoomBandChart":case"synchronizedAxis":h=!1;break;default:return si(0,""),this}if(this.io&&this.io.finishAll(!1),this.ae&&(!0===i||i>0)){this.setStopped(!0);var f=!0===i?void 0:i,p=!this.io||this.io.isOver()?this.ae:this.io.NextAnimation.bind(this);this.io=p([[this.Ve,u.start],[this.Ne,u.end]],(function(t){var e=Kr(t,2),i=e[0],n=e[1];o.no(i,n,!0)}),f),this.io.onAnimationEnd((function(){o.io=void 0,h&&(o.me=ne.performance.now())})),this.io.onAnimationEnd((function(){return o.setStopped(n)}))}else this.no(u.start,u.end,!0),this.setStopped(n),h&&(this.me=ne.performance.now());return this},t.prototype.getInterval=function(){return{start:this.Ve,end:this.Ne}},t.prototype.setStopped=function(t){return t===this.ce||(t&&(this.io&&this.io.finishAll(!1),this.io=void 0),this.ce=t,this.D.emit("stoppedStateChanged",this,this.ce),this.le=ne.performance.now(),this.chart.fn.Sn()),this},t.prototype.getStopped=function(){return this.ce},t.prototype.onStoppedStateChanged=function(t){return this.D.on("stoppedStateChanged",t)},t.prototype.offStoppedStateChanged=function(t){return this.D.off(t,"stoppedStateChanged")},t.prototype.fit=function(t,e){var i=this.ro(),n=this.Ue||so,r="function"==typeof n?n({curStart:this.Ve,curEnd:this.Ne,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):n;return this.dt(void 0!==r.start?r.start:this.Ve,void 0!==r.end?r.end:this.Ne,void 0!==r.animate?r.animate:void 0===t||t,void 0!==r.stopAxisAfter?r.stopAxisAfter:void 0===e||e,"userFit"),this},t.prototype.setScrollStrategy=function(t){return this.ue=t,this.chart.fn.Sn(),this},t.prototype.getScrollStrategy=function(){return this.ue},t.prototype.setAnimationScroll=function(t){return this.he=Boolean(t),this.chart.fn.Sn(),this},t.prototype.setAnimationZoom=function(t,e){var i=this;return void 0===e&&(e=300),this.io&&(this.io.finishAll(!1),this.io=void 0),this.ae=t?lt((function(){return i.chart.fn.Sn()}))(e,t):void 0,this},t.prototype.setAnimationsEnabled=function(t){return this.fe=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(at.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this},t.prototype.getAnimationsEnabled=function(){return this.fe},t.prototype.setVisible=function(t){var e=this.Zi!==t;return this.Zi=t,this.xe.setVisible(t),this.eo((function(e){e.ie.setVisible(t)})),e&&this.D.emit("visibleStateChanged",this,this.Zi),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.onIntervalChange=function(t){return this.D.on("scaleChange",t)},t.prototype.offIntervalChange=function(t){return this.D.off(t,"scaleChange")},t.prototype.onVisibleStateChanged=function(t){return this.D.on("visibleStateChanged",t)},t.prototype.offVisibleStateChanged=function(t){return this.D.off(t,"visibleStateChanged")},t.prototype.oo=function(t,e){var i,n,r,o;this.Se&&this.Se();var s=new Map;if(Qr(this.re)||!this.Zi)return this.Je(),s;e=e||new Map;var a=this.so(),u=a.min,l=a.max,h=l-u,c=t.physicalAxisSize;this.ge.physicalAxisSize=c;var f=no(this.re,u,l,this.Ve,this.Ne,c),p=[];if(this.uo(),p.push.apply(p,function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],Kr(this.ho(this.re,u,l,f,e,t,s)),!1)),this.ao(this.re,u,l,f,e,t,p,s),this.fo(),f)try{for(var d=qr(this.se),y=d.next();!y.done;y=d.next()){var v=Kr(y.value,2),g=v[0],m=v[1],x=f.get(g);if(void 0!==x)try{for(var S=(r=void 0,qr(m)),A=S.next();!A.done;A=S.next()){var b=Kr(A.value,2),M=b[0],w=b[1];x.includes(M)||(null==w||w.dispose(),m.delete(M))}}catch(t){r={error:t}}finally{try{A&&!A.done&&(o=S.return)&&o.call(S)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{y&&!y.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}return this.ge.min=u,this.ge.max=l,this.ge.scaleInterval=h,this.ge.physicalAxisSize=c,s},t.prototype.co=function(t){var e=t.Oe.lo;t.ie.vo(e(t.S,this.vt)).En()},t.prototype.do=function(t,e){var i=e.Ao;t.ie.Br(i.getLabelFillStyle()).He(i.getLabelFont()).Ze(i.getLabelRotation())},t.prototype.Me=function(t,e){var i=this.se.get(e),n=i.get(t);n?(i.delete(t),n.Oe=e,n.mn(!0)):n=this.yo(t,e);var r=this.oe.get(e)||new Map;return r.set(t,n),this.oe.set(e,r),this.do(n,e),n},t.prototype._e=function(t,e){var i=this.mo(t,e);return this.co(t),i},t.prototype.ho=function(t,e,i,n,r,o,s){var a,u,l,h,c=[];try{for(var f=qr(t.Qr),p=f.next();!p.done;p=f.next()){var d=p.value,y=n.get(d),v=function(t){if(t<e||t>i)return"continue";var n=g.oe.get(d),a=(n?n.get(t):void 0)||g.Me(t,d),u=g._e(a,o),l=Jr(a,r);c.find((function(t){return Pi(l,Jr(t,r))}))&&a.ie.setVisible(!1),a.Ce=!1,s.set(a,u),c.push(a)},g=this;try{for(var m=(l=void 0,qr(y)),x=m.next();!x.done;x=m.next())v(x.value)}catch(t){l={error:t}}finally{try{x&&!x.done&&(h=m.return)&&h.call(m)}finally{if(l)throw l.error}}}}catch(t){a={error:t}}finally{try{p&&!p.done&&(u=f.return)&&u.call(f)}finally{if(a)throw a.error}}return c},t.prototype.ao=function(t,e,i,n,r,o,s,a){var u,l,h,c=this,f=[],p=function(t){var u,l,p=n.get(t);if(!p)return"break";var y=void 0;if(void 0===h)y=[{start:e,end:i,keyValues:p}];else{y=[];for(var v=0;v<h.length-1;v+=1){var g=h[v],m=h[v+1],x={start:g,end:m,keyValues:[]};try{for(var S=(u=void 0,qr(p)),A=S.next();!A.done;A=S.next()){var b=A.value;b>=g&&b<m&&x.keyValues.push(b)}}catch(t){u={error:t}}finally{try{A&&!A.done&&(l=S.return)&&l.call(S)}finally{if(u)throw u.error}}y.push(x)}}if(h=p,function(t){return void 0!==t.bo}(t))return"continue";var M=0,w=-1,C=[],P=[];for(v=0;v<y.length;v+=1){var E=d.we(y[v].keyValues,t,e,i,o,a);C=C.concat(E.displayedKeyValues),P=P.concat(E.createdTicks)}var T=P,k=!0;if(t.Ao.getLabelFillStyle()!==J){for(var D=[],F=function(){var n=y[w],o=n.start,a=n.end,u=n.keyValues;if(M>0){if(void 0===t.Fe)return k=!1,"break";var l=t.Fe.po;if(void 0===(u=l(u,M-1,o,a,e,i)))return"break"}var h=d.Te(P.filter((function(t){return u.some((function(e){return le(t.S,e)}))})),C,t,M,o,a,e,i,r,s,f);if(!0===h)return M+=1,w=-1,D=[],"continue";D=D.concat(h)};++w<y.length&&"break"!==F(););T=D,P.forEach((function(t){D.find((function(e){return e===t}))||c.So(t)}))}return f=T,k?void 0:"break"},d=this;try{for(var y=qr(t.Kr),v=y.next();!v.done&&"break"!==p(v.value);v=y.next());}catch(t){u={error:t}}finally{try{v&&!v.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}},t.prototype.So=function(t){var e=this.oe.get(t.Oe);null==e||e.delete(t.S);var i=this.se.get(t.Oe);i&&i.has(t.S)?t.dispose():i&&(t.mn(!1),i.set(t.S,t))},t.prototype.eo=function(t){var e,i,n,r;try{for(var o=qr(this.oe.values()),s=o.next();!s.done;s=o.next()){var a=s.value;try{for(var u=(n=void 0,qr(a.values())),l=u.next();!l.done;l=u.next())t(l.value)}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t.prototype.xo=function(t,e){var i,n,r,o;try{for(var s=qr(this.oe.values()),a=s.next();!a.done;a=s.next()){var u=a.value;try{for(var l=(r=void 0,qr(u.values())),h=l.next();!h.done;h=l.next())e=t(e,h.value)}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return e},t.prototype.Je=function(){var t=this;this.oe.forEach((function(e,i){e.forEach((function(e){return t.So(e)}))})),this.oe.clear()},t.prototype.uo=function(){var t,e,i,n;try{for(var r=qr(this.oe.values()),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var a=(i=void 0,qr(s.values())),u=a.next();!u.done;u=a.next())u.value.Ce=!0}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.fo=function(){var t,e,i,n;try{for(var r=qr(this.oe.values()),o=r.next();!o.done;o=r.next()){var s=o.value;try{for(var a=(i=void 0,qr(s.entries())),u=a.next();!u.done;u=a.next()){var l=Kr(u.value,2),h=l[0],c=l[1];c.Ce&&(c.dispose(),s.delete(h))}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.so=function(){var t=this.vt.getInnerStart()<this.vt.getInnerEnd()?this.vt.getInnerStart():this.vt.getInnerEnd(),e=this.vt.getInnerEnd()>this.vt.getInnerStart()?this.vt.getInnerEnd():this.vt.getInnerStart();return S(t,e)},t.prototype.ke=function(t,e){return!(t.Ce||0===t.ie.wo().length||Vr(e)&&!0!==e.Mo)},t.prototype.Co=function(t,e){return Qr(this.re)||(this.re.Qr.forEach((function(i){e=t(e,i.Ao)})),this.re.Kr.forEach((function(i){(function(t){return void 0!==t.lo})(i)&&(e=t(e,i.Ao))}))),e},t.prototype.ro=function(){var t,e=this.Be._o(),i=this.Be.To();if(void 0!==e&&oe(e)&&void 0!==i&&oe(i)&&("logarithmic"===this.Pe.type&&(0===e&&(e=Math.min(1,i)),Math.sign(e)!==Math.sign(i)&&(e=Math.min(1,i-.1))),t?(t.min=Math.min(t.min,e),t.max=Math.max(t.max,i)):t=S(e,i)),t&&oe(t.min)&&oe(t.max))return le(t.min,t.max)?{min:t.min-1,max:t.max+1}:t},t.prototype.ko=function(){if(!this.je)return 0;var t=0,e=this.Be.Oo();return e&&(t=Math.max(t,e)),t},t.prototype.setAutoRegionsEnabled=function(t){return this.je=t,this.chart.fn.Sn(),this},t.prototype.Fo=function(){var t,e=this,i=this.ve,n=!1;if(this.be&&this.Ue){var r=this.ro(),o="function"==typeof this.Ue?this.Ue({curStart:this.Ve,curEnd:this.Ne,dataMin:null==r?void 0:r.min,dataMax:null==r?void 0:r.max}):this.Ue;this.setInterval(o),this.be=!1}if(this.ue&&!this.ce&&(r=this.ro())){var s=this.Ve,a=this.Ne,u=this.ue.start(s,a,r.min,r.max),l=this.ue.end(s,a,r.min,r.max),h=null===(t=this.ue.allowIntervalLengthChange)||void 0===t||t,c=oo(this.Ye,r,{start:u,end:l},{start:s,end:a},h);u=c.start,l=c.end;var f=!1===le(s,u),p=!1===le(a,l);if(u=f?u:s,l=p?l:a,f||p){var d=!1;if(this.he&&!this.De)if(this.he){d=!0;var y=f?this.Io(s,u):s,v=p?this.Io(a,l):a;if(!0===this.no(y,v,h)&&(f&&!1===le(y,u)||p&&!1===le(v,l))){this.chart.fn.Sn(!0),n=!0;var g=Math.abs(l-u)/Math.abs(y-v);g<1&&(g=1/g),this.de=g>=1.4}}else d=!1;d||this.no(u,l,h),this.De=!1}}return n?(this.ve!==n&&(this.ve=n,this.Ae=ne.performance.now()),this.jo&&(clearTimeout(this.jo),this.jo=void 0)):!0===i&&void 0===this.jo&&(this.de=!1,this.jo=setTimeout((function(){!1!==e.ve&&(e.ve=!1,e.Ae=ne.performance.now()),e.jo=void 0,e.chart.fn.Sn()}),200)),this},t.prototype.no=function(t,e,i){var n={start:t,end:e},r=!0;if(this.Ye){var o=this.ro();n=oo(this.Ye,o,n,{start:this.Ve,end:this.Ne},i)}var s,a,u=Math.abs(e-t),l=Math.abs(this.Ne-this.Ve);void 0!==this.re.qr&&this.re.qr>u&&(n={start:(s=(e+t)/2)-(a=(i?this.re.qr/2:l/2)*(t>e?-1:1)),end:s+a},r=!1),void 0!==this.re.$r&&this.re.$r<u&&(n={start:(s=(e+t)/2)-(a=(i?this.re.$r/2:l/2)*(t>e?-1:1)),end:s+a},r=!1);var h=this.vt.ut(n.start,n.end,this.Ve,this.Ne,i);if(!1===h)return!1;!0!==h&&(n=h);var c=this.ko(),f=this.Do(Math.min(n.start,n.end),Math.max(n.start,n.end),c);return!!(h=this.vt.ut(n.end>n.start?f.min:f.max,n.end>n.start?f.max:f.min,this.Ve,this.Ne,!1))&&(!0===h?this.vt.q(n.end>n.start?f.min:f.max,n.end>n.start?f.max:f.min):this.vt.q(n.start,n.end),this.Ve=n.start,this.Ne=n.end,this.D.emit("scaleChange",this,n.start,n.end),this.ye=ne.performance.now(),this.chart.fn.Sn(),r)},t.prototype.Bo=function(){return this.ve},t.prototype.Eo=function(){return void 0!==this.io},t.prototype.Ge=function(){var t,e=!1!==(null===(t=this.Wi)||void 0===t?void 0:t.displayOnAxis);this.xe.vo(this.Re&&e&&this.pe?"".concat(this.pe," (").concat(this.Re,")"):this.pe),this.chart.fn.Sn()},t.prototype.onTitleMouseEnter=function(t){return this.D.on("mouseEnterTitle",t)},t.prototype.offTitleMouseEnter=function(t){return this.D.off(t,"mouseEnterTitle")},t.prototype.onTitleMouseMove=function(t){return this.D.on("mouseMoveTitle",t)},t.prototype.offTitleMouseMove=function(t){return this.D.off(t,"mouseMoveTitle")},t.prototype.onTitleMouseLeave=function(t){return this.D.on("mouseLeaveTitle",t)},t.prototype.offTitleMouseLeave=function(t){return this.D.off(t,"mouseLeaveTitle")},t.prototype.onTitleMouseDown=function(t){return this.D.on("mouseDownTitle",t)},t.prototype.offTitleMouseDown=function(t){return this.D.off(t,"mouseDownTitle")},t.prototype.onTitleMouseUp=function(t){return this.D.on("mouseUpTitle",t)},t.prototype.offTitleMouseUp=function(t){return this.D.off(t,"mouseUpTitle")},t.prototype.onTitleMouseClick=function(t){return this.D.on("mouseClickTitle",t)},t.prototype.offTitleMouseClick=function(t){return this.D.off(t,"mouseClickTitle")},t.prototype.onTitleMouseDoubleClick=function(t){return this.D.on("mouseDoubleClickTitle",t)},t.prototype.offTitleMouseDoubleClick=function(t){return this.D.off(t,"mouseDoubleClickTitle")},t.prototype.onTitleMouseDragStart=function(t){return this.D.on("mouseDragStartTitle",t)},t.prototype.offTitleMouseDragStart=function(t){return this.D.off(t,"mouseDragStartTitle")},t.prototype.onTitleMouseDrag=function(t){return this.D.on("mouseDragTitle",t)},t.prototype.offTitleMouseDrag=function(t){return this.D.off(t,"mouseDragTitle")},t.prototype.onTitleMouseDragStop=function(t){return this.D.on("mouseDragStopTitle",t)},t.prototype.offTitleMouseDragStop=function(t){return this.D.off(t,"mouseDragStopTitle")},t.prototype.onTitleMouseWheel=function(t){return this.D.on("mouseWheelTitle",t)},t.prototype.offTitleMouseWheel=function(t){return this.D.off(t,"mouseWheelTitle")},t.prototype.onTitleTouchStart=function(t){return this.D.on("touchStartTitle",t)},t.prototype.offTitleMouseTouchStart=function(t){return this.D.off(t,"touchStartTitle")},t.prototype.onTitleTouchMove=function(t){return this.D.on("touchMoveTitle",t)},t.prototype.offTitleTouchMove=function(t){return this.D.off(t,"touchMoveTitle")},t.prototype.onTitleTouchEnd=function(t){return this.D.on("touchEndTitle",t)},t.prototype.offTitleTouchEnd=function(t){return this.D.off(t,"touchEndTitle")},t}(),io=function(){function t(t,e,i,n,r){void 0===r&&(r=i.zo(n).Lo(fi).Po(fi).setMouseInteractions(!1)),this.Ce=!1,this.Hi=!1,this.tn=[],this.Oe=t,this.S=e,this.Vo=i,this.ne=n,this.ie=r,this.tn.push(r)}return t.prototype.mn=function(t){this.tn.forEach((function(e){return e.setVisible(t)}))},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.tn.forEach((function(t){return t.dispose()}))),this},t}(),no=function(t,e,i,n,r,o){var s,a,u,l,h,c=new Map;try{for(var f=qr(t.Qr),p=f.next();!p.done;p=f.next()){var d=(g=p.value).No(e,i,n,r);d=ro(d),c.set(g,d)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}try{for(var y=qr(t.Kr),v=y.next();!v.done;v=y.next()){var g=v.value;if(d=void 0,void 0===h)d=g.No(e,i,e,i);else{var m=[],x=h.filter((function(t){return e<=t&&t<=i})).length;if(x>0){var S=o/(x-1);if(void 0!==g.Ro&&g.Ro>S)break}for(var A=0;A<h.length-1;A+=1){var b=g.No(h[A],h[A+1],e,i);m=m.concat(b)}d=m}d=ro(d),c.set(g,d),h=d}}catch(t){u={error:t}}finally{try{v&&!v.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return c},ro=function(t){return(t=function(t){for(var e={},i=[],n=t.length,r=0,o=0;o<n;o+=1){var s=t[o];1!==e[s]&&(e[s]=1,i[r]=s,r+=1)}return i}(t)).sort((function(t,e){return t-e}))},oo=function(t,e,i,n,r){var o="function"==typeof t?t({curStart:n.start,curEnd:n.end,dataMin:null==e?void 0:e.min,dataMax:null==e?void 0:e.max}):t;if(!o)return i;var s={start:i.start,end:i.end},a=Math.abs(i.end-i.start);if(void 0!==o.intervalMin&&a<o.intervalMin){var u=(s.start+s.end)/2;s.start=u+.5*Math.sign(i.start-u)*o.intervalMin,s.end=u+.5*Math.sign(i.end-u)*o.intervalMin}return a=Math.abs(i.end-i.start),void 0!==o.intervalMax&&a>o.intervalMax&&(u=(s.start+s.end)/2,s.start=u+.5*Math.sign(i.start-u)*o.intervalMax,s.end=u+.5*Math.sign(i.end-u)*o.intervalMax),a=Math.abs(i.end-i.start),void 0!==o.startMin&&(s.start=Math.max(s.start,o.startMin),r||le(Math.abs(s.start-s.end),a)||(s.end=s.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==o.startMax&&(s.start=Math.min(s.start,o.startMax),r||le(Math.abs(s.start-s.end),a)||(s.end=s.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==o.endMin&&(s.end=Math.max(s.end,o.endMin),r||le(Math.abs(s.start-s.end),a)||(s.start=s.end+Math.sign(i.start-i.end)*a)),a=Math.abs(i.end-i.start),void 0!==o.endMax&&(s.end=Math.min(s.end,o.endMax),r||le(Math.abs(s.start-s.end),a)||(s.start=s.end+Math.sign(i.start-i.end)*a)),s},so=function(t){if(void 0===t.dataMin||void 0===t.dataMax)return{stopAxisAfter:!1};var e=t.curEnd>=t.curStart;return{start:e?t.dataMin:t.dataMax,end:e?t.dataMax:t.dataMin,stopAxisAfter:!1}},ao=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),uo=function(t){function e(e){return t.call(this,e)||this}return ao(e,t),e.prototype.setSize=function(t){return this.set("size",t)},e.prototype.setFamily=function(t){return this.set("family",t)},e.prototype.setWeight=function(t){return this.set("weight",t)},e.prototype.setStyle=function(t){return this.set("style",t)},e.prototype.setVariant=function(t){return this.set("variant",t)},e.prototype.getSize=function(){return this.get("size")},e.prototype.getFamily=function(){return this.get("family")},e.prototype.getWeight=function(){return this.get("weight")},e.prototype.getStyle=function(){return this.get("style")},e.prototype.getVariant=function(){return this.get("variant")},e}(Object(n.b)({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1})),lo=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"font"!==t.type)},ho=new uo,co=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fo=new(function(){function t(){}return t.prototype.getFillStyle=function(){return J},t}()),po=function(t){function e(e){return t.call(this,e)||this}return co(e,t),e.prototype.setSize=function(t){return this.set("size",t)},e.prototype.getSize=function(){return this.get("size")},e.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},e.prototype.getFillStyle=function(){return this.get("fillStyle")},e.prototype.setWireframeStyle=function(t){return"function"==typeof t?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)},e.prototype.getWireframeStyle=function(){return this.get("wireframeStyle")},e.prototype.setShape=function(t){return this.set("shape",t)},e.prototype.getShape=function(){return this.get("shape")},e}(Object(n.b)({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new et,wireframeStyle:gt})),yo=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"triangulated-points-3d"!==t.type)},vo=function(t){function e(e){return t.call(this,e)||this}return co(e,t),e.prototype.setSize=function(t){return this.set("size",t)},e.prototype.getSize=function(){return this.get("size")},e.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)},e.prototype.getFillStyle=function(){return this.get("fillStyle")},e}(Object(n.b)({type:"pixelated-points-3d",size:5,fillStyle:new et})),go=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"pixelated-points-3d"!==t.type)},mo={Triangulated:po,Pixelated:vo},xo=function(){function t(t){this.Go=new Map,this.fn=t}return t.prototype.hn=function(t,e,i){var n=this,r=i.animationEnabled;this.Go.set(t,{applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:r,curAnimatedHighlightValue:0});var o=t.onDispose((function(){n.Go.delete(t),t.offDispose(o)}))},t.prototype.Uo=function(t,e){var i=this,n=e.animationEnabled,r=[],o=t.onDispose((function(){r.forEach((function(t){i.Go.delete(t)})),t.offDispose(o)}));return{Wo:function(t,e){var o={applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:n,curAnimatedHighlightValue:0};r.push(t),i.Go.set(t,o)},Yo:function(){r.forEach((function(t){i.Go.delete(t)})),r.length=0},Xo:function(t){n=t,r.forEach((function(t){i._n(t,n)}))},Ho:function(){return n}}},t.prototype.Cn=function(t,e){var i=this.Go.get(t);i&&(i.curUnanimatedHighlightValue=ri(e),this.fn.Sn())},t.prototype.An=function(t,e){void 0===e&&(e=!1);var i=this.Go.get(t);return i?e?i.curAnimatedHighlightValue:i.curUnanimatedHighlightValue:0},t.prototype._n=function(t,e){var i=this.Go.get(t);i&&(i.animationEnabled=e)},t.prototype.Tn=function(t){var e=this.Go.get(t);return!!e&&e.animationEnabled},t.prototype.En=function(t){var e=!1;this.Go.forEach((function(i,n){var r;if(i.animationEnabled)if(i.curUnanimatedHighlightValue>0){var o=i.curAnimationPositionMillis/1e3;r=i.curUnanimatedHighlightValue*Math.abs(Math.sin(o*Math.PI/2+.5));var s=0===i.curAnimatedHighlightValue?1:t;i.curAnimationPositionMillis+=s,e=!0}else i.curAnimatedHighlightValue>0&&0===i.curUnanimatedHighlightValue?(r=Math.max(i.curAnimatedHighlightValue-t/1e3,0),e=e||r>0):r=0,i.curAnimationPositionMillis=0;else r=i.curUnanimatedHighlightValue;r!==i.curAnimatedHighlightValue&&(i.applyHighlight(r),i.curAnimatedHighlightValue=r)})),e&&this.fn.Sn(!0)},t}(),So=new Map,Ao=function(t,e){var i=t.getSize(),n=t.getFamily(),r=t.getWeight(),o=t.getStyle(),s=t.getVariant(),a=s?"small-caps":"normal",u="".concat(o," ").concat(a," ").concat(r," ").concat(i,"px ").concat(n),l="".concat(u," ").concat(e.toFixed(2)),h=So.get(l);return h||(h=function(t,e,i,n){return{font:t,properties:e,dpr:i,id:n}}(u,{type:"font",size:i,family:n,style:o,variant:s,weight:r},e,l),So.set(l,h)),h},bo=function(){return(bo=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Mo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.click=0]="click",t[t.dbclick=1]="dbclick",t[t.mouseDown=2]="mouseDown",t[t.mouseUp=3]="mouseUp",t[t.contextmenu=4]="contextmenu",t[t.wheel=5]="wheel"}(Fr||(Fr={})),function(t){t[t.touchStart=0]="touchStart",t[t.touchMove=1]="touchMove",t[t.touchEnd=2]="touchEnd"}(_r||(_r={}));var wo,Co,Po=[],Eo=function(){if(void 0!==wo){var t=ne.getComputedStyle(ne.document.body),e=Number(t.getPropertyValue("margin-top").replace("px",""))+Number(t.getPropertyValue("margin-bottom").replace("px",""));wo.style.height="".concat(ne.innerHeight-e,"px"),function(){for(var t=0;t<Po.length;t+=1)Po[t]()}()}},To=new et({color:k(255,255,255)}),ko={font:Ao(ho,0),fillStyle:To,lineStyle:new Hn({fillStyle:To,thickness:1}),pointStyle3D:new mo.Triangulated},Do=function(){function t(t,e,i){var n=this;this.D=new r.a,this.vt=wt.d2({scaleXYConstructor:Cn}),this.Zo=new Map,this.Qo=lt((function(){return n.Sn()}),60),this.Ko=y(0,0),this.Jo=!1,this.qo=ue,this.$o=function(){},this.ts=[],this.ns=-1,this.rs=[],this.es=!0,this.Hi=!1,this.os=!1,this.ss=function(){var t=n.us.getBoundingClientRect(),e=t.bottom,i=t.left;return n.Ko=y(Math.floor(i),Math.floor(e)),n},this.hs=function(t){if(n.fs){var e=n.fs.entity.cs;e&&e(n.fs.entity,t,n.fs.button,n.fs.startLocation,n.fs.collectionMember,n.fs.info),n.fs=void 0}},this.ls=function(){n.vs&&n.vs()},this.ds=function(t,e){if(!e){n.us.style.cursor=t;var i=n.ns;return n.ns+=1,n.rs.push([i,t]),i}return n.As(e),n.ds(t)},this.As=function(t){var e=t?n.rs.findIndex((function(e){return e[0]===t})):-1;e>=0?(n.rs.splice(e,1),n.rs.length>0?n.us.style.cursor=n.rs[n.rs.length-1][1]:n.us.style.cursor="default"):(n.rs.push([0,"default"]),n.us.style.cursor="default")},this.ys=function(t){return n.bs.M(t),n},this.ps=function(){return n.bs.C()},this.gs=function(){n.qo&&n.qo(1e3/60),n.Ss(),n.xs(),n.$o&&n.$o()},this.ws=function(t){return n.Zo.set(t.Ms(),t),n.Zo=new Map(function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(n.Zo.entries()),!1).sort((function(t,e){return t[0]-e[0]}))),t},this.Cs=function(t){return n.Zo.delete(t),n},this.K=function(){return n.bs.o=!1,n},this.J=function(){return n.bs.o=!0,n},this._s=function(t){if(n.es){var e=n.Ts,i=e&&e.clientX===t.clientX&&e.clientY===t.clientY,r=n.pn({x:t.clientX,y:t.clientY});if(!n.ks||(null==r?void 0:r.entity)===n.ks.entity&&r.collectionMember===n.ks.collectionMember||n.fs||(n.ks.entity.kn=!1,(o=n.ks.entity.Os)&&o(n.ks.entity,t,n.ks.collectionMember)),r&&r.entity.getMouseInteractions()&&(n.fs||(r.entity.kn?i||(o=r.entity.Fs)&&o(r.entity,t,r.collectionMember,r.info):(r.entity.kn=!0,(o=r.entity.Is)&&o(r.entity,t,r.collectionMember,r.info)))),n.fs){var o=n.fs.entity.js,s=e?y(t.clientX-e.clientX,e.clientY-t.clientY):{x:0,y:0};!o||0===s.x&&0===s.y||o(n.fs.entity,t,n.fs.button,n.fs.startLocation,s,n.fs.collectionMember,n.fs.info)}n.Ds=t,n.Ts=t,n.ks=r?bo(bo({},r),{event:t}):void 0}},this.Bs=function(t){if(n.es=!1,n.Ds=t,n.ks&&!n.Es&&!n.fs){n.ks.entity.kn=!1;var e=n.ks.entity.Os;e&&e(n.ks.entity,t,n.ks.collectionMember),n.ks=void 0}},this.Ps=function(t){if(n.es=!0,n.Ds=t,n.fs&&t.buttons<=0){var e=n.fs.entity.cs;e&&e(n.fs.entity,t,n.fs.button,n.fs.startLocation,n.fs.collectionMember,n.fs.info),n.fs=void 0}if(n.Es&&t.buttons<=0){var i=n.Es.entity.Ls;i&&i(n.Es.entity,t,n.Es.collectionMember,n.Es.info),n.Es=void 0}},this.zs=function(){return n.Ds&&n.Vs?n.Ds.timeStamp>n.Vs.timeStamp?n.Ds:n.Vs:n.Ds||n.Vs},this.Ns=t,this.$i=e.theme,this.Rs=i.Rs,this.Gs=i.Gs,this.Us=i.Us,this.Ws={Ys:e&&e.overrideInteractionMouseButtons?e.overrideInteractionMouseButtons:void 0,Kn:e&&void 0!==e.resourcesBaseUrl&&null!==e.resourcesBaseUrl?e.resourcesBaseUrl:"".concat(ne.location.origin,"/resources"),Xs:!e||!("warnings"in e)||"boolean"!=typeof e.warnings||e.warnings,Hs:function(){var t=null==e?void 0:e.pickingPrecision;if("string"==typeof t){var i=t.toLowerCase();if("best"===i)return 1;if("high"===i)return.5;if("low"===i)return 1/8}return 1/4}(),Zs:void 0===(null==e?void 0:e.interactable)||e.interactable,Qs:void 0===e.textPixelSnappingEnabled||e.textPixelSnappingEnabled};var o=e?e.container:void 0;if(o){if("string"==typeof o){var s=ne.document.getElementById(o);if(!s)throw new Error('Container "'.concat(o,"\" doesn't exist."));this.us=s}else this.us=o;ne.addEventListener("resize",this.ls),this.ts.push((function(){ne.removeEventListener("resize",n.ls)}))}else{if(void 0===wo){var a=ne.document.createElement("div");a.id="lcjs-auto-flexbox",a.style.position="relative",a.style.width="100%",a.style.display="flex",a.style.flexDirection="column",ne.document.body.appendChild(a),wo=a,ne.addEventListener("resize",Eo)}for(var u=1;null!==ne.document.getElementById("chart-".concat(u));)u+=1;this.us=ne.document.createElement("div"),this.us.id="chart-".concat(u),this.us.style.flex="1",this.us.style.height="100%",wo.appendChild(this.us),Eo(),Po.push(this.ls),this.ts.push((function(){wo&&wo.removeChild(n.us),Po.includes(n.ls)&&Po.splice(Po.indexOf(n.ls),1),0===Po.length&&wo&&(ne.document.body.removeChild(wo),wo=void 0,ne.removeEventListener("resize",Eo))}))}ne.ResizeObserver&&(this.Ks=new ne.ResizeObserver(function(t){var e,i;try{for(var r=Mo(t),o=r.next();!o.done;o=r.next())o.value.target===n.us&&n.ls()}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}}.bind(this)),this.Ks.observe(this.us)),""===this.us.style.position&&(this.us.style.position="relative"),this.us.style.boxSizing="content-box",this.us.addEventListener("fullscreenchange",this.ls),this.us.addEventListener("webkitfullscreenchange",this.ls);var l=e?e.maxFps:void 0;this.Js=l?-1===l?-1:0!==l?1e3/l:0:0;var h=new Map,c=!1,f=function(t,e){return function(i){var n=function(t){return{x:t.clientX,y:t.clientY}}(i);switch(i.type){case"pointerover":case"pointerenter":case"pointermove":case"pointerdown":h.set(i.pointerId,n);break;default:h.delete(i.pointerId),c=!1}switch(i.interactions=Array.from(h.values()),i.pointerType){case"pen":case"mouse":default:t&&t(i);break;case"touch":e&&e(i)}i.defaultPrevented&&(c=!0)}};this.us.onwheel=this.qs(Fr.wheel),this.us.oncontextmenu=this.qs(Fr.contextmenu),this.us.onclick=this.qs(Fr.click),this.us.ondblclick=this.qs(Fr.dbclick),this.us.onlostpointercapture=function(){c=!1},this.us.ontouchmove=function(t){c&&t.preventDefault()},this.us.onpointerover=f(),this.us.onpointerenter=f(this.Ps),this.us.onpointerdown=f(this.qs(Fr.mouseDown),this.$s(_r.touchStart)),this.us.onpointermove=f(this._s,this.$s(_r.touchMove)),this.us.onpointerup=f(this.qs(Fr.mouseUp),this.$s(_r.touchEnd)),this.us.onpointercancel=f(),this.us.onpointerout=f(),this.us.onpointerleave=f(this.Bs,this.$s(_r.touchEnd)),ne.addEventListener("dragstart",this.hs),ne.addEventListener("scroll",this.ss,{passive:!0}),this.bs=b(new E({r:0,g:0,b:0,a:0})),this.an=new xo(this)}return t.prototype.tu=function(t,e){var i,n,r,o;(null===(i=this.ks)||void 0===i?void 0:i.entity)===t.entity&&this.ks.collectionMember===t.collectionMember&&(this.ks=bo(bo({},e),{info:this.ks.info,event:this.ks.event})),(null===(n=this.iu)||void 0===n?void 0:n.entity)===t.entity&&this.iu.collectionMember===t.collectionMember&&(this.iu=bo(bo({},e),{info:this.iu.info})),(null===(r=this.Es)||void 0===r?void 0:r.entity)===t.entity&&this.Es.collectionMember===t.collectionMember&&(this.Es=bo(bo({},e),{info:this.Es.info,event:this.Es.event})),(null===(o=this.fs)||void 0===o?void 0:o.entity)===t.entity&&this.fs.collectionMember===t.collectionMember&&(this.fs=bo(bo({},e),{info:this.fs.info,button:this.fs.button,startLocation:this.fs.startLocation}))},t.prototype.nu=function(){this.os=!0,this.qo=void 0,this.$o=void 0},t.prototype.ru=function(t){return this.D.on("render",t)},t.prototype.eu=function(t){return this.D.off(t)},t.prototype.ou=function(){return this.su},t.prototype.uu=function(){return this.hu},t.prototype.setBackgroundFillStyle=function(t){return this.au.Br(t),this},t.prototype.getBackgroundFillStyle=function(){return this.au.We()},t.prototype.setBackgroundStrokeStyle=function(t){return this.au.Dr(t),this},t.prototype.getBackgroundStrokeStyle=function(){return this.au.fu()},t.prototype.cu=function(t){return this.$o=t,this},t.prototype.lu=function(t){return this.qo=t,this},t.prototype.vu=function(t){return this.Zo.get(t)},t.prototype.du=function(){return Array.from(this.Zo.keys()).reverse().reduce((function(t,e){return e!==Number.MAX_SAFE_INTEGER&&e>t?e:t}),0)+1},t.prototype.qs=function(t){var e=this;return function(i){return e.Au(t,i)}},t.prototype.Au=function(t,e){if(this.es){t===Fr.contextmenu&&Ie(e);var i=this.pn({x:e.clientX,y:e.clientY});if(t===Fr.mouseUp){if(this.fs){var n=this.fs.entity.cs;if(n&&n(this.fs.entity,e,this.fs.button,this.fs.startLocation,this.fs.collectionMember,this.fs.info),(null==i?void 0:i.entity)!==this.fs.entity||i.collectionMember!==this.fs.collectionMember){this.fs.entity.kn=!1;var r=this.fs.entity.Os;r&&r(this.fs.entity,e,this.fs.collectionMember)}this.fs=void 0}this.Es&&((o=this.Es.entity.getMouseInteractions()&&this.Es.entity.Ls)&&o(this.Es.entity,e,this.Es.collectionMember,this.Es.info),this.Es=void 0)}else{var o;if(i&&i.entity.getMouseInteractions()&&((o=t===Fr.click?i.entity.yu:t===Fr.dbclick?i.entity.mu:t===Fr.mouseDown?i.entity.bu:t===Fr.wheel?i.entity.pu:t===Fr.contextmenu?i.entity.gu:void 0)&&o(i.entity,e,i.collectionMember,i.info),t===Fr.mouseDown)){this.Es={entity:i.entity,collectionMember:i.collectionMember,event:e,info:i.info};var s=this.Es.event.button,a=i.entity.Su;a&&a(i.entity,e,s,i.collectionMember,i.info),this.fs={entity:i.entity,collectionMember:i.collectionMember,button:s,startLocation:y(e.clientX,e.clientY),info:i.info}}}this.Ds=e,this.ks=i?bo(bo({},i),{event:e}):void 0}},t.prototype.$s=function(t){var e=this;return function(i){return e.xu(t,i)}},t.prototype.xu=function(t,e){var i=e.interactions.length;if(this.Vs=e,this.iu)(r=t===_r.touchMove?this.iu.entity.wu:t===_r.touchEnd?this.iu.entity.Mu:t===_r.touchStart?this.iu.entity.Cu:void 0)&&r(this.iu.entity,e,this.iu.collectionMember,this.iu.info),t===_r.touchEnd&&0===i&&(this.iu.entity.kn=!1,this.iu=void 0);else if(t===_r.touchStart){for(var n=0;n<i&&(this.iu=this.pn({x:e.interactions[n].x,y:e.interactions[n].y}),!this.iu);n+=1);var r;this.iu&&(this.iu.entity.kn=!0,(r=this.iu.entity.Cu)&&r(this.iu.entity,e,this.iu.collectionMember,this.iu.info))}},t.prototype._u=function(t){return this.D.on("resize",t)},t.prototype.Tu=function(t){return this.D.off(t,"resize")},t.prototype.ku=function(){return this.D.topicOff("resize"),this},t.prototype.Ou=function(t){return this.D.on("inViewChange",t)},t.prototype.Fu=function(t){return this.D.off(t)},t.prototype.U=function(){var t,e;if(!this.Hi){if(this.Hi=!0,this.Zo)try{for(var i=Mo(this.Zo.values()),n=i.next();!n.done;n=i.next())n.value.U()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.qo=void 0,this.$o=void 0,ne.removeEventListener("dragstart",this.hs),ne.removeEventListener("scroll",this.ss),this.us.removeEventListener("fullscreenchange",this.ls),this.us.removeEventListener("webkitfullscreenchange",this.ls),this.Ks&&(this.Ks.disconnect(),this.Ks=void 0),this.ts.forEach((function(t){t()})),this.ts.length=0}},t.prototype.Vr=function(t,e){return y(t-this.Ko.x,this.Ko.y-e)},t.prototype.Iu=function(t,e){return y(t+this.Ko.x,this.Ko.y-e)},t.prototype.ju=function(t){var e=this.Vr(t.clientX,t.clientY);return{engineX:e.x,engineY:e.y}},t.prototype.Du=function(t){var e=this.Iu(t.engineX,t.engineY);return{clientX:e.x,clientY:e.y}},t}(),Fo=function(t){return void 0===t&&(t=1),{type:"horizontalProgressive",packager:function(e,i,n){if(e.length>1){for(var r=Xi(i,n*t),o=Math.abs(r.x),s=e.length,a=[],u=0,l=0,h=e[0].x+o;l<s;){var c=e[l];if(a[u]=c,u+=1,l+=1,c.x<h&&l<s){for(var f=l,p=c.y,d=c.y;l<s&&e[l].x<=h;)e[l].y>p&&(p=e[l].y),e[l].y<d&&(d=e[l].y),l+=1;if(f!==l){var v=(a[u-1].x+e[l-1].x)/2;a[u+0]=y(v,d),a[u+1]=y(v,p),a[u+2]=e[l-1],u+=3}}h+=o}return a}return e.slice()}}},_o=function(t){return void 0===t&&(t=1),{type:"horizontalRegressive",packager:function(e,i,n){if(e.length>1){for(var r=Xi(i,n*t),o=Math.abs(r.x),s=e.length,a=[],u=0,l=0,h=e[0].x-o;l<s;){var c=e[l];if(a[u]=c,u+=1,l+=1,c.x>h&&l<s){for(var f=l,p=c.y,d=c.y;l<s&&e[l].x>=h;)e[l].y>p&&(p=e[l].y),e[l].y<d&&(d=e[l].y),l+=1;if(f!==l){var v=(a[u-1].x+e[l-1].x)/2;a[u+0]=y(v,d),a[u+1]=y(v,p),a[u+2]=e[l-1],u+=3}}h-=o}return a}return e.slice()}}},Io=function(t){return void 0===t&&(t=1),{type:"verticalProgressive",packager:function(e,i,n){if(e.length>1){for(var r=Xi(i,n*t),o=Math.abs(r.y),s=e.length,a=[],u=0,l=0,h=e[0].y+o;l<s;){var c=e[l];if(a[u]=c,u+=1,l+=1,c.y<h&&l<s){for(var f=l,p=c.x,d=c.x;l<s&&e[l].y<=h;)e[l].x>p&&(p=e[l].x),e[l].x<d&&(d=e[l].x),l+=1;if(f!==l){var v=(a[u-1].y+e[l-1].y)/2;a[u+0]=y(d,v),a[u+1]=y(p,v),a[u+2]=e[l-1],u+=3}}h+=o}return a}return e.slice()}}},Oo=function(t){return void 0===t&&(t=1),{type:"verticalRegressive",packager:function(e,i,n){if(e.length>1){for(var r=Xi(i,n*t),o=Math.abs(r.y),s=e.length,a=[],u=0,l=0,h=e[0].y-o;l<s;){var c=e[l];if(a[u]=c,u+=1,l+=1,c.y>h&&l<s){for(var f=l,p=c.x,d=c.x;l<s&&e[l].y>=h;)e[l].x>p&&(p=e[l].x),e[l].x<d&&(d=e[l].x),l+=1;if(f!==l){var v=(a[u-1].y+e[l-1].y)/2;a[u+0]=y(d,v),a[u+1]=y(p,v),a[u+2]=e[l-1],u+=3}}h-=o}return a}return e.slice()}}};!function(t){t[t.Square=0]="Square",t[t.Circle=1]="Circle",t[t.HollowCircle=2]="HollowCircle",t[t.Triangle=3]="Triangle",t[t.Cross=4]="Cross",t[t.Diamond=5]="Diamond",t[t.Plus=6]="Plus",t[t.Minus=7]="Minus",t[t.Arrow=8]="Arrow",t[t.Star=9]="Star"}(Co||(Co={}));var Bo,zo={ProgressiveX:"ProgressiveX",ProgressiveY:"ProgressiveY",RegressiveX:"RegressiveX",RegressiveY:"RegressiveY"};!function(t){t[t.Nearest=0]="Nearest",t[t.NearestX=1]="NearestX",t[t.NearestY=2]="NearestY"}(Bo||(Bo={}));var Lo=function(t,e,i,n,r,o,s,a,u,l){var h=t.length;if(0!==h){var c=n?1:0,f=h-(r?2:1);if(i===Bo.Nearest)return Ro(t,e,o,s,c,f);if(i===Bo.NearestX||i===Bo.NearestY){if("boolean"==typeof l&&("x"===u&&i===Bo.NearestX||"y"===u&&i===Bo.NearestY))return Uo(t,Pt(e,s,o),u,l,c,f);if(i===Bo.NearestX)return Vo(t,Pt(e,s,o),a,c,f);if(i===Bo.NearestY)return No(t,Pt(e,s,o),a,c,f)}}},Ro=function(t,e,i,n,r,o){for(var s,a=Number.MAX_VALUE,u=r;u<=o;u+=1){var l=t[u];if(!Number.isNaN(l.x)&&!Number.isNaN(l.y)){var h=Pt(l,i,n),c=Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2);c<a&&(a=c,s=u)}}return s},Vo=function(t,e,i,n,r){if(!(e.x<i.min.x||e.x>i.max.x)){for(var o,s=Number.MAX_VALUE,a=n;a<=r;a+=1){var u=t[a],l=u.x>e.x?u.x-e.x:e.x-u.x;l<s&&!Number.isNaN(u.x)&&!Number.isNaN(u.y)&&(s=l,o=a)}return o}},No=function(t,e,i,n,r){if(!(e.y<i.min.y||e.y>i.max.y)){for(var o,s=Number.MAX_VALUE,a=n;a<=r;a+=1){var u=t[a],l=u.y>e.y?u.y-e.y:e.y-u.y;l<s&&!Number.isNaN(u.x)&&!Number.isNaN(u.y)&&(s=l,o=a)}return o}},Uo=function(t,e,i,n,r,o){var s="x"===i,a=s?e.x:e.y,u=t[r],l=t[o],h=u.x<l.x?u.x:l.x,c=u.y<l.y?u.y:l.y,f=u.x>l.x?u.x:l.x,p=u.y>l.y?u.y:l.y;if(!(s&&(a<h||a>f)||!s&&(a<c||a>p)))for(var d=r,y=Math.floor((r+o)/2),v=o,g=-1;;){var m=a-(s?t[y].x:t[y].y);if(m*(n?-1:1)>0)d=Math.min(y+1,v),g=Math.floor((d+v)/2);else{if(0===Math.abs(m))return y;v=Math.max(y-1,d),g=Math.floor((d+v)/2)}if(g===y){var x=y>r?Math.abs(a-(s?t[y-1].x:t[y-1].y)):Ai,S=y<o?Math.abs(a-(s?t[y+1].x:t[y+1].y)):Ai,A=Math.abs(m);switch(Math.min(A,x,S)){case x:return y-1;case S:return y+1;default:return y}}else y=g}},Yo=function(t,e,i,n,r,o){var s="x"===i,a=s?e.x:e.y,u=t[r],l=t[o],h=u.x<l.x?u.x:l.x,c=u.y<l.y?u.y:l.y,f=u.x>l.x?u.x:l.x,p=u.y>l.y?u.y:l.y;if(!(s&&(a<h||a>f)||!s&&(a<c||a>p)))for(var d=r,y=Math.floor((r+o)/2),v=o,g=-1;;){var m=a-(s?t[y].x:t[y].y);if(m*(n?-1:1)>0)d=Math.min(y+1,v),g=Math.floor((d+v)/2);else{if(0===Math.abs(m))return{a:y,b:y,lerpAmount:0};v=Math.max(y-1,d),g=Math.floor((d+v)/2)}if(g===y){if(m*(n?-1:1)<0&&y>r){var x=t[y-1],S=t[y];return{a:y-1,b:y,lerpAmount:s?(e.x-x.x)/(S.x-x.x):(e.y-x.y)/(S.y-x.y)}}return y<o?(x=t[y],S=t[y+1],{a:y,b:y+1,lerpAmount:s?(e.x-x.x)/(S.x-x.x):(e.y-x.y)/(S.y-x.y)}):{a:y,b:y,lerpAmount:0}}y=g}},Go=0,jo=function(){function t(t,e,i){var n=this;this.Bu=b(!0),this.Eu=!1,this.kn=!1,this.Pu=!1,this.Hi=!1,this.Zi=!0,this.Lu=void 0,this.zu=0,this.D=new r.a,this.Fs=void 0,this.Is=void 0,this.Os=void 0,this.yu=void 0,this.pu=void 0,this.gu=void 0,this.mu=void 0,this.bu=void 0,this.Ls=void 0,this.Su=void 0,this.js=void 0,this.cs=void 0,this.Cu=void 0,this.wu=void 0,this.Mu=void 0,this.onDispose=function(t){return n.D.on("dispose",t)},this.offDispose=function(t){return n.D.off(t,"dispose")},this.fn=t,this.Vu=e,this.Nu=i,this.Ru=Go,Go+=1,this.Gu=t.$i.highlightColorOffset}return t.prototype.Uu=function(){var t;return this.Wu("DataPattern",(function(e){return t=e.pattern,!0})),"ProgressiveX"===t||"RegressiveX"===t?Bo.NearestX:"ProgressiveY"===t||"RegressiveY"===t?Bo.NearestY:Bo.Nearest},t.prototype.Yu=function(t){return void 0!==this.Nu.find((function(e){return e.type===t}))},t.prototype.Wu=function(t,e){var i;return!!this.Yu(t)&&!0===e(null===(i=this.Nu.find((function(e){return e.type===t})))||void 0===i?void 0:i.args)},t.prototype.dispose=function(){return this.Hi||(this.kn&&this.Os&&this.Os(this,void 0,void 0),this.Hi=!0,this.Vu(this),this.D.emit("dispose",this)),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.setVisible=function(t){var e=this.Zi;return this.Zi=t,!t&&e&&(this.kn&&this.Os&&this.Os(this,void 0,void 0),this.kn=!1),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.setMouseInteractions=function(t){var e=this.Bu.C();return this.Bu.M(t),t||(e&&this.kn&&this.Os&&this.Os(this,void 0,void 0),this.kn=!1),this},t.prototype.getMouseInteractions=function(){return this.Bu.C()},t.prototype.getIsUnderMouse=function(){return this.kn},t.prototype.getIsGrabbed=function(){return this.Pu},t.prototype.setMouseMoveEventHandler=function(t){return this.Fs=t,this},t.prototype.setMouseEnterEventHandler=function(t){return this.Is=t,this},t.prototype.setMouseLeaveEventHandler=function(t){return this.Os=t,this},t.prototype.setMouseClickEventHandler=function(t){return this.yu=t,this},t.prototype.setMouseDoubleClickEventHandler=function(t){return this.mu=t,this},t.prototype.setMouseDownEventHandler=function(t){return this.bu=t,this},t.prototype.setMouseUpEventHandler=function(t){return this.Ls=t,this},t.prototype.setMouseWheelEventHandler=function(t){return this.pu=t,this},t.prototype.setMouseContextMenuEventHandler=function(t){return this.gu=t,this},t.prototype.setMouseDragEventHandler=function(t){return this.js=t,this},t.prototype.setMouseDragStartEventHandler=function(t){return this.Su=t,this},t.prototype.setMouseDragStopEventHandler=function(t){return this.cs=t,this},t.prototype.setTouchStartEventHandler=function(t){return this.Cu=t,this},t.prototype.setTouchMoveEventHandler=function(t){return this.wu=t,this},t.prototype.setTouchEndEventHandler=function(t){return this.Mu=t,this},t.prototype.Xu=function(t){return this.Lu=t,this},t.prototype.Hu=function(){return this.Lu?this.Lu:Wo},t.prototype.cn=function(t){return this.zu=t,this},t.prototype.Zu=function(){return this.zu},t.prototype.Qu=function(t){return this.Gu=t,this},t.prototype.Ku=function(){return this.Gu},t}(),Wo=S(y(0,0),y(0,0)),Xo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ho=function(t){function e(e,i,n,r){var o=t.call(this,e,n,r)||this;return o.Ju=0,o.In=i,o.In.qu=!0,o}return Xo(e,t),e.prototype.$u=function(t){return this.Ju===t||(this.Ju=t,this.In.qu=!0),this},e.prototype.th=function(){return this.Ju},e}(jo),Zo=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qo=function(){return(Qo=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},qo=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Ko=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,r,o)||this;return s.ih=!0,s.vt=n,s}return Zo(e,t),e}(Ho),Jo=function(t,e,i){if(i instanceof Cn){var n=i.Ri(),r=Qi(e,{x:Math.abs(n.x),y:Math.abs(n.y)});return S(y(t.min.x-r.x,t.min.y-r.y),y(t.max.x+r.x,t.max.y+r.y))}return S(i.Ai(y(t.min.x,t.min.y),Xi(e,-1)),i.Ai(y(t.max.x,t.max.y),e))},$o=function(t,e){return"function"==typeof e?e(t):e},ts=function(t,e){return!t||t!==e},es=function(t,e){return t===J&&e!==J},is=function(t){return t!==J},ns=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Or=ko.fillStyle,s.fn=e,s}return Zo(e,t),e.prototype.Br=function(t){return this.Or=$o(this.Or,t),this},e.prototype.We=function(){return this.Or},e.prototype.rh=function(){return ts(this.eh,this.Or)},e.prototype.oh=function(){return es(this.eh,this.Or)},e.prototype.sh=function(){return is(this.Or)},e.prototype.uh=function(t){this.eh=t},e}(Ko),rs=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Fr=ko.lineStyle,s.fn=e,s}return Zo(e,t),e.prototype.Dr=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this},e.prototype.fu=function(){return this.Fr},e.prototype.hh=function(){return!this.ah||this.ah!==this.Fr},e.prototype.fh=function(t){return!this.ah||this.ah.getThickness()!==t},e.prototype.sh=function(){return this.Fr!==gt||t.prototype.sh.call(this)},e.prototype.oh=function(){return(this.Fr!==gt||this.Or!==J)&&this.ah===gt&&this.eh===J},e.prototype.lh=function(t){this.ah=t},e}(ns),os=function(t){function e(e,i,n,r,o,s){void 0===s&&(s=b(5));var a=t.call(this,e,i,n,r,o)||this;return a.size=b(5),a.size=s,a}return Zo(e,t),e.prototype.tt=function(t){return this.size.M(t),this},e}(ns),ss=function(t){function e(e,i,n,r,o,s){void 0===s&&(s=b(ko.font));var a=t.call(this,e,i,n,r,o)||this;return a.dh=b(""),a.Ah=b(y(0,0)),a.yh=b(0),a.mh=b(0),a.bh=b(y(0,0)),a.ph=b(0),a.gh=b(ho),a.Sh=y(0,0),a.Yt=b(M(1,1,1,1)),a.xh=b(w(4,4,4,4)),a.font=b(ko.font),a.wh=!1,a.font=s,a}return Zo(e,t),e.prototype.sh=function(){return is(this.Or)&&this.dh.C().length>0},e.prototype.oh=function(){return!1===this.wh&&this.sh()},e.prototype.vo=function(t){return this.dh.M(t),this},e.prototype.wo=function(){return this.dh.C()},e.prototype.He=function(t){return lo(t)?this.gh.M(t):this.gh.M(t(this.gh.C())),this},e.prototype.Xe=function(){return this.gh.C()},e.prototype.Mh=function(t){return this.gh.M(this.gh.C().setFamily(t)),this},e.prototype.Ch=function(){return this.gh.C().getFamily()},e.prototype._h=function(t){return this.gh.M(this.gh.C().setSize(t)),this},e.prototype.Th=function(){return this.gh.C().getSize()},e.prototype.kh=function(t){return this.gh.M(this.gh.C().setWeight(t)),this},e.prototype.Oh=function(){return this.gh.C().getWeight()},e.prototype.Fh=function(t){return this.gh.M(this.gh.C().setStyle(t)),this},e.prototype.Ih=function(){return this.gh.C().getStyle()},e.prototype.jh=function(t){return this.gh.M(this.gh.C().setVariant(t)),this},e.prototype.Dh=function(){return this.gh.C().getVariant()},e.prototype.Lr=function(t){return this.Ah.M(t),this},e.prototype.Bh=function(){return this.Ah.C()},e.prototype.Ze=function(t){return this.ph.M(t),this},e.prototype.Qe=function(){return this.ph.C()},e.prototype.Eh=function(t,e){return this.bh.M(y(t,e)),this},e.prototype.Ph=function(){return this.bh.C()},e.prototype.Lh=function(t){return this.mh.M(t),this},e.prototype.zh=function(){return this.mh.C()},e.prototype.Vh=function(t){return this.yh.M(t),this},e.prototype.Nh=function(){return this.yh.C()},e.prototype.Rh=function(t){return this.mh.M(t.x),this.yh.M(t.y),this},e.prototype.Po=function(t){return this.Yt.M(t),this},e.prototype.Gh=function(){return this.Yt.C()},e.prototype.Lo=function(t){return this.xh.M(t),this},e.prototype.Uh=function(){return this.xh.C()},e}(ns),as=function(t){function e(e,i,n,r,o,s){void 0===s&&(s=5);var a=t.call(this,e,i,n,r,o,b(s))||this;return a.Wh=[],a.Yh=b(Co.Square),a.ph=b(0),a.Xh=b(!1),a.Hh=b(!1),a.Zh=b(!1),a.Qh=Mi,a.Kh=0,a.Jh=[],a.qh=0,a.$h=Mi,a.ta=!1,a.ia=void 0,a}return Zo(e,t),e.prototype.na=function(){return this.Jh},e.prototype.ra=function(){return this.Wh},e.prototype.ea=function(t){return this.Yh.M(t),this},e.prototype.oa=function(){return this.Yh.C()},e.prototype.Ze=function(t){return this.ph.M(t),this},e.prototype.Qe=function(){return this.ph.C()},e.prototype.sa=function(t){return this.Xh.M(t),this},e.prototype.ua=function(t){return this.Hh.M(t),this},e.prototype.ha=function(t){return this.Zh.M(t),this},e.prototype.aa=function(t,e){return Array.isArray(t)||(t=[t]),this.qh+=t.length,this.Jh=Ge(this.Jh,t,{canReturnB:!0}),this.$h&&(this.$h=e?Vi(this.$h,e):void 0),this.ia=void 0,this},e.prototype.zt=function(){return this.ta=!0,this.Wh.length=0,this.Kh=0,this.Qh=Mi,this.Jh=[],this.qh=0,this.ia=void 0,this},e.prototype.fa=function(){return this.Kh},e.prototype.ca=function(){return this.qh},e}(os),us=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Ah=b(y(0,0)),s.Z=b(y(100,100)),s.ph=b(0),s.Sh=b(y(0,0)),s.la=!1,s}return Zo(e,t),e.prototype.En=function(){return this.va(),this},e.prototype.Lr=function(t){var e=this.Ah.C();return t.x===e.x&&t.y===e.y||(this.Ah.M(t),this.va()),this},e.prototype.Bh=function(){return this.Ah.C()},e.prototype.da=function(t){var e=this.Ah.C();return t!==e.x&&(this.Ah.M(y(t,e.y)),this.va()),this},e.prototype.Aa=function(t){var e=this.Ah.C();return t!==e.y&&(this.Ah.M(y(e.x,t)),this.va()),this},e.prototype.tt=function(t){var e=this.Z.C();return t.x===e.x&&t.y===e.y||(this.Z.M(y(t.x,t.y)),this.va()),this},e.prototype.oi=function(){return this.Z.C()},e.prototype.ya=function(t){var e=this.Z.C();return t!==e.x&&(this.Z.M(y(t,e.y)),this.va()),this},e.prototype.ma=function(t){var e=this.Z.C();return t!==e.x&&(this.Z.M(y(e.x,t)),this.va()),this},e.prototype.Ze=function(t){return this.ph.M(t),this},e.prototype.Qe=function(){return this.ph.C()},e.prototype.ba=function(t){var e=this.Sh.C();return t===e&&e.x===t.x&&e.y===t.y||(void 0===t?(this.la=!1,this.va()):(this.la=!0,this.Sh.M(t))),this},e.prototype.va=function(){if(!this.la){var t=this.Ah.C(),e=this.Z.C(),i=y(t.x+e.x/2,t.y+e.y/2),n=this.Sh.C();i.x===n.x&&i.y===n.y||this.Sh.M(i)}},e}(rs),ls=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Wh=[],e.Ah=b(y(0,0)),e.Qh=Mi,e.pa=!1,e}return Zo(e,t),e.prototype.ga=function(t){return t=Re(t),this.Wh=t,this.pa=!0,this},e.prototype.Sa=function(){return this.Wh},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e}(rs),hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zo(e,t),e}(ls);!function(t){Zo((function(){return null!==t&&t.apply(this,arguments)||this}),t)}(ls);var cs,fs=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Ma=new Array,s.Ca=new Array,s._a=b({type:"disabled",packager:function(t,e,i){return t.slice()}}),s.Qh=Mi,s.Ta=0,s.ka=!1,s.Jh=[Array(),Array()],s.Oa=!1,s.Fa=(new et).setColor(k(42,171,240)),s.ta=!1,s.Ia=!1,s.ja=!1,s}return Zo(e,t),e.prototype.aa=function(t,e){var i=this.Ta-1,n=i>0&&!this.Oa,r=qo(n?[[this.Ma[i]],[this.Ca[i]]]:[[],[]],2),o=r[0],s=r[1];if(t instanceof Array){var a=qo(x(t),2),u=a[0],l=a[1];o=Ge(o,u,{canReturnB:!0}),s=Ge(s,l,{canReturnB:!0})}else{var h=t.position;o.push(y(h,t.high)),s.push(y(h,t.low))}return this.Oa?(this.Jh[0]=Ge(this.Jh[0],o,{canReturnB:!0}),this.Jh[1]=Ge(this.Jh[1],s,{canReturnB:!0})):(this.Jh=[o,s],this.Oa=!0),this.Qh=Vi(this.Qh,e||Vi(Li(o),Li(s))),this},e.prototype.zt=function(){return this.ta=!0,this.Ma.length=0,this.Ca.length=0,this.Ta=0,this.Qh=Mi,this},e.prototype.ra=function(){return[this.Ma,this.Ca]},e.prototype.na=function(){return[this.Jh[0],this.Jh[1]]},e.prototype.Da=function(t){return this._a.M(t),this},e.prototype.Ba=function(){return this._a.C()},e.prototype.Ea=function(t){return this.Fa="function"==typeof t?t(this.Fa):t,this},e.prototype.Pa=function(){return this.Fa},e.prototype.fa=function(){return this.Ta-(Number(this.Ia)+Number(this.ja))},e.prototype.ca=function(){return this.Jh.length},e.prototype.La=function(t){return this.Ia=t,this},e.prototype.za=function(){return this.Ia},e.prototype.Va=function(t){return this.ja=t,this},e.prototype.Na=function(){return this.ja},e.prototype.oh=function(){return this.eh===J&&this.Ra===J&&(this.Or!==J||this.Fa!==J)},e.prototype.Ga=function(t){this.Ra=t},e.prototype.sh=function(){return this.Fa!==J||t.prototype.sh.call(this)},e.prototype.rh=function(){return t.prototype.rh.call(this)||!this.Ra||this.Ra!==this.Fa},e}(ns),ps=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Ah=b(y(0,0)),s.Ua=b(0),s.ki=b(360),s.Wa=b(100),s.Ya=b(100),s.Xa=b(0),s.Ha=b(void 0),s.Za=y(0,0),s.Qa=y(0,0),s.Ka=y(0,0),s}return Zo(e,t),e.prototype.Ja=function(){return this.Wa.C()},e.prototype.qa=function(){return this.Ya.C()},e.prototype.Bh=function(){return this.Ah.C()},e.prototype.$a=function(){return this.Ua.C()},e.prototype.Ti=function(){return this.ki.C()},e.prototype.tf=function(){return this.Xa.C()},e.prototype.if=function(){return this.Ha.C()},e.prototype.nf=function(){return this.Za},e.prototype.rf=function(){return this.Qa},e.prototype.ef=function(){return this.Ka},e.prototype.Lr=function(t){return this.Ah.M(t),this},e.prototype.sf=function(t){return this.Ua.M(t),this},e.prototype.Yr=function(t){return this.ki.M(t),this},e.prototype.uf=function(t){return this.Ya.M(t),this.Wa.M(t),this},e.prototype.hf=function(t){return this.Wa.M(t),this},e.prototype.af=function(t){return this.Ya.M(t),this},e.prototype.ff=function(t){return this.Xa.M(t<0?0:t),this},e.prototype.cf=function(t){return this.Ha.M(void 0!==t&&t<=0?void 0:t),this},e}(rs);!function(t){t[t.Complex=0]="Complex",t[t.Simple=1]="Simple"}(cs||(cs={}));var ds=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.lf=ko.lineStyle,s.engine=e,s}return Zo(e,t),e.prototype.Ur=function(t){return this.lf=function(t,e){return"function"==typeof e?e(t):e}(this.lf,t),this},e.prototype.vf=function(){return this.lf},e.prototype.hh=function(){return t=this.df,e=this.lf,!t||t!==e;var t,e},e.prototype.Af=function(t){return function(t,e){return!t||t.getThickness()!==e}(this.df,t)},e.prototype.oh=function(){return t=this.df,e=this.lf,t===gt&&e!==gt;var t,e},e.prototype.sh=function(){return(t=this.lf)!==gt&&t.getFillStyle()!==J;var t},e.prototype.yf=function(t){this.df=t},e}(Ko),ys=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Fi=y(0,0),s.ki=y(0,0),s.mf=!1,s}return Zo(e,t),e.prototype.M=function(t){var e=t.min,i=t.max;return e.x===this.Fi.x&&e.y===this.Fi.y&&i.x===this.ki.x&&i.y===this.ki.y||(this.mf=!0,this.Fi=e,this.ki=i),this},e.prototype.Oi=function(){return this.Fi},e.prototype.Ti=function(){return this.ki},e.prototype.Xr=function(t){return t.x===this.Fi.x&&t.y===this.Fi.y||(this.mf=!0,this.Fi=t),this},e.prototype.Yr=function(t){return t.x===this.ki.x&&t.y===this.ki.y||(this.mf=!0,this.ki=t),this},e}(ds),vs=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.bf=void 0,s}return Zo(e,t),e}(ds),gs=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.pf=[],s.Qh=Mi,s.Jh=new Array,s.Kh=0,s.ta=!1,s.gf=b(void 0),s.Ia=!1,s.ja=!1,s}return Zo(e,t),e.prototype.Sf=function(t){return this.gf.M(t),this},e.prototype.xf=function(){return this.gf.C()},e.prototype.na=function(){return this.Jh},e.prototype.ra=function(){return this.pf},e.prototype.zt=function(){return this.ta=!0,this.pf.length=0,this.Kh=0,this.Jh=[],this.Qh=Mi,this},e.prototype.fa=function(){return this.Kh-(Number(this.Ia)+Number(this.ja))},e.prototype.ca=function(){return this.Jh.length},e.prototype.La=function(t){return this.Ia=t,this},e.prototype.za=function(){return this.Ia},e.prototype.Va=function(t){return this.ja=t,this},e.prototype.Na=function(){return this.ja},e}(ds);!function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Ta=0,s.wf=0,s.Z=b({x:0,y:0}),s.Mf=b({x:0,y:0}),s.Cf=b({x:0,y:0}),s.Fi={x:0,y:0},s.ki={x:0,y:0},s._f=!0,s.Tf=!0,s.kf=!0,s.Qh=Mi,s.Of=!0,s.Ff=J,s}Zo(e,t),e.prototype.If=function(t){return this.Ff=$o(this.Ff,t),this},e.prototype.jf=function(){return this.Ff},e.prototype.M=function(t){return xs.M(this,t,(function(t,e){return{x:t,y:e}})),this},e.prototype.Df=function(){return xs.Df(this)},e.prototype.Bf=function(){return xs.Bf(this)},e.prototype.Bh=function(){return xs.Bh(this)},e.prototype.ca=function(){return xs.ca(this)},e.prototype.Ef=function(t,e,i){return xs.Ef(this,t,e,i),this},e.prototype.Pf=function(t,e,i){return xs.Pf(this,t,e,i),this},e.prototype.Lf=function(t,e){return xs.Lf(this,t,e),this},e.prototype.zf=function(t,e){return xs.zf(this,t,e),this},e.prototype.Vf=function(t,e){return xs.Vf(this,t,e),this},e.prototype.zt=function(){return xs.zt(this,(function(t,e){return{x:t,y:e}})),this},e.prototype.Nf=function(){return xs.Nf(this)},e.prototype.Rf=function(){return xs.Rf(this)},e.prototype.Gf=function(){return xs.Gf(this)},e.prototype.fa=function(){return xs.fa(this)},e.prototype.oh=function(){return xs.oh(this)},e.prototype.sh=function(){return xs.sh(this)},e.prototype.Uf=function(){return this.Wf},e.prototype.Yf=function(){return this.Xf}}(ns);var ms,xs={M:function(t,e,i){t._f=!0,t.Tf=!0,t.kf=!0;var n=e.start,r=e.end,o=e.rows,s=e.columns;t.Of=e.pixelate;var a={x:e.pixelate&&s>=1||!e.pixelate&&s>1?s:0,y:e.pixelate&&o>=1||!e.pixelate&&o>1?o:0};t.Mf.M(a),t.Fi=Qo({},n),t.ki=Qo({},r),t.Z.M(Zi(r,n)),xs.Hf(t,i)},Hf:function(t,e){var i=t.Mf.C();if(i.x>0&&i.y>0){t.Wf?t.Wf.length=0:t.Wf=[];var n=t.Of?Hi(i,{x:1,y:1}):{x:i.x,y:i.y};t.Cf.M(n),t.Wf=Array.from(Array(n.y)).map((function(){return Array(n.x)})),t.Xf=Array.from(Array(i.y)).map((function(){return Array(i.x)})),xs.Zf(t,i,n,e),t.Ta=n.x*n.y,t.wf=i.x*i.y}else t.Wf=void 0,t.Cf.M({x:0,y:0})},Zf:function(t,e,i,n){var r,o,s=t.Fi,a=t.ki,u=t.Wf,l=t.Xf;if(u){for(var h=i.x,c=i.y,f=t.Z.C(),p={x:f.x/(h-1),y:f.y/(c-1)},d=0;d<c;d+=1)for(var y=0;y<h;y+=1)u[d][y]=n(p.x*y,p.y*d);var v=n(0,0),g=n(a.x-s.x,a.y-s.y),m={},x={};try{for(var A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(v)),b=A.next();!b.done;b=A.next()){var M=b.value;m[M]=Math.min(v[M],g[M]),x[M]=Math.max(v[M],g[M])}}catch(t){r={error:t}}finally{try{b&&!b.done&&(o=A.return)&&o.call(A)}finally{if(r)throw r.error}}t.Qh=S(m,x)}if(l)for(h=e.x,c=e.y,d=0;d<c;d+=1)for(y=0;y<h;y+=1)l[d][y]={intensity:0}},Df:function(t){return t.Mf.o||t.Cf.o},Bf:function(t){var e=t.Mf.C();return{columns:e.x,rows:e.y}},Bh:function(t){var e=t.Fi,i=t.ki;return{start:{x:e.x,y:e.y},end:{x:i.x,y:i.y}}},ca:function(t){throw new Error("Method not implemented.")},Ef:function(t,e,i,n){var r="geometry"===i||"y"===i?t.Wf:t.Xf;if(r){var o=t.Cf.C();if("y"===i)for(var s=de(r),a=0;a<o.y;a+=1){for(var u=a-e;u<0;)u+=o.y;for(var l=0;l<o.x;l+=1)r[u][l]=Qo(Qo({},s[u][l]),{y:s[a][l].y})}else pe(r,e);var h=r===t.Wf?t.Cf.C():t.Mf.C(),c={column:{start:0,end:h.x},row:{start:h.y-e,end:h.y}};xs.Qf(t,i,n,c)}},Pf:function(t,e,i,n){var r="geometry"===i||"y"===i?t.Wf:t.Xf;if(r){var o=t.Cf.C();if("y"===i)for(var s=de(r),a=0;a<o.x;a+=1){for(var u=a-e;u<0;)u+=o.x;for(var l=0;l<o.y;l+=1)r[l][u]=Qo(Qo({},s[l][u]),{y:s[l][a].y})}else r.forEach((function(t){return pe(t,e)}));var h=r===t.Wf?t.Cf.C():t.Mf.C(),c={column:{start:h.x-e,end:h.x},row:{start:0,end:h.y}},f=function(t){for(var e=t.length,i=e>0?t[0].length:0,n=Array.from(Array(i)).map((function(){return Array(e)})),r=0;r<i;r+=1)for(var o=0;o<e;o+=1)n[r][o]=t[o][r];return n}(n);xs.Qf(t,i,f,c)}},Qf:function(t,e,i,n){"color"===e&&xs.Lf(t,i,n),"value"===e&&xs.zf(t,i,n),"geometry"===e&&xs.Vf(t,i,n),"y"===e&&xs.Kf(t,i,n)},Lf:function(t,e,i){var n=t.Xf;if(n){var r=qo(fe(t.Mf.C(),i),4),o=r[0],s=r[1],a=r[2],u=r[3];if("function"==typeof e)for(var l=o;l<s;l+=1)for(var h=a;h<u;h+=1){var c=n[l][h],f=e(l,h,{intensity:c.intensity,color:c.color});n[l][h].color=f||c.color}else for(var p=e.length,d=p>0?e[0].length:0,y=(l=o,0);l<s&&y<p;l+=1,y+=1){h=a;for(var v=0;h<u&&v<d;h+=1,v+=1)(f=e[y][v])&&(n[l][h].color=f)}t._f=!0}},zf:function(t,e,i){var n=t.Xf;if(n){var r=qo(fe(t.Mf.C(),i),4),o=r[0],s=r[1],a=r[2],u=r[3];if("function"==typeof e)for(var l=o;l<s;l+=1)for(var h=a;h<u;h+=1)((y=e(l,h,{intensity:n[l][h].intensity}))||0===y)&&(n[l][h].intensity=y);else for(var c=e.length,f=c>0?e[0].length:0,p=(l=o,0);l<s&&p<c;l+=1,p+=1){h=a;for(var d=0;h<u&&d<f;h+=1,d+=1){var y;((y=e[p][d])||0===y)&&(n[l][h].intensity=y)}}t.Tf=!0}},Vf:function(t,e,i){var n=t.Wf;if(n){var r=qo(fe(t.Cf.C(),i),4),o=r[0],s=r[1],a=r[2],u=r[3];if("function"==typeof e)for(var l=o;l<s;l+=1)for(var h=a;h<u;h+=1){var c=n[l][h];void 0!==(v=e(l,h,Qo({},c)))&&(n[l][h]=Qo({},v))}else for(var f=e.length,p=f>0?e[0].length:0,d=(l=o,0);l<s&&d<f;l+=1,d+=1){h=a;for(var y=0;h<u&&y<p;h+=1,y+=1){var v;void 0!==(v=e[d][y])&&(n[l][h]=Qo({},v))}}t.kf=!0}},Kf:function(t,e,i){var n=t.Wf;if(n){var r=qo(fe(t.Cf.C(),i),4),o=r[0],s=r[1],a=r[2],u=r[3];if("function"==typeof e)for(var l=o;l<s;l+=1)for(var h=a;h<u;h+=1)void 0!==(y=e(l,h,(v=n[l][h]).y))&&(n[l][h]=Qo(Qo({},v),{y:y}));else for(var c=e.length,f=c>0?e[0].length:0,p=(l=o,0);l<s&&p<c;l+=1,p+=1){h=a;for(var d=0;h<u&&d<f;h+=1,d+=1){var y,v=n[l][h];void 0!==(y=e[p][d])&&(n[l][h]=Qo(Qo({},v),{y:y}))}}t.kf=!0}},zt:function(t,e){t._f=!0,t.Tf=!0,t.kf=!0,t.Wf=void 0,t.Xf=void 0,t.Ta=0,t.wf=0,t.Mf.M({x:0,y:0}),t.Cf.M({x:0,y:0}),t.Fi={x:0,y:0},t.ki={x:0,y:0},t.Qh=S(e(Ai,Ai),e(bi,bi))},Nf:function(t){var e=t.Cf.C();return{x:e.x,y:e.y}},Rf:function(t){var e=t.Mf.C();return{x:e.x,y:e.y}},Gf:function(t){return t.Ta},fa:function(t){return t.wf},oh:function(t){return es(t.eh,t.Or)||es(t.Jf,t.Ff)},sh:function(t){return is(t.Or)||is(t.Ff)}},Ss=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),As=function(t){var e=t.getDraggingMode();return void 0!==e&&e!==Zt.notDraggable?e===Zt.draggable?Kn.Move:e===Zt.onlyHorizontal?Kn.Horizontal:Kn.Vertical:void 0},bs=function(){function t(){var t=this;this.Zi=!0,this.D=new r.a,this.qf=0,this.wt=function(e,i,n){0===t.qf&&t.D.emit("mouseEnter",t,i),t.qf+=1},this.Mt=function(e,i,n){t.qf-=1,t.qf<1&&(t.D.emit("mouseLeave",t,i),t.qf=0)},this.Ct=function(e,i,n){t.D.emit("mouseClick",t,i)},this._t=function(e,i,n){t.D.emit("mouseDoubleClick",t,i)},this.Tt=function(e,i,n){t.D.emit("mouseDown",t,i)},this.kt=function(e,i,n){t.D.emit("mouseUp",t,i)},this.Ot=function(e,i,n){t.D.emit("mouseMove",t,i)},this.It=function(e,i,n,r){t.D.emit("mouseDragStart",t,i,n)},this.Ft=function(e,i,n,r,o,s){t.D.emit("mouseDrag",t,i,n,r,o)},this.jt=function(e,i,n,r,o){t.D.emit("mouseDragStop",t,i,n,r)},this.Dt=function(e,i,n){t.D.emit("mouseWheel",t,i)},this.Bt=function(e,i){t.qf+=1,t.D.emit("touchStart",t,i)},this.Et=function(e,i){t.D.emit("touchMove",t,i)},this.Pt=function(e,i){t.qf-=1,t.D.emit("touchEnd",t,i)},this.$f=function(e){return e instanceof Ko?e.setMouseEnterEventHandler(t.wt).setMouseLeaveEventHandler(t.Mt).setMouseClickEventHandler(t.Ct).setMouseDoubleClickEventHandler(t._t).setMouseDownEventHandler(t.Tt).setMouseUpEventHandler(t.kt).setMouseMoveEventHandler(t.Ot).setMouseDragEventHandler(t.Ft).setMouseDragStartEventHandler(t.It).setMouseDragStopEventHandler(t.jt).setMouseWheelEventHandler(t.Dt).setTouchStartEventHandler(t.Bt).setTouchMoveEventHandler(t.Et).setTouchEndEventHandler(t.Pt):(e.onMouseEnter((function(e,i){return t.wt(e,i)})),e.onMouseLeave((function(e,i){return t.Mt(e,i)})),e.onMouseClick((function(e,i){return t.Ct(e,i)})),e.onMouseDoubleClick((function(e,i){return t._t(e,i)})),e.onMouseDown((function(e,i){return t.Tt(e,i)})),e.onMouseUp((function(e,i){return t.kt(e,i)})),e.onMouseMove((function(e,i){return t.Ot(e,i)})),e.onMouseDrag((function(e,i,n,r,o){return t.Ft(e,i,n,r,o)})),e.onMouseDragStart((function(e,i,n){return t.It(e,i,n)})),e.onMouseDragStop((function(e,i,n,r){return t.jt(e,i,n,r)})),e.onMouseWheel((function(e,i){return t.Dt(e,i)})),e.onTouchStart((function(e,i){return t.Bt(e,i)})),e.onTouchMove((function(e,i){return t.Et(e,i)})),e.onTouchEnd((function(e,i){return t.Pt(e,i)}))),e}}return t.prototype.onMouseEnter=function(t){return this.D.on("mouseEnter",t)},t.prototype.onMouseLeave=function(t){return this.D.on("mouseLeave",t)},t.prototype.onMouseClick=function(t){return this.D.on("mouseClick",t)},t.prototype.onMouseDoubleClick=function(t){return this.D.on("mouseDoubleClick",t)},t.prototype.onMouseDown=function(t){return this.D.on("mouseDown",t)},t.prototype.onMouseUp=function(t){return this.D.on("mouseUp",t)},t.prototype.onMouseMove=function(t){return this.D.on("mouseMove",t)},t.prototype.onMouseDragStart=function(t){return this.D.on("mouseDragStart",t)},t.prototype.onMouseDrag=function(t){return this.D.on("mouseDrag",t)},t.prototype.onMouseDragStop=function(t){return this.D.on("mouseDragStop",t)},t.prototype.onMouseWheel=function(t){return this.D.on("mouseWheel",t)},t.prototype.onTouchStart=function(t){return this.D.on("touchStart",t)},t.prototype.onTouchMove=function(t){return this.D.on("touchMove",t)},t.prototype.onTouchEnd=function(t){return this.D.on("touchEnd",t)},t.prototype.offMouseEnter=function(t){return this.D.off(t,"mouseEnter")},t.prototype.offMouseLeave=function(t){return this.D.off(t,"mouseLeave")},t.prototype.offMouseClick=function(t){return this.D.off(t,"mouseClick")},t.prototype.offMouseDoubleClick=function(t){return this.D.off(t,"mouseDoubleClick")},t.prototype.offMouseDown=function(t){return this.D.off(t,"mouseDown")},t.prototype.offMouseUp=function(t){return this.D.off(t,"mouseUp")},t.prototype.offMouseMove=function(t){return this.D.off(t,"mouseMove")},t.prototype.offMouseDragStart=function(t){return this.D.off(t,"mouseDragStart")},t.prototype.offMouseDrag=function(t){return this.D.off(t,"mouseDrag")},t.prototype.offMouseDragStop=function(t){return this.D.off(t,"mouseDragStop")},t.prototype.offMouseWheel=function(t){return this.D.off(t,"mouseWheel")},t.prototype.offTouchStart=function(t){return this.D.off(t,"touchStart")},t.prototype.offTouchMove=function(t){return this.D.off(t,"touchMove")},t.prototype.offTouchEnd=function(t){return this.D.off(t,"touchEnd")},t.prototype.getIsUnderMouse=function(){return this.qf>0},t.prototype.setVisible=function(t){var e=this.Zi!==t;return this.Zi=t,e&&this.D.emit("visibleStateChanged",this,this.Zi),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.onVisibleStateChanged=function(t){return this.D.on("visibleStateChanged",t)},t.prototype.offVisibleStateChanged=function(t){return this.D.off(t,"visibleStateChanged")},t}(),Ms=function(t,e,i){var n=t.getDraggingMode();if(n!==Zt.notDraggable){var r=t.scale.Ai(t.getPosition(),{x:n!==Zt.onlyVertical?e.x:0,y:n!==Zt.onlyHorizontal?e.y:0}),o=t.scale,s=t.getSize(),a=t.getOrigin(),u=o.Ai({x:o.x.getInnerStart(),y:o.y.getInnerStart()},Qi({x:(1+a.x)/2,y:(1+a.y)/2},s)),l=o.Ai({x:o.x.getInnerEnd(),y:o.y.getInnerEnd()},Qi({x:(a.x-1)/2,y:(a.y-1)/2},s)),h={x:Math.min(Math.max(r.x,u.x),l.x),y:Math.min(Math.max(r.y,u.y),l.y)};t.setPosition(h),Ie(i)}},ws=function(t,e,i,n,r){Ms(t,r,e)},Cs=function(t,e,i,n,r){Ms(t,n,r)},Ps=function(t){function e(e,i,n,r,o){var s=t.call(this)||this;s.position=y(50,50),s.origin=y(0,0),s.size=y(0,0),s.Hi=!1,s.tc=void 0,s.ic=void 0,s.nc=As,s.rc=void 0,s.Bu=!0,s.oc=function(){var t="function"==typeof s.nc?s.nc(s):s.nc;t&&(s.ic=s.In.fn.ds(t))},s.sc=function(){s.In.fn.As(s.ic)},s.Yt=M(0,0,0,0),s.In=e,s.renderingScale=i,s.scale=n,s.Vu=r,s.$i=o,s.In.Sn(),s.onMouseEnter(s.oc),s.onMouseLeave(s.sc),s.onMouseDrag(ws);var a=Gn(new jn.Drag(ue,Cs,ue));return s.onTouchStart(a.onTouchStart),s.onTouchMove(a.onTouchMove),s.onTouchEnd(a.onTouchEnd),s.$i=o,s}return Ss(e,t),e.prototype.setMouseInteractions=function(t){return this.uc().forEach((function(e){return e.setMouseInteractions(t)})),this.Bu=t,this},e.prototype.getMouseInteractions=function(){return this.Bu},e.prototype.setEffect=function(t){return this.rn=this.rn||this.In.fn.rn.en(this,{hc:{shapes:this.uc()}}),this.rn.hc.gn(t),this},e.prototype.getEffect=function(){return!!this.rn&&this.rn.hc.xn()},e.prototype.setAutoDispose=function(t){return this.rc=t,this.In.Sn(),this},e.prototype.getAutoDispose=function(){return this.rc},e.prototype.getSize=function(t){return void 0===t&&(t=Xt.Everything),t===Xt.Everything?y(this.size.x+(this.Yt.left+this.Yt.right),this.size.y+(this.Yt.bottom+this.Yt.top)):this.size},e.prototype.setContentSize=function(t){this.size=t},e.prototype.setMargin=function(t){return this.Yt="object"===a(t)?C(this.Yt,t):{left:t,top:t,right:t,bottom:t},this.In.Sn(),this},e.prototype.getMargin=function(){return this.Yt},e.prototype.Pr=function(){if(this.rc){var t=this.size,e=this.renderingScale.oi(),i={x:t.x/e.x,y:t.y/e.y};("max-width"===this.rc.type&&i.x>=this.rc.maxWidth||"max-height"===this.rc.type&&i.y>=this.rc.maxHeight)&&this.dispose()}return this},e.prototype.En=function(){return this},e.prototype.dispose=function(){return this.Hi||(this.In.Sn(),this.Hi=!0,this.Vu(this),this.D.emit("dispose",this),this.uc().forEach((function(t){return t.dispose()}))),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.uc().forEach((function(t){return t.setVisible(e)})),this.In.Sn(),this},e.prototype.isDisposed=function(){return this.Hi},e.prototype.onDispose=function(t){return this.D.on("dispose",t)},e.prototype.offDispose=function(t){return this.D.off(t,"dispose")},e.prototype.setPosition=function(t){return this.position=t,this.In.Sn(),this},e.prototype.getPosition=function(t,e){void 0===t&&(t=this.origin),void 0===e&&(e=Xt.Everything);var i=this.getSize(Xt.Everything),n=this.scale.Ai(this.position,Qi({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},i));if(e===Xt.Everything)return this.scale.Ai(n,Qi({x:(t.x+1)/2,y:(t.y+1)/2},i));var r=this.scale.Ai(n,{x:this.Yt.left,y:this.Yt.bottom}),o=this.getSize(Xt.Content);return this.scale.Ai(r,Qi({x:(t.x+1)/2,y:(t.y+1)/2},o))},e.prototype.setOrigin=function(t){return this.origin=t,this.In.Sn(),this},e.prototype.getOrigin=function(){return this.origin},e.prototype.setDraggingMode=function(t){return void 0===t&&(t=Zt.notDraggable),this.tc=t,this.In.Sn(),this},e.prototype.getDraggingMode=function(){return void 0!==this.tc?this.tc:Zt.notDraggable},e.prototype.setMouseStyle=function(t){return this.nc=t,this},e.prototype.getMouseStyle=function(){return this.nc},e}(bs),Es=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,o,s)||this;return a.xh=M(),a.ac=0,a.In=e,a.fc=r,a.backgroundElement=new a.fc(a.In,a.renderingScale,a.scale,ue,s),a.$f(a.backgroundElement),a}return Ss(e,t),e.prototype.uc=function(){return this.backgroundElement.uc()},e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.setBackground=function(t){return t(this.backgroundElement),this},e.prototype.getBackground=function(){return this.backgroundElement},e.prototype.Pr=function(){return t.prototype.Pr.call(this),this.Hi||this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,Xt.PaddedBackground)).Pr(),this},e.prototype.En=function(){var e=this.getSize(Xt.PaddedContent);return this.backgroundElement.cc(e).En(),t.prototype.En.call(this)},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.backgroundElement.dispose(),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.backgroundElement.setVisible(e),this},e.prototype.setPadding=function(t){return this.xh="object"===a(t)?C(this.xh,t):{left:t,top:t,right:t,bottom:t},this.In.Sn(),this},e.prototype.getPadding=function(){return this.xh},e.prototype.getSize=function(e){void 0===e&&(e=Xt.Everything);var i=t.prototype.getSize.call(this,e);return e>=Xt.PaddedContent&&(i=y(i.x+this.xh.left+this.xh.right,i.y+this.xh.bottom+this.xh.top)),e>=Xt.PaddedBackground&&(i=y(i.x+this.backgroundElement.lc()+this.backgroundElement.vc(),i.y+this.backgroundElement.dc()+this.backgroundElement.Ac())),i},e.prototype.getPosition=function(e,i){if(void 0===e&&(e=this.origin),void 0===i&&(i=Xt.Everything),i===Xt.Everything)return t.prototype.getPosition.call(this,e,i);var n=t.prototype.getPosition.call(this,y(-1,-1),Xt.Everything),r=this.getMargin(),o=this.scale.Ai(n,{x:r.left,y:r.bottom});if(i===Xt.PaddedBackground){var s=this.getSize(Xt.PaddedBackground);return this.scale.Ai(o,Qi({x:(e.x+1)/2,y:(e.y+1)/2},s))}var a=this.scale.Ai(o,{x:this.backgroundElement.lc(),y:this.backgroundElement.dc()});if(i===Xt.PaddedContent){var u=this.getSize(Xt.PaddedContent);return this.scale.Ai(a,Qi({x:(e.x+1)/2,y:(e.y+1)/2},u))}var l=this.getPadding(),h=this.scale.Ai(a,{x:l.left,y:l.bottom}),c=this.getSize(Xt.Content);return this.scale.Ai(h,Qi({x:(e.x+1)/2,y:(e.y+1)/2},c))},e.prototype.setMouseInteractions=function(e){return t.prototype.setMouseInteractions.call(this,e),this.backgroundElement.setMouseInteractions(e),this},e.prototype.getHighlight=function(){return this.ac},e.prototype.setHighlight=function(t){return this.ac=ri(t),this.backgroundElement.setHighlight(t),this.D.emit("highlight",this,t),this},e}(Ps),Ts=function(t){return"setBackground"in t},ks=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ds=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this)||this;return f.S=0,f.yc=1,f.mc=!0,f.bc=new uo,f.gc=!0,f.Hi=!1,f.axisScale=r,f.renderingScale=o,f.Sc=a,f.xc=u,f.wc=l,f.Vu=h,f.Mc=i,f.Cc=n,f._c=f.$f(f.Mc.Wr(f.renderingScale)),f.$i=c,f.Tc=f.$f(f.wc.setDirection(f.xc).kc(f.Cc,f.renderingScale,s,ue,f.$i,!1).setOrigin(Fe(f.xc))),f.axis=e,f.setMouseInteractions(!1),"major"===f.Tc.Oc?f._c.Ur(c.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):"minor"===f.Tc.Oc?f._c.Ur(c.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):"other"===f.Tc.Oc&&f._c.Ur(c.cursorGridStrokeStyleX),f}return ks(e,t),e.prototype.setValue=function(t){return this.S=t,this.Cc.Sn(),this.D.emit("valueChange",this,this.S),this},e.prototype.getValue=function(){return this.S},e.prototype.setTextFormatter=function(t){return this.Fc=t,this.Cc.Sn(),this},e.prototype.setTickLength=function(t){return this.Tc.setPointerLength(t),this.Mc.Sn(),this},e.prototype.getTickLength=function(){return this.Tc.getPointerLength()},e.prototype.setTickLabelPadding=function(t){return this.Tc.setTickLabelPadding(t),this.Mc.Sn(),this},e.prototype.setTickLabelRotation=function(t){return this.Tc.setTextRotation(t),this.Mc.Sn(),this},e.prototype.getTickLabelRotation=function(){return this.Tc.getTextRotation()},e.prototype.getTickLabelPadding=function(){return this.Tc.getTickLabelPadding()},e.prototype.setGridStrokeLength=function(t){return this.yc=t,this.Mc.Sn(),this},e.prototype.getGridStrokeLength=function(){return this.yc},e.prototype.setGridStrokeStyle=function(t){return this._c.Ur(t),this.Mc.Sn(),this},e.prototype.getGridStrokeStyle=function(){return this._c.vf()},e.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this._c.dispose(),this.Tc.dispose(),this.Vu(this),this.Mc.fn.Sn(),this.D.emit("dispose",this)),this},e.prototype.onDispose=function(t){return this.D.on("dispose",t)},e.prototype.offDispose=function(t){return this.D.off(t,"dispose")},e.prototype.setMarkerVisible=function(t){return this.mc=t,this.Cc.Sn(),this},e.prototype.getMarkerVisible=function(){return this.mc},e.prototype.setMarker=function(t){return t(this.Tc),this.Cc.Sn(),this},e.prototype.getMarker=function(){return this.Tc},e.prototype.setMouseInteractions=function(t){return this.Tc.setMouseInteractions(t),this._c.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this._c.getMouseInteractions()},e.prototype.setAllocatesAxisSpace=function(t){return this.gc=t,this.Cc.Sn(),this},e.prototype.getAllocatesAxisSpace=function(){return this.gc},e.prototype.isInScale=function(){return _i(this.S,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())},e.prototype.onValueChange=function(t){return this.D.on("valueChange",t)},e.prototype.offValueChange=function(t){return this.D.off(t,"valueChange")},e}(bs),Fs=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,c,l,h)||this;return f.Ic=!1,f.Vu=l,f.Mc=i,f.Cc=n,f}return ks(e,t),e.prototype.dispose=function(){return this.Ic=!1,t.prototype.dispose.call(this)},e.prototype.update=function(){return this},e.prototype.plot=function(t,e,i,n,r){if(this.isInScale()&&this.getVisible()&&t){this.Ic=!1;var o=Ct(this.S,this.axisScale,this.Sc.getWidth(this.renderingScale));this._c.setVisible(!0).Xr(this.Sc.toPoint(o,e)).Yr(this.Sc.toPoint(o,e-(n+i*this.yc))),this.mc?(this.Fc&&this.Tc.setText(this.Fc(this.S,this)),this.Tc.setVisible(!0).setPosition(this.Sc.toPoint(o,r))):this.Tc.setVisible(!1)}else this._c.setVisible(!1),this.Tc.setVisible(!1);return this.Tc.En().Pr(),this},e.prototype.jc=function(){var t=this.Tc.En().getSize();return this.Sc.getHeight(t)},e}(Ds),_s=function(){return(_s=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Is=function(t,e){return t.setTextFillStyle(e.uiTextFillStyle).setTextFont(e.uiTextFont)},Os=function(t,e){return He(t.setButtonSize(e.uiButtonSize),e,!1,{fill:e.uiButtonFillStyle}),t},Bs=function(t,e,i){i&&Ts(t)&&t.setBackground((function(t){return t.setFillStyle(e.uiBackgroundFillStyle).setStrokeStyle(e.uiBackgroundStrokeStyle)})).setEffect(!0)},zs={uiElement:void 0,stylers:n.a(),addStyler:function(t){return _s(_s({},this),{stylers:this.stylers.push(t)})},applyStylers:function(t,e){return this.stylers.forEach((function(i){return void 0!==i?i(t,e):void 0})),t}},Ls={background:void 0,setBackground:function(t){return _s(_s({},this),{background:t})}},Rs={kc:function(t,e,i,n,r,o){var s=this.applyStylers(new this.uiElement(t,e,i,n,r),r);return Bs(s,r,o),s}},Vs={kc:function(t,e,i,n,r,o){var s=this.applyStylers(new this.uiElement(t,e,i,this.background,n,r),r);return Bs(s,r,o),s}},Ns=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Us=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Dc=!0,e}return Ns(e,t),e.prototype.Pr=function(){return t.prototype.Pr.call(this),this},e.prototype.setMouseInteractions=function(t){return this.Dc=t,this},e.prototype.getMouseInteractions=function(){return this.Dc},e.prototype.uc=function(){return[]},e}(Ps),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ns(e,t),e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.cc=function(t){return this.size=t,this},e.prototype.lc=function(){return 0},e.prototype.vc=function(){return 0},e.prototype.Ac=function(){return 0},e.prototype.dc=function(){return 0},e.prototype.setHighlight=function(t){return this},e.prototype.getHighlight=function(){return 0},e.prototype.setFillStyle=function(){return this},e.prototype.getFillStyle=function(){return J},e.prototype.setStrokeStyle=function(){return this},e.prototype.getStrokeStyle=function(){return gt},e.prototype.setStrokeThickness=function(){return this},e.prototype.getStrokeThickness=function(){return 0},e}(Us),Gs=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),js=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.D=new r.a,e.ac=0,e}return Gs(e,t),e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.getHighlight=function(){return this.ac},e.prototype.setHighlight=function(t){return this.ac=t,this.uc().forEach((function(e){return e.cn(t)})),this.D.emit("highlight",this,t),this.In.Sn(),this},e}(Ps),Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gs(e,t),e}(js),Xs=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,o,s)||this;return a.In=e,a.Yh=a.In.Bc(a.renderingScale,cs.Simple).setVisible(!1).Br(J).Dr(gt),a.$f(a.Yh),a}return Gs(e,t),e.prototype.Ec=function(){var t=this,e=this.Pc();if(e.length>2){var i=Li(e),n=y(i.max.x-i.min.x,i.max.y-i.min.y);this.setContentSize(n);var r=e.map((function(e){var r=Hi(e,Xi(i.min,-1));return t.scale.Ai(t.position,Hi(r,Qi(Xi(Hi(t.origin,y(1,1)),-.5),n)))})).map((function(e){return Pt(e,t.scale,t.renderingScale)}));this.Yh.ga(r).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.Yh&&this.Yh.setVisible(!1),this.setContentSize(y(0,0))},e.prototype.Pr=function(){return t.prototype.Pr.call(this),this.Hi||this.Ec(),this},e.prototype.En=function(){return this.Ec(),t.prototype.En.call(this)},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.Yh.setVisible(e),this},e}(Ws),Hs=function(t,e,i){return t*(1-i)+e*i},Zs=function(t,e,i,n,r){if(void 0!==e.value&&void 0!==i.value&&void 0!==n.value&&void 0!==r.value){var o=(t.x-i.point.x)/(r.point.x-i.point.x),s=(r.point.y-i.point.y)*o+i.point.y,a=(t.x-e.point.x)/(n.point.x-e.point.x),u=(n.point.y-e.point.y)*a+e.point.y,l=(t.y-u)/(s-u),h=Hs(i.value,r.value,o),c=Hs(e.value,n.value,a);return Hs(c,h,l)}},Qs={warm:function(t){return function(e){return F(60/(t-1)*e,.8,.8)}},cold:function(t){return function(e){return F(60/(t-1)*e+180,.8,.8)}},fullSpectrum:function(t){return function(e){return F(360/t*e,.8,.8)}},reverseSpectrum:function(t){return function(e){return F(360/t*(t-e),.8,.8)}},flatUI:function(t){return function(e){return F(360/t*e+8,.8,.8-.15/t*e)}},arction:function(t){return function(e){var i=1-.2/t*e;return F(360/t*e+51,i,i)}},arctionWarm:function(t){return function(e){var i=t-1,n=1-.2/i*e;return F(46-46/i*e+4,n,n)}},sunset:function(t){return function(e){var i=[170,320];return F(e%2?i[0]:i[1],.8,.5+.5/(t-1)*e)}},dynamic:function(t){return function(e){var i=e%2,n=[234,346];return F(i?n[0]:n[1],i?.3:.9,.5+.5/(t-1)*e)}},magenta:function(t){return function(e){var i=[.9,.6];return F(354,e%2?i[0]:i[1],.5+.5/(t-1)*e)}},greyscale:function(t){return function(e){return F(0,0,.25+.5/(t-1)*e)}},frozen:function(t){return function(e){var i=[.8,.6];return F(160+80/(t-1)*e,.6,e%2?i[0]:i[1])}},retro:function(t){return function(e){var i=[6,183];return F(e%2?i[0]:i[1],.7,.5+.5/(t-1)*e)}},crayons:function(t){return function(e){var i=180+230/(t-1)*e;return i>360&&(i-=360),F(i,.9,.8)}},custom:function(t,e){return function(i){var n=.25+.5/(t-1)*i;if(!e)return F(0,0,n);var r=e.getR()/255,o=e.getG()/255,s=e.getB()/255,a=Math.max(r,o,s),u=Math.min(r,o,s),l=0;if(a!==u){var h=a-u;switch(a){case r:l=(o-s)/h+(o<s?6:0);break;case o:l=(s-r)/h+2;break;case s:l=(r-o)/h+4;break;default:l=0}return F(l=l/6*360,.8,n)}return F(0,0,n)}},sector:function(t,e,i,n){return void 0===i&&(i=.8),void 0===n&&(n=.8),function(r){return function(o){return F(t+(e-t)/r*o,i,n)}}},auroraBorealis:function(t){return function(e){return qs([{value:0,hex:"#23FF7A"},{value:1/9,hex:"#03E65D"},{value:2/9,hex:"#04D155"},{value:3/9,hex:"#00B849"},{value:4/9,hex:"#00A869"},{value:5/9,hex:"#008F68"},{value:6/9,hex:"#00815E"},{value:7/9,hex:"#017153"},{value:8/9,hex:"#704A85"},{value:1,hex:"#743A70"}],t,e)}},blueSciFi:function(t){return function(e){return qs([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#E2E7FF"},{value:2/9,hex:"#ACB9F8"},{value:3/9,hex:"#889DFF"},{value:4/9,hex:"#547EEF"},{value:5/9,hex:"#4068D8"},{value:6/9,hex:"#2B50B7"},{value:7/9,hex:"#1B3E9F"},{value:8/9,hex:"#8D1395"},{value:1,hex:"#780A74"}],t,e)}},light:function(t){return function(e){return qs([{value:0,hex:"#FECC00"},{value:1/9,hex:"#F7B300"},{value:2/9,hex:"#EF9900"},{value:3/9,hex:"#E88000"},{value:4/9,hex:"#E06600"},{value:5/9,hex:"#DD5A00"},{value:6/9,hex:"#D94D00"},{value:7/9,hex:"#D13300"},{value:8/9,hex:"#C91A00"},{value:1,hex:"#C10000"}],t,e)}},monochrome:function(t){return function(e){return qs([{value:0,hex:"#FFFFFF"},{value:1/9,hex:"#EEEEEE"},{value:2/9,hex:"#DCDCDC"},{value:3/9,hex:"#C1C1C1"},{value:4/9,hex:"#A4A2A2"},{value:5/9,hex:"#8B8B8B"},{value:6/9,hex:"#787878"},{value:7/9,hex:"#656565"},{value:8/9,hex:"#565555"},{value:1,hex:"#434343"}],t,e)}},night:function(t){return function(e){return qs([{value:0,hex:"#F0F9E0"},{value:1/9,hex:"#C9DFA4"},{value:2/9,hex:"#B5C796"},{value:3/9,hex:"#8998B7"},{value:4/9,hex:"#6E7E9E"},{value:5/9,hex:"#5C6D8F"},{value:6/9,hex:"#47587A"},{value:7/9,hex:"#374B72"},{value:8/9,hex:"#273C65"},{value:1,hex:"#192847"}],t,e)}},sunset2:function(t){return function(e){return qs([{value:0,hex:"#22334D"},{value:1/9,hex:"#82062C"},{value:2/9,hex:"#AB001D"},{value:3/9,hex:"#D80428"},{value:4/9,hex:"#CF5D1B"},{value:5/9,hex:"#CF8229"},{value:6/9,hex:"#CF9D29"},{value:7/9,hex:"#C4BE25"},{value:8/9,hex:"#E1DC49"},{value:1,hex:"#FFFA67"}],t,e)}}},qs=function(t,e,i){var n=Js(e,i),r=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}($s(n,t),2),o=r[0],s=r[1],a=Ks(t[o]),u=Ks(t[s]),l=0!==a.value?(u.value-n)/a.value:0,h={value:l,h:Hs(a.h,u.h,l),s:Hs(a.s,u.s,l),v:Hs(a.v,u.v,l)};return F(h.h,h.s,h.v)},Ks=function(t){var e=function(t){var e=t.r,i=t.g,n=t.b,r=Math.max(e,i,n),o=Math.min(e,i,n),s=0,a=r,u=r-o,l=0===r?0:u/r;if(r===o)s=0;else{switch(r){case e:s=(i-n)/u+(i<n?6:0);break;case i:s=(n-e)/u+2;break;case n:s=(e-i)/u+4}s/=6}return[360*s,l,a]}(D(t.hex));return{value:t.value,h:e[0],s:e[1],v:e[2]}},Js=function(t,e){var i=e/t;return i<0?0:i>1?1:i},$s=function(t,e){if(e.length<2)throw new Error("Invalid palette size");for(var i=0;i<e.length;i+=1)if(t<e[i].value)return[i-1,i];return[e.length-2,e.length-1]},ta=function(){this.type="simple"},ea=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"simple"!==t.type)},ia=new ta,na=function(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=D("#000"),this.specularColor=D("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)},ra=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"phong"!==t.type)},oa=new na,sa={Simple:ta,Phong:na},aa=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.Fill=0]="Fill",t[t.Fit=1]="Fit",t[t.Stretch=2]="Stretch",t[t.Center=3]="Center",t[t.Tile=4]="Tile"}(ms||(ms={}));var ua,la=function(t){function e(e){return t.call(this,e)||this}return aa(e,t),e.prototype.setSource=function(t){return this.set("source",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.setSurroundingColor=function(t){return T(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))},e.prototype.getSurroundingColor=function(){return this.get("surroundingColor")},e.prototype.setSourceMissingColor=function(t){return T(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))},e.prototype.getSourceMissingColor=function(){return this.get("sourceMissingColor")},e.prototype.setFitMode=function(t){return this.set("fitMode",t)},e.prototype.getFitMode=function(){return this.get("fitMode")},e.prototype.toString=function(){return"imagefill:".concat(this.fitMode)},e}(Object(n.b)({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:k(0,0,0,0),sourceMissingColor:k(0,0,0,0),fitMode:ms.Fill})),ha=function(t){return!!(t&&"object"===a(t)&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"image"===t.fillType)},ca=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fa=function(){return(fa=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pa={Dotted:[1,3],DottedDense:[1,1],Dashed:[3,1],DashedEqual:[2,2],DashedLoose:[2,4],DashDotted:[3,2,1,2]},da=function(t){function e(e){return t.call(this,fa(fa({},e),{lineType:"dashed"}))||this}return ca(e,t),e.prototype.setFillStyle=function(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)},e.prototype.getFillStyle=function(){return this.get("fillStyle")},e.prototype.setThickness=function(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)},e.prototype.getThickness=function(){return this.get("thickness")},e.prototype.V=function(){var t=this.getThickness();return t<0?1:t},e.prototype.setPattern=function(t){return"function"==typeof t?this.set("pattern",t(this.getPattern())):this.set("pattern",t)},e.prototype.getPattern=function(){return this.get("pattern")},e.prototype.setPatternScale=function(t){return"function"==typeof t?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)},e.prototype.getPatternScale=function(){return this.get("patternScale")},e}(Object(n.b)({type:"linestyle",lineType:"dashed",pattern:pa.DashedEqual,fillStyle:new et({color:k(255,255,255)}),thickness:1,patternScale:3})),ya=function(t){return!(!t||"object"!==a(t)||!("lineType"in t)||"dashed"!==t.lineType)},va=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ga=function(){return(ga=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ma=function(t){function e(e,i,n,r){return t.call(this,ga(ga({},r),{Lc:e,zc:i,Vc:n}))||this}return va(e,t),e.prototype.dispose=function(){return this.Vc(this),this},e.prototype.setWidth=function(t){var e=this.set("width",t);return this.zc(e),e},e.prototype.getWidth=function(){return this.get("width")},e.prototype.setHeight=function(t){var e=this.set("height",t);return this.zc(e),e},e.prototype.getHeight=function(){return this.get("height")},e.prototype.setSize=function(t,e){var i=this.withMutations((function(i){i.set("width",t).set("height",e)}));return this.zc(i),i},e.prototype.oi=function(){if(!this.Lc)return{x:0,y:0};var t=this.Lc.width,e=this.Lc.height;if(0===t||0===e)return{x:0,y:0};var i=this.width,n=this.height;return"number"==typeof i&&"number"==typeof n?{x:i,y:n}:"number"==typeof i?{x:i,y:e*i/t}:"number"==typeof n?{x:t*n/e,y:n}:{x:t,y:e}},e}(Object(n.b)({type:"icon",width:void 0,height:void 0,Lc:void 0,zc:ue,Vc:ue})),xa=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"icon"!==t.type)},Sa=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Aa=function(t){function e(e){return t.call(this,e)||this}return Sa(e,t),e.prototype.setSpread=function(t){return this.set("spread","function"==typeof t?t(this.get("spread")):t)},e.prototype.getSpread=function(){return this.get("spread")},e.prototype.setBlur=function(t){return this.set("blur","function"==typeof t?t(this.get("blur")):t)},e.prototype.getBlur=function(){return this.get("blur")},e.prototype.setColor=function(t){return this.set("color","function"==typeof t?t(this.get("color")):t)},e.prototype.getColor=function(){return this.get("color")},e.prototype.setOffset=function(t){return this.set("offset","function"==typeof t?t(this.get("offset")):t)},e.prototype.getOffset=function(){return this.get("offset")},e}(Object(n.b)({type:"glow",color:k(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}})),ba=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"glow"!==t.type)},Ma=function(){return(Ma=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},wa=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Ca=function(){function t(t){this.Nc=0,this.Rc=0,this.Gc=0,this.Uc=!1,this.Wc=!0,this.Yc=!1,this.Xc={warningDisplayed:!1,expandEvents:[]},this.D=new r.a,this.Wc=!t||void 0===t.autoSortingEnabled||t.autoSortingEnabled,void 0!==(null==t?void 0:t.dataPattern)&&(this.Hc={userSpecified:null===t.dataPattern?void 0:t.dataPattern}),this.Zc=void 0!==(null==t?void 0:t.lookupValues)&&t.lookupValues,this.Qc=void 0!==(null==t?void 0:t.colors)&&t.colors,this.Kc=void 0!==(null==t?void 0:t.ids)&&t.ids,this.Jc=void 0!==(null==t?void 0:t.sizes)&&t.sizes,this.qc=void 0!==(null==t?void 0:t.rotations)&&t.rotations,this.$c=(null==t?void 0:t.dataStorage)?t.dataStorage:Float64Array,this.tl=!1!==(null==t?void 0:t.allowInputModification)}return t.prototype.add=function(t){return Array.isArray(t)?this.appendJSON(t,{x:"x",y:"y"}):this.appendSample(t),this},t.prototype.addArraysXY=function(t,e){return this.appendSamples({xValues:t,yValues:e}),this},t.prototype.appendJSON=function(t,e){void 0===e&&(e={x:"x",y:"y"});var i,n,r,o,s,a,u,l=t.length,h=e.x,c=e.y,f=e.lookupValue,p=e.size,d=e.rotation,y=e.color,v=e.id;if(h){i=new this.$c(l);var g=t[0]&&t[0][h]instanceof Date;if(t[0]&&"string"==typeof t[0][h])for(var m=0;m<l;m+=1){var x=t[m];i[m]=new Date(x[h]).getTime()}else if(g)for(m=0;m<l;m+=1)x=t[m],i[m]=x[h].getTime();else for(m=0;m<l;m+=1)x=t[m],i[m]=x[h]}if(c)if(n=new this.$c(l),g=t[0]&&t[0][c]instanceof Date,t[0]&&"string"==typeof t[0][c])for(m=0;m<l;m+=1)x=t[m],n[m]=new Date(x[c]).getTime();else if(g)for(m=0;m<l;m+=1)x=t[m],n[m]=x[c].getTime();else for(m=0;m<l;m+=1)x=t[m],n[m]=x[c];if(f)for(r=new Float32Array(l),m=0;m<l;m+=1)x=t[m],r[m]=x[f];if(y)for(o=[],m=0;m<l;m+=1)x=t[m],o[m]=x[y];if(v)for(s=new Uint32Array(l),m=0;m<l;m+=1)x=t[m],s[m]=x[v];if(p)for(a=new Float32Array(l),m=0;m<l;m+=1)x=t[m],a[m]=x[p];if(d)for(u=new Float32Array(l),m=0;m<l;m+=1)x=t[m],u[m]=x[d];return this.appendSamples({xValues:i,yValues:n,ids:s,colors:o,lookupValues:r,sizes:a,rotations:u,start:e.start,step:e.step}),this},t.prototype.appendSample=function(t){var e=this.il({appendCount:1}),i=e.samplesCacheX,n=e.samplesCacheY,r=e.samplesCacheColors,o=e.samplesCacheIDs,s=e.samplesCacheLookup,a=e.samplesCacheSize,u=e.samplesCacheRotation,l=e.maxSampleCount,h=e.dataPattern,c=this.nl(),f=void 0!==t.step?t.step:1,p=void 0!==t.x?"number"==typeof t.x?t.x:"string"==typeof t.x?new Date(t.x).getTime():t.x.getTime():c?c.x+f:0,d=void 0!==t.y?"number"==typeof t.y?t.y:"string"==typeof t.y?new Date(t.y).getTime():t.y.getTime():c?c.y+f:0;if(h&&this.Wc&&this.rl&&this.el&&!this.ol(h,p,d)&&!this.Yc)return this.sl(this.rl,this.el,new this.$c([p]),new this.$c([d]),void 0!==t.lookupValue?new Float32Array([t.lookupValue]):void 0,void 0!==t.color?this.ul((t.color,[t.color])):void 0,void 0!==t.id?new Uint32Array([t.id]):void 0,void 0!==t.size?new Float32Array([t.size]):void 0,void 0!==t.rotation?new Float32Array([t.rotation]):void 0,h),this;if(i[this.Nc]=p,n[this.Nc]=d,void 0!==t.lookupValue&&s&&(s[this.Nc]=t.lookupValue),void 0!==t.color&&r){var y=this.ul((t.color,[t.color]));void 0!==y&&(r[this.Nc]=y[0])}return void 0!==t.id&&o&&(o[this.Nc]=t.id),void 0!==t.size&&a&&(a[this.Nc]=t.size),void 0!==t.rotation&&u&&(u[this.Nc]=t.rotation),this.hl(this.Nc,this.Nc),this.Nc+=1,this.Nc>l-1&&(this.Nc=0,this.Uc=!0),this.Rc=Math.min(this.Rc+1,l),this.Gc+=1,this},t.prototype.appendSamples=function(t){var e=t.lookupValues,i=t.colors,n=t.ids,r=t.sizes,o=t.rotations,s=t.start,a=t.step,u=t.offset,l=t.count,h=t.xValues||t.yValues;if(!h)return this;var c=h.length;if(u=void 0!==u?u:0,(l=void 0!==l?l:c-u)<=0)return this;var f=void 0!==t.offsetLookupValues?t.offsetLookupValues:u,p=void 0!==t.offsetColors?t.offsetColors:u,d=void 0!==t.offsetIds?t.offsetIds:u,y=void 0!==t.offsetSizes?t.offsetSizes:u,v=void 0!==t.offsetRotations?t.offsetRotations:u,g=this.al(!0),m=wa(this.fl(l,t.xValues,"x","ProgressiveX"===g||"RegressiveX"===g||void 0===g?s:void 0,"ProgressiveX"===g||"RegressiveX"===g||void 0===g?a:void 0,u),2),x=m[0],S=m[1],A=wa(this.fl(l,t.yValues,"y","ProgressiveY"===g||"RegressiveY"===g?s:void 0,"ProgressiveY"===g||"RegressiveY"===g?a:void 0,u),2),b=A[0],M=A[1],w=this.ul(i),C=this.il(Ma({appendCount:l},0===S&&0===M&&0===u&&0===f&&0===p&&0===d&&0===y&&0===v?{incomingDataX:x,incomingDataY:b,incomingDataLookup:e,incomingDataIDs:n,incomingDataColors:w,incomingDataSize:r,incomingDataRotation:o}:{})),P=C.samplesCacheX,E=C.samplesCacheY,T=C.samplesCacheLookup,k=C.samplesCacheColors,D=C.samplesCacheIDs,F=C.samplesCacheSize,_=C.samplesCacheRotation,I=C.maxSampleCount,O=C.dataPattern,B=C.incomingDataReplacedCache;if(!B&&O&&this.Wc&&this.rl&&this.el){var z=x[S],L=b[M];if(!this.ol(O,z,L)&&!this.Yc)return this.sl(this.rl,this.el,Fa(x,S,S+l),Fa(b,M,M+l),Fa(e,f,f+l),Fa(w,p,p+l),Fa(n,d,d+l),Fa(r,y,y+l),Fa(o,v,v+l),O),this}var R=I-this.Nc,V=Math.min(l,R);if(V>0&&(B||(ka(P,x,S,V,this.Nc),ka(E,b,M,V,this.Nc),e&&T&&ka(T,e,f,V,this.Nc),n&&D&&ka(D,n,d,V,this.Nc),w&&k&&ka(k,w,p,V,this.Nc),r&&F&&ka(F,r,y,V,this.Nc),o&&_&&ka(_,o,v,V,this.Nc)),this.hl(this.Nc,this.Nc+V-1),this.Nc+=V,this.Nc>I-1&&(this.Nc=0,this.Uc=!0)),this.Rc=Math.min(this.Rc+V,I),this.Gc+=V,this.al(),l-V>0){var N={xValues:x?Fa(x,S+V,void 0):void 0,yValues:b?Fa(b,M+V,void 0):void 0,lookupValues:e?Fa(e,f+V,void 0):void 0,ids:n?Fa(n,d+V,void 0):void 0,colors:w?Fa(w,p+V,void 0):void 0,sizes:r?Fa(r,y+V,void 0):void 0,rotations:o?Fa(o,v+V,void 0):void 0};this.appendSamples(N)}return this},t.prototype.setSamples=function(t){return this.clear().appendSamples(t)},t.prototype.fill=function(t){var e=this.rl||this.el;if(!e)return this;var i=e.length;if(void 0!==t.x&&(this.rl=this.rl||new this.$c(i),this.rl.fill(t.x)),void 0!==t.y&&(this.el=this.el||new this.$c(i),this.el.fill(t.y)),void 0!==t.lookupValue&&(this.cl=this.cl||new Float32Array(i),this.cl.fill(t.lookupValue)),void 0!==t.color){var n=this.ul([t.color]);n&&(this.ll=this.ll||new Uint32Array(i),this.ll.fill(n[0]))}return void 0!==t.size&&(this.vl=this.vl||new Float32Array(i),this.vl.fill(t.size)),void 0!==t.rotation&&(this.dl=this.dl||new Float32Array(i),this.dl.fill(t.rotation)),this.D.emit("cleared"),this},t.prototype.alterSamples=function(t,e){var i=e.xValues,n=e.yValues,r=e.lookupValues,o=e.colors,s=e.ids,a=e.sizes,u=e.rotations,l=e.offset,h=e.count,c=i||n||r||o||s||a||u,f=c?c.length:void 0!==e.x||void 0!==e.y?1:0;if(l=void 0!==l?l:0,(h=void 0!==h?h:f-l)<=0)return this;var p=void 0!==e.offsetLookupValues?e.offsetLookupValues:l,d=void 0!==e.offsetColors?e.offsetColors:l,y=void 0!==e.offsetIds?e.offsetIds:l,v=void 0!==e.offsetSizes?e.offsetSizes:l,g=void 0!==e.offsetRotations?e.offsetRotations:l,m=this.ul(o),x=this.Gc-1,S=void 0!==this.Al?Math.max(this.Gc-this.Al,0):0,A=t+h-1,b=Math.max(t,S),M=Math.min(A,x),w=M-b+1;if(this.Gc>0&&w>0){var C=this.il({appendCount:0}),P=C.samplesCacheX,E=C.samplesCacheY,T=C.samplesCacheColors,k=C.samplesCacheIDs,D=C.samplesCacheLookup,F=C.samplesCacheSize,_=C.samplesCacheRotation,I=P.length;if(void 0!==this.Al&&this.Uc&&this.Gc%this.Al!=0){var O=this.Gc-this.Gc%this.Al,B=this.Gc-1,z=this.Gc-this.Rc,L=O-1,R=Math.max(b,z),V=Math.min(M,L)-R+1;if(V>0){var N=R-t,U=Pa(R,this.Gc,I,this.Nc);if(void 0!==e.x)for(W=U;W<U+V;W+=1)P[W]=e.x;if(void 0!==e.y)for(W=U;W<U+V;W+=1)E[W]=e.y;i&&ka(P,i,l+N,V,U),n&&ka(E,n,l+N,V,U),r&&D&&ka(D,r,p+N,V,U),s&&k&&ka(k,s,y+N,V,U),m&&T&&ka(T,m,d+N,V,U),a&&F&&ka(F,a,v+N,V,U),u&&_&&ka(_,u,g+N,V,U)}var Y=Math.max(b,O),G=Math.min(M,B)-Y+1;if(G>0){if(N=Y-t,U=Pa(Y,this.Gc,I,this.Nc),void 0!==e.x)for(W=U;W<U+G;W+=1)P[W]=e.x;if(void 0!==e.y)for(W=U;W<U+G;W+=1)E[W]=e.y;i&&ka(P,i,l+N,G,U),n&&ka(E,n,l+N,G,U),r&&D&&ka(D,r,p+N,G,U),s&&k&&ka(k,s,y+N,G,U),m&&T&&ka(T,m,d+N,G,U),a&&F&&ka(F,a,v+N,G,U),u&&_&&ka(_,u,g+N,G,U)}}else{var j=b-S;if(void 0!==e.x)for(var W=j;W<j+w;W+=1)P[W]=e.x;if(void 0!==e.y)for(W=j;W<j+w;W+=1)E[W]=e.y;n&&ka(E,n,l,w,j),i&&ka(P,i,l,w,j),n&&ka(E,n,l,w,j),r&&D&&ka(D,r,p,w,j),s&&k&&ka(k,s,y,w,j),m&&T&&ka(T,m,d,w,j),a&&F&&ka(F,a,v,w,j),u&&_&&ka(_,u,g,w,j)}this.D.emit("cleared")}var X=t+h-1-x;if(X>0){var H=M+1-t;this.appendSamples({xValues:i,yValues:n,lookupValues:r,colors:o,ids:s,sizes:a,rotations:u,offset:l+H,offsetLookupValues:p+H,offsetColors:d+H,offsetIds:y+H,offsetSizes:v+H,offsetRotations:g+H,count:X})}return this},t.prototype.alterSamplesByID=function(t,e){var i=this;if(!this.Kc)throw new Error("LightningChart JS attempted to use alterSamplesByID on DataSetXY that doesn't have IDs enabled.");var n=t.length,r=this.yl;if(n<=0||!r)return this;for(var o=(("object"===a(e.color)?this.ul([e.color]):"number"==typeof e.color?[e.color]:[])||[])[0],s=Array.isArray(e.xValues)?new this.$c(e.xValues):e.xValues,u=Array.isArray(e.yValues)?new this.$c(e.yValues):e.yValues,l=Array.isArray(e.yValues)?new Float32Array(e.yValues):e.yValues,h=this.ul(e.colors),c=Array.isArray(e.sizes)?new Float32Array(e.sizes):e.sizes,f=Array.isArray(e.rotations)?new Float32Array(e.rotations):e.rotations,p=r.length,d=this.Rc,y=this.Gc-1,v=Math.max(y-d+1,0),g=0;g<n;g+=1){var m=t[g],x=Ta(m,v,y,(function(t){return r[Pa(t,i.Gc,p,i.Nc)]})),S=Pa(x,this.Gc,p,this.Nc);r[S]===m&&(void 0!==e.x&&this.rl&&(this.rl[S]=e.x),void 0!==e.y&&this.el&&(this.el[S]=e.y),void 0!==e.lookupValue&&this.cl&&(this.cl[S]=e.lookupValue),void 0!==e.size&&this.vl&&(this.vl[S]=e.size),void 0!==e.rotation&&this.dl&&(this.dl[S]=e.rotation),void 0!==o&&this.ll&&(this.ll[S]=o),s&&this.rl&&(this.rl[S]=s[g]),u&&this.el&&(this.el[S]=u[g]),l&&this.cl&&(this.cl[S]=l[g]),h&&this.ll&&(this.ll[S]=h[g]),c&&this.vl&&(this.vl[S]=c[g]),f&&this.dl&&(this.dl[S]=f[g]))}return this.D.emit("cleared"),this},t.prototype.clear=function(){return this.Nc=0,this.Rc=0,this.Gc=0,this.Uc=!1,this.D.emit("cleared"),this},t.prototype.getSampleCount=function(){return this.Rc},t.prototype.getNextSampleIndex=function(){return this.Gc},t.prototype.setMaxSampleCount=function(t){var e=this;if("object"===a(t)){this.ml&&this.offMaxSampleCountExceeded(this.ml);var i=t.max,n=t.initial;this.ml=this.onMaxSampleCountExceeded((function(t,n,r,o){!function(t){var n=e.Al||0;if(!(void 0!==i&&n>=i)){var r=Math.max(2*n,t);void 0!==i&&(r=Math.min(r,i)),e.setMaxSampleCount(r)}}(o)})),void 0===this.Al&&(void 0!==n?this.setMaxSampleCount(n):this.setMaxSampleCount(Math.min(2*this.Rc,void 0!==i?i:Number.MAX_SAFE_INTEGER)))}else if("number"==typeof t){var r=t;if(void 0!==this.Al&&this.Al>r)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.rl||!this.el)return this.Al=r,this;if(r===this.Al)return this;if(this.Uc&&0!==this.Nc)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.Al=r,this.Rc<r?(this.Nc=this.Rc,this.Uc=!1):(this.Nc=0,this.Uc=!0);var o=new this.$c(this.Al);o.set(this.rl);var s=new this.$c(this.Al);if(s.set(this.el),this.rl=o,this.el=s,this.Zc){var u=new Float32Array(this.Al);this.cl&&u.set(this.cl),this.cl=u}if(this.Kc){var l=new Uint32Array(this.Al);this.yl&&l.set(this.yl),this.yl=l}if(this.Qc){var h=new Uint32Array(this.Al);this.ll&&h.set(this.ll),this.ll=h}if(this.Jc){var c=new Float32Array(this.Al);this.vl&&c.set(this.vl),this.vl=c}this.qc&&(c=new Float32Array(this.Al),this.dl&&c.set(this.dl),this.dl=c)}return this},t.prototype.getMaxSampleCount=function(){return this.Al},t.prototype.readBack=function(t){var e,i;if(!this.rl||!this.el)return{xValues:new this.$c,yValues:new this.$c,iSampleFirst:0};var n,r=this.rl.length,o=[];if(null==t?void 0:t.onlyInRange){var s=this.bl();if(!s)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `visibleOnly: true` without a data pattern.\nThis operation is only supported for patterned data (e.g. 'ProgressiveX')");var a=Math.min(t.onlyInRange.start,t.onlyInRange.end),u=Math.max(t.onlyInRange.start,t.onlyInRange.end),l=Ea(a,u,this.rl,this.Gc,this.Rc,this.Nc,s,0);if(!l)return{xValues:new this.$c,yValues:new this.$c,iSampleFirst:0};o=l.dataRanges,n=l.iFirstSample}else if(void 0!==this.Al&&this.Uc&&this.Gc%this.Al!=0){var h=this.Nc,c=r-h,f=this.Nc-1;o.push({offset:h,count:c}),o.push({offset:0,count:f+1}),n=this.Gc-r}else o.push({offset:0,count:this.Rc}),n=0;var p=o.reduce((function(t,e){return t+e.count}),0),d=new this.$c(p),y=new this.$c(p),v=this.Qc?new Uint32Array(p):void 0,g=this.Zc?new Float32Array(p):void 0,m=this.Kc?new Uint32Array(p):void 0,x=this.Jc?new Float32Array(p):void 0,S=this.qc?new Float32Array(p):void 0,A=0;try{for(var b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),M=b.next();!M.done;M=b.next()){var w=M.value;d.set(this.rl.subarray(w.offset,w.offset+w.count),A),y.set(this.el.subarray(w.offset,w.offset+w.count),A),this.Qc&&v&&this.ll&&v.set(this.ll.subarray(w.offset,w.offset+w.count),A),this.Zc&&g&&this.cl&&g.set(this.cl.subarray(w.offset,w.offset+w.count),A),this.Kc&&m&&this.yl&&m.set(this.yl.subarray(w.offset,w.offset+w.count),A),this.Jc&&x&&this.vl&&x.set(this.vl.subarray(w.offset,w.offset+w.count),A),this.qc&&S&&this.dl&&S.set(this.dl.subarray(w.offset,w.offset+w.count),A),A+=w.count}}catch(t){e={error:t}}finally{try{M&&!M.done&&(i=b.return)&&i.call(b)}finally{if(e)throw e.error}}return{xValues:d,yValues:y,iSampleFirst:n,lookupValues:g,colors:v,ids:m,sizes:x,rotations:S}},t.prototype.onMaxSampleCountExceeded=function(t){return this.D.on("maxSampleCountExceeded",t)},t.prototype.offMaxSampleCountExceeded=function(t){return this.D.off(t)},t.prototype.fl=function(t,e,i,n,r,o){if(void 0===e){var s=this.nl();r=void 0!==r?r:1,n=void 0!==n?n:s?s[i]+r:0;for(var a=new this.$c(t),u=0;u<t;u+=1)a[u]=n+u*r;return[a,0]}var l=e[0]&&e[0]instanceof Date,h=e[0]&&"string"==typeof e[0];if(void 0!==n||void 0!==r){if(s=this.nl(),r=void 0!==r?r:1,n=void 0!==n?n:s?s[i]+r:0,a=new this.$c(t),h)for(u=0;u<t;u+=1)a[u]=n+new Date(e[u+o]).getTime()*r;else if(l)for(u=0;u<t;u+=1)a[u]=n+e[u+o].getTime()*r;else for(u=0;u<t;u+=1)a[u]=n+e[u+o]*r;return[a,0]}if(h){var c=new this.$c(t);for(u=0;u<t;u+=1)c[u]=new Date(e[u]).getTime();return[c,o]}if(l){for(c=new this.$c(t),u=0;u<t;u+=1)c[u]=e[u].getTime();return[c,o]}return[e,o]},t.prototype.ul=function(t){if(t&&0!==t.length){var e=t[0];if(T(e)){for(var i=t.length,n=new Uint32Array(i),r=0;r<i;r+=1){var o=t[r],s=255*o.a<<24|255*o.b<<16|255*o.g<<8|255*o.r;n[r]=s}return n}return t}},t.prototype.pl=function(){return{min:0,max:void 0!==this.Al&&this.Uc?this.Al-1:this.Rc-1}},t.prototype.Sl=function(t){t=Math.min(t,this.Rc),this.Gc-=t,this.Rc-=t,this.Nc-=t,this.Nc<0&&void 0!==this.Al&&(this.Nc+=this.Al)},t.prototype.sl=function(t,e,i,n,r,o,s,a,u,l){var h,c=this,f=i.length,p=i[0],d=i[f-1],y=n[f-1];if(this.ol(l,d,y)){var v=(null===(h=this.nl())||void 0===h?void 0:h.x)||0,g=0;for(R=0;R<f;R+=1)if(i[R]>v){g=R;break}var m={xValues:i,yValues:n,lookupValues:r,colors:o,ids:s,sizes:a,rotations:u,offset:g};this.Yc=!0,this.appendSamples(m),this.Yc=!1}else{for(var x=t.length,S=this.Rc,A=this.Gc-1,b=Math.max(A-S+1,0),M=Ta(p,b,A,(function(e){return t[Pa(e,c.Gc,x,c.Nc)]})),w=M-1,C=M+1,P=t[Pa(M,this.Gc,x,this.Nc)],E=C<=this.Gc-1?t[Pa(C,this.Gc,x,this.Nc)]:void 0,T=void 0!==E&&E<p?C+1:P<p?M+1:w+1,k=A-T+1,D=new this.$c(k),F=new this.$c(k),_=this.Zc?new Float32Array(k):void 0,I=this.Qc?new Uint32Array(k):void 0,O=this.Kc?new Uint32Array(k):void 0,B=this.Jc?new Float32Array(k):void 0,z=this.qc?new Float32Array(k):void 0,L=0,R=T;R<=A;R+=1){var V=Pa(R,this.Gc,x,this.Nc);D[L]=t[V],F[L]=e[V],_&&this.cl&&(_[L]=this.cl[V]),I&&this.ll&&(I[L]=this.ll[V]),O&&this.yl&&(O[L]=this.yl[V]),B&&this.vl&&(B[L]=this.vl[V]),z&&this.dl&&(z[L]=this.dl[V]),L+=1}this.Sl(k);var N=new this.$c(f+k);N.set(i),N.set(D,f);var U=new this.$c(f+k);U.set(n),U.set(F,f);var Y=void 0;r&&_&&((Y=new Float32Array(f+k)).set(r),Y.set(_,f));var G=void 0;o&&I&&((G=new Uint32Array(f+k)).set(o),G.set(I,f));var j=void 0;s&&O&&((j=new Uint32Array(f+k)).set(s),j.set(O,f));var W=void 0;a&&B&&((W=new Float32Array(f+k)).set(a),W.set(B,f));var X=void 0;u&&z&&((X=new Float32Array(f+k)).set(u),X.set(z,f)),this.Yc=!0,this.appendSamples({xValues:N,yValues:U,lookupValues:Y,colors:G,ids:j,sizes:W,rotations:X}),this.Yc=!1,this.D.emit("cleared")}},t.prototype.bl=function(){return this.al()},t.prototype.al=function(t){var e;if(void 0===t&&(t=!1),this.Hc&&"userSpecified"in this.Hc)e=this.Hc.userSpecified;else if(this.Hc&&"autoDetectResult"in this.Hc)e=this.Hc.autoDetectResult;else if(this.rl&&this.el&&this.Gc>0&&!t){var i=void 0!==this.Al&&this.Uc?this.Nc:0,n=this.Rc-1,r=void 0!==this.Al&&this.Uc?0:void 0,o=void 0!==this.Al&&this.Uc?this.Nc-1:void 0,s=wa(void 0!==r&&void 0!==o&&Math.abs(o-r)>Math.abs(n-i)?[r,o]:[i,n],2),a=s[0],u=s[1];if(1+u-a>=2){for(var l=void 0,h=void 0,c=this.rl[a],f=this.el[a],p=a+1;p<=u;p+=1){if(!1!==l){var d=this.rl[p],y=Math.sign(d-c);0!==y&&l&&l.direction!==y?l=!1:0===y||l||(l={direction:y}),c=d}if(!1!==h){var v=this.el[p],g=Math.sign(v-f);0!==g&&h&&h.direction!==g?h=!1:0===g||h||(h={direction:g}),f=v}}e=l&&l.direction>0?zo.ProgressiveX:l&&l.direction<0?zo.RegressiveX:h&&h.direction>0?zo.ProgressiveY:h&&h.direction<0?zo.RegressiveY:void 0,this.Hc={autoDetectResult:e},e&&ne.console.warn("LightningChart JS DataSetXY warning | Data pattern was detected automatically (DataPatterns.".concat(e,").\nAutomatic detection is only intended for kick-starting application development, not for production use.\nAdd { dataPattern: '").concat(e,"'} } to your application when creating series or DataSetXY to get clear this warning."))}}if(e&&"ProgressiveX"!==e)throw new Error("LightningChart JS New XY rework beta features do not yet support other data patterns than ProgressiveX. This will be introduced in near future.");return e},t.prototype.ol=function(t,e,i){var n=this.nl();return!n||("ProgressiveX"===t?e>n.x:"RegressiveX"===t?e<n.x:"ProgressiveY"===t?i>n.y:"RegressiveY"!==t||i<n.y)},t.prototype.il=function(t){if(t.incomingDataX&&t.incomingDataY&&0===this.Rc&&!this.rl&&!this.el&&(void 0===this.Al||this.Al===t.appendCount)&&this.tl)return this.rl=Da(t.incomingDataX,this.$c)||new this.$c,this.el=Da(t.incomingDataY,this.$c)||new this.$c,this.cl=this.Zc?Da(t.incomingDataLookup,Float32Array):void 0,this.yl=this.Kc?Da(t.incomingDataIDs,Uint32Array):void 0,this.ll=this.Qc?Da(t.incomingDataColors,Uint32Array):void 0,this.vl=this.Jc?Da(t.incomingDataSize,Float32Array):void 0,this.dl=this.qc?Da(t.incomingDataRotation,Float32Array):void 0,{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:t.appendCount,incomingDataReplacedCache:!0};if(void 0===this.Al){var e=this.Rc+t.appendCount;if(!this.rl||!this.el)return this.rl=new this.$c(e),this.el=new this.$c(e),this.cl=this.Zc?new Float32Array(e):void 0,this.yl=this.Kc?new Uint32Array(e):void 0,this.ll=this.Qc?new Uint32Array(e):void 0,this.vl=this.Jc?new Float32Array(e):void 0,this.dl=this.qc?new Float32Array(e):void 0,{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:e};var i,n,r=this.rl.length;if(r<e){if(!this.Xc.warningDisplayed){var o=ne.performance.now();if(this.Xc.expandEvents=this.Xc.expandEvents.filter((function(t){return o-t.timestamp<5e3})),e>1e3&&this.Xc.expandEvents.push({timestamp:o}),this.Xc.expandEvents.length>5)return ne.console.warn("LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.\nAutomatic max sample count control was enabled.\nFor streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning."),this.Xc.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this.il(t)}if((i=new this.$c(e)).set(this.rl),this.rl=i,(n=new this.$c(e)).set(this.el),this.el=n,this.Zc){var s=new Float32Array(e);this.cl&&s.set(this.cl),this.cl=s}if(this.Kc){var a=new Uint32Array(e);this.yl&&a.set(this.yl),this.yl=a}if(this.Qc){var u=new Uint32Array(e);this.ll&&u.set(this.ll),this.ll=u}if(this.Jc){var l=new Float32Array(e);this.vl&&l.set(this.vl),this.vl=l}return this.qc&&(l=new Float32Array(e),this.dl&&l.set(this.dl),this.dl=l),this.Nc=this.Rc,{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:e}}return r>4*e?((i=new this.$c(e)).set(this.rl.subarray(0,this.Rc)),this.rl=i,(n=new this.$c(e)).set(this.el.subarray(0,this.Rc)),this.el=n,this.Zc&&(s=new Float32Array(e),this.cl&&s.set(this.cl.subarray(0,this.Rc)),this.cl=s),this.Kc&&(a=new Uint32Array(e),this.yl&&a.set(this.yl.subarray(0,this.Rc)),this.yl=a),this.Qc&&(u=new Uint32Array(e),this.ll&&u.set(this.ll.subarray(0,this.Rc)),this.ll=u),this.Jc&&(l=new Float32Array(e),this.vl&&l.set(this.vl.subarray(0,this.Rc)),this.vl=l),this.qc&&(l=new Float32Array(e),this.dl&&l.set(this.dl.subarray(0,this.Rc)),this.dl=l),{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:e}):{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:r}}return t.appendCount+this.Rc>this.Al&&this.D.emit("maxSampleCountExceeded",this,this.Rc,this.Al,this.Rc+t.appendCount),this.rl=this.rl||new this.$c(this.Al),this.el=this.el||new this.$c(this.Al),this.cl=this.cl||(this.Zc?new Float32Array(this.Al):void 0),this.yl=this.yl||(this.Kc?new Uint32Array(this.Al):void 0),this.ll=this.ll||(this.Qc?new Uint32Array(this.Al):void 0),this.vl=this.vl||(this.Jc?new Float32Array(this.Al):void 0),this.dl=this.dl||(this.qc?new Float32Array(this.Al):void 0),{dataPattern:this.al(),samplesCacheX:this.rl,samplesCacheY:this.el,samplesCacheLookup:this.cl,samplesCacheIDs:this.yl,samplesCacheColors:this.ll,samplesCacheSize:this.vl,samplesCacheRotation:this.dl,maxSampleCount:this.Al}},t.prototype.xl=function(){if(this.rl&&this.el&&0!==this.Rc){if(void 0===this.Al)return this.Gc>0?{x:this.rl[0],y:this.el[0]}:void 0;if(!this.Uc)return{x:this.rl[0],y:this.el[0]};var t=this.Nc-this.Rc;return t<0&&(t+=this.Al),{x:this.rl[t],y:this.el[t]}}},t.prototype.nl=function(){if(this.rl&&this.el&&0!==this.Rc){if(void 0===this.Al){var t=this.Rc-1;return t>=0?{x:this.rl[t],y:this.el[t]}:void 0}var e=this.Nc-1;return e<0&&(e+=this.Al),{x:this.rl[e],y:this.el[e]}}},t.prototype.wl=function(t){if(this.rl&&this.el){var e=this.rl.length,i=this.Rc,n=this.Gc-1,r=Math.max(n-i+1,0)+t,o=Pa(r,this.Gc,e,this.Nc);return{x:this.rl[o],y:this.el[o],lookupValue:this.Zc&&this.cl?this.cl[o]:void 0,id:this.Kc&&this.yl?this.yl[o]:void 0,color:this.Qc&&this.ll?this.ll[o]:void 0,size:this.Jc&&this.vl?this.vl[o]:void 0,rotation:this.qc&&this.dl?this.dl[o]:void 0,iSample:r}}},t.prototype.Ml=function(t,e,i,n){var r=this,o=this.al(),s=this.rl,a=this.el;if(s&&a){var u,l=function(t,e){return{x:s[t],y:a[t],lookupValue:r.Zc&&r.cl?r.cl[t]:void 0,id:r.Kc&&r.yl?r.yl[t]:void 0,color:r.Qc&&r.ll?r.ll[t]:void 0,size:r.Jc&&r.vl?r.vl[t]:void 0,rotation:r.qc&&r.dl?r.dl[t]:void 0,iSample:e}},h=s.length,c=this.Rc,f=this.Gc-1,p=Math.max(f-c+1,0);if(o){var d=this.xl(),y=this.nl();if(!(d&&y&&this.rl&&this.el))return;var v="ProgressiveX"===o||"RegressiveX"===o?"x":"y",g="x"===v?"y":"x",m="x"===v?this.rl:this.el,x="x"===g?this.rl:this.el,S=t[v],A=Math.min(d[v],y[v]),b=Math.max(d[v],y[v]);if(S<A||S>b)return;var M=Ta(S,p,f,(function(t){return m[Pa(t,r.Gc,h,r.Nc)]})),w=Pa(M,this.Gc,h,this.Nc);if(!e)return l(w,M);var C=M-1,P=M+1,E=S>=m[w]&&("ProgressiveX"===o||"ProgressiveY"===o)?P<=f?P:void 0:C>=p?C:void 0;if(void 0===E)return;var T=Pa(E,this.Gc,h,this.Nc),k=m[w],D=x[w],F=m[T],_=x[T],I=Math.min(k,F),O=I===k?D:_,B=Math.max(k,F),z=I===k?M:E,L=(S-I)/(B-I),R=Hs(O,B===k?D:_,L);return"ProgressiveX"===o||"RegressiveX"===o?{x:S,y:R,iSample:z+L}:{x:R,y:S,iSample:z+L}}for(var V=Number.MAX_VALUE,N=Pt(t,i,n),U=this.Rc-1,Y=0;Y<=U;Y+=1){var G=s[Y],j=a[Y];if(!Number.isNaN(G)&&!Number.isNaN(j)){var W=Ct(G,i.x,n.x),X=Ct(j,i.y,n.y),H=Math.pow(W-N.x,2)+Math.pow(X-N.y,2);H<V&&(V=H,u=Y)}}return void 0===u?void 0:l(u,u)}},t.prototype.hl=function(t,e){this.D.emit("changed",t,e)},t.prototype.Rt=function(t){return this.D.off(t)},t.prototype.Cl=function(t){return this.D.on("changed",t)},t.prototype._l=function(t){return this.D.on("cleared",t)},t}(),Pa=function(t,e,i,n){return t%i},Ea=function(t,e,i,n,r,o,s,a){if(0!==n&&0!==r){var u=i.length,l=n-1,h=Math.max(l-r+1,0),c=Ta(t,h,l,(function(t){return i[Pa(t,n,u)]})),f=Ta(e,h,l,(function(t){return i[Pa(t,n,u)]})),p=Math.max(c-a,h),d=Math.min(f+a,l),y=Pa(p,n,u),v=Pa(d,n,u);return y>v?{iFirstSample:p,iLastSample:d,iFirstSampleDataArray:y,iLastSampleDataArray:v,dataRanges:[{offset:y,count:u-y},{offset:0,count:v+1}]}:{iFirstSample:p,iLastSample:d,iFirstSampleDataArray:y,iLastSampleDataArray:v,dataRanges:[{offset:y,count:v-y+1}]}}},Ta=function(t,e,i,n){for(var r=i;e!==i;){var o=Math.ceil((e+i)/2);t<n(o)?i=o-1:e=o}var s=Math.abs(t-n(e));return e<r&&Math.abs(t-n(e+1))<s?e+1:e},ka=function(t,e,i,n,r){var o=e.length;if(Array.isArray(e))for(var s=0;s<n;s+=1)t[r+s]=e[i+s];else t.set(o===n?e:e.subarray(i,i+n),r)},Da=function(t,e){return void 0===t?void 0:Array.isArray(t)?new e(t):t instanceof e?t:new e(t)},Fa=function(t,e,i){if(void 0!==t)return Array.isArray(t)?t.slice(e,i):t.subarray(e,i)},_a=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ia=function(){return(Ia=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Oa=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.dh="label",s.Yh=s.In.zo(s.renderingScale).vo(s.dh).Br(J).Po(fi).Lo(fi),s.setMargin(5),s.$f(s.Yh),s}return _a(e,t),e.prototype.uc=function(){return[this.Yh]},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.Pr=function(){var t=this.getPosition(y(0,0),Xt.Content),e=Pt(t,this.scale,this.renderingScale);return this.Yh.Lr(e),this},e.prototype.En=function(){this.Yh.En();var e=0===this.dh.length?y(0,0):this.Yh.Tl();return this.setContentSize(e),t.prototype.En.call(this)},e.prototype.setText=function(t){return this.dh=t,this.Yh.vo(this.dh),this.In.Sn(),this},e.prototype.getText=function(){return this.dh},e.prototype.setFont=function(t){return this.Yh.He(t),this.In.Sn(),this},e.prototype.getFont=function(){return this.Yh.Xe()},e.prototype.setTextRotation=function(t){return this.Yh.Ze(t),this.In.Sn(),this},e.prototype.getTextRotation=function(){return this.Yh.Qe()},e}(js),Ba=Ia(Ia(Ia({},zs),Rs),{uiElement:Oa}),za=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.kl=!1,s.fitTo=s.cc.bind(s),s.setSize=s.fitTo,s.Yh=s.In.Bc(i).Br(J).Dr(gt),s.$f(s.Yh),s}return _a(e,t),e.prototype.uc=function(){return[this.Yh]},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.setStrokeStyle=function(t){return this.Yh.Dr(t),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Yh.fu()},e.prototype.Pr=function(){var t=this,e=Li([this.getPosition(y(-1,-1),Xt.Content),this.getPosition(y(1,1),Xt.Content)].map((function(e){return Pt(e,t.scale,t.renderingScale)})));return this.kl?this.Yh.ga([{x:(e.min.x+e.max.x)/2,y:e.min.y},{x:e.min.x,y:(e.min.y+e.max.y)/2},{x:(e.min.x+e.max.x)/2,y:e.max.y},{x:e.max.x,y:(e.min.y+e.max.y)/2}]):this.Yh.ga([e.min,{x:e.min.x,y:e.max.y},e.max,{x:e.max.x,y:e.min.y}]),this},e.prototype.cc=function(t){return this.setContentSize(t),this.In.Sn(),this},e.prototype.lc=function(){return 0},e.prototype.vc=function(){return 0},e.prototype.Ac=function(){return 0},e.prototype.dc=function(){return 0},e}(Ws),La=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Ol=y(0,0),s.Yh=e.Fl(i).sf(0).Yr(360).Br(J).Dr(gt),s.$f(s.Yh),s}return _a(e,t),e.prototype.uc=function(){return[this.Yh]},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.setStrokeStyle=function(t){return this.Yh.Dr(t),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Yh.fu()},e.prototype.Pr=function(){var t=this.getSize(Xt.Content).x/2;return this.Yh.hf(t*this.renderingScale.Ri().x).af(t*this.renderingScale.Ri().y).Lr(Pt(this.getPosition(y(0,0),Xt.Content),this.scale,this.renderingScale)).cf(255).En(),this},e.prototype.cc=function(t){var e=Math.sqrt(t.x*t.x/4+t.y*t.y/4);return this.setContentSize(y(2*e,2*e)),this.Ol=t,this.In.Sn(),this},e.prototype.lc=function(){return(this.getSize(Xt.Content).x-this.Ol.x)/2},e.prototype.vc=function(){return(this.getSize(Xt.Content).x-this.Ol.x)/2},e.prototype.Ac=function(){return(this.getSize(Xt.Content).y-this.Ol.y)/2},e.prototype.dc=function(){return(this.getSize(Xt.Content).y-this.Ol.y)/2},e.prototype.fitTo=function(t){var e=Math.min(t.x,t.y);return this.setContentSize(y(e,e)),this.Ol=t,this},e}(Ws),Ra=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,cs.Simple,r,o)||this;return s.Il=b(y(0,0)),s.jl=!1,s.In=e,s.Ec(),s}return _a(e,t),e.prototype.Pc=function(){var t=this.Il.C();if(this.jl){var e=Math.min(t.x,t.y);return[y(0,0),y(e/2,e/2),y(0,e),y(-e/2,e/2)]}var i=2*Math.sqrt(this.Il.C().x*this.Il.C().x/4+this.Il.C().y*this.Il.C().y/4),n=y(Math.cos(Math.PI/4)*i,0),r=y(0,Math.sin(Math.PI/4)*i),o=y(0,0),s=Hi(o,Hi(n,r)),a=Hi(s,Hi(r,Xi(n,-1)));return[o,s,a,Zi(a,Hi(n,r))]},e.prototype.uc=function(){return[this.Yh]},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.setStrokeStyle=function(t){return this.Yh.Dr(t),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Yh.fu()},e.prototype.cc=function(t){return this.Il.M(t),this.jl=!1,this.In.Sn(),this},e.prototype.lc=function(){return this.jl?0:(this.getSize(Xt.Content).x-this.Il.C().x)/2},e.prototype.vc=function(){return this.jl?0:(this.getSize(Xt.Content).x-this.Il.C().x)/2},e.prototype.Ac=function(){return this.jl?0:(this.getSize(Xt.Content).y-this.Il.C().y)/2},e.prototype.dc=function(){return this.jl?0:(this.getSize(Xt.Content).y-this.Il.C().y)/2},e.prototype.fitTo=function(t){return this.Il.M(t),this.jl=!0,this.In.Sn(),this},e}(Xs),Va=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,cs.Simple,r,o)||this;return s.Dl=b(y(0,0)),s.Bl=b(10),s.El=b(void 0),s.xc=b(Qt.Right),s.Ec(),s}return _a(e,t),e.prototype.uc=function(){return[this.Yh]},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.setStrokeStyle=function(t){return this.Yh.Dr(t),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Yh.fu()},e.prototype.setDirection=function(t){return this.xc.M(t),this.In.Sn(),this},e.prototype.getDirection=function(){return this.xc.C()},e.prototype.setPointerLength=function(t){return this.Bl.M(t),this.In.Sn(),this},e.prototype.getPointerLength=function(){return this.Bl.C()},e.prototype.setPointerAngle=function(t){return this.El.M(t),this.In.Sn(),this},e.prototype.getPointerAngle=function(){var t=this.El.C();if(void 0===t){var e=this.Pl();if(0===e)return 0;t=0!==e?180*Math.atan(2*this.getPointerLength()/e)/Math.PI:0}return Math.min(Math.max(t,1),89)},e.prototype.cc=function(t){return this.Dl.M(t),this.In.Sn(),this},e.prototype.Ll=function(){var t=this.getPointerAngle();return 0===t?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)},e.prototype.zl=function(){return _e(this.xc.C())?this.Dl.C().x:this.Dl.C().y},e.prototype.Pl=function(){return _e(this.xc.C())?this.Dl.C().y:this.Dl.C().x},e.prototype.lc=function(){switch(this.xc.C()){case Qt.Right:return 0;case Qt.Left:return this.getPointerLength();case Qt.Up:case Qt.Down:return Math.max(0,this.Ll()-this.Pl());default:return 0}},e.prototype.vc=function(){switch(this.xc.C()){case Qt.Right:return this.getPointerLength();case Qt.Left:return 0;case Qt.Up:case Qt.Down:return Math.max(0,this.Ll()-this.Pl());default:return 0}},e.prototype.Ac=function(){switch(this.xc.C()){case Qt.Right:case Qt.Left:return Math.max(0,this.Ll()-this.Pl());case Qt.Up:return this.getPointerLength();case Qt.Down:default:return 0}},e.prototype.dc=function(){switch(this.xc.C()){case Qt.Right:case Qt.Left:return Math.max(0,this.Ll()-this.Pl());case Qt.Up:return 0;case Qt.Down:return this.getPointerLength();default:return 0}},e.prototype.Pc=function(){var t=Fe(this.xc.C()),e=ji(y(0,0),t),i=this.getPointerLength(),n=this.Ll(),r=this.zl(),o=this.Pl();if(!(0!==i&&0!==n||0!==r&&0!==o))return[];var s=y(0,0),a=Hi(Hi(s,Xi(t,-i)),Xi(e,n/2)),u=Hi(a,Xi(e,(o-n)/2)),l=Hi(u,Xi(t,-r)),h=Hi(Hi(s,Xi(t,-i)),Xi(e,-n/2)),c=Hi(h,Xi(e,-(o-n)/2)),f=Hi(c,Xi(t,-r));return 0===r||0===o?[s,a,h]:0===i||0===n?[u,l,f,c]:le(o,n)?[s,a,l,f,h]:[s,a,u,l,f,c,h]},e}(Xs),Na=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.fitTo=s.cc.bind(s),s.setSize=s.fitTo,s.Vl=new Ca,s.Yh=s.In.Ul(i).Ur(gt).Gl(J).Rl(J).Nl(s.Vl),s.$f(s.Yh),s}return _a(e,t),e.prototype.uc=function(){return[this.Yh]},e.prototype.setShape=function(t){return this.Yh.Wl(t),this},e.prototype.getShape=function(){return this.Yh.Yl()},e.prototype.setRotation=function(t){return this.Yh.Xl(t),this},e.prototype.getRotation=function(){return this.Yh.Hl()},e.prototype.setFillStyle=function(t){return this.Yh.Rl(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.Zl()},e.prototype.Pr=function(){var t=Pt(this.getPosition({x:0,y:0},Xt.Content),this.scale,this.renderingScale),e=Math.max(this.size.x,this.size.y);if(this.Vl.clear(),e>0){var i=this.Yh.Yl(),n=this.Yh.Zl(),r=xa(i)&&i,o=ha(n)&&n;if(r){var s=e/r.oi().y;this.Yh.Ql(s)}else if(o){var a=o.source;a instanceof Image&&(s=e/a.height,this.Yh.Ql(s))}else this.Yh.Ql(e);this.Vl.appendSample(t)}return this},e.prototype.cc=function(t){return this.setContentSize(t),this.In.Sn(),this},e.prototype.lc=function(){return 0},e.prototype.vc=function(){return 0},e.prototype.Ac=function(){return 0},e.prototype.dc=function(){return 0},e}(js),Ua=Ia(Ia(Ia({},zs),Rs),{uiElement:Na}),Ya=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ga=function(){return(Ga=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ya(e,t),e.prototype.setSize=function(t){return this.setContentSize(t),this.In.Sn(),this},e}(Us),Wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Kl=[],e.Jl=0,e.ql=function(t){var i=e.Kl.indexOf(t);i>=0&&e.Kl.splice(i,1)},e}return Ya(e,t),e.prototype.getMembers=function(){return this.Kl},e.prototype.getMemberCount=function(){return this.Kl.length},e.prototype.setMinimumSize=function(t){return this.$l=t,this.In.Sn(),this},e.prototype.getMinimumSize=function(){return this.$l},e.prototype.addElement=function(t,e){void 0===e&&(e=-1);var i=t.kc(this.In,this.renderingScale,this.scale,this.ql,this.$i,!1);return i.setMouseInteractions(this.getMouseInteractions()),e>=0?this.Kl.splice(e,0,i):this.Kl.push(i),i.setVisible(this.getVisible()),this.$f(i),this.Hi&&($e(0,(function(){})),i.dispose()),i},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.Kl.slice().forEach(ae),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.Kl.forEach((function(t){return t.setVisible(e)})),this},e.prototype.setMouseInteractions=function(e){t.prototype.setMouseInteractions.call(this,e);for(var i=0;i<this.Kl.length;i+=1)this.Kl[i].setMouseInteractions(e);return this},e.prototype.getMouseInteractions=function(){if(t.prototype.getMouseInteractions.call(this))return!0;for(var e=0;e<this.Kl.length;e+=1)if(this.Kl[e].getMouseInteractions())return!0;return!1},e.prototype.setHighlight=function(e){t.prototype.setHighlight.call(this,e);for(var i=0;i<this.Kl.length;i+=1){var n=this.Kl[i];"getHighlight"in(r=n)&&"setHighlight"in r&&n.setHighlight(e)}var r;return this},e}(Es),Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ya(e,t),e.prototype.Pr=function(){var e=this;t.prototype.Pr.call(this);var i=this.getPosition(y(-1,1),Xt.Content),n=this.Kl.reduce((function(t,e){return t+ +(e instanceof ja)}),0),r=n>0?(this.size.x-this.Jl)/n:0;return this.Kl.reduce((function(t,n){return n instanceof ja?e.scale.Ai({x:t,y:i.y},{x:r+n.getSize().x,y:0}).x:n.setOrigin(y(-1,1)).setPosition(y(t,i.y)).Pr().getPosition(y(1,0)).x}),i.x),this},e.prototype.En=function(){for(var e=0;e<this.Kl.length;e+=1)(r=this.Kl[e])instanceof Ha&&r.setMinimumSize(0),r.En();var i=this.Kl.reduce(this.tv.bind(this),v(0,0));this.Jl=i.x;var n=void 0===this.$l?i:y(Math.max(i.x,this.$l),i.y);for(this.setContentSize(n),e=0;e<this.Kl.length;e+=1){var r;(r=this.Kl[e])instanceof Ha&&r.setMinimumSize(n.y).En()}return t.prototype.En.call(this)},e.prototype.tv=function(t,e){var i=e.getSize();return t.x+=i.x,t.y=Math.max(t.y,i.y),t},e.prototype.addGap=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=-1),this.addElement(Za,e).setSize(y(0,t))},e}(Wa),Ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ya(e,t),e.prototype.Pr=function(){var e=this;t.prototype.Pr.call(this);var i=this.getPosition(y(-1,1),Xt.Content),n=this.Kl.reduce((function(t,e){return t+ +(e instanceof ja)}),0),r=n>0?(this.size.y-this.Jl)/n:0;return this.Kl.reduce((function(t,n){return n instanceof ja?e.scale.Ai({x:i.x,y:t},{x:0,y:-(r+n.getSize().y)}).y:n.setOrigin(y(-1,1)).setPosition(y(i.x,t)).Pr().getPosition(y(0,-1)).y}),i.y),this},e.prototype.En=function(){for(var e=0;e<this.Kl.length;e+=1)(r=this.Kl[e])instanceof Xa&&r.setMinimumSize(0),r.En();var i=this.Kl.reduce(this.tv.bind(this),v(0,0));this.Jl=i.y;var n=void 0===this.$l?i:y(i.x,Math.max(i.y,this.$l));for(this.setContentSize(n),e=0;e<this.Kl.length;e+=1){var r;(r=this.Kl[e])instanceof Xa&&r.setMinimumSize(n.x).En()}return t.prototype.En.call(this)},e.prototype.tv=function(t,e){var i=e.getSize();return t.y+=i.y,t.x=Math.max(t.x,i.x),t},e.prototype.addGap=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=-1),this.addElement(Za,e).setSize(y(0,t))},e}(Wa),Za=Ga(Ga(Ga({},zs),Rs),{uiElement:ja}),Qa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Kl=[],e}return Ya(e,t),e.prototype.addColumn=function(){return this.addElement(Ja,void 0)},e.prototype.getColumn=function(t,e){return void 0===e&&(e=!1),e&&this.Kl.length<=t?(this.addColumn(),this.getColumn(t,!0)):this.Kl[t]},e}(Xa),qa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Kl=[],e}return Ya(e,t),e.prototype.addRow=function(){return this.addElement($a,void 0)},e.prototype.getRow=function(t,e){return void 0===e&&(e=!1),e&&this.Kl.length<=t?(this.addRow(),this.getRow(t,!0)):this.Kl[t]},e}(Ha),Ka=Ga(Ga(Ga({},zs),Ls),Vs),Ja=Ga(Ga({},Ka),{uiElement:Ha,background:za}),$a=Ga(Ga({},Ka),{uiElement:Xa,background:za}),tu={setTextLabel:null,setText:function(t){return this.setTextLabel.setText(t),this},getText:function(){return this.setTextLabel.getText()}},eu=function(t,e){var i={},n="stylable".concat(t,"s");return i[n]=e,i["set".concat(t,"FillStyle")]=function(t){return this[n].forEach((function(e){return e.setFillStyle(t)})),this},i["get".concat(t,"FillStyle")]=function(){return this[n][0].getFillStyle()},i["set".concat(t,"Font")]=function(t){return this[n].forEach((function(e){return e.setFont(t)})),this},i["get".concat(t,"Font")]=function(){return this[n][0].getFont()},i["set".concat(t,"Rotation")]=function(t){return this[n].forEach((function(e){return e.setTextRotation(t)})),this},i["get".concat(t,"Rotation")]=function(){return this[n][0].getTextRotation()},i},iu=eu("Text",[]),nu={button:void 0,isLocked:!1,setOn:function(t){var e=this.button.getOn()!==t;return this.button.setOn(t),e&&this.D.emit("switch",t),this},getOn:function(){return this.button.getOn()},setLocked:function(t){return this.isLocked=t,this},getLocked:function(){return this.isLocked},onSwitch:function(t){var e=this;return this.D.on("switch",(function(i){return t(e,i)}))},offSwitch:function(t){return this.D.off(t,"switch")},setButtonOffFillStyle:function(t){return this.button.setOffFillStyle(t),this},getButtonOffFillStyle:function(){return this.button.getOffFillStyle()},setButtonOnFillStyle:function(t){return this.button.setOnFillStyle(t),this},getButtonOnFillStyle:function(){return this.button.getOnFillStyle()},setButtonSize:function(t){return this.button.setSize(t),this},getButtonSize:function(){return this.button.getSize()},setButtonShape:function(t){return this.button.setButtonShape(t),this},getButtonShape:function(){return this.button.getButtonShape()}},ru={textFillStyleHidden:void 0,setTextFillStyleHidden:function(t){return this.textFillStyleHidden="function"==typeof t?t(this.textFillStyleHidden):t,this},getTextFillStyleHidden:function(){return this.textFillStyleHidden}},ou={pointable:void 0,setDirection:function(t){return this.pointable.setDirection(t),this},getDirection:function(){return this.pointable.getDirection()},setPointerLength:function(t){return this.pointable.setPointerLength(t),this},getPointerLength:function(){return this.pointable.getPointerLength()}},su=function(){return(su=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},au=su(su(su({},zs),Ls),{background:za,kc:function(t,e,i,n,r,o){var s=new Xa(t,e,i,this.background,n,r),a=s.addElement(Ba,void 0),u=Object.assign(s,tu,{setTextLabel:a},iu,{stylableTexts:[a]});return Bs(u,r,o),this.applyStylers(u,r)}}).addStyler(Is),uu=su(su(su({},zs),Ls),{background:Va,direction:Qt.Up,setDirection:function(t){return this.direction=t,this},kc:function(t,e,i,n,r,o){var s=this.direction,a=new Xa(t,e,i,this.background,n,r),u=a.addElement(Ba,void 0),l=a.getBackground().setDirection(s),h=Object.assign(a,tu,{setTextLabel:u},iu,{stylableTexts:[u]},ou,{pointable:l},{setTickLabelPadding:function(t){return this.getDirection()===Qt.Up?(this.setPadding({top:t}),u.setMargin({top:0})):this.getDirection()===Qt.Down?(this.setPadding({bottom:t}),u.setMargin({bottom:0})):this.getDirection()===Qt.Right?(this.setPadding({right:t}),u.setMargin({right:0})):this.getDirection()===Qt.Left&&(this.setPadding({left:t}),u.setMargin({left:0})),this},getTickLabelPadding:function(){return this.getDirection()===Qt.Up?this.getPadding().top:this.getDirection()===Qt.Down?this.getPadding().bottom:this.getDirection()===Qt.Right?this.getPadding().right:this.getPadding().left}});return h.Oc="other",h.setPointerLength(r.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(r.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(r.uiTextFont).setTextFillStyle(r.uiTextFillStyle).setBackground((function(t){return t.setFillStyle(r.uiBackgroundFillStyle).setStrokeStyle(r.uiBackgroundStrokeStyle)})),Bs(h,r,o),this.applyStylers(h,r)}}),lu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hu=function(){return(hu=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},cu=function(t){function e(e,i,n,o,s,a){var u=t.call(this,e,i,n,s,a)||this;return u.Pn=!1,u.D=new r.a,u.nv=J,u.rv=J,u.getOn=function(){return u.Pn},u.rv=a.uiButtonFillStyleHidden||a.uiButtonFillStyle,u.ev=u.$f(new Na(u.In,u.renderingScale,u.scale,ue,a).setShape(o)).setFillStyle(u.rv),u}return lu(e,t),e.prototype.uc=function(){return function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.ev.uc()),!1)},e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.setOn=function(t){return this.Pn=t,this.ev.setFillStyle(t?this.nv:this.rv),this.In.Sn(),this},e.prototype.setOffFillStyle=function(t){return this.rv="function"==typeof t?t(this.rv):t,this.Pn||this.ev.setFillStyle(this.rv),this},e.prototype.getOffFillStyle=function(){return this.rv},e.prototype.setSize=function(t){return this.ev.fitTo("number"==typeof t?y(t,t):t),this},e.prototype.getSize=function(){return this.ev.getSize()},e.prototype.setOnFillStyle=function(t){return this.nv="function"==typeof t?t(this.nv):t,this.Pn&&this.ev.setFillStyle(this.nv),this},e.prototype.getOnFillStyle=function(){return this.nv},e.prototype.setButtonShape=function(t){return this.ev.setShape(t),this.In.Sn(),this},e.prototype.getButtonShape=function(){return this.ev.getShape()},e.prototype.Pr=function(){return t.prototype.Pr.call(this),this.ev.setVisible(this.getVisible()).setPosition(this.getPosition(y(0,0),Xt.Content)).Pr(),this},e.prototype.En=function(){var e=this.ev.En().getSize();return this.setContentSize(e),t.prototype.En.call(this)},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.ev.dispose(),this},e.prototype.setMouseInteractions=function(t){return this.ev.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.ev.getMouseInteractions()},e.prototype.setHighlight=function(t){var e=ri(t);return this.ev.setHighlight(e),this.D.emit("highlight",this,t),this.In.Sn(),this},e.prototype.getHighlight=function(){return this.ev.getHighlight()},e}(Ps),fu=hu(hu({},zs),{uiElement:cu,buttonShape:Co.Circle,setButtonShape:function(t){return hu(hu({},this),{buttonShape:t})},kc:function(t,e,i,n,r,o){var s=this.applyStylers(new this.uiElement(t,e,i,this.buttonShape,n,r),r);return Bs(s,r,o),s}}),pu=function(){return(pu=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},du=pu(pu(pu({},zs),Ls),{background:za,buttonBuilder:fu,setButtonShape:function(t){return pu(pu({},this),{buttonBuilder:this.buttonBuilder.setButtonShape(t)})},kc:function(t,e,i,n,r,o){var s=new Xa(t,e,i,this.background,n,r),a=s.addElement(Ja);a.addGap();var u=a.addElement(this.buttonBuilder);a.addGap();var l=s.addElement(Ja);l.addGap();var h=l.addElement(Ba);l.addGap(),s.addGap();var c,f=Object.assign(s,tu,{setTextLabel:h},iu,{stylableTexts:[h]},nu,{button:u},ru);return f.onMouseClick((function(t,e){f.getLocked()||f.setOn(!f.getOn())})),f.onMouseEnter((function(){return f.setHighlight(!0)})),f.onMouseLeave((function(){return f.setHighlight(!1)})),f.setMouseStyle(Kn.Point),f.setTextFillStyleHidden(r.uiTextFillStyleHidden||r.uiTextFillStyle),f.onSwitch((function(t,e){e?c&&f.setTextFillStyle(c):(c=f.getTextFillStyle(),f.setTextFillStyle(f.getTextFillStyleHidden()))})),f.setPadding({left:5}),Bs(f,r,o),this.applyStylers(f,r)}}).addStyler(Is).addStyler(Os),yu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vu=function(){return(vu=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},gu=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;return a.ov=[],a.sv=2,a.uv="",a.hv=function(t,e){return void 0!==t.label?t.label:e.percentageValues?"".concat((100*t.value).toFixed(0),"%"):gn(t.value,e.min,e.max)},a.av=0,a.fv=0,a.cv=!1,a.In=e,a.lv=s,a.vv=a.$f(e.Er(i).Dr(gt)),a.dv=a.$f(e.zo(i).Br(o.uiTextFillStyle).He(o.uiTextFont).setMouseInteractions(!1)),"vertical"===s?(a.Av=140,a.yv=25):(a.Av=160,a.yv=15),a}return yu(e,t),e.prototype.uc=function(){return[this.vv,this.dv]},e.prototype.mv=function(t){this.bv=t;var e=Su(t,"vertical"===this.lv?0:90,this.cv);return this.vv.Br(e),this.In.Sn(),this},e.prototype.pv=function(){return this.bv},e.prototype.gv=function(t){return this.Av=t,this.In.Sn(),this},e.prototype.Sv=function(){return this.Av},e.prototype.xv=function(t){return this.yv=t,this.In.Sn(),this},e.prototype.wv=function(){return this.yv},e.prototype.Mv=function(t){return this.uv=t,this.In.Sn(),this},e.prototype.Cv=function(){return this.uv},e.prototype._v=function(t){return this.hv=t,this.In.Sn(),this},e.prototype.setLUTDisplayProportionalSteps=function(t){if(this.cv=t,this.bv){var e=Su(this.bv,"vertical"===this.lv?0:90,this.cv);this.vv.Br(e)}return this.In.Sn(),this},e.prototype.getLUTDisplayProportionalSteps=function(){return this.cv},e.prototype.setFillStyle=function(t){return this.dv.Br(t),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.dv.We()},e.prototype.setFont=function(t){return this.dv.He(t),this.In.Sn(),this},e.prototype.getFont=function(){return this.dv.Xe()},e.prototype.setTextRotation=function(t){return this.fv=t,this.dv.Ze(t),this.In.Sn(),this},e.prototype.getTextRotation=function(){return this.dv.Qe()},e.prototype.Pr=function(){var e,i,n,r,o=this;if(t.prototype.Pr.call(this),this.Hi||!this.getVisible())return this;var s=this.bv;if(s){var a=this.renderingScale.Ri(),u=s.min,l=s.max;if("vertical"===this.lv){var h={x:(f=Hi(p=this.getPosition({x:-1,y:-1},Xt.Content),{x:this.vv.oi().x+this.sv*a.x,y:0})).x,y:f.y+(this.uv.length>0?this.av*a.y+this.dv.oi().y:0)+.5*((null===(e=this.ov[0])||void 0===e?void 0:e.oi().y)||0)},c={x:h.x,y:this.getPosition({x:-1,y:1},Xt.Content).y-.5*((null===(i=this.ov[this.ov.length-1])||void 0===i?void 0:i.oi().y)||0)};this.vv.Lr({x:p.x,y:h.y}),this.dv.Rh({x:-1,y:-1}).Lr(f),s.getSteps().forEach((function(t,e){var i=Bi(h,c,o.cv?!0===s.getInterpolation()?(t.value-u)/(l-u):.9*(t.value-u)/(l-u):!0===s.getInterpolation()?e/(s.getSteps().length-1):e/s.getSteps().length);o.ov[e].Rh({x:-1,y:0}).Lr(i)}))}else{var f,p=this.getPosition({x:-1,y:-1},Xt.Content),d=this.getPosition({x:1,y:1},Xt.Content),y=this.ov.reduce((function(t,e){return Math.max(t,e.oi().y)}),0),v=Hi(p,{x:.5*((null===(n=this.ov[0])||void 0===n?void 0:n.oi().x)||0),y:y}),g={x:(f={x:d.x,y:v.y}).x-(.5*((null===(r=this.ov[this.ov.length-1])||void 0===r?void 0:r.oi().x)||0)+(this.uv.length>0?this.av*a.x+this.dv.oi().x:0)),y:v.y},m={x:v.x,y:v.y+this.sv*a.y};this.vv.Lr(m),this.dv.Rh({x:1,y:1}).Lr(f),s.getSteps().forEach((function(t,e){var i=Bi(v,g,o.cv?!0===s.getInterpolation()?(t.value-u)/(l-u):.9*(t.value-u)/(l-u):!0===s.getInterpolation()?e/(s.getSteps().length-1):e/s.getSteps().length);o.ov[e].Rh({x:0,y:1}).Lr(i)}))}}return this},e.prototype.En=function(){if(this.bv&&this.getVisible()){for(var e=this.bv.getSteps(),i=this.ov.length;i<e.length;i+=1)this.ov.push(this.$f(this.In.zo(this.renderingScale).setMouseInteractions(!1)));for(i=0;i<e.length;i+=1)this.ov[i].Br(this.dv.We()).He(this.dv.Xe()).vo(this.hv(e[i],this.bv)).Ze(this.fv);for(i=e.length;i<this.ov.length;i+=1)this.ov[i].dispose();if(this.ov.length=e.length,this.dv.vo(this.uv),"vertical"===this.lv){var n=this.yv,r=this.Av;this.vv.tt({x:n*this.renderingScale.x.getPixelSize(),y:r*this.renderingScale.y.getPixelSize()});var o=n+Math.max(this.ov.reduce((function(t,e){return Math.max(t,e.En().Tl().x)}),0),this.dv.En().Tl().x),s=(this.uv.length>0?this.av+this.dv.En().Tl().y:0)+r+.5*this.ov[0].En().Tl().y+.5*this.ov[this.ov.length-1].En().Tl().y;this.setContentSize({x:o,y:s})}else{n=this.Av,r=this.yv,this.vv.tt({x:n*this.renderingScale.x.getPixelSize(),y:r*this.renderingScale.y.getPixelSize()});var a=Math.max(this.uv.length>0?this.av+this.dv.En().Tl().x:0,.5*this.ov[this.ov.length-1].En().Tl().x);o=n+.5*this.ov[0].En().Tl().x+a,s=r+this.sv+this.ov.reduce((function(t,e){return Math.max(t,e.En().Tl().y)}),0),this.setContentSize({x:o,y:s})}}else this.ov.forEach((function(t){return t.dispose()})),this.ov.length=0,this.dv.setVisible(!1),this.vv.setVisible(!1),this.setContentSize({x:0,y:0});return t.prototype.En.call(this)},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.vv.dispose(),this.ov.forEach(ae),this.dv.dispose(),this},e.prototype.setMouseInteractions=function(t){return this.vv.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.vv.getMouseInteractions()},e}(Ps),mu={lutElement:{},setLUT:function(t){return this.lutElement.mv(t),this},getLUT:function(){return this.lutElement.pv()},setLUTLength:function(t){return this.lutElement.gv(t),this},getLUTLength:function(){return this.lutElement.Sv()},setLUTThickness:function(t){return this.lutElement.xv(t),this},getLUTThickness:function(){return this.lutElement.wv()},setLookUpUnit:function(t){return this.lutElement.Mv(t),this},getLookUpUnit:function(){return this.lutElement.Cv()},setLUTStepValueFormatter:function(t){return this.lutElement._v(t),this},setLUTDisplayProportionalSteps:function(t){return this.lutElement.setLUTDisplayProportionalSteps(t),this},getLUTDisplayProportionalSteps:function(){return this.lutElement.getLUTDisplayProportionalSteps()}},xu=vu(vu(vu({},zs),Ls),{background:za,alignment:"horizontal",setAlignment:function(t){return vu(vu({},this),{alignment:t})},kc:function(t,e,i,n,r,o){var s=this,a=new Ha(t,e,i,this.background,n,r),u=a.addElement({kc:function(){return new gu(t,e,i,ue,r,s.alignment)}}),l=Object.assign(a,iu,{stylableTexts:[u]},mu,{lutElement:u});return Bs(l,r,o),this.applyStylers(l,r)}}).addStyler(Is),Su=function(t,e,i){var n=t.getSteps(),r=t.min,o=t.max-r;if(!0===t.getInterpolation())return new dt({angle:e,stops:n.map((function(e,s){return{offset:i?(e.value-r)/o:s/(n.length-1),color:e.color||t.color}}))});for(var s=[],a=0;a<n.length;a+=1){var u=n[a];s.push({offset:i?.9*(u.value-r)/o:a/n.length,color:u.color||t.color});var l=a<n.length-1?n[a+1]:void 0;s.push({offset:i?l?.9*(l.value-r)/o:1:l?(a+1)/n.length:1,color:u.color||t.color})}return new dt({angle:e,stops:s})},Au=function(){return(Au=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},bu=Au(Au(Au({},zs),Ls),{background:za,buttonBuilder:fu,setButtonShape:function(t){return Au(Au({},this),{buttonBuilder:this.buttonBuilder.setButtonShape(t)})},alignment:"horizontal",setAlignment:function(t){return Au(Au({},this),{alignment:t})},kc:function(t,e,i,n,r){var o=this,s=new Ha(t,e,i,this.background,n,r),a=s.addElement($a),u=a.addElement(Ja);u.addGap();var l=u.addElement(this.buttonBuilder);u.addGap();var h=a.addElement(Ja);h.addGap();var c=h.addElement(Ba);h.addGap();var f=s.addElement({kc:function(){return new gu(t,e,i,ue,r,o.alignment)}});"vertical"===this.alignment&&f.setMargin({left:r.uiButtonSize+6});var p,d=Object.assign(s,tu,{setTextLabel:c},iu,{stylableTexts:[c,f]},eu("LUTText",[f]),nu,{button:l},mu,{lutElement:f},ru);return d.onMouseClick((function(){d.getLocked()||d.setOn(!d.getOn())})),d.onMouseEnter((function(){return d.setHighlight(!0)})),d.onMouseLeave((function(){return d.setHighlight(!1)})),d.setMouseStyle(Kn.Point),d.setTextFillStyleHidden(r.uiTextFillStyleHidden||r.uiTextFillStyle),d.onSwitch((function(t,e){e?p&&d.setTextFillStyle(p):(p=d.getTextFillStyle(),d.setTextFillStyle(d.getTextFillStyleHidden()))})),d.setPadding({left:5}),this.applyStylers(d,r)}}).addStyler(Is).addStyler(Os),Mu=function(){return(Mu=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},wu=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Cu=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Pu={alignment:null,title:null,entryStylers:null,legendBoxDisposed:null,entries:[],add:function(t,e){var i=!e||"object"!==a(e)||void 0===e.toggleVisibilityOnClick||e.toggleVisibilityOnClick,n=null==e?void 0:e.matchStyleExactly,r=e&&"object"===a(e)&&void 0!==e.builder?e.builder:void 0;return this.legendBoxDisposed()||(t instanceof Gl?this.addChart(t,i,r,n):"attach"in t?this.addAttachable(t,i,r,n):t&&this.addDashboard(t,i,r,n)),this},addAttachable:function(t,e,i,n){var r=t.pv&&t.pv(),o=t.On&&t.On(),s=void 0!==n&&n,a=i;if(!a){var u=r?bu.setAlignment(this.alignment):du;void 0!==o&&(u=u.setButtonShape(o)),a=u}var l=this.addElement(a);if(r&&"setLUT"in l){l.setLUT(r.lut);var h=r.lut.getUnits(),c=r.lookUpProperty,f=h.length>0?h:"x"===c?"x":"y"===c?"y":"z"===c?"z":"";l.setLookUpUnit(f)}return this.entryStylers.forEach((function(t){return t(l)})),this.entries.push({entry:l,component:t}),t.attach(l,e,s),e||l.setLocked(!0),this},addChart:function(t,e,i,n){var r=this;return t.Tv().forEach((function(t){return r.addAttachable(t,e,i,n)})),this},addDashboard:function(t,e,i,n){var r=this;return t.getCells().filter((function(t){return t.panel instanceof Gl})).forEach((function(t){return r.addChart(t.panel,e,i,n)})),this},setTitle:function(t){return this.title.setText(t),this},getTitle:function(){return this.title.getText()},setTitleFillStyle:function(t){return this.title.setTextFillStyle(t),this},getTitleFillStyle:function(){return this.title.getTextFillStyle()},setTitleFont:function(t){return this.title.setTextFont(t),this},getTitleFont:function(){return this.title.getTextFont()},setTitleRotation:function(t){return this.title.setTextRotation(t),this},getTitleRotation:function(){return this.title.getTextRotation()},setEntries:function(t){return this.entries.forEach((function(e){return t(e.entry,e.component)})),this}},Eu={alignment:"vertical",layoutBuilder:Ja,setAlignment:function(t){return Mu(Mu({},this),{alignment:t,layoutBuilder:"horizontal"===t?$a:Ja})},getAlignment:function(){return this.alignment},titleBuilder:au,styleTitle:function(t){return Mu(Mu({},this),{titleBuilder:this.titleBuilder.addStyler(t)})},entryStylers:[],styleEntries:function(t){return Mu(Mu({},this),{entryStylers:Cu(Cu([],wu(this.entryStylers),!1),[t],!1)})}},Tu=Mu(Mu(Mu(Mu({},zs),Ls),Eu),{background:za,kc:function(t,e,i,n,r,o){var s=this.layoutBuilder.setBackground(this.background).kc(t,e,i,n,r,!1),a=Object.assign(s,Pu,{alignment:this.alignment,entryStylers:this.entryStylers,legendBoxDisposed:function(){return s.Hi}});a.entries=[];var u=a.addElement("horizontal"===this.alignment?Ja:$a),l=u.addElement(this.titleBuilder).setText("Legend").setTextFillStyle(r.legendTitleFillStyle).setTextFont(r.legendTitleFont);return u.addGap(),a=Object.assign(a,{title:l}),"horizontal"===this.alignment&&l.setMargin({right:6}),Bs(a,r,o),this.applyStylers(a,r)}}).addStyler((function(t,e){return t.setPadding(5)})),ku=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Du=function(){return(Du=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Fu=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.kv=10,s.Ov=Qt.Up,s.Fv=0,s.Oc="major",s.dh=s.$f(e.zo(s.renderingScale).Po(fi).Lo(fi)),s.Gr=s.$f(e.Wr(s.renderingScale)),s}return ku(e,t),e.prototype.uc=function(){return[this.dh]},e.prototype.Pr=function(){if(t.prototype.Pr.call(this),this.Hi)return this;var e=Pt(this.getPosition(),this.scale,this.renderingScale),i=this.renderingScale.Ai(e,{x:this.Ov===Qt.Right?-this.kv:this.Ov===Qt.Left?this.kv:0,y:this.Ov===Qt.Up?-this.kv:this.Ov===Qt.Down?this.kv:0}),n=this.renderingScale.Ai(i,{x:this.Ov===Qt.Right?-this.Fv:this.Ov===Qt.Left?this.Fv:0,y:this.Ov===Qt.Up?-this.Fv:this.Ov===Qt.Down?this.Fv:0});return this.Gr.Xr(e).Yr(i),this.dh.Lr(n).Rh(this.Ov===Qt.Up?{x:0,y:1}:this.Ov===Qt.Down?{x:0,y:-1}:this.Ov===Qt.Right?{x:1,y:0}:{x:-1,y:0}),this},e.prototype.En=function(){var e=this.Gr.vf().getThickness();return this.size=this.Ov===Qt.Left||this.Ov===Qt.Right?{x:this.kv+this.Fv+this.dh.En().Tl().x,y:e}:{y:this.kv+this.Fv+this.dh.En().Tl().y,x:e},t.prototype.En.call(this)},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.dh.dispose(),this.Gr.dispose(),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.dh.setVisible(e),this.Gr.setVisible(e),this},e.prototype.setMouseInteractions=function(t){return this.dh.setMouseInteractions(t),this.Gr.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.dh.getMouseInteractions()},e.prototype.getText=function(){return this.dh.wo()},e.prototype.setTextFillStyle=function(t){return this.dh.Br(t),this.In.Sn(),this},e.prototype.getTextFillStyle=function(){return this.dh.We()},e.prototype.setTextFont=function(t){return this.dh.He(t),this},e.prototype.setTextRotation=function(t){return this.dh.Ze(t),this},e.prototype.getTextRotation=function(){return this.dh.Qe()},e.prototype.getTextFont=function(){return this.dh.Xe()},e.prototype.setText=function(t){return this.dh.vo(t),this.In.Sn(),this},e.prototype.setDirection=function(t){return this.Ov=t,this.In.Sn(),this},e.prototype.getDirection=function(){return this.Ov},e.prototype.setPointerLength=function(t){return this.kv=t,this.In.Sn(),this},e.prototype.getPointerLength=function(){return this.kv},e.prototype.setTickLabelPadding=function(t){return this.Fv=t,this.In.Sn(),this},e.prototype.getTickLabelPadding=function(){return this.Fv},e.prototype.setTickStyle=function(t){return this.Gr.Ur(t),this.In.Sn(),this},e.prototype.getTickStyle=function(){return this.Gr.vf()},e}(Ps),_u=Du(Du({},zs),{direction:Qt.Up,setDirection:function(t){return this.direction=t,this},kc:function(t,e,i,n,r,o){var s=this.direction,a=new Fu(t,e,i,n,r);return Bs(a,r,o),a.setDirection(s),this.applyStylers(a,r)}}).addStyler(Is),Iu=_u.addStyler((function(t,e){return t.Oc="major",t.setPointerLength(e.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.majorTickStyle.labelFillStyle)})),Ou=_u.addStyler((function(t,e){return t.Oc="minor",t.setPointerLength(e.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.minorTickStyle.labelFillStyle)})),Bu=du.addStyler((function(t){return t.onSwitch((function(e,i){return!0===i?setTimeout((function(){return t.setOn(!1)}),300):void 0}))})),zu=Tu.setAlignment("horizontal"),Lu=Tu.setAlignment("vertical"),Ru={TextBox:au,CheckBox:du,ButtonBox:Bu,PointableTextBox:uu,AxisTickMajor:Iu,AxisTickMinor:Ou,LUTRange:xu},Vu={HorizontalLegendBox:zu,VerticalLegendBox:Lu},Nu={Iv:0,jv:1,Dv:2,Bv:3,Ev:4,Pv:5,Lv:6,zv:7,Vv:8,Nv:9,Rv:10,Gv:11,Uv:12,Wv:13,Yv:14,Xv:15,Hv:16,Zv:17,Qv:18,Kv:19,Jv:20,qv:21,$v:22,td:23},Uu=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yu=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gu=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},ju=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Wu=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;return a.nd=o,a}return Uu(e,t),e}(io),Xu=function(t){function e(e,i,n,o,s,a,u,l,h,c,f,p,d,v,g,m){var x,S,A,b=this;(b=t.call(this,c,h,u,v,g,{numeric:h.getWidth({x:v.xAxisNumericTicks,y:v.yAxisNumericTicks}),datetime:h.getWidth({x:v.xAxisDateTimeTicks,y:v.yAxisDateTimeTicks}),time:h.getWidth({x:v.xAxisTimeTicks,y:v.yAxisTimeTicks})},m)||this).rd=new Map,b.ed=void 0,b.od=0,b.sd=[],b.ud=[],b.ue=Lr.fitting,b.hd=!0,b.ad=8,b.fd=void 0,b.ld=void 0,b.vd=20,b.dd=1,b.Ad=!0,b.yd=!0,b.md=!0,b.bd=!0,b.pd=!0,b.gd=!0,b.Sd=!0,b.xd=!0,b.wd=!0,b.Md=!0,b.Cd=b.Be.defaultDragMouseStyle,b._d=b.Be.defaultDragMouseStyle,b.Td=b.Be.defaultDragMouseStyle,b.kd=b.Be.defaultDragMouseStyle,b.Od=b.Be.defaultDragMouseStyle,b.D=new r.a,b.Fd=[],b.Id=function(t){var e=b.ud.indexOf(t);e>=0&&b.ud.splice(e,1)},b.jd=function(t){return b.ud.indexOf(t)<0&&b.ud.push(t),b.Id},b.Dd="center",b.Bt=function(t,e){return b.D.emit("axisAreaTouch",b,e)},b.Bd=Le(b.Fd),b.onAxisInteractionAreaMouseClick=function(t){return b.D.on("axisAreaMouseClick",t)},b.onAxisInteractionAreaMouseDoubleClick=function(t){return b.D.on("axisAreaDoubleClick",t)},b.onAxisInteractionAreaMouseDown=function(t){return b.D.on("axisAreaMouseDown",t)},b.onAxisInteractionAreaMouseUp=function(t){return b.D.on("axisAreaMouseUp",t)},b.onAxisInteractionAreaMouseEnter=function(t){return b.D.on("axisAreaMouseEnter",t)},b.onAxisInteractionAreaMouseLeave=function(t){return b.D.on("axisAreaMouseLeave",t)},b.onAxisInteractionAreaMouseMove=function(t){return b.D.on("axisAreaMouseMove",t)},b.onAxisInteractionAreaMouseWheel=function(t){return b.D.on("axisAreaMouseWheel",t)},b.onAxisInteractionAreaMouseDragStart=function(t){return b.D.on("axisAreaMouseDragStart",t)},b.onAxisInteractionAreaMouseDrag=function(t){return b.D.on("axisAreaMouseDrag",t)},b.onAxisInteractionAreaMouseDragStop=function(t){return b.D.on("axisAreaMouseDragStop",t)},b.onAxisInteractionAreaTouchStart=function(t){return b.D.on("axisAreaTouchStart",t)},b.onAxisInteractionAreaTouch=function(t){return b.D.on("axisAreaTouch",t)},b.onAxisInteractionAreaTouchStop=function(t){return b.D.on("axisAreaTouchEnd",t)},b.offAxisInteractionAreaMouseClick=function(t){return b.D.off(t,"axisAreaMouseClick")},b.offAxisInteractionAreaMouseDoubleClick=function(t){return b.D.off(t,"axisAreaDoubleClick")},b.offAxisInteractionAreaMouseDown=function(t){return b.D.off(t,"axisAreaMouseDown")},b.offAxisInteractionAreaMouseUp=function(t){return b.D.off(t,"axisAreaMouseUp")},b.offAxisInteractionAreaMouseEnter=function(t){return b.D.off(t,"axisAreaMouseEnter")},b.offAxisInteractionAreaMouseLeave=function(t){return b.D.off(t,"axisAreaMouseLeave")},b.offAxisInteractionAreaMouseMove=function(t){return b.D.off(t,"axisAreaMouseMove")},b.offAxisInteractionAreaMouseWheel=function(t){return b.D.off(t,"axisAreaMouseWheel")},b.offAxisInteractionAreaMouseDragStart=function(t){return b.D.off(t,"axisAreaMouseDragStart")},b.offAxisInteractionAreaMouseDrag=function(t){return b.D.off(t,"axisAreaMouseDrag")},b.offAxisInteractionAreaMouseDragStop=function(t){return b.D.off(t,"axisAreaMouseDragStop")},b.offAxisInteractionAreaTouchStart=function(t){return b.D.off(t,"axisAreaTouchStart")},b.offAxisInteractionAreaTouch=function(t){return b.D.off(t,"axisAreaTouch")},b.offAxisInteractionAreaTouchStop=function(t){return b.D.off(t,"axisAreaTouchEnd")},b.Av={relative:1},b.Ed=0,b.Pd=0,b.Ld=function(t,e){return e.getAllocatesAxisSpace()?Math.max(t,e.update().jc()):t},b.zd=function(t){var e=b.sd.indexOf(t);-1!==e&&b.sd.splice(e,1)},b.Vd=function(t,e){b.D.emit("axisAreaDoubleClick",b,e),b.bd&&(b.setStopped(!1),Ie(e))},b.Nd=function(t){b.D.emit("axisAreaMouseEnter",b),(b.yd||b.Ad||b.md||b.bd)&&b.Rd(t)},b.Gd=function(t){b.Ud(t),b.D.emit("axisAreaMouseLeave",b)},b.Wd=function(t,e,i){var n,r;b.D.emit("axisAreaMouseDragStart",b,e,i);var o=ye(null===(n=b.chart.Yd.Ys)||void 0===n?void 0:n.axisXYZoomMouseButton,0),s=ye(null===(r=b.chart.Yd.Ys)||void 0===r?void 0:r.axisXYPanMouseButton,2),a=y(e.clientX,e.clientY);i===s&&b.yd?(b.Xd(t),Ie(e)):i===o&&b.Ad&&(b.Hd(t,a),Ie(e))},b.Zd=function(t,e,i,n,r){var o,s;b.D.emit("axisAreaMouseDrag",b,e,i,n,r);var a=ye(null===(o=b.chart.Yd.Ys)||void 0===o?void 0:o.axisXYZoomMouseButton,0),u=ye(null===(s=b.chart.Yd.Ys)||void 0===s?void 0:s.axisXYPanMouseButton,2),l=y(e.clientX,e.clientY);i===u&&b.yd?(b.Qd(t,r),Ie(e)):i===a&&b.Ad&&(b.Kd(t,n,l,r),Ie(e))},b.Jd=function(t,e,i,n){var r,o;b.D.emit("axisAreaMouseDragStop",b,e,i,n);var s=ye(null===(r=b.chart.Yd.Ys)||void 0===r?void 0:r.axisXYZoomMouseButton,0),a=ye(null===(o=b.chart.Yd.Ys)||void 0===o?void 0:o.axisXYPanMouseButton,2),u=y(e.clientX,e.clientY);i===a&&b.yd?(b.qd(t),Ie(e)):i===s&&b.Ad&&(b.$d(t,n,u),Ie(e)),t.getIsUnderMouse()&&(b.yd||b.Ad||b.md||b.bd)&&b.Rd(t)},b.tA=function(t,e){if(b.D.emit("axisAreaMouseWheel",b,e),b.md){b.setStopped(!0);var i=b.Be.getWidth(b.iA.fn.Vr(e.clientX,e.clientY)),n=b.vt.ft(i);b.zoom(n,Je(e)),Ie(e)}},b.nA=function(t,e){return b.D.emit("axisAreaMouseClick",b,e)},b.rA=function(t,e){return b.D.emit("axisAreaMouseDown",b,e)},b.eA=function(t,e){return b.D.emit("axisAreaMouseUp",b,e)},b.oA=function(t,e){return b.D.emit("axisAreaMouseMove",b,e)},b.sA=function(t,e,i){b.D.emit("axisAreaTouchStart",b,i),b.Ad&&(b.Rd(t),b.Hd(t,e),Ie(i))},b.uA=function(t,e,i,n,r){b.D.emit("axisAreaTouch",b,r),b.Ad&&(b.Kd(t,e,i,n),Ie(r))},b.hA=function(t,e,i,n){b.D.emit("axisAreaTouchEnd",b,n),b.Ad&&(b.$d(t,e,i),b.Ud(t),Ie(n))},b.aA=function(t,e,i,n){(b.yd||b.md)&&(b.Rd(t),b.Xd(t),Ie(n))},b.fA=function(t,e,i,n,r,o){if(b.yd){var s=y((n.x+r.x)/2,(n.y+r.y)/2);b.Qd(t,s),Ie(o)}if(b.md){var a=b.iA.fn.Vr(e.x,e.y),u=b.iA.fn.Vr(i.x,i.y),l=Math.abs(b.Be.getWidth(Zi(a,n))-b.Be.getWidth(Zi(u,r)))-Math.abs(b.Be.getWidth(a)-b.Be.getWidth(u)),h=b.vt.Ai(b.Ve,-l),c=b.vt.Ai(b.Ne,l);b.no(h,c,!0),Ie(o)}},b.cA=function(t,e,i,n){(b.yd||b.md)&&(b.qd(t),b.Ud(t),Ie(n))},b.lA=function(t,e){(b.pd||b.gd)&&b.vA(t)},b.dA=function(t,e){b.AA(t)},b.yA=function(t,e,i){var n=y(e.clientX,e.clientY);b.pd&&b.mA(t,n)},b.bA=function(t,e,i,n,r){var o=y(e.clientX,e.clientY);b.pd&&b.pA(t,o,n,r)},b.gA=function(t,e,i,n,r){var o=y(e.clientX,e.clientY);b.pd&&b.SA(t,o,n,r)},b.xA=function(t,e,i,n){var r=y(e.clientX,e.clientY);(b.pd||b.gd)&&b.wA(t,r,n),(b.pd||b.gd)&&b.vA(t)},b.MA=function(t,e){b.gd&&(b.setStopped(!0),b.zoom(b.Ve,Je(e)),Ie(e))},b.CA=function(t,e){b.gd&&(b.setStopped(!0),b.zoom(b.Ne,Je(e)),Ie(e))},b._A=function(t,e,i){b.pd&&(b.vA(t),b.mA(t,e),Ie(i))},b.TA=function(t,e,i,n,r){b.pd&&(b.pA(t,e,i,n),Ie(r))},b.kA=function(t,e,i,n,r){b.pd&&(b.SA(t,e,i,n),Ie(r))},b.OA=function(t,e,i,n){b.pd&&(b.wA(t,e,i),b.AA(t),Ie(n))},b.FA=e,b.iA=i,b.IA=o,b.jA=s,b.chart=c,b.DA=p,b.BA=n,b.nn=a,"logarithmic"===m.type&&b.chart.fn.Rs(Nu.Kv),d(b,b.jd),u.EA=b,b.PA=f,b.LA=b.PA>50?1:-1,b.zA=(A=b.Be.toPoint(0,-b.LA),Math.abs(A.x)>=Math.abs(A.y)?A.x>=0?Qt.Right:Qt.Left:A.y>=0?Qt.Up:Qt.Down),b.VA=l,b.NA=b.vt instanceof An?(new Cn).Bi(b.Be.toVec2(b.vt,b.VA)):(new Pn).Bi(b.Be.toVec2(b.vt,b.VA)),b.RA=b.chart.GA,b.UA=(new Cn).Bi(b.Be.toVec2(b.Be.getWidth(b.RA),b.VA)),b.WA=b.iA.Wr(b.NA).setMouseInteractions(!1),b.YA=b.iA.Wr(b.NA).setMouseInteractions(!1),b.XA=b.iA.Wr(b.NA).setMouseInteractions(!1),b.HA=b.BA.Er(b.RA).Br(h.getWidth({x:v.xAxisOverlayStyle,y:v.yAxisOverlayStyle})).Dr(gt).Qu(v.highlightColorOffsetAxisOverlay||v.highlightColorOffset),b.ZA=b.BA.Er(b.RA).Br(h.getWidth({x:v.xAxisZoomingBandFillStyle,y:v.yAxisZoomingBandFillStyle})).Dr(h.getWidth({x:v.xAxisZoomingBandStrokeStyle,y:v.yAxisZoomingBandStrokeStyle})),b.QA=b.BA.Er(b.RA).Br(h.getWidth({x:v.xAxisOverlayStyle,y:v.yAxisOverlayStyle})).Dr(gt).Qu(v.highlightColorOffsetAxisOverlay||v.highlightColorOffset),b.KA=b.BA.Er(b.RA).Br(h.getWidth({x:v.xAxisOverlayStyle,y:v.yAxisOverlayStyle})).Dr(gt).Qu(v.highlightColorOffsetAxisOverlay||v.highlightColorOffset),b.xe=b.BA.zo(b.NA).setMouseInteractions(!1).Ze(b.Be.getTitleTextRotation(b.LA)).Lo(fi).Po(fi),b.chart.fn.an.hn(b.HA,(function(t){return b.HA.cn(t)}),{animationEnabled:b.fe}),b.chart.fn.an.hn(b.QA,(function(t){return b.QA.cn(t)}),{animationEnabled:b.fe}),b.chart.fn.an.hn(b.KA,(function(t){return b.KA.cn(t)}),{animationEnabled:b.fe});var M=Gn(new jn.Drag(b.sA,b.uA,b.hA,1),new jn.Pinch(b.aA,b.fA,b.cA),new jn.DoublePoke(b.Vd)),w=Gn(new jn.Drag(b._A,b.TA,b.OA)),C=Gn(new jn.Drag(b._A,b.kA,b.OA));return b.HA.setMouseEnterEventHandler(b.Nd).setMouseLeaveEventHandler(b.Gd).setMouseDragStartEventHandler(b.Wd).setMouseDragEventHandler(b.Zd).setMouseDragStopEventHandler(b.Jd).setMouseWheelEventHandler(b.tA).setMouseDoubleClickEventHandler(b.Vd).setMouseClickEventHandler(b.nA).setMouseDownEventHandler(b.rA).setMouseUpEventHandler(b.eA).setMouseMoveEventHandler(b.oA).setTouchStartEventHandler(M.onTouchStart).setTouchMoveEventHandler(M.onTouchMove).setTouchEndEventHandler(M.onTouchEnd),b.QA.setMouseEnterEventHandler(b.lA).setMouseLeaveEventHandler(b.dA).setMouseDragStartEventHandler(b.yA).setMouseDragEventHandler(b.bA).setMouseDragStopEventHandler(b.xA).setMouseWheelEventHandler(b.MA).setTouchStartEventHandler(w.onTouchStart).setTouchMoveEventHandler(w.onTouchMove).setTouchEndEventHandler(w.onTouchEnd),b.KA.setMouseEnterEventHandler(b.lA).setMouseLeaveEventHandler(b.dA).setMouseDragStartEventHandler(b.yA).setMouseDragEventHandler(b.gA).setMouseDragStopEventHandler(b.xA).setMouseWheelEventHandler(b.CA).setTouchStartEventHandler(C.onTouchStart).setTouchMoveEventHandler(C.onTouchMove).setTouchEndEventHandler(C.onTouchEnd),b.WA.Ur(h.getWidth({x:v.xAxisStrokeStyle,y:v.yAxisStrokeStyle})),b.YA.Ur(h.getWidth({x:v.xAxisNibStyle,y:v.yAxisNibStyle})),b.XA.Ur(h.getWidth({x:v.xAxisNibStyle,y:v.yAxisNibStyle})),b.xe.Br(h.getWidth({x:v.xAxisTitleFillStyle,y:v.yAxisTitleFillStyle})).He(h.getWidth({x:v.xAxisTitleFont,y:v.yAxisTitleFont})),b.rn=a.en(b,{}),b.Ke=b.rn.JA([b.xe]).gn(v.effectsText),b.qA=null!==(x=h.getWidth({x:v.xAxisMarginAfterTicks,y:v.yAxisMarginAfterTicks}))&&void 0!==x?x:7,b.$A=null!==(S=h.getWidth({x:v.xAxisMarginAfterTitle,y:v.yAxisMarginAfterTitle}))&&void 0!==S?S:7,b}return Uu(e,t),e.prototype.Bo=function(){return this.ve},e.prototype.Eo=function(){return void 0!==this.io},e.prototype.setTickStrategy=function(e,i){return t.prototype.ze.call(this,e,i)},e.prototype.getTickStrategy=function(){return this.ee},e.prototype.addBand=function(t){void 0===t&&(t=!0);var e=t?this.jA:this.IA,i=new Or(e,this.chart,this.Bd,this,this.NA,this.Be,this.$i,this.nn);return this.Fd.push(i),i},e.prototype.addConstantLine=function(t){void 0===t&&(t=!0);var e=t?this.jA:this.IA,i=new zr(e,this.chart,this.Bd,this,this.NA,this.Be,this.$i,this.nn);return this.Fd.push(i),i},e.prototype.ty=function(t){this.Fd.forEach(t)},e.prototype.iy=function(t){return this.Fd.map(t)},e.prototype.getHighlighters=function(){return this.Fd},e.prototype.setThickness=function(t){return"number"==typeof t?(this.ny=t,this.ey=t):"object"===a(t)&&(this.ny=t.min,this.ey=t.max),this.chart.fn.Sn(),this},e.prototype.getThickness=function(){return{min:this.ny,max:this.ey}},e.prototype.setMouseInteractions=function(t){return this.setAxisInteractionPanByDragging(t).setAxisInteractionReleaseByDoubleClicking(t).setAxisInteractionZoomByDragging(t).setAxisInteractionZoomByWheeling(t).setNibInteractionScaleByDragging(t).setNibInteractionScaleByWheeling(t)},e.prototype.oy=function(){return this.ud},e.prototype.yo=function(t,e){return new Wu(e,t,this.iA,this.NA,this.NA)},e.prototype.Je=function(){var e,i;if(this.rd){try{for(var n=Yu(this.rd),r=n.next();!r.done;r=n.next()){var o=r.value;o[1].grid.dispose(),o[1].tick.dispose()}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}this.rd.clear()}t.prototype.Je.call(this)},e.prototype.mo=function(t,e){var i=e.tickStart,n=t.Oe.Ao,r=i+n.getTickLength()*this.LA+n.getTickPadding()*this.LA;t.ie.Lr(this.Be.toPoint(t.S,r)).Rh(this.Be.toPoint(n.getLabelAlignment(),-this.LA)).Ze(n.labelRotation).setVisible(this.getVisible())},e.prototype.sy=function(t,e){var i=e.startPosition,n=e.gridStrokeLen,r=e.gridStrokeStart,o=e.tickStart,s=t.Oe.Ao,a=i-n*s.getGridStrokeLength(),u=o+s.getTickLength()*this.LA;return{gridStroke:{start:this.Be.toPoint(t.S,r),end:this.Be.toPoint(t.S,a)},tickStroke:{start:this.Be.toPoint(t.S,o),end:this.Be.toPoint(t.S,u)}}},e.prototype.Io=function(t,e){return"linear"===this.Pe.type?Bn(t,e,this.vt):zn(t,e,this.vt)},e.prototype.uy=function(t,e){return e instanceof An?Bn:zn},e.prototype.Do=function(t,e,i){if("logarithmic"!==this.Pe.type){var n=this.vt.Di(e-t);return{min:t-i*n,max:e+i*n}}var r=this.vt;return{min:r.Ai(t,-i),max:r.Ai(e,i)}},e.prototype.En=function(){var t=this;if(!this.Zi)return{hy:0,ly:0,yv:0};var e=!(this.oe.size>0),i=this.xe&&this.xe.wo().length>0&&this.getTitleFillStyle()!==J,n=this.Be.getHeight(i?this.chart.fn.Ay.vy(this.xe.wo(),this.getTitleFont(),this.getTitleRotation()):{x:0,y:0})+(i?this.$A:0),r=Qr(this.re)?new Map:no(this.re,Math.min(this.Ve,this.Ne),Math.max(this.Ve,this.Ne),this.Ve,this.Ne,0),o=this.vt,s=0;r.forEach((function(i,n){if(function(t){return void 0!==t.Ao&&void 0!==t.lo}(n)){var r=Math.max.apply(Math,ju([],Gu(i.map((function(i){if(!_i(i,t.Ve,t.Ne))return 0;var r=t.chart.fn.Ay.vy(n.lo(i,o),n.Ao.labelFont,n.Ao.labelRotation);return e||!r.isEstimate?t.Be.getHeight(r):0}))),!1))+n.Ao.tickLength+n.Ao.tickPadding;s=Math.max(s,r)}}));var a=this.sd.reduce(this.Ld,0);s=Math.max(s,a),s+=this.qA;var u=he(n+s,void 0!==this.ny?this.ny:0,void 0!==this.ey?this.ey:Ai);return this.od=u,{hy:s,ly:n,yv:u}},e.prototype.Pr=function(t){var e,i,n,r,o,s,a,u,l=this,h=this.getVisible()&&t.yy>0;this.my=t;var c=this.WA.vf(),f=this.vt.getInnerStart()<this.vt.getInnerEnd()?this.vt.getInnerStart():this.vt.getInnerEnd(),p=this.vt.getInnerEnd()>this.vt.getInnerStart()?this.vt.getInnerEnd():this.vt.getInnerStart(),d=c.getThickness()*this.LA/2,y=this.VA.getInnerInterval(),v=this.PA/100*y,g=v+t.by,m=y*this.LA,x=g+d;if(h||this.Je(),!Qr(this.re)&&h){var S=this.vt.ri();this.oo({physicalAxisSize:S,startPosition:v,gridStrokeLen:m,gridStrokeStart:g,tickStart:x});try{for(var A=Yu(this.oe),b=A.next();!b.done;b=A.next()){var M=Gu(b.value,2),w=M[0],C=M[1],P=this.rd.get(w);if(!P)if(w.Hr)P={grid:this.FA[0].py(this.NA).setMouseInteractions(!1),tick:this.FA[0].py(this.NA).setMouseInteractions(!1)};else if("gy"in w){var E=Array.from(this.oe.keys()).filter((function(t){return"gy"in t})).reverse().indexOf(w),T=this.FA[E];if(!T)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact Arction support.");P={grid:T.py(this.NA).setMouseInteractions(!1),tick:T.py(this.NA).setMouseInteractions(!1)}}if(P){P.grid.zt(),P.tick.zt();try{for(var k=(n=void 0,Yu(C)),D=k.next();!D.done;D=k.next()){var F=Gu(D.value,2),_=(F[0],F[1]),I=this.sy(_,{physicalAxisSize:S,startPosition:v,gridStrokeLen:m,gridStrokeStart:g,tickStart:x});P.grid.Wo().Sy(I.gridStroke.start,I.gridStroke.end),P.tick.Wo().Sy(I.tickStroke.start,I.tickStroke.end)}}catch(t){n={error:t}}finally{try{D&&!D.done&&(r=k.return)&&r.call(k)}finally{if(n)throw n.error}}P.grid.Ur(w.Ao.getGridStrokeStyle()),P.tick.Ur(w.Ao.getTickStyle()),this.rd.set(w,P)}}}catch(t){e={error:t}}finally{try{b&&!b.done&&(i=A.return)&&i.call(A)}finally{if(e)throw e.error}}}var O=x,B=O+this.LA*t.xy,z=this.pd||this.gd?Math.min(this.vd,.25*t.yy):0,L={start:this.Be.toVec2(this.vt.Ai(this.vt.getInnerStart(),z),O),end:this.Be.toVec2(this.vt.Ai(this.vt.getInnerEnd(),-z),B)},R=Pt(this.Be.toVec2(this.vt.getInnerStart(),B),this.NA,this.RA),V=Pt(L.start,this.NA,this.RA),N=Pt(L.end,this.NA,this.RA),U=Pt(this.Be.toVec2(this.vt.getInnerEnd(),O),this.NA,this.RA);this.WA.Xr(this.Be.toPoint(f,g)).Yr(this.Be.toPoint(p,g)).setVisible(h),this.YA.Xr(this.Be.toPoint(this.vt.Ai(this.vt.getInnerStart(),this.ad),g)).Yr(this.Be.toPoint(this.vt.getInnerStart(),g)).setVisible(h),this.XA.Xr(this.Be.toPoint(this.vt.Ai(this.vt.getInnerEnd(),-this.ad),g)).Yr(this.Be.toPoint(this.vt.getInnerEnd(),g)).setVisible(h);var Y=g+t.hy*this.LA;if(this.xe.Lr(this.Be.toPoint(this.Be.getWidth(Pt("center"===this.Dd?Xi(Hi(R,U),.5):"start"===this.Dd?R:U,this.RA,this.NA)),Y)).Rh(this.Be.toPoint("center"===this.Dd?0:"start"===this.Dd?-1:1,-1*this.LA)).setVisible(h).setMouseInteractions(void 0!==["mouseEnterTitle","mouseMoveTitle","mouseLeaveTitle","mouseDownTitle","mouseUpTitle","mouseClickTitle","mouseDoubleClickTitle","mouseDragStartTitle","mouseDragTitle","mouseDragStopTitle","mouseWheelTitle","touchStartTitle","touchMoveTitle","touchEndTitle"].find((function(t){return l.D.listeners(t).size>0}))),this.ed){var G=this.PA/100*y+t.by,j=-this.LA*y-t.by,W={start:this.Be.toVec2(this.ed.min,x+this.LA*this.od),end:this.Be.toVec2(this.ed.max,G+j)},X=Pt(W.start,this.NA,this.RA),H=Pt(W.end,this.NA,this.RA);this.ZA.Lr(X).tt(Zi(H,X)).setVisible(!0)}else this.ZA.setVisible(!1);this.HA.Lr(V).tt(Zi(N,V)).setVisible(h),this.QA.Lr(R).tt(Zi(V,R)).setVisible(h),this.KA.Lr(N).tt(Zi(U,N)).setVisible(h);try{for(var Z=Yu(this.sd),Q=Z.next();!Q.done;Q=Z.next())(_=Q.value).update().plot(h,g,m,t.by,x)}catch(t){o={error:t}}finally{try{Q&&!Q.done&&(s=Z.return)&&s.call(Z)}finally{if(o)throw o.error}}try{for(var q=Yu(this.Fd),K=q.next();!K.done;K=q.next())K.value.Pr()}catch(t){a={error:t}}finally{try{K&&!K.done&&(u=q.return)&&u.call(q)}finally{if(a)throw a.error}}},e.prototype.setLength=function(t){return this.Av=t,this.chart.fn.Sn(),this},e.prototype.getLength=function(){return this.Av},e.prototype.setMargins=function(t,e){return this.Ed=t,this.Pd=e,this.chart.fn.Sn(),this},e.prototype.getMargins=function(){return{start:this.Ed,end:this.Pd}},e.prototype.getStackIndex=function(){var t,e,i=this;return null!==(e=null===(t=ju(ju(ju(ju([],Gu(this.chart.wy),!1),Gu(this.chart.My),!1),Gu(this.chart.Cy),!1),Gu(this.chart._y),!1).find((function(t){return t.axis===i})))||void 0===t?void 0:t.iStack)&&void 0!==e?e:0},e.prototype.getParallelIndex=function(){var t,e,i=this;return null!==(e=null===(t=ju(ju(ju(ju([],Gu(this.chart.wy),!1),Gu(this.chart.My),!1),Gu(this.chart.Cy),!1),Gu(this.chart._y),!1).find((function(t){return t.axis===i})))||void 0===t?void 0:t.iParallel)&&void 0!==e?e:0},e.prototype.Ty=function(){var t,e,i,n,r=this.my;if(r){var o=this.getVisible()&&r.yy>0,s=this.WA.vf().getThickness()*this.LA/2,a=this.VA.getInnerInterval(),u=this.PA/100*a+r.by,l=a*this.LA,h=u+s;try{for(var c=Yu(this.sd),f=c.next();!f.done;f=c.next())f.value.update().plot(o,u,l,r.by,h)}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}try{for(var p=Yu(this.Fd),d=p.next();!d.done;d=p.next())d.value.Pr()}catch(t){i={error:t}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}}},e.prototype.ky=function(){return this.od},e.prototype.Oy=function(t,e){e=e||Ru.AxisTickMajor;var i=new Fs(this,t?this.FA[0]:this.BA,this.BA,this.vt,this.UA,this.UA,this.Be,this.zA,this.zd,this.$i,e).setTextFormatter(this.formatValue);return this.sd.push(i),i},e.prototype.Rd=function(t){this.chart.fn.an.Cn(t,1),this.fd=t.fn.ds(this.Cd,this.fd)},e.prototype.Ud=function(t){this.chart.fn.an.Cn(t,0),t.fn.As(this.fd)},e.prototype.Xd=function(t){this.setStopped(!0),t.fn.As(this.fd)},e.prototype.Qd=function(t,e){var i=-this.Be.getWidth(e);this.pan(i),this.fd=t.fn.ds(this._d,this.fd)},e.prototype.pan=function(t){var e=this.Ve,i=this.Ne,n=this.vt.Ai(e,t),r=this.vt.Ai(i,t);this.no(n,r,!1)},e.prototype.zoom=function(t,e){var i=this.vt.ct(this.Ve),n=this.vt.ct(this.Ne),r=this.vt.ct(t),o=he((r-i)/(n-i),0,1),s=.2*this.vt.ri(),a=o*this.dd*s*-e,u=(1-o)*this.dd*s*e,l=this.vt.Ai(this.Ve,a),h=this.vt.Ai(this.Ne,u);this.no(l,h,!0)},e.prototype.qd=function(t){this.ed=void 0,t.fn.As(this.fd)},e.prototype.Hd=function(t,e){this.setStopped(!0),t.fn.As(this.fd),this.chart.fn.an.Cn(this.HA,0)},e.prototype.Kd=function(t,e,i,n){var r=Pt(this.iA.fn.Vr(i.x,i.y),this.iA.fn.vt,this.NA),o=he(this.Be.getWidth(r),this.Ve,this.Ne),s=this.Be.getWidth(Pt(this.iA.fn.Vr(e.x,e.y),this.iA.fn.vt,this.NA));Math.abs(this.vt.ct(o)-this.vt.ct(s))>10?(this.ed=S(Math.min(o,s),Math.max(o,s)),this.fd=t.fn.ds(this.Td,this.fd)):(this.ed=void 0,this.fd=t.fn.ds(this.Cd,this.fd)),this.iA.Sn()},e.prototype.$d=function(t,e,i){if(this.ed){var n=this.ed.min,r=this.ed.max,o=this.Ne<this.Ve;this.dt(o?r:n,o?n:r,!0,!0,"interactionSetInterval")}this.ed=void 0,t.fn.As(this.fd)},e.prototype.vA=function(t){this.chart.fn.an.Cn(t,1),this.ld=t.fn.ds(this.kd,this.ld)},e.prototype.AA=function(t){this.chart.fn.an.Cn(t,0),t.fn.As(this.ld)},e.prototype.mA=function(t,e){this.setStopped(!0),this.ld=t.fn.ds(this.Od,this.ld)},e.prototype.pA=function(t,e,i,n){var r=this.Be.getWidth(n);this.no(this.vt.Ai(this.Ve,r),this.Ne,!0)},e.prototype.SA=function(t,e,i,n){var r=this.Be.getWidth(n);this.no(this.Ve,this.vt.Ai(this.Ne,r),!0)},e.prototype.wA=function(t,e,i){t.fn.As(this.ld),t.getIsUnderMouse()&&(this.ld=t.fn.ds(this.kd)),this.iA.Sn()},e.prototype.addCustomTick=function(t){return this.Oy(!0,t)},e.prototype.setTitlePosition=function(t){return this.Dd=t,this.chart.fn.Sn(),this},e.prototype.getTitlePosition=function(){return this.Dd},e.prototype.getUiPosition=function(){return this.PA},e.prototype.setStrokeStyle=function(t){return this.WA.Ur(t),this.iA.Sn(),this},e.prototype.getStrokeStyle=function(){return this.WA.vf()},e.prototype.getOverlayStyle=function(){return this.HA.We()},e.prototype.setOverlayStyle=function(t){return this.HA.Br(t),this.iA.Sn(),this},e.prototype.setAxisInteractionZoomByDragging=function(t){return this.Ad=t,this},e.prototype.getAxisInteractionZoomByDragging=function(){return this.Ad},e.prototype.setAxisInteractionPanByDragging=function(t){return this.yd=t,this},e.prototype.getAxisInteractionPanByDragging=function(){return this.yd},e.prototype.setAxisInteractionZoomByWheeling=function(t){return this.md=t,this},e.prototype.getAxisInteractionZoomByWheeling=function(){return this.md},e.prototype.setAxisInteractionReleaseByDoubleClicking=function(t){return this.bd=t,this},e.prototype.getAxisInteractionReleaseByDoubleClicking=function(){return this.bd},e.prototype.setAxisMouseHoverStyle=function(t){return void 0===t&&(t=this.Be.defaultDragMouseStyle),this.Cd=t,this},e.prototype.getAxisMouseHoverStyle=function(){return this.Cd},e.prototype.setAxisMousePanStyle=function(t){return void 0===t&&(t=this.Be.defaultDragMouseStyle),this._d=t,this},e.prototype.getAxisMousePanStyle=function(){return this._d},e.prototype.setAxisMouseZoomStyle=function(t){return void 0===t&&(t=this.Be.defaultDragMouseStyle),this.Td=t,this},e.prototype.getAxisMouseZoomStyle=function(){return this.Td},e.prototype.setAnimationHighlight=function(t){return this.chart.fn.an._n(this.HA,t),this.chart.fn.an._n(this.QA,t),this.chart.fn.an._n(this.KA,t),this},e.prototype.getAnimationHighlight=function(){return this.chart.fn.an.Tn(this.HA)},e.prototype.getMarginAfterTicks=function(){return this.qA},e.prototype.setMarginAfterTicks=function(t){return this.qA=t,this.iA.Sn(),this},e.prototype.getMarginAfterTitle=function(){return this.$A},e.prototype.setMarginAfterTitle=function(t){return this.$A=t,this.iA.Sn(),this},e.prototype.getNibLength=function(){return this.ad},e.prototype.setNibLength=function(t){return this.ad=t,this.iA.Sn(),this},e.prototype.getNibStyle=function(){return this.YA.vf()},e.prototype.setNibStyle=function(t){return this.YA.Ur(t),this.XA.Ur(t),this.iA.Sn(),this},e.prototype.getNibOverlayStyle=function(){return this.QA.We()},e.prototype.setNibOverlayStyle=function(t){return this.QA.Br(t),this.KA.Br(t),this.iA.Sn(),this},e.prototype.setNibMousePickingAreaSize=function(t){return this.vd=t,this.iA.Sn(),this},e.prototype.getNibMousePickingAreaSize=function(){return this.vd},e.prototype.setNibInteractionScaleByDragging=function(t){return this.pd=t,this},e.prototype.getNibInteractionScaleByDragging=function(){return this.pd},e.prototype.setNibInteractionScaleByWheeling=function(t){return this.gd=t,this},e.prototype.getNibInteractionScaleByWheeling=function(){return this.gd},e.prototype.setNibMouseHoverStyle=function(t){return void 0===t&&(t=this.Be.defaultDragMouseStyle),this.kd=t,this},e.prototype.getNibMouseHoverStyle=function(){return this.kd},e.prototype.setNibMouseScaleStyle=function(t){return void 0===t&&(t=this.Be.defaultDragMouseStyle),this.Od=t,this},e.prototype.getNibMouseScaleStyle=function(){return this.Od},e.prototype.setChartInteractions=function(t){return this.setChartInteractionFitByDrag(t),this.setChartInteractionPanByDrag(t),this.setChartInteractionZoomByDrag(t),this.setChartInteractionZoomByWheel(t),this},e.prototype.setChartInteractionPanByDrag=function(t){return this.Sd=t,this},e.prototype.getChartInteractionPanByDrag=function(){return this.Sd},e.prototype.setChartInteractionZoomByWheel=function(t){return this.xd=t,this},e.prototype.getChartInteractionZoomByWheel=function(){return this.xd},e.prototype.setChartInteractionZoomByDrag=function(t){return this.wd=t,this},e.prototype.getChartInteractionZoomByDrag=function(){return this.wd},e.prototype.setChartInteractionFitByDrag=function(t){return this.Md=t,this},e.prototype.getChartInteractionFitByDrag=function(){return this.Md},e.prototype.K=function(){return this.vt.K(),this},e.prototype.J=function(){return this.vt.J(),this},e.prototype.dispose=function(){var t,e;this.YA.dispose(),this.XA.dispose(),this.WA.dispose(),this.HA.dispose(),this.ZA.dispose(),this.QA.dispose(),this.KA.dispose(),this.xe.dispose(),this.eo(ae);try{for(var i=Yu(this.rd.values()),n=i.next();!n.done;n=i.next()){var r=n.value;r.grid.dispose(),r.tick.dispose()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.ud.slice().forEach(ae),this.Fd.slice().forEach(ae),this.DA(this),this.D.emit("dispose",this),this},e.prototype.onDispose=function(t){return this.D.on("dispose",t)},e.prototype.offDispose=function(t){return this.D.off(t,"dispose")},e.prototype.setVisible=function(e){var i,n;this.YA.setVisible(e),this.XA.setVisible(e),this.WA.setVisible(e),this.xe.setVisible(e),this.HA.setVisible(e),this.QA.setVisible(e),this.KA.setVisible(e),this.eo((function(t){t.mn(e)}));try{for(var r=Yu(this.rd.values()),o=r.next();!o.done;o=r.next()){var s=o.value;s.grid.setVisible(e),s.tick.setVisible(e)}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return t.prototype.setVisible.call(this,e),this.chart.fn.Sn(),this},e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.setAnimationHighlight(this.fe),this},e}(eo);!function(t){t.Start="start",t.Center="center",t.End="end"}(ua||(ua={}));var Hu,Zu={getWidth:function(t){return t.x},getHeight:function(t){return t.y},toVec2:function(t,e){return{x:t,y:e}},toPoint:function(t,e){return y(t,e)}},Qu={getWidth:function(t){return t.y},getHeight:function(t){return t.x},toVec2:function(t,e){return{x:e,y:t}},toPoint:function(t,e){return y(e,t)}},qu=function(t){return!!(t&&"object"===a(t)&&"x"in t&&t.x instanceof Xu&&"y"in t&&t.y instanceof Xu)},Ku=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ju=function(t){function e(e){return t.call(this,e)||this}return Ku(e,t),e.prototype.setGridStrokeLength=function(t){return this.set("gridStrokeLength",t)},e.prototype.getGridStrokeLength=function(){return this.get("gridStrokeLength")},e.prototype.setGridStrokeStyle=function(t){return this.set("gridStrokeStyle","function"==typeof t?t(this.get("gridStrokeStyle")):t)},e.prototype.getGridStrokeStyle=function(){return this.get("gridStrokeStyle")},e.prototype.setTickLength=function(t){return this.set("tickLength",t)},e.prototype.getTickLength=function(){return this.get("tickLength")},e.prototype.setTickStyle=function(t){return this.set("tickStyle","function"==typeof t?t(this.get("tickStyle")):t)},e.prototype.getTickStyle=function(){return this.get("tickStyle")},e.prototype.setTickPadding=function(t){return this.set("tickPadding",t)},e.prototype.getTickPadding=function(){return this.get("tickPadding")},e.prototype.setLabelFillStyle=function(t){return this.set("labelFillStyle","function"==typeof t?t(this.get("labelFillStyle")):t)},e.prototype.getLabelFillStyle=function(){return this.get("labelFillStyle")},e.prototype.setLabelFont=function(t){return this.set("labelFont","function"==typeof t?t(this.get("labelFont")):t)},e.prototype.getLabelFont=function(){return this.get("labelFont")},e.prototype.setLabelAlignment=function(t){return this.set("labelAlignment",t)},e.prototype.getLabelAlignment=function(){return this.get("labelAlignment")},e.prototype.setLabelRotation=function(t){return this.set("labelRotation",t)},e.prototype.getLabelRotation=function(){return this.get("labelRotation")},e}(Object(n.b)({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new Hn,tickLength:7,tickStyle:new Hn,tickPadding:0,labelFont:new uo,labelFillStyle:new et,labelAlignment:0,labelRotation:0})),$u=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"tick-style"!==t.type)},tl=new Ju({labelFillStyle:J,gridStrokeStyle:gt,tickStyle:gt}),el=function(t){return $u(t)&&$(t.labelFillStyle)&&mt(t.gridStrokeStyle)&&mt(t.tickStyle)},il=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nl=Object(n.b)({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new Ju,minorTickStyle:new Ju,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),rl=function(t,e){var i=e-t;return i>=864e5?"MajorHours12":i>=36e5?"MajorHours":i>=6e5?"MajorMinutes15":i>=9e4?"MajorMinutes":i>=10500?"MajorSeconds15":i>=1e3?"MajorSeconds":i>=100?"MajorMilliseconds100":i>=10?"MajorMilliseconds10":i>=1?"MajorMilliseconds":i>=.1?"MajorMicroseconds100":i>=.01?"MajorMicroseconds10":i>=.001?"MajorMicroseconds":i<=.001?"MajorNanoseconds100":"Unknown"},ol={hhmmss:function(t){var e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/36e5);e%=36e5;var r=Math.floor(e/6e4);e%=6e4;var o=Math.floor(e/1e3);return"".concat(i).concat(qe(n,2),":").concat(qe(r,2),":").concat(qe(o,2))},hhmmssmmm:function(t){var e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/36e5);e%=36e5;var r=Math.floor(e/6e4);e%=6e4;var o=Math.floor(e/1e3);e%=1e3;var s=Math.floor(e/1);return"".concat(i).concat(qe(n,2),":").concat(qe(r,2),":").concat(qe(o,2),".").concat(qe(s,3))},hhmmssmmmuuu:function(t){var e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/36e5),r=Math.floor(e/6e4)%60,o=Math.floor(e/1e3)%60,s=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return"".concat(i).concat(qe(n,2),":").concat(qe(r,2),":").concat(qe(o,2),".").concat(qe(s,3)).concat(a)},hhmmssmmmuuunnn:function(t){var e=Math.abs(t),i=t>=0?"":"-",n=Math.floor(e/36e5),r=Math.floor(e/6e4)%60,o=Math.floor(e/1e3)%60,s=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return"".concat(i).concat(qe(n,2),":").concat(qe(r,2),":").concat(qe(o,2),".").concat(qe(s,3)).concat(a)}},sl={MajorHours12:{major:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){var r=432e5;return t=Math.floor(t/(4*r))*r*4,Yr(t,e,r,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,4)},minor:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return Ur(t,e,36e5,1e6)},fitKeyValues:Wr({},2,3,4,6)},defaultValueFormatter:ol.hhmmss},MajorHours:{major:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){var r=36e5;return t=Math.floor(t/(12*r))*r*12,Yr(t,e,r,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,6,12)},minor:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return Ur(t,e,3e5,1e6)},fitKeyValues:Wr({},2,4,6)},defaultValueFormatter:ol.hhmmss},MajorMinutes15:{major:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return t=36e5*Math.floor(t/36e5),Yr(t,e,9e5,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2)},minor:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return Ur(t,e,6e4,1e6)},fitKeyValues:Wr({},3,5)},defaultValueFormatter:ol.hhmmss},MajorMinutes:{major:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return t=6e4*Math.floor(t/6e5)*10,Yr(t,e,6e4,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return Ur(t,e,5e3,1e6)},fitKeyValues:Wr({},2,3,4,6)},defaultValueFormatter:ol.hhmmss},MajorSeconds15:{major:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return t=15e3*Math.floor(t/6e4)*4,Yr(t,e,15e3,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,4)},minor:{format:ol.hhmmss,getKeyValues:function(t,e,i,n){return Ur(t,e,1e3,1e6)},fitKeyValues:Wr({},3,5)},defaultValueFormatter:ol.hhmmss},MajorSeconds:{major:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return t=1e3*Math.floor(t/1e4)*10,Yr(t,e,1e3,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return Ur(t,e,100,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmm},MajorMilliseconds100:{major:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return t=100*Math.floor(t/1e3)*10,Yr(t,e,100,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return Ur(t,e,10,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmm},MajorMilliseconds10:{major:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return t=10*Math.floor(t/100)*10,Yr(t,e,10,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmm,getKeyValues:function(t,e,i,n){return Ur(t,e,1,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmm},MajorMilliseconds:{major:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return t=1*Math.floor(t/10)*10,Yr(t,e,1,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return Ur(t,e,.1,1e6)},fitKeyValues:Wr({},2)},defaultValueFormatter:ol.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return t=.1*Math.floor(t/1)*10,Yr(t,e,.1,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return Ur(t,e,.01,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return t=.01*Math.floor(t/.1)*10,Yr(t,e,.01,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmmuuu,getKeyValues:function(t,e,i,n){return Ur(t,e,.001,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmmuuu},MajorMicroseconds:{major:{format:ol.hhmmssmmmuuunnn,getKeyValues:function(t,e,i,n){return t=.001*Math.floor(t/.01)*10,Yr(t,e,.001,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmmuuunnn,getKeyValues:function(t,e,i,n){return Ur(t,e,100*1e-6,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:ol.hhmmssmmmuuunnn,getKeyValues:function(t,e,i,n){var r=100*1e-6;return t=Math.floor(t/.001)*r*10,Yr(t,e,r,void 0,1e6)},fitKeyValues:Wr({ignore:"first"},2,5)},minor:{format:ol.hhmmssmmmuuunnn,getKeyValues:function(t,e,i,n){return Ur(t,e,10*1e-6,1e6)},fitKeyValues:Wr({},2,3,5)},defaultValueFormatter:ol.hhmmssmmmuuunnn},Unknown:{major:{format:function(t,e,i){return""},getKeyValues:function(t,e,i,n){return[]},fitKeyValues:void 0},minor:{format:function(t,e,i){return""},getKeyValues:function(t,e,i,n){return[]},fitKeyValues:void 0},defaultValueFormatter:function(t,e,i){return""}}},al=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return il(e,t),e.prototype.Zr=function(t){var e=this.timeOrigin||0,i=[{ie:"Major ticks",gy:0,Ao:this.majorTickStyle,lo:this.majorFormattingFunction?this.majorFormattingFunction:function(t,i,n){var r=rl(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return(0,sl[r].major.format)(t+e,i,n)},No:function(t,e,i,n){var r=rl(i,n);return(0,sl[r].major.getKeyValues)(t,e,i,n)},Fe:{po:function(t,e,i,n,r,o){var s=rl(r,o),a=sl[s].major.fitKeyValues;if(a)return a(t,e,i,n,r,o)}},Ro:void 0}];return $u(this.minorTickStyle)&&i.push({ie:"Minor ticks",gy:1,Ao:this.minorTickStyle,lo:this.minorFormattingFunction?this.minorFormattingFunction:function(t,i,n){var r=rl(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return(0,sl[r].minor.format)(t+e,i,n)},No:function(t,e,i,n){var r=rl(i,n);return(0,sl[r].minor.getKeyValues)(t,e,i,n)},Fe:{po:function(t,e,i,n,r,o){var s=rl(r,o),a=sl[s].minor.fitKeyValues;if(a)return a(t,e,i,n,r,o)}},Ro:void 0}),{Qr:[],Kr:i,Jr:this.cursorFormatter||function(t,i,n){var r=rl(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return sl[r].defaultValueFormatter(t+e,i,n)},qr:1e-4,$r:864e6}},e.prototype.setTickStyle=function(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)},e.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},e.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},e.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)},e.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},e.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},e.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},e.prototype.setTimeOrigin=function(t){return this.set("timeOrigin",t)},e.prototype.getTimeOrigin=function(){return this.get("timeOrigin")},e.prototype.setFormattingFunction=function(t){return this.withMutations((function(e){return e.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},e.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},e.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},e.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},e.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},e}(nl),ul=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"time-ticks"!==t.type)},ll=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hl=function(t,e,i,n,r){return function(o,s){return function(a){var u=new Date(a+o),l={year:s?u.getUTCFullYear():u.getFullYear(),monthIndex:s?u.getUTCMonth():u.getMonth(),day:s?u.getUTCDate():u.getDate(),hours:s?u.getUTCHours():u.getHours(),minutes:s?u.getUTCMinutes():u.getMinutes(),seconds:s?u.getUTCSeconds():u.getSeconds(),millis:s?u.getUTCMilliseconds():u.getMilliseconds()},h=n?n(l):void 0;if(0===t&&!0===h)return a;var c=l[e];r.includes("year")&&(l.year=Math.floor(l.year/i)*i),r.includes("monthIndex")&&(l.monthIndex=0),r.includes("day")&&(l.day=1),r.includes("hours")&&(l.hours=0),r.includes("minutes")&&(l.minutes=0),r.includes("seconds")&&(l.seconds=0),r.includes("millis")&&(l.millis=0);var f=(0===t?1:t)*i;return-1===t&&!1===h&&(f=0),0!==f&&(l[e]=i*(f>0?Math.floor((c+f)/i):Math.ceil((c+f)/i))),s?Date.UTC(l.year,l.monthIndex,l.day,l.hours,l.minutes,l.seconds,l.millis)-o:new Date(l.year,l.monthIndex,l.day,l.hours,l.minutes,l.seconds,l.millis).getTime()-o}}},cl=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];return hl(-1,t,e,i,n)},fl=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];return hl(-1,t,e,i,n)},pl=function(t,e,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];return hl(0,t,e,i,n)},dl=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return hl(1,t,e,void 0,i)},yl=function(t){return function(e,i){return function(n){var r=new Date(n+e),o=i?r.getUTCDay():r.getDay(),s=1===o&&0===(i?r.getUTCHours():r.getHours())&&0===(i?r.getUTCMinutes():r.getMinutes())&&0===r.getSeconds()&&0===r.getMilliseconds();if(0===t&&!0===s)return n;var a=i?r.getUTCDate():r.getDate();return-1===t&&1===o&&!1===s||(-1===t?a-=o>=2?o-1:o+6:a+=o>0?8-o:1),i?Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),a,0,0,0,0)-e:new Date(r.getFullYear(),r.getMonth(),a,0,0,0,0).getTime()-e}}},vl=[{label:"MilliSecond1",unit:1,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:Wr({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Wr(void 0,2)}},{label:"MilliSecond10",unit:10,irregular:!1,greatTicks:{getReferenceKeyValue:cl("millis",10,(function(t){return t.millis%10==0}),"millis")},majorTicks:{fitFunction:Wr({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Wr(void 0,2)}},{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:{getReferenceKeyValue:cl("millis",100,(function(t){return t.millis%100==0}),"millis")},majorTicks:{fitFunction:Wr({offset:0},2,5)},minorTicks:{amount:4,fitFunction:Wr(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:cl("seconds",1,(function(t){return 0===t.millis}),"millis")},majorTicks:{fitFunction:Xr(5,10,15,30)},minorTicks:{amount:4,fitFunction:Wr(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:cl("minutes",1,(function(t){return 0===t.seconds&&0===t.millis}),"seconds","millis")},majorTicks:{fitFunction:Xr(5,10,15,30)},minorTicks:{amount:12,fitFunction:Wr(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:cl("hours",1,(function(t){return 0===t.minutes&&0===t.seconds&&0===t.millis}),"minutes","seconds","millis")},majorTicks:{fitFunction:Xr(3,6,12)},minorTicks:{amount:8,fitFunction:Wr(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:cl("day",1,(function(t){return 0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"hours","minutes","seconds","millis")},majorTicks:{fitFunction:Wr({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:Wr({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:yl(-1),getNextKeyValueIncludingRef:yl(0),getNextKeyValue:yl(1),greatTicks:!0,majorTicks:{fitFunction:Wr(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:fl("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:pl("monthIndex",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"day","hours","minutes","seconds","millis"),getNextKeyValue:dl("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Wr(void 0,2,3)},minorTicks:{fitFunction:Wr(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:fl("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:pl("year",1,(function(t){return 1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:dl("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Wr({ignore:"first"},2,5)},minorTicks:{fitFunction:Wr(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:fl("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:pl("year",10,(function(t){return t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:dl("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:Wr(void 0,2,4)},minorTicks:{fitFunction:Wr(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:fl("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:pl("year",100,(function(t){return t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:dl("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:fl("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:pl("year",1e3,(function(t){return t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis}),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:dl("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],gl=function(t,e,i,n,r){for(var o,s=e-t,a=r?0:vl.length-1;r?a<vl.length:a>=0;r?a+=1:a-=1){var u=s/vl[a].unit;if((void 0===i||u>=i)&&(void 0===n||u<=n)){o=vl[a];break}}return o},ml=function(t,e,i){var n=gl(e,i,void 0,1,!0);if(void 0!==n&&0===vl.indexOf(n)&&(n=vl[1]),void 0!==n){if("great"===t)return n;var r="major"===t?1:2,o=vl[vl.indexOf(n)-r];return void 0===o?vl[0]:o}},xl=function(t,e,i){return function(n,r,o,s){var a=ml("great",n,r);if(void 0===a)return[];if("Decade"===a.label||"Century"===a.label||"Millennium"===a.label)return[];var u,l=s>o?n:r,h=(n+r)/2,c=s>o?r:n;if(vl.indexOf(a)<=vl.findIndex((function(t){return"Hour"===t.label})))return"left"===i?[l]:[];if(!0===a.irregular)u=Gr(n,r,a.getPrevKeyValue(t,e),a.getNextKeyValue(t,e));else{var f=a.greatTicks.getReferenceKeyValue(t,e)(n);u=Yr(n,r,a.unit,f,1)}var p=function(t,e,i){var n,r;try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),s=o.next();!s.done;s=o.next()){var a=s.value;if(a>=t&&a<=e)return a}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(n,r,u);return"left"===i?void 0===p||_i(p,h,c)?[l]:[p]:void 0!==p&&_i(p,h,c)?[p]:[c]}},Sl=function(t,e,i){return function(n,r,o,s){var a,u=ml(t,o,s);if(void 0===u)return[];if("great"===t&&void 0!==u.greatTicks)if(!0===u.irregular)a=Gr(n,r,u.getPrevKeyValue(e,i),u.getNextKeyValue(e,i));else{var l=u.greatTicks.getReferenceKeyValue(e,i)(n);a=Yr(n,r,u.unit,l,1)}else if("major"===t&&void 0!==u.majorTicks)a=!0===u.irregular?function(t,e,i,n){for(var r=[],o=i(t),s=0;o<e;)if(r.push(o),o=n(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r.push(o),r}(n,r,u.getPrevKeyValue(e,i),u.getNextKeyValue(e,i)):function(t,e,i){for(var n=[],r=t,o=0;r<e;)if(n.push(r),r+=i,(o+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return n.push(r),n}(n,r,u.unit);else{if("minor"!==t||void 0===u.minorTicks)return[];if(!0===u.irregular)a=function(t,e,i,n){for(var r=[],o=i(t),s=0;o<e;)if(r.push(o),o=n(o),(s+=1)>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return r}(n,r,u.getNextKeyValueIncludingRef(e,i),u.getNextKeyValue(e,i));else{var h=function(t){if(void 0!==t)return vl[vl.indexOf(t)+1]}(u);if(void 0===h)return[];a=Ur(n,r,h.unit/u.minorTicks.amount,1)}}return a}},Al=function(t){return function(e,i,n,r,o,s){var a,u=ml(t,o,s);if(void 0!==u)return"major"===t?a=u.majorTicks.fitFunction:u.minorTicks&&(a=u.minorTicks.fitFunction),a?a(e,i,n,r,o,s):void 0}},bl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ll(e,t),e.prototype.Zr=function(t){var e=this,i=void 0!==this.dateOrigin?this.dateOrigin.getTime():0,n=function(t){return vl.map((function(i){var n=function(t,e,i){switch(i.label){case"MilliSecond1":case"MilliSecond10":case"MilliSecond100":return"Great"===e?t.formatOptionsGreatMinute:t.formatMillisecondRange;case"Second":return"Great"===e?t.formatOptionsGreatMinute:"Major"===e?t.formatOptionsMajorSecond:t.formatOptionsMinorSecond;case"Minute":return"Great"===e?t.formatOptionsGreatMinute:"Major"===e?t.formatOptionsMajorMinute:t.formatOptionsMinorMinute;default:case"Hour":return"Great"===e?t.formatOptionsGreatHour:"Major"===e?t.formatOptionsMajorHour:t.formatOptionsMinorHour;case"Day":return"Great"===e?t.formatOptionsGreatDay:"Major"===e?t.formatOptionsMajorDay:t.formatOptionsMinorDay;case"Week":return"Great"===e?t.formatOptionsGreatWeek:"Major"===e?t.formatOptionsMajorWeek:t.formatOptionsMinorWeek;case"Month":return"Great"===e?t.formatOptionsGreatMonth:"Major"===e?t.formatOptionsMajorMonth:t.formatOptionsMinorMonth;case"Year":return"Great"===e?t.formatOptionsGreatYear:"Major"===e?t.formatOptionsMajorYear:t.formatOptionsMinorYear;case"Decade":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorDecade:t.formatOptionsMinorDecade;case"Century":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorCentury:void 0;case"Millennium":return}}(e,t,i);if("object"!==a(n))return n;try{return new Intl.DateTimeFormat(e.locale,n)}catch(t){var r="";for(var o in n)r+=" ".concat(o,": ").concat(n[o],",");ne.console.error("Invalid Intl.DateTimeFormat ( locale: ".concat(e.locale,", formatOptions {").concat(r,"} )"))}}))},r=new Map;r.set("great",n("Great")),r.set("major",n("Major")),r.set("minor",n("Minor"));var o=function(t){return String(t)},s=function(t,n){return function(s,a){var u=s+i,l=a.getInnerStart(),h=a.getInnerEnd(),c=l>h,f=ml(t,c?h:l,c?l:h);if(void 0===f)return o(u);if("great"===t){var p=le(s,"left"===n?l:h);if(u=(!1===p?s:!1===f.irregular?"left"===n&&!1===c||"right"===n&&!0===c?f.greatTicks.getReferenceKeyValue(i,e.utc)(s):f.greatTicks.getReferenceKeyValue(i,e.utc)(s+1*f.unit):"left"===n&&!1===c||"right"===n&&!0===c?f.getPrevKeyValue(i,e.utc)(s):f.getNextKeyValue(i,e.utc)(s))+i,"right"===n&&!0===p)return""}var d=r.get(t);if(void 0===d)return o(u);var y=d[vl.indexOf(f)];return void 0===y?"":"function"==typeof y?y(u,a,e.locale):y.format(u)}},u=[],l=[{ie:"Great ticks (directive)",gy:0,bo:!0,No:Sl("great",i,this.utc),Ro:void 0},{ie:"Major ticks",gy:1,Ao:this.majorTickStyle,lo:s("major"),No:Sl("major",i,this.utc),Fe:{po:Al("major")},Ro:void 0}];el(this.greatTickStyle)||(u.push({ie:"Great ticks (left)",Ao:this.greatTickStyle.setLabelAlignment(-1),lo:s("great","left"),No:xl(i,this.utc,"left"),Hr:!0,Mo:!1}),u.push({ie:"Great ticks (right)",Ao:this.greatTickStyle.setLabelAlignment(1),lo:s("great","right"),No:xl(i,this.utc,"right"),Hr:!0,Mo:!1})),el(this.minorTickStyle)||l.push({ie:"Minor ticks",gy:2,Ao:this.minorTickStyle,lo:s("minor"),No:Sl("minor",i,this.utc),Fe:{po:Al("minor"),Ie:function(t,e,i,n,r,o){var s=ml("minor",r,o);return!s||"Week"!==s.label}},Ro:void 0});var h=this.cursorFormatter;return{Qr:u,Kr:l,Jr:h?function(t,e,n){return h(i+t,e,n)}:function(t,e,n){var r=gl(Math.min(e.getInnerStart(),e.getInnerEnd()),Math.max(e.getInnerStart(),e.getInnerEnd()),void 0,1,!0),o=r&&r.unit<=6e4,s=new Date(i+t),a=new Date(i+t);a.setHours(0,0,0,0);var u=o?ol.hhmmssmmm:ol.hhmmss;return"".concat(new Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric"}).format(s)," ").concat(u(s.getTime()-a.getTime()))},qr:1,$r:31536e9}},e.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},e.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},e.prototype.setTickStyle=function(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)},e.prototype.setGreatTickStyle=function(t){if("function"==typeof t){var e=this.get("greatTickStyle");return this.set("greatTickStyle",t(e))}return this.set("greatTickStyle",t)},e.prototype.getGreatTickStyle=function(){return this.get("greatTickStyle")},e.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},e.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},e.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)},e.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},e.prototype.setUTC=function(t){return this.set("utc",t)},e.prototype.getUTC=function(){return this.get("utc")},e.prototype.setLocale=function(t){return this.set("locale",t)},e.prototype.getLocale=function(){return this.get("locale")},e.prototype.setDateOrigin=function(t){return this.set("dateOrigin",t)},e.prototype.getDateOrigin=function(){return this.get("dateOrigin")},e.prototype.setFormatting=function(t,e,i){var n=this;return this.withMutations((function(r){return r.set("formatOptionsGreatYear",t||n.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||n.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||n.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||n.formatOptionsGreatDay).set("formatOptionsGreatHour",t||n.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||n.formatOptionsGreatMinute).set("formatOptionsMajorCentury",e||n.formatOptionsMajorCentury).set("formatOptionsMajorDecade",e||n.formatOptionsMajorDecade).set("formatOptionsMajorYear",e||n.formatOptionsMajorYear).set("formatOptionsMajorMonth",e||n.formatOptionsMajorMonth).set("formatOptionsMajorWeek",e||n.formatOptionsMajorWeek).set("formatOptionsMajorDay",e||n.formatOptionsMajorDay).set("formatOptionsMajorHour",e||n.formatOptionsMajorHour).set("formatOptionsMajorMinute",e||n.formatOptionsMajorMinute).set("formatOptionsMajorSecond",e||n.formatOptionsMajorSecond).set("formatOptionsMinorDecade",i||n.formatOptionsMinorDecade).set("formatOptionsMinorYear",i||n.formatOptionsMinorYear).set("formatOptionsMinorMonth",i||n.formatOptionsMinorMonth).set("formatOptionsMinorWeek",i||n.formatOptionsMinorWeek).set("formatOptionsMinorDay",i||n.formatOptionsMinorDay).set("formatOptionsMinorHour",i||n.formatOptionsMinorHour).set("formatOptionsMinorMinute",i||n.formatOptionsMinorMinute).set("formatOptionsMinorSecond",i||n.formatOptionsMinorSecond)}))},e.prototype.setFormattingDecade=function(t,e){return this.withMutations((function(i){return t&&(i=i.set("formatOptionsMajorDecade",t)),e&&(i=i.set("formatOptionsMinorYear",e)),i}))},e.prototype.setFormattingYear=function(t,e){return this.withMutations((function(i){return t&&(i=i.set("formatOptionsMajorYear",t)),e&&(i=i.set("formatOptionsMinorMonth",e)),i}))},e.prototype.setFormattingMonth=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatYear",t)),e&&(n=n.set("formatOptionsMajorMonth",e)),i&&(n=n.set("formatOptionsMinorWeek",i)),n}))},e.prototype.setFormattingWeek=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatMonth",t)),e&&(n=n.set("formatOptionsMajorWeek",e)),i&&(n=n.set("formatOptionsMinorDay",i)),n}))},e.prototype.setFormattingDay=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatWeek",t)),e&&(n=n.set("formatOptionsMajorDay",e)),i&&(n=n.set("formatOptionsMinorHour",i)),n}))},e.prototype.setFormattingHour=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatDay",t)),e&&(n=n.set("formatOptionsMajorHour",e)),i&&(n=n.set("formatOptionsMinorMinute",i)),n}))},e.prototype.setFormattingMinute=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatHour",t)),e&&(n=n.set("formatOptionsMajorMinute",e)),i&&(n=n.set("formatOptionsMinorSecond",i)),n}))},e.prototype.setFormattingSecond=function(t,e,i){return this.withMutations((function(n){return t&&(n=n.set("formatOptionsGreatMinute",t)),e&&(n=n.set("formatOptionsMajorSecond",e)),i&&(n=n.set("formatOptionsMinorMillisecond",i)),n}))},e.prototype.setFormattingMilliSecond=function(t,e){return this.withMutations((function(i){return t&&(i=i.set("formatOptionsGreatSecond",t)),e&&(i=i.set("formatOptionsMajorMilliSecond",e)),i}))},e}(Object(n.b)({type:"date-time-ticks",utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new Ju,majorTickStyle:new Ju,minorTickStyle:new Ju,formatOptionsMajorCentury:{year:"numeric",hour12:!1},formatOptionsMinorDecade:{year:"numeric",hour12:!1},formatOptionsMajorDecade:{year:"numeric",hour12:!1},formatOptionsMinorYear:{year:"numeric",hour12:!1},formatOptionsMajorYear:{year:"numeric",hour12:!1},formatOptionsMinorMonth:{month:"short",hour12:!1},formatOptionsGreatYear:{year:"numeric",hour12:!1},formatOptionsMajorMonth:{month:"long",hour12:!1},formatOptionsMinorWeek:{day:"numeric",hour12:!1},formatOptionsGreatMonth:{year:"numeric",month:"long",hour12:!1},formatOptionsMajorWeek:{day:"numeric",weekday:"short",hour12:!1},formatOptionsMinorDay:{day:"numeric",weekday:"short",hour12:!1},formatOptionsGreatWeek:function(t,e,i){var n=new Date(t),r=function(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)}(n);return"".concat(new Intl.DateTimeFormat(i,{year:"numeric",month:"long",hour12:!1}).format(n)," Week ").concat(r)},formatOptionsMajorDay:{weekday:"long",day:"numeric",hour12:!1},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit",hour12:!1},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour12:!1},formatOptionsMajorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},formatOptionsMinorMillisecond:function(t){var e=new Date(t);return e.setHours(0,0,0,0),ol.hhmmssmmm(t-e.getTime())},formatMillisecondRange:function(t){var e=new Date(t);return e.setHours(0,0,0,0),ol.hhmmssmmm(t-e.getTime())},formatOptionsGreatSecond:{},formatOptionsMajorMilliSecond:{}})),Ml=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"date-time-ticks"!==t.type)},wl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cl=function(t,e){return function(i,n){var r=n-i;if(e){var o=Math.log10(r/2),s=Math.pow(10,Math.floor(o-t)),a=1/s;s=Math.round(s*a)/a;var u=Math.round(Math.floor(i/(10*s))*s*10*a)/a;return Yr(u,n,s,void 0,a)}var l=Math.log10(r),h=Math.pow(10,Math.round(l-t)),c=1/h;return h=Math.round(h*c)/c,Ur(i,n,h,c)}},Pl=function(t,e,i,n,r,o){return 0===e?t.filter((function(t,e){return e%2==0})):1===e?t.filter((function(t,e){return e%5==0})):void 0},El=function(t,e,i,n,r,o){return 0===e?t.filter((function(t,e){return e%2==0})):1===e?t.filter((function(t,e){return e%3==0})):2===e?t.filter((function(t,e){return e%4==0})):3===e?t.filter((function(t,e){return e%5==0})):void 0},Tl=Wr(void 0,2,5),kl=function(t,e,i,n,r,o){return 0===e?[t[1],t[3],t[5]]:1===e?[t[0],t[3]]:2===e?[t[1]]:void 0},Dl=function(t,e){var i=fn(t),n=pn(t);if(e)return function(t,e){for(var r=[],o=Math.floor(i(t)),s=Math.ceil(i(e)),a=o-1;a<=s+1;a+=1){var u=Math.pow(n,a);r.push(u)}return r};var r=10===t?9:4;return function(t,e){for(var o=Math.round(i(t)),s=Math.round(i(e)),a=[],u=Math.pow(n,o),l=(Math.pow(n,s)-u)/r,h=1;h<=r;h+=1){var c=u+l*h;c>t&&c<e&&a.push(c)}return a}},Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wl(e,t),e.prototype.Zr=function(t){var e=this.formattingOffset,i=this.get("extremeFormattingFunction")||("logarithmic"===t.type?function(e,i){return mn.LogarithmicNoExponents(e,i,void 0,t.base)}:mn.Numeric),n=this.get("majorFormattingFunction")||("logarithmic"===t.type?function(e,i){return mn.LogarithmicNoExponents(e,i,void 0,t.base)}:mn.Numeric),r=this.get("minorFormattingFunction")||("logarithmic"===t.type?function(e,i){return mn.LogarithmicNoExponents(e,i,void 0,t.base)}:mn.Numeric),o=[],s=[];el(this.extremeTickStyle)||o.push({ie:"Extreme ticks",Ao:this.extremeTickStyle,lo:void 0===e?i:function(t,n,r){return i(e+t,n,r)},No:Nr,Hr:!0,Mo:!0}),s.push({ie:"Major ticks",gy:0,Ao:this.majorTickStyle,lo:void 0===e?n:function(t,i,r){return n(e+t,i,r)},No:"logarithmic"===t.type?Dl(t.base,!0):Cl(0,!0),Fe:"logarithmic"===t.type?{po:El}:{po:Pl},Ro:void 0}),el(this.minorTickStyle)||s.push({ie:"Minor ticks",gy:1,Ao:this.minorTickStyle,lo:void 0===e?r:function(t,i,n){return r(e+t,i,n)},No:"logarithmic"===t.type?Dl(t.base,!1):Cl(1,!1),Fe:"logarithmic"===t.type?{po:kl}:{po:Tl},Ro:50});var a=this.cursorFormatter?this.cursorFormatter:mn.Numeric;return{Qr:o,Kr:s,Jr:void 0===e?a:function(t,i,n){return a(e+t,i,n)},qr:1e-9,$r:void 0}},e.prototype.setCursorFormatter=function(t){return this.set("cursorFormatter",t)},e.prototype.getCursorFormatter=function(){return this.get("cursorFormatter")},e.prototype.setExtremeTickStyle=function(t){if("function"==typeof t){var e=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(e))}return this.set("extremeTickStyle",t)},e.prototype.getExtremeTickStyle=function(){return this.get("extremeTickStyle")},e.prototype.setFormattingOffset=function(t){return this.set("formattingOffset",t)},e.prototype.getFormattingOffset=function(){return this.get("formattingOffset")},e.prototype.setTickStyle=function(t){var e=this.setMajorTickStyle(t).setMinorTickStyle(t);return e.extremeTickStyle!==tl?e.setExtremeTickStyle(t):e},e.prototype.setMajorTickStyle=function(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)},e.prototype.getMajorTickStyle=function(){return this.get("majorTickStyle")},e.prototype.setMinorTickStyle=function(t){if("function"==typeof t){var e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)},e.prototype.getMinorTickStyle=function(){return this.get("minorTickStyle")},e.prototype.setFormattingFunction=function(t){return this.withMutations((function(e){return e.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)}))},e.prototype.getExtremeFormattingFunction=function(){return this.get("extremeFormattingFunction")},e.prototype.setExtremeFormattingFunction=function(t){return this.set("extremeFormattingFunction",t)},e.prototype.getMajorFormattingFunction=function(){return this.get("majorFormattingFunction")},e.prototype.setMajorFormattingFunction=function(t){return this.set("majorFormattingFunction",t)},e.prototype.getMinorFormattingFunction=function(){return this.get("minorFormattingFunction")},e.prototype.setMinorFormattingFunction=function(t){return this.set("minorFormattingFunction",t)},e}(Object(n.b)({type:"numeric-ticks",cursorFormatter:void 0,extremeTickStyle:new Ju,majorTickStyle:new Ju,minorTickStyle:new Ju,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0})),_l=function(t){return!(!t||"object"!==a(t)||!("type"in t)||"numeric-ticks"!==t.type)},Il=function(t,e,i,n){void 0===i&&(i="image/png");var r=i.slice(i.indexOf("image/")+6);e+=".".concat(r);var o=t.captureFrame(i,n);if("image/png"!==i&&o.type.includes("image/png"))throw new Error("saveToFile | type not supported by browser: ".concat(i,"\nCheck support table for HTMLCanvasElement.toDataURL"));if(ne.navigator.msSaveBlob)ne.navigator.msSaveBlob(o,e);else{var s=ne.document.createElement("a");ne.document.body.appendChild(s);var a=ne.URL.createObjectURL(o);s.href=a,s.download=e,s.click(),setTimeout((function(){ne.URL.revokeObjectURL(a),ne.document.body.removeChild(s)}),0)}},Ol=function(t,e,i,n,r,o){var s=t.kc(e,i,n,r,o,!0);return s.setDraggingMode(Zt.draggable),s},Bl=function(t,e){if("relative"===t)return e;if(t instanceof wn)return t;var i=t.x instanceof eo?t.x.vt:t.x.x,n=t.y instanceof eo?t.y.vt:t.y.y;return En(i,n)},zl=function(t,e,i,n,r){if(i){var o=t,s=e,a=qu(s)?s:Dn(s)?n:void 0;if(a&&Tn(i)){var u=Pt(o,a,r.vt);return r.Du({engineX:u.x,engineY:u.y})}if(a&&Dn(i))return Pt(o,a,n);if(a&&qu(i))return Pt(o,a,i)}else{if(o=t,Dn(e))return u=r.ju(o),Pt({x:u.engineX,y:u.engineY},r.vt,n);if(qu(e)){var l=e;return u=r.ju(o),Pt({x:u.engineX,y:u.engineY},r.vt,l)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},Ll=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Rl=function(){function t(t,e,i,n,o,s,a,u){var l=this;this.coordsRelative="relative",this.coordsClient="client",this.Fy=[],this.Iy=[],this.D=new r.a,this.jy=void 0,this.Dy=void 0,this.By=void 0,this.Yt=M(0,0,0,0),this.Ey=!1,this.Hi=!1,this.Py=function(){l.Ly=!0,l.zy.Sn()},this.Vy=function(t){return function(e){var i=l.Fy.indexOf(e);-1!==i&&l.Fy.splice(i,1),l.fn.Sn(),t.U()}},this.Ny=function(t){var e=l.Iy.indexOf(t);-1!==e&&l.Iy.splice(e,1),l.fn.Sn()},this.Ly=!0,this.onInViewChange=function(t){return l.D.on("inViewChange",t)},this.offInViewChange=function(t){return l.D.off(t,"inViewChange")},this.Yd=t,this.Ry=i,this.zy=n,this.removePanel=o,this.$i=e.fn.$i;var h=e.fn.oi();if(this.uiScale=i.d2({scaleXYConstructor:Cn}).Li(0,100).zi(0,100).tt(h),this.GA=i.d2({scaleXYConstructor:Cn}).Li(0,this.uiScale.x.getCellSize()).zi(0,this.uiScale.y.getCellSize()).tt(h),this.engine=e.fn.Gy,this.fn=e.fn.Uy,this.rn=this.fn.rn.en(this,{}),this.Wy=function(){return e.Yy("unidentified ui")},this.Xy=e.Hy(),this.Zy=this.zy.Er(this.uiScale).Lr(y(0,0)).tt(y(100,100)).Br(s).Dr(a).setMouseMoveEventHandler((function(t,e){return l.D.emit("mouseMovePanelBackground",l,e)})).setMouseEnterEventHandler((function(t,e){return l.D.emit("mouseEnterPanelBackground",l,e)})).setMouseLeaveEventHandler((function(t,e){return l.D.emit("mouseLeavePanelBackground",l,e)})).setMouseDownEventHandler((function(t,e){return l.D.emit("mouseDownPanelBackground",l,e)})).setMouseUpEventHandler((function(t,e){return l.D.emit("mouseUpPanelBackground",l,e)})).setMouseClickEventHandler((function(t,e){return l.D.emit("mouseClickPanelBackground",l,e)})).setMouseDoubleClickEventHandler((function(t,e){return l.D.emit("mouseDoubleClickPanelBackground",l,e)})).setMouseWheelEventHandler((function(t,e){return l.D.emit("mouseWheelPanelBackground",l,e)})).setMouseDragStartEventHandler((function(t,e,i){return l.D.emit("mouseDragStartPanelBackground",l,e,i)})).setMouseDragEventHandler((function(t,e,i,n,r){return l.D.emit("mouseDragPanelBackground",l,e,i,n,r)})).setMouseDragStopEventHandler((function(t,e,i,n){return l.D.emit("mouseDragStopPanelBackground",l,e,i,n)})).setTouchStartEventHandler((function(t,e){return l.D.emit("touchStartPanelBackground",l,e)})).setTouchMoveEventHandler((function(t,e){return l.D.emit("touchMovePanelBackground",l,e)})).setTouchEndEventHandler((function(t,e){return l.D.emit("touchEndPanelBackground",l,e)})),u){var c=u.on(this.Py);this.Qy=function(){return u.off(c)}}else{var f=e.fn._u(this.Py);this.Ky=e.fn.Tu.bind(e.fn,f)}var p=e.fn.Ou((function(t){l.Ey=t,l.D.emit("inViewChange",l,t)}));this.Jy=e.fn.Fu.bind(e.fn,p),this.jy=o}return t.prototype.getTheme=function(){return this.$i},t.prototype.getSizePixels=function(){return this.GA.getInnerIntervalPixels()},t.prototype.setBackgroundFillStyle=function(t){return this.Zy.Br(t),this.zy.Sn(),this},t.prototype.getBackgroundFillStyle=function(){return this.Zy.We()},t.prototype.setBackgroundStrokeStyle=function(t){return this.Zy.Dr(t),this.zy.Sn(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.Zy.fu()},t.prototype.translateCoordinate=function(t,e,i){return zl(t,e,i,this.GA,this.fn)},t.prototype.qy=function(t){return this.Fy.push(t),this.fn.Sn(),t},t.prototype.$y=function(t){return this.Iy.push(t),this.fn.Sn(),t},t.prototype.addUIElement=function(t,e){void 0===t&&(t=au),void 0===e&&(e=this.uiScale),e=Bl(e,this.GA);var i=this.Wy();return this.qy(Ol(t,i,this.uiScale,e,this.Vy(i),this.$i))},t.prototype.addLegendBox=function(t,e){void 0===t&&(t=Tu),void 0===e&&(e=this.uiScale),e=Bl(e,this.GA);var i=this.$y(Ol(t,this.Xy,this.uiScale,e,this.Ny,this.$i));return i.setDraggingMode(Zt.notDraggable),void 0!==e&&e!==this.uiScale||(void 0===t||"vertical"===t.getAlignment()?i.setOrigin(br.RightCenter).setPosition({x:100,y:50}):i.setOrigin(br.CenterBottom).setPosition(this.uiScale.Ai({x:50,y:0},{x:0,y:3}))),i},t.prototype.getLegendBoxes=function(){return this.Iy},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.Ky&&this.Ky(),this.Qy&&this.Qy(),Vl(this.uiScale),Vl(this.GA),this.Jy&&this.Jy(),this.Dy&&this.Dy(),this.zy.U(),this.Xy.U(),this.Fy.slice().forEach((function(t){t.dispose()})),this.Iy.slice().forEach((function(t){t.dispose()})),this.fn.Sn(),this.jy&&this.jy(this),this.D.emit("dispose",this)),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t.prototype.saveToFile=function(t,e,i){return Il(this.engine,t,e,i),this},t.prototype.Po=function(t){this.Yt=t,this.Py()},t.prototype.K=function(){return this.GA.K(),this.uiScale.K(),this},t.prototype.J=function(){return this.GA.J(),this.uiScale.J(),this},t.prototype.Pr=function(t){if(this.Ly){var e=this.zy.fn.oi(),i=e.x,n=e.y;this.uiScale.tt(i,n),this.GA.tt(i,n);var r=[this.Yt.left,this.Yt.right],o=[this.Yt.bottom,this.Yt.top];this.uiScale.Ei(r),this.uiScale.Pi(o);var s=this.uiScale.getInnerIntervalPixels();this.GA.Li(0,s.x).Ei(r).zi(0,s.y).Pi(o),this.D.emit("resize",this,s.x,s.y,i,n)}this.Ly=!1},t.prototype.tm=function(){for(var t=0;t<this.Fy.length;t+=1)this.Fy[t].En().Pr();for(t=0;t<this.Iy.length;t+=1)this.Iy[t].En().Pr();this.By&&this.By()},t.prototype.im=function(t,e){if(t){var i=t(e);this.onResize(i.En.bind(i)),this.Dy=i.U.bind(i),this.By=i.En.bind(i)}},t.prototype.onBackgroundMouseEnter=function(t){return this.D.on("mouseEnterPanelBackground",t)},t.prototype.offBackgroundMouseEnter=function(t){return this.D.off(t,"mouseEnterPanelBackground")},t.prototype.onBackgroundMouseMove=function(t){return this.D.on("mouseMovePanelBackground",t)},t.prototype.offBackgroundMouseMove=function(t){return this.D.off(t,"mouseMovePanelBackground")},t.prototype.onBackgroundMouseLeave=function(t){return this.D.on("mouseLeavePanelBackground",t)},t.prototype.offBackgroundMouseLeave=function(t){return this.D.off(t,"mouseLeavePanelBackground")},t.prototype.onBackgroundMouseDown=function(t){return this.D.on("mouseDownPanelBackground",t)},t.prototype.offBackgroundMouseDown=function(t){return this.D.off(t,"mouseDownPanelBackground")},t.prototype.onBackgroundMouseUp=function(t){return this.D.on("mouseUpPanelBackground",t)},t.prototype.offBackgroundMouseUp=function(t){return this.D.off(t,"mouseUpPanelBackground")},t.prototype.onBackgroundMouseClick=function(t){return this.D.on("mouseClickPanelBackground",t)},t.prototype.offBackgroundMouseClick=function(t){return this.D.off(t,"mouseClickPanelBackground")},t.prototype.onBackgroundMouseDoubleClick=function(t){return this.D.on("mouseDoubleClickPanelBackground",t)},t.prototype.offBackgroundMouseDoubleClick=function(t){return this.D.off(t,"mouseDoubleClickPanelBackground")},t.prototype.onBackgroundMouseDragStart=function(t){return this.D.on("mouseDragStartPanelBackground",t)},t.prototype.offBackgroundMouseDragStart=function(t){return this.D.off(t,"mouseDragStartPanelBackground")},t.prototype.onBackgroundMouseDrag=function(t){return this.D.on("mouseDragPanelBackground",t)},t.prototype.offBackgroundMouseDrag=function(t){return this.D.off(t,"mouseDragPanelBackground")},t.prototype.onBackgroundMouseDragStop=function(t){return this.D.on("mouseDragStopPanelBackground",t)},t.prototype.offBackgroundMouseDragStop=function(t){return this.D.off(t,"mouseDragStopPanelBackground")},t.prototype.onBackgroundMouseWheel=function(t){return this.D.on("mouseWheelPanelBackground",t)},t.prototype.offBackgroundMouseWheel=function(t){return this.D.off(t,"mouseWheelPanelBackground")},t.prototype.onBackgroundTouchStart=function(t){return this.D.on("touchStartPanelBackground",t)},t.prototype.offBackgroundMouseTouchStart=function(t){return this.D.off(t,"touchStartPanelBackground")},t.prototype.onBackgroundTouchMove=function(t){return this.D.on("touchMovePanelBackground",t)},t.prototype.offBackgroundTouchMove=function(t){return this.D.off(t,"touchMovePanelBackground")},t.prototype.onBackgroundTouchEnd=function(t){return this.D.on("touchEndPanelBackground",t)},t.prototype.offBackgroundTouchEnd=function(t){return this.D.off(t,"touchEndPanelBackground")},t.prototype.onResize=function(t){return this.D.on("resize",t)},t.prototype.offResize=function(t){return this.D.off(t,"resize")},t.prototype.getIsInView=function(){return this.Ey},t}(),Vl=function(t){t.$t&&t.$t()},Nl=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,i.nm("uipanel bg",0),r,i.fn.$i.uiPanelBackgroundFillStyle,i.fn.$i.uiPanelBackgroundStrokeStyle,s)||this;return a.im(o,a.GA),a}return Ll(e,t),e.prototype.setMinimumSize=function(t){return this.$l=t,this.fn.Sn(),this},e.prototype.getMinimumSize=function(){return this.$l},e.prototype.Pr=function(e){t.prototype.Pr.call(this,e),t.prototype.tm.call(this)},e}(Rl),Ul=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yl=M(10,10,10,10),Gl=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,h)||this;return c.rm={},c.xh=Yl,c.fe=!0,c.om=i.sm("chart internal ui",0),c.pe=c.om.zo(c.uiScale).vo("Chart").Lr(y(50,100)).Rh(y(0,1)).He(u).Br(l).setMouseInteractions(!1),c.um=c.rn.JA([c.pe]).gn(c.$i.effectsText),c}return Ul(e,t),e.prototype.setAnimationsEnabled=function(t){return this.fe=t,this},e.prototype.getAnimationsEnabled=function(){return this.fe},e.prototype.setTitle=function(t){return this.pe.vo(t),this.fn.Sn(),this},e.prototype.getTitle=function(){return this.pe.wo()},e.prototype.getTitleSize=function(){return this.pe.En().Tl()},e.prototype.setTitleFillStyle=function(t){return this.pe.Br(t),this.Py(),this},e.prototype.getTitleFillStyle=function(){return this.pe.We()},e.prototype.setTitleFont=function(t){return this.pe.He(t),this.Py(),this},e.prototype.getTitleFont=function(){return this.pe.Xe()},e.prototype.setTitleRotation=function(t){return this.pe.Ze(t),this.fn.Sn(),this},e.prototype.getTitleRotation=function(){return this.pe.Qe()},e.prototype.setTitleEffect=function(t){return this.um.gn(t),this.fn.Sn(),this},e.prototype.getTitleEffect=function(){return this.um.xn()},e.prototype.setTitleMargin=function(t){var e,i;return this.rm="object"===a(t)?this.rm?(e=this.rm,{left:void 0!==(i=t).left?i.left:e.left,top:void 0!==i.top?i.top:e.top,right:void 0!==i.right?i.right:e.right,bottom:void 0!==i.bottom?i.bottom:e.bottom}):t:{left:t,top:t,right:t,bottom:t},this.Py(),this},e.prototype.getTitleMargin=function(){return this.rm},e.prototype.setPadding=function(t){return this.xh="object"===a(t)?C(this.xh,t):{left:t,top:t,right:t,bottom:t},this.Py(),this},e.prototype.getPadding=function(){return this.xh},e.prototype.hm=function(t){var e=t.am(),i=null==e?void 0:e.height,n=null==e?void 0:e.width;if(void 0!==i&&void 0!==n)return{x:i/2,y:n/2}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.om.U(),this},e}(Rl),jl=function(t,e){return t.We()!==J&&0!==t.wo().length&&t.getVisible()?t.En().Tl().y:0},Wl=function(t,e){t.Lr(y(50,100)).Po({top:void 0!==e.top?e.top:10,right:e.right||0,left:e.left||0,bottom:e.bottom||0})},Xl=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Hl=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Zl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ql=function(t){return"show-all-interpolated"===t||"show-nearest-interpolated"===t||"show-pointed-interpolated"===t},ql=function(t,e){var i="series"in t?t.series:void 0;if(!i||!("getCursorFormattingOverride"in i))return e;var n=i.getCursorFormattingOverride();return n?n(t,e):e},Kl=function(t,e,i,n,o,s,a){var u,l,h,c=o,f=s,p=null,d=!0,y=new r.a;n&&(d=!1,n.onSeriesBackgroundMouseEnter((function(){d=!0,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.onSeriesBackgroundMouseMove((function(){t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.onSeriesBackgroundMouseLeave((function(){d=!1,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.onSeriesBackgroundTouchStart((function(){d=!0,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.onSeriesBackgroundTouchMove((function(){t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.onSeriesBackgroundTouchEnd((function(){d=!1,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())})),n.fm((function(e,i){i.onMouseEnter((function(e,n,r){i.getCursorEnabled()?(u=r||void 0,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())):l||t.fn.Sn()})),i.onMouseMove((function(e,n,r){i.getCursorEnabled()?(u=r||void 0,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())):l||t.fn.Sn()})),i.onMouseLeave((function(){i.getCursorEnabled()?(u=void 0,t.getCursorMode()&&(l&&h?v.Pr.apply(v,Hl([],Xl(h),!1)):t.fn.Sn())):l||t.fn.Sn()}))})));var v={setCursor:function(e){return e(i),t},getCursor:function(){return i},setCursorMode:function(e){return c=e,t.fn.Sn(),t},getCursorMode:function(){return c},setCustomCursor:function(t){l=t},onCursorTargetChanged:function(t){return y.on("cursorTargetChanged",t)},offCursorTargetChanged:function(t){y.off(t)},setCursorFormatting:function(e){return f=e,t.fn.Sn(),t},getCursorFormatting:function(){return f},U:function(){i.dispose(),e.U()},Pr:function(e,n,r,o){var s,v,g;h=[e,n,r,o];var m=t.fn.zs(),x=[];if((null==o?void 0:o.explicitTarget)&&c)x=[o.explicitTarget];else if(!e&&c){var S=n.find((function(t){return t.getIsUnderMouse()})),A=m&&S&&S.getCursorEnabled&&S.getCursorEnabled()&&S.bn?S.bn(m):void 0;if((u=A||u)&&"show-all"!==c&&"show-all-interpolated"!==c)x=[u];else if("show-all"===c||"show-all-interpolated"===c||"show-nearest"===c||"show-nearest-interpolated"===c){if((d||void 0!==S)&&m&&r){try{for(var b=Zl(n),M=b.next();!M.done;M=b.next()){var w=M.value;w.getCursorEnabled&&!w.getCursorEnabled()||!w.getVisible()||(C=r(w,m,c))&&x.push(C)}}catch(t){s={error:t}}finally{try{M&&!M.done&&(v=b.return)&&v.call(b)}finally{if(s)throw s.error}}"show-nearest"!==c&&"show-nearest-interpolated"!==c||(x.sort((function(t,e){return a(t,m)-a(e,m)})),x.length=1)}}else if("show-pointed"===c||"show-pointed-interpolated"===c){var C;m&&S&&S.getCursorEnabled&&S.getCursorEnabled()&&r&&(C=r(S,m,c))&&(x=[C])}}x=ni(x.map((function(t){return vi(t)})));var P=(null==o?void 0:o.overrideCursorPositions)||function(t,e){return e},E=x[0],T=x.length>0?x:void 0;if(E!==p&&m&&(l&&l(E,T,m),y.emit("cursorTargetChanged",E,T,m),p=E),l)i.getVisible()&&(i.setVisible(!1),i.En().Pr());else{if(x&&x.length>0){var k=f(t,x[0],x);(g=i.setVisible(!0)).setPosition.apply(g,Hl([],Xl(P(x,x.map((function(t){return t.cursorPosition})))),!1)).setResultTable((function(t){return t.setContent(k)}))}else i.setVisible(!1);(null==o?void 0:o.afterCursorPointedAt)&&o.afterCursorPointedAt(x),i.En().Pr()}},solveNearest:function(e,i,n,r){var o,s,u=e||t.fn.zs();if(!u)return[];var l=[];if("show-all"===i||"show-all-interpolated"===i||"show-nearest"===i||"show-nearest-interpolated"===i){try{for(var h=Zl(n),c=h.next();!c.done;c=h.next()){var f=c.value;if(f.getCursorEnabled()&&f.getVisible()){var p=r(f,u,i);p&&l.push(p)}}}catch(t){o={error:t}}finally{try{c&&!c.done&&(s=h.return)&&s.call(h)}finally{if(o)throw o.error}}"show-nearest"!==i&&"show-nearest-interpolated"!==i||(l.sort((function(t,e){return a(t,u)-a(e,u)})),l.length=1)}return ni(l.map((function(t){return vi(t)})))},lm:i};return v},Jl=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$l=function(){function t(t,e){this.vm=t,this.dm=e}return t.prototype.alter=function(t){this.Am=void 0!==this.Am?this.Am:this.dm(),this.ym=t,this.vm(t)},t.prototype.resetValue=function(){void 0!==this.ym&&(void 0!==this.Am&&this.isAltered()&&this.vm(this.Am),this.Am=void 0,this.ym=void 0)},t.prototype.getNormalValue=function(){return void 0!==this.Am?this.Am:this.dm()},t.prototype.isAltered=function(){return void 0!==this.ym&&this.dm()===this.ym},t}(),th=function(){function t(t,e){this.bm=[],this.pm=t,this.vt=e}return t.prototype.update=function(){return this.pm.getVisible()?!(this.gm()&&(!this.Sm()||(this.resetTable(),this.pm.En(),this.gm()))&&(this.xm(),this.pm.En(),this.gm()&&(this.resetTable(),this.pm.En(),1))):(this.Sm()&&this.resetTable(),!0)},t.prototype.Sm=function(){for(var t=0;t<this.bm.length;t+=1)if(this.bm[t].isAltered())return!0;return!1},t.prototype.resetTable=function(){for(var t=0;t<this.bm.length;t+=1)this.bm[t].resetValue();return this},t.prototype.gm=function(){return t=this.pm,e=this.vt,i=Pt(t.getPosition(y(-1,-1),Xt.PaddedBackground),t.scale,e),n=Pt(t.getPosition(y(1,1),Xt.PaddedBackground),t.scale,e),i.x<e.x.getInnerStart()||n.x>e.x.getInnerEnd()||i.y<e.y.getInnerStart()||n.y>e.y.getInnerEnd();var t,e,i,n},t.prototype.wm=function(){return t=this.pm,e=this.vt,i=Pt(t.getPosition(y(-1,-1),Xt.PaddedBackground),t.scale,e),n=Pt(t.getPosition(y(1,1),Xt.PaddedBackground),t.scale,e),i.x<e.x.getInnerStart()||n.x>e.x.getInnerEnd();var t,e,i,n},t.prototype.Mm=function(){return t=this.pm,e=this.vt,i=Pt(t.getPosition(y(-1,-1),Xt.PaddedBackground),t.scale,e),n=Pt(t.getPosition(y(1,1),Xt.PaddedBackground),t.scale,e),i.y<e.y.getInnerStart()||n.y>e.y.getInnerEnd();var t,e,i,n},t.prototype.Cm=function(t){return this.bm.push(t),t},t}(),eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Sh=e.Cm(new $l((function(t){return e.pm.setOrigin(t)}),(function(){return e.pm.getOrigin()}))),e}return Jl(e,t),e.prototype.xm=function(){var t=this.Sh.getNormalValue(),e=y(this.wm()?-t.x:t.x,this.Mm()?-t.y:t.y);this.Sh.alter(e)},e}(th),ih=function(t){function e(e,i,n,r){var o=t.call(this,e,i)||this;return o._m=o.Cm(new $l((function(t){return o.pm.setTextFont((function(e){return e.setSize(t)}))}),(function(){return o.pm.getTextFont().getSize()}))),o.Tm=n,o.km=r,o}return Jl(e,t),e.prototype.xm=function(){var t=this._m.getNormalValue(),e=this.Tm;if(e<t)for(var i=1;i<=this.km;i+=1){var n=t-(t-e)*(i/this.km);if(this._m.alter(n),this.pm.En(),!this.gm())return}},e}(th),nh={Flip:function(t,e){return new eh(t,e)},FontSize:function(t,e){return void 0===t&&(t=5),void 0===e&&(e=5),function(i,n){return new ih(i,n,t,e)}}},rh={None:Ys,Rectangle:za,Circle:La,Diamond:Ra,Pointer:Va},oh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ah=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bc=e.$i.cursorResultTableTextFont,e.fv=0,e.Om=e.$i.cursorResultTableTextFillStyle,e}return oh(e,t),e.prototype.setContent=function(t){var e;void 0===t?e=[]:Array.isArray(t)?(e=[],t.forEach((function(t){e.push(Array.isArray(t)?t:[t])}))):e=[[t]];for(var i=0;i<e.length;i+=1){for(var n=e[i],r=!1,o=0;o<n.length;o+=1){var s=n[o],u="object"===a(s)&&"text"in s?s.text:"string"==typeof s?s:void 0,l="object"===a(s)&&"icon"in s?s.icon:xa(s)?s:void 0,h=s instanceof Vn&&s;if(!(u&&u.length>0||l||h)){r=!0;break}}r||(n.unshift(""),n.push(""))}for(var c=e.length,f=this.getMembers().length,p=0;p<Math.max(c,f);p+=1)if(n=this.getRow(p,!0),p>=c)this.getMembers()[p].dispose(),p-=1,f-=1;else for(var d,y=e[p].length,v=n.getMembers().length,g=function(t){var i,r=e[p][t],o="object"===a(r)&&"font"in r?r.font:void 0,s="object"===a(r)&&"fillStyle"in r?r.fillStyle:void 0,u="object"===a(r)&&"text"in r?r.text:"string"==typeof r?r:void 0,l="object"===a(r)&&"icon"in r?r.icon:xa(r)?r:void 0,h=r instanceof Vn&&r,c=n.getMembers();if(t>=y)n.getMembers()[t].dispose(),t-=1,v-=1;else if(void 0!==u&&u.length>0||l||h){var f=o?m.bc.withMutations((function(t){var e,i;try{for(var n=(e=void 0,sh(Object.keys(o))),r=n.next();!r.done;r=n.next()){var s=r.value,a=o[s];void 0!==a&&t.set(s,a)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return t})):m.bc,g=s||m.Om,x=c[t];if(u){var S=void 0;x&&x instanceof Oa?S=x:(x&&x.dispose(),S=n.addElement(Ba,t)),S.setFont(f).setFillStyle(g).setText(u).setTextRotation(m.fv)}else if(l){var A=void 0;x&&x instanceof Na?A=x:(x&&x.dispose(),A=n.addElement(Ua,t)),A.setFillStyle(g).setShape(l).setSize({y:f.size,x:f.size}),A.setMargin(5)}else if(h){var b=void 0;x&&"setTextFillStyleHidden"in(i=x)&&"setText"in i?b=x:(x&&x.dispose(),b=n.addElement(du.setBackground(rh.None),t).setOn(!0));var M=h.On();void 0!==M&&b.setButtonShape(M),b.setText(h.getName()),h.styleLegendEntry(b)}}else(x=c[t])&&x instanceof ja||(x&&x.dispose(),n.addGap(void 0,t));d=t},m=this,x=0;x<Math.max(y,v);x+=1)g(x),x=d;return this.In.Sn(),this},e.prototype.setTextFillStyle=function(t){this.Om="function"==typeof t?t(this.Om):t;for(var e=0;e<this.getMemberCount();e+=1)for(var i=this.getRow(e),n=0;n<i.getMembers().length;n+=1){var r=i.getMembers()[n];r instanceof Oa&&r.setFillStyle(this.Om)}return this.In.Sn(),this},e.prototype.getTextFillStyle=function(){return this.Om},e.prototype.setTextFont=function(t){return lo(t)?this.bc=t:this.bc=t(this.bc),this.In.Sn(),this},e.prototype.getTextFont=function(){return this.bc},e.prototype.setTextRotation=function(t){return this.fv=t,this.In.Sn(),this},e.prototype.getTextRotation=function(){return this.fv},e.prototype.Fm=function(){for(var t=0;t<this.Kl.length;t+=1)for(var e=0;e<this.Kl[t].getMembers().length;e+=1)this.Kl[t].getMembers()[e].dispose()},e.prototype.En=function(){for(var e=0;e<this.Kl.length;e+=1)this.Kl[e].setMinimumSize(void 0);for(t.prototype.En.call(this),e=0;e<this.Kl.length;e+=1)this.Kl[e].setMinimumSize(this.size.x);return t.prototype.En.call(this),this},e}(qa),uh=function(){function t(t,e,i,n,o,s){this.Im=[],this.jm=!0,this.Dm=!0,this.Ey=!1,this.Zi=!0,this.Hi=!1,this.Bm=[],this.D=new r.a,this.In=t,this.renderingScale=e,this.scale=i,this.Em=n,this.Pm=o,this.$i=s,this.pm=new ah(this.In,this.renderingScale,this.scale,this.Pm,ue,s).setMouseInteractions(!1).setBackground((function(t){return t.setFillStyle(s.cursorResultTableFillStyle).setStrokeStyle(s.cursorResultTableStrokeStyle)})).setTextFillStyle(s.cursorResultTableTextFillStyle).setTextFont(s.cursorResultTableTextFont),this.Lm=nh.Flip(this.pm,this.scale)}return t.prototype.isDisposed=function(){return this.Hi},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t)},t.prototype.setPointMarkerVisible=function(t){return this.jm=t,this.Im.forEach((function(e){return e.pointMarker.setVisible(e.targetVisible&&t)})),this.In.Sn(),this},t.prototype.getPointMarkerVisible=function(){return this.jm},t.prototype.setPointMarker=function(t){return this.Im.forEach((function(e){return t(e.pointMarker)})),this.Bm.push(t),this.In.Sn(),this},t.prototype.setResultTableVisible=function(t){return this.Dm=t,this.In.Sn(),this},t.prototype.getResultTableVisible=function(){return this.Dm},t.prototype.setResultTable=function(t){return t(this.pm),this.In.Sn(),this},t.prototype.setAutoFitStrategy=function(t){return this.Lm&&this.Lm.resetTable(),this.Lm=t?t(this.pm,this.In.fn.vt):void 0,this.In.Sn(),this},t.prototype.getAutoFitStrategy=function(){return void 0!==this.Lm},t.prototype.setVisible=function(t){return this.Zi=t,this.In.Sn(),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.dispose=function(){return this.Im.forEach((function(t){return t.pointMarker.dispose()})),this.pm.dispose(),this.Bm.length=0,this.Em(this),this.D.emit("dispose"),this},t.prototype.Pr=function(){var t=this;return this.Lm&&this.Lm.update(),this.pm.setVisible(this.Ey&&this.Zi&&this.Dm),this.Im.forEach((function(e){return e.pointMarker.setVisible(e.targetVisible&&t.Ey&&t.Zi&&t.jm)})),this.Im.forEach((function(t){return t.pointMarker.Pr()})),this.pm.Pr(),this},t.prototype.En=function(){return this.Im.forEach((function(t){return t.pointMarker.En()})),this.pm.En(),this},t.prototype.zm=function(t,e){var i=e===this.scale?t:Pt(t,e,this.scale);this.pm.setPosition(i)},t}(),lh=function(t){return t.setResultTable((function(t){return t.setEffect(!0).setOrigin(y(-1,-1)).setMargin(5)}))},hh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ch=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Ah={x:0,y:0},e}return hh(e,t),e.prototype.setPosition=function(t){var e=this.renderingScale,i=Bl(t.resultTableScale,e),n=i===this.scale?t.resultTable:Pt(t.resultTable,i,this.scale),r=Bl(t.pointMarkerScale,e),o=r===this.scale?t.pointMarker:Pt(t.pointMarker,r,this.scale);this.Ah=o;var s=this.Im[0];if(!s){var a=new Na(this.In,this.renderingScale,this.scale,ue,this.$i).setMouseInteractions(!1).setFillStyle(this.$i.cursorPointMarkerFillStyle).setSize(this.$i.cursorPointMarkerSize).setShape(this.$i.cursorPointMarkerShape);s={pointMarker:a,targetVisible:!0},this.Im.push(s),this.Bm.forEach((function(t){return t(a)}))}return s.pointMarker.setPosition(o),this.pm.setPosition(n),this.In.Sn(),this},e.prototype.En=function(){return t.prototype.En.call(this),this.Ey=function(t,e,i){void 0===i&&(i=e);var n=e!==i?Pt(t,e,i):t;return n.x>=i.x.getInnerStart()&&n.x<=i.x.getInnerEnd()&&n.y>=i.y.getInnerStart()&&n.y<=i.y.getInnerEnd()}(this.Ah,this.scale),this},e}(uh),fh=function t(e,i){void 0===i&&(i=[]);var n=this;this.Vm=[],this.Nm=function(t,e){return n.Vm.forEach((function(i){return i(t,e)})),t},this.addStyler=function(e){return new t(n.Pm,n.Vm.map((function(t){return t})).concat(e))},this.setResultTableBackground=function(e){return new t(e,n.Vm.map((function(t){return t})))},this.Rm=function(t,e,i,r,o){return n.Nm(new ch(t,e,i,r,n.Pm,o),o)},this.Pm=e,this.Vm=i},ph=new fh(za,[lh]),dh=new fh(Va,[lh,function(t){return t.setPointMarkerVisible(!1).setResultTable((function(t){return t.setOrigin(y(0,-1)).setMargin(0).setBackground((function(t){t instanceof Va&&t.setDirection(Qt.Down).setPointerLength(10).setPointerAngle(60)}))}))}]),yh=ph,vh=ph,gh=ph,mh=dh,xh=new fh(za,[lh,function(t){return t.setPointMarkerVisible(!1).setResultTable((function(t){return t.setOrigin(br.LeftBottom)}))}]);!function(t){t[t.LabelsInsideSlices=0]="LabelsInsideSlices",t[t.LabelsOnSides=1]="LabelsOnSides"}(Hu||(Hu={}));var Sh,Ah={SortByName:function(t,e){return t.getName().localeCompare(e.getName(),void 0,{numeric:!0})},SortByValueAscending:function(t,e){return t.getAnimatedValue()-e.getAnimatedValue()},SortByValueDescending:function(t,e){return e.getAnimatedValue()-t.getAnimatedValue()},None:function(){return 0}},bh={Name:function(t){return"".concat(t.getName())},NamePlusValue:function(t){return"".concat(t.getName(),": ").concat(Math.round(t.getAnimatedValue()))},NamePlusRelativeValue:function(t,e){return"".concat(t.getName(),": ").concat((100*e).toFixed(2),"%")}},Mh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),wh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Mn="Slice",e.S=0,e}return Mh(e,t),e}(Vn),Ch=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ph=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Eh=function(t,e){Ie(e),t.setExploded(!t.getExploded())},Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ch(e,t),e}(wh),kh=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,r,s,a,u)||this;return l.Gm=!1,l.Um=J,l.Wm=J,l.Ym=l.S,l.Xm=l.Gm?1:0,l.Hm=l.getVisible(),l.Zm=lt((function(){return l.chart.fn.Sn()})),l.Qm=lt((function(){return l.chart.fn.Sn()})),l.Km=function(){l.Jm=void 0},l.qm=function(){l.$m=void 0},l.index=e,l.chart=r,l.scale=o,l.qi=s,l.tb=i.Fl(o).cn(l.getHighlight()),l.vn(l.tb),l.ie=n.zo(o).cn(l.getHighlight()),l.vn(l.ie,{isText:!0}),l.onMouseClick(Eh),l.onTouchEnd(Eh),l}return Ch(e,t),e.prototype.setValue=function(t){return this.chart.getAnimationsEnabled()?this.Hm&&this.ib(this.Ym,t):this.Ym=t,this.S=t,this.chart.fn.Sn(),this},e.prototype.getValue=function(){return this.S},e.prototype.setExploded=function(t){var e=this;if(t&&!1===this.chart.getMultipleSliceExplosion())for(var i=this.chart.getSlices(),n=0;n<i.length;n+=1)i[n]!==this&&i[n].getExploded()&&i[n].setExploded(!1);return this.chart.getAnimationsEnabled()?(this.$m&&this.$m.finish(),this.$m=this.Qm(300,at.ease)([[this.Xm,t?1:0]],(function(t){var i=Ph(t,1)[0];e.Xm=i,e.chart.fn.Sn()})),this.$m.onEveryAnimationEnd(this.qm),this.Gm=!this.Gm):!1!==this.chart.getMultipleSliceExplosion()||t?(this.Xm=this.Gm?0:1,this.Gm=!this.Gm):(this.Xm=0,this.Gm=!this.Gm),this.chart.fn.Sn(),this},e.prototype.getExploded=function(){return this.Gm},e.prototype.setVisible=function(e){var i=this;return this.Hm=e,!1===e?this.chart.getAnimationsEnabled()&&this.Ym>0?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),this.ib(this.Ym,0,(function(){return t.prototype.setVisible.call(i,!1)}))):(this.Ym=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),t.prototype.setVisible.call(this,!0),this.ib(this.Ym,this.S)):(this.Ym=this.S,t.prototype.setVisible.call(this,!0)),this},e.prototype.ib=function(t,e,i){var n=this;this.Jm=this.Zm(300,at.ease)([[t,e]],(function(t){var e=Ph(t,1)[0];n.Ym=e,n.chart.fn.Sn()})),this.Jm.onEveryAnimationEnd(this.Km),i&&this.Jm.onAnimationEnd(i)},e.prototype.setStyle=function(t,e,i,n){this.Um=t,this.Wm=i,this.tb.Br(this.Um).Dr(e),this.ie.Br(this.Wm).He(n);for(var r=0;r<this.Ki.length;r+=1)this.styleLegendEntry(this.Ki[r])},e.prototype.getAnimatedValue=function(){return this.Ym},e.prototype.getAnimatedExplosion=function(){return this.Xm},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Um,stroke:this.tb.fu()})},e}(Th),Dh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fh=function(t,e,i){return Hi(e,Xi(rn(.5*(t.$a()+t.Ti())*Math.PI/180),i))},_h=function(t,e,i,n,r,o){for(var s=t.length,a=90,u=0;u<s;u+=1){var l=t[u],h=a-360*e[u],c=l.getAnimatedExplosion();if(0===c||1===s)l.tb.Lr(i);else{var f=Hi(i,Xi(rn(.5*(a+h)*Math.PI/180),o*c));l.tb.Lr(f)}l.tb.sf(a).Yr(h).hf(n).af(n).ff(r),a=h}},Ih=function(t){for(var e=t.getSlices(),i=0;i<e.length;i+=1)e[i].setExploded(!1)},Oh=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("pieChart bg",0),r,i.fn.$i.pieChartBackgroundFillStyle,i.fn.$i.pieChartBackgroundStrokeStyle,i.fn.$i.pieChartTitleFont,i.fn.$i.pieChartTitleFillStyle,s)||this;u.nb=[],u.rb=Ah.SortByName,u.Xa=0,u.eb=u.$i.pieChartSliceFillStylePalette,u.ob=u.$i.pieChartSliceStrokeStyle,u.sb=!0,u.ub=u.$i.pieChartSliceLabelFont,u.hb=u.$i.pieChartSliceLabelFillStyle,u.ab=0,u.fb=!1,u.cb=20,u.lb=!0,u.vb=!0,u.Ab=function(t){var e=u.nb.indexOf(t);e>=0&&(u.nb.splice(e,1),u.yb())},u.fn.Rs(Nu.Vv),u.mb=i.bb("pieChart bottom",0),u.pb=i.bb("pieChart top",1),u.pe.vo("Pie Chart"),u.im(o,u.GA),u.onBackgroundMouseDoubleClick(Ih);var l=Gn(new jn.DoublePoke(Ih));u.onBackgroundTouchStart(l.onTouchStart),u.onBackgroundTouchMove(l.onTouchMove),u.onBackgroundTouchEnd(l.onTouchEnd);var h=i.gb(),c=ye(a?a.cursorBuilder:void 0,vh);return u.Sb=Kl(u,h,c.Rm(h,u.uiScale,u.uiScale,ue,u.$i),void 0,"show-pointed",Bh,(function(){return 0})),u.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),u}return Dh(e,t),e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=vh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.addSlice=function(t,e){var i=this,n=new kh(this.ab,this.mb,this.pb,this,this.GA,this.Ab,this.$i,this.fn.rn);this.ab+=1,n.setName(t);var r=this.fe;return this.fe=!1,n.setValue(e),this.fe=r,n.setEffect(this.lb),this.xb(n),this.nb.push(n),this.yb(),n.setHighlightOnHover(this.sb),n.onMouseMove((function(){i.getCursorMode()&&i.fn.Sn()})),n},e.prototype.addSlices=function(t){for(var e=[],i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e},e.prototype.getSlices=function(){return this.nb},e.prototype.setMultipleSliceExplosion=function(t){return this.fb=t,this},e.prototype.getMultipleSliceExplosion=function(){return this.fb},e.prototype.setInnerRadius=function(t){return this.Xa=t,this.fn.Sn(),this},e.prototype.getInnerRadius=function(){return this.Xa},e.prototype.setSliceExplosionOffset=function(t){return this.cb=t,this.fn.Sn(),this},e.prototype.getSliceExplosionOffset=function(){return this.cb},e.prototype.setLUT=function(t){return this.bv=t,this.fn.Sn(),this},e.prototype.setSliceFillStyle=function(t){this.eb=t;for(var e=0;e<this.nb.length;e+=1)this.xb(this.nb[e]);return this.fn.Sn(),this},e.prototype.getSliceFillStyle=function(){return this.eb},e.prototype.setSliceStrokeStyle=function(t){this.ob="function"==typeof t?t(this.ob):t;for(var e=0;e<this.nb.length;e+=1)this.xb(this.nb[e]);return this.fn.Sn(),this},e.prototype.getSliceStrokeStyle=function(){return this.ob},e.prototype.setSliceEffect=function(t){return this.lb=t,this.nb.forEach((function(e){return e.rn.un.gn(t)})),this.fn.Sn(),this},e.prototype.getSliceEffect=function(){return this.lb},e.prototype.setSliceSorter=function(t){return this.rb=t,this.nb=this.nb.sort(this.rb),this.fn.Sn(),this},e.prototype.getSliceSorter=function(){return this.rb},e.prototype.setLabelFillStyle=function(t){this.hb="function"==typeof t?t(this.hb):t;for(var e=0;e<this.nb.length;e+=1)this.xb(this.nb[e]);return this.fn.Sn(),this},e.prototype.getLabelFillStyle=function(){return this.hb},e.prototype.setLabelFont=function(t){this.ub="function"==typeof t?t(this.ub):t;for(var e=0;e<this.nb.length;e+=1)this.xb(this.nb[e]);return this.fn.Sn(),this},e.prototype.getLabelFont=function(){return this.ub},e.prototype.setLabelEffect=function(t){return this.vb=t,this.nb.forEach((function(e){return e.rn.sn.gn(t)})),this.fn.Sn(),this},e.prototype.getLabelEffect=function(){return this.vb},e.prototype.setLabelFormatter=function(t){return this.wb=t,this.fn.Sn(),this},e.prototype.getLabelFormatter=function(){return this.wb},e.prototype.setSliceHighlightOnHover=function(t){return this.sb=t,this.nb.forEach((function(e){return e.setHighlightOnHover(t)})),this},e.prototype.Pr=function(e){var i=this;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm),t.prototype.tm.call(this);var n=jl(this.pe,this.rm),r=y(this.GA.x.getInnerInterval()-(this.xh.left+this.xh.right),this.GA.y.getInnerInterval()-(this.xh.bottom+this.xh.top+n)),o=y(this.xh.left+r.x/2,this.xh.bottom+r.y/2);if(this.bv){var s=this.bv;this.nb.forEach((function(t){i.xb(t,new et({color:s.getColors(t.getAnimatedValue())}))}))}for(var a=0;a<this.nb.length;a+=1){var u=this.nb[a].getAnimatedValue()>0;this.nb[a].tb.setVisible(u),this.nb[a].ie.setVisible(u)}this.nb=this.nb.sort(this.rb);var l=this.nb.filter((function(t){return t.getAnimatedValue()>0})),h=0;for(a=0;a<l.length;a+=1)h+=l[a].getAnimatedValue();var c,f=[];for(a=0;a<l.length;a+=1)f.push((c=l[a].getAnimatedValue())>0?c/h:0);for(a=0;a<l.length;a+=1){var p=l[a];p.ie.vo(this.wb(p,f[a])).En()}this.Sb.Pr(!1,this.nb,(function(t,e,n){var r=f[l.indexOf(t)]||0,o=i.fn.ju(e);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:i.fn.vt,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:i.fn.vt},slice:t,category:t.getName(),value:t.getValue(),relativeValue:r}})),this.Mb(l,f,o,r)},e.prototype.xb=function(t,e){void 0===e&&(e=this.eb(t.index,t)),t.setStyle(e,this.ob,this.hb,this.ub)},e.prototype.yb=function(){this.nb=this.nb.sort(this.rb),this.fn.Sn()},e.prototype.Tv=function(){return this.nb},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nb.slice().forEach((function(t){return t.dispose()})),this.Sb.U(),this.pb.U(),this.mb.U(),this},e}(Gl),Bh=function(t,e,i){return[[e.slice],[{text:e.value.toString(),font:{weight:"bold"}}]]},zh=function(t){return!("object"!==a(t)||!t||!("pattern"in t))},Lh={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}},Rh=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=[];return t.forEach((function(t){t&&zh(t)&&i.push({type:"DataPattern",args:t})})),i},Vh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nh=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,s,a)||this;return u.wb=bh.NamePlusValue,u.Cb=[],u._b=40,u.Tb=5,u.kb=10,u.Ob=u.$i.pieChartConnectorStrokeStyle,u}return Vh(e,t),e.prototype.setLabelConnectorStyle=function(t){this.Ob=t;for(var e=0;e<this.Cb.length;e+=1)this.Cb[e].Ur(this.Ob);return this.fn.Sn(),this},e.prototype.getLabelConnectorStyle=function(){return this.Ob},e.prototype.setLabelSliceOffset=function(t){return this._b=t,this.fn.Sn(),this},e.prototype.getLabelSliceOffset=function(){return this._b},e.prototype.setLabelConnectorGapStart=function(t){return this.Tb=t,this.fn.Sn(),this},e.prototype.getLabelConnectorGapStart=function(){return this.Tb},e.prototype.setLabelConnectorEndLength=function(t){return this.kb=t,this.fn.Sn(),this},e.prototype.getLabelConnectorEndLength=function(){return this.kb},e.prototype.Mb=function(t,e,i,n){var r=this,o=this.ub.getSize(),s=this._b,a=this.kb,u=this.Tb,l=Math.min(this.cb,s-u),h=0;if(1===t.length)h=t[0].ie.Tl().x;else for(var c=0;c<t.length;c+=1)h=Math.max(h,t[c].ie.Tl().x);var f=Math.max(.5*(Math.min(n.x-2*h-2*a,n.y-2*o)-2*s),0);if(f<50){var p=Math.max(.5*Math.min(n.x,n.y-2*o),0);_h(t,e,i,p,this.Xa,l),t.forEach((function(t){return t.ie.setVisible(!1)})),this.Cb.forEach((function(t){return t.setVisible(!1)}))}else{_h(t,e,i,f,this.Xa,l);var d=90,y=t.map((function(t,n){var r=360*e[n],o=d-r,u=rn(en(.5*(d+o))),l=u.x>=0?-1:1,h=Hi(Hi(i,Xi(u,f+s)),{x:l*-a,y:0});d=o;var c={x:l,y:0};t.ie.Lr(h).Rh(c),t.ie.En();var p=Li(t.ie.te());return{position:h,alignment:c,shape:t.ie,boundaries:p,sliceAngleVec:u,slice:t}})),v=[];for(c=0;c<y.length;c+=1){var g=y[c],m=v[v.length-1];m&&!1!==ki([m.boundaries,g.boundaries])?g.shape.setVisible(!1):(v.push(g),g.shape.setVisible(!0))}for(c=0;c<this.Cb.length;c+=1)this.Cb[c].setVisible(!1);v.forEach((function(t,e){var n=t.slice.tb,o=Fh(n,i,f+u+l*t.slice.getAnimatedExplosion()),s=tn(t.position.y,o,i),a=t.position;r.Fb([o,s,a])}))}},e.prototype.getMinimumSize=function(){return y(500,300)},e.prototype.Fb=function(t){for(var e,i=0;i<this.Cb.length;i+=1)if(!this.Cb[i].getVisible()){e=this.Cb[i].setVisible(!0);break}void 0===e&&(e=this.pb.Ib(this.GA,void 0,[Lh.InternalUI]).Ur(this.Ob).setMouseInteractions(!1),this.Cb.push(e)),e.zt().aa(t)},e}(Oh),Uh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wb=bh.Name,e.jb=.5,e}return Vh(e,t),e.prototype.Mb=function(t,e,i,n){var r=this.cb,o=Math.max(0,.5*Math.min(n.x,n.y)-r);_h(t,e,i,o,this.Xa,r);for(var s=0;s<t.length;s+=1){var a=t[s],u=a.tb,l=a.ie,h=this.Xa/100,c=((1-h)*this.jb+h)*o+a.getAnimatedExplosion()*r,f=Fh(u,i,c);l.Lr(f).Lh(0).Vh(0)}},e.prototype.getMinimumSize=function(){return y(200,200)},e.prototype.setLabelPosition=function(t){return this.jb=t,this.fn.Sn(),this},e.prototype.getLabelPosition=function(){return this.jb},e}(Oh),Yh={LabelsOnSides:Nh,LabelsInsideSlices:Uh},Gh=function(t){if(Zn(t)){var e=t.getThickness(),i=t.getFillStyle();if(it(i))return 1===e?fo:new po({size:e,fillStyle:i,shape:"sphere"})}return fo},jh=function(){function t(t,e,i,n,o,s,a,u,l,h){this.D=new r.a,this.S=0,this.Zi=!0,this.Hi=!1,this.Sn=t,this.Db=e,this.Bb=i,this.Eb=n,this.Pb=o,this.Lb=s,this.fv=a,this.Om=u,this.zb=l,this.Fc=h}return t.prototype.setValue=function(t){return t===this.S||(this.S=t,this.Sn(),this.D.emit("valueChange",this,this.S)),this},t.prototype.getValue=function(){return this.S},t.prototype.setTickStyle=function(t){return this.Bb="function"==typeof t?t(this.Bb):t,this.Sn(),this},t.prototype.getTickStyle=function(){return this.Bb},t.prototype.setTickLength=function(t){return this.Eb=t,this.Sn(),this},t.prototype.getTickLength=function(){return this.Eb},t.prototype.setGridStrokeStyle=function(t){return this.Pb="function"==typeof t?t(this.Pb):t,this.Sn(),this},t.prototype.getGridStrokeStyle=function(){return this.Pb},t.prototype.setTextPadding=function(t){return this.Lb=t,this.Sn(),this},t.prototype.getTextPadding=function(){return this.Lb},t.prototype.setTextRotation=function(t){return this.fv=t,this.Sn(),this},t.prototype.getTextRotation=function(){return this.fv},t.prototype.setTextFillStyle=function(t){return this.Om="function"==typeof t?t(this.Om):t,this.Sn(),this},t.prototype.getTextFillStyle=function(){return this.Om},t.prototype.setTextFont=function(t){return this.zb="function"==typeof t?t(this.zb):t,this.Sn(),this},t.prototype.getTextFont=function(){return this.zb},t.prototype.setTextFormatter=function(t){return this.Fc=t,this.Sn(),this},t.prototype.onValueChange=function(t){return this.D.on("valueChange",t)},t.prototype.offValueChange=function(t){return this.D.off(t,"valueChange")},t.prototype.dispose=function(){return this.Hi||(this.Hi=!0,this.Db(),this.Sn(),this.D.emit("dispose",this)),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t.prototype.setVisible=function(t){var e=this.Zi!==t;return this.Zi=t,e&&(this.D.emit("visibleStateChanged",this,this.Zi),this.Sn()),this},t.prototype.getVisible=function(){return this.Zi},t.prototype.onVisibleStateChanged=function(t){return this.D.on("visibleStateChanged",t)},t.prototype.offVisibleStateChanged=function(t){return this.D.off(t,"visibleStateChanged")},t}(),Wh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xh=function(){return(Xh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Hh=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p){var d=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return d.Vb=c,d.Nb=f,d.xh=p,d}return Wh(e,t),e.prototype.setBackgroundFillStyle=function(t){return this.Vb="function"==typeof t?t(this.Vb):t,this.Sn(),this},e.prototype.getBackgroundFillStyle=function(){return this.Vb},e.prototype.setBackgroundStrokeStyle=function(t){return this.Nb="function"==typeof t?t(this.Nb):t,this.Sn(),this},e.prototype.getBackgroundStrokeStyle=function(){return this.Nb},e.prototype.setPadding=function(t){return this.xh="number"==typeof t?{left:t,top:t,right:t,bottom:t}:Xh(Xh({},this.xh),t),this.Sn(),this},e.prototype.getPadding=function(){return this.xh},e}(jh),Zh=function(){return(Zh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Qh=function(){function t(t,e,i,n){this.Rb=[],this.Gb=new Map,this.Ub=t,this.Wb=e,this.Yb=i,this.Xb=n}return t.prototype.Hb=function(){var t=this;this.Yb&&this.Yb();var e=[];return{add:function(t,i){e.push({instanceUniqueProperties:t,instanceSharedProperties:i})},finishPlot:function(){var i=[],n=[];e.forEach((function(t){var e=i.find((function(e){return function(t,e){var i,n,r=Object.keys(t);try{for(var o=ie(r),s=o.next();!s.done;s=o.next()){var a=s.value;if(t[a]!==e[a])return!1}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return!0}(e.sharedProperties,t.instanceSharedProperties)}));e?e.instances.push(t.instanceUniqueProperties):i.push({sharedProperties:t.instanceSharedProperties,instances:[t.instanceUniqueProperties]})}));var r=t.Rb.slice(),o=[];i.forEach((function(e){var i=r.pop();i||(i=t.Ub(),t.Rb.push(i));var s=[],a=i.Zb().slice();e.instances.forEach((function(t,e){var i=a.shift();s.push(Zh(Zh({},t),{existingMember:i}))}));var u=t.Wb(i,s,e.sharedProperties);n=Ge(n,u,{canReturnB:!0});for(var l=0;l<e.instances.length;l+=1)o.push({Ru:e.instances[l].Ru,collection:i,member:u[l]});a.forEach((function(t){null==i||i.ql(t)}))})),r.forEach((function(e){e.dispose();var i=t.Rb.indexOf(e);i<0?$e(0,(function(){})):t.Rb.splice(i,1)})),o.forEach((function(e){var i=t.Gb.get(e.Ru);i&&e.collection.fn.tu({entity:i.collection,collectionMember:i.member},{entity:e.collection,collectionMember:e.member})})),t.Gb.clear(),o.forEach((function(e){t.Gb.set(e.Ru,e)})),t.Xb&&t.Xb(t.Rb,n)}}},t.prototype.Qb=function(){this.Rb.forEach((function(t){t.dispose()})),this.Rb.length=0},t}(),qh=function(){function t(t){this.Kb=[],this.Jb=t}return t.prototype.Hb=function(){var t=this;return this.qb(),{add:function(){return t.oa()},finishPlot:function(){t.$b()}}},t.prototype.oa=function(){var t=this.Kb.find((function(t){return t.isFree}));return t||(t={isFree:!1,shape:this.Jb()},this.Kb.push(t)),t.isFree=!1,t.shape},t.prototype.qb=function(){this.Kb.forEach((function(t){t.isFree=!0}))},t.prototype.$b=function(){var t=this;this.Kb.filter((function(t){return t.isFree})).forEach((function(e){e.shape.dispose(),t.Kb.splice(t.Kb.indexOf(e),1)}))},t.prototype.Qb=function(){this.Kb.forEach((function(t){return t.shape.dispose()})),this.Kb.length=0},t}(),Kh=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Jh=function(){return(Jh=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tc=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},ec=function(t){function e(e,i,n,r,o,s,a,u,l){var h=t.call(this,e,i,n,r,u,{numeric:i.tp({x:e.fn.$i.xAxis3DNumericTicks,y:e.fn.$i.yAxis3DNumericTicks,z:e.fn.$i.zAxis3DNumericTicks}),datetime:i.tp({x:e.fn.$i.xAxis3DDateTimeTicks,y:e.fn.$i.yAxis3DDateTimeTicks,z:e.fn.$i.zAxis3DDateTimeTicks}),time:i.tp({x:e.fn.$i.xAxis3DTimeTicks,y:e.fn.$i.yAxis3DTimeTicks,z:e.fn.$i.zAxis3DTimeTicks})},{type:"linear"})||this;h.sd=[],h.ip=function(){},h.np=function(){},h.rp=function(){},h.ep=function(){},h.chart=e,h.op=o,h.sp=s,h.up=a,h.hp=h.op.vt;var c=h.Be.tp({x:h.$i.xAxis3DStrokeStyle,y:h.$i.yAxis3DStrokeStyle,z:h.$i.zAxis3DStrokeStyle});return h.ap=h.op.Ib([Lh.InternalUI]).Ur(c).fp(Gh(c)).setMouseInteractions(!1),h.xe=h.sp.zo(h.up).setMouseInteractions(!1).Br(i.tp({x:e.fn.$i.xAxis3DTitleFillStyle,y:e.fn.$i.yAxis3DTitleFillStyle,z:e.fn.$i.zAxis3DTitleFillStyle})).He(i.tp({x:e.fn.$i.xAxis3DTitleFont,y:e.fn.$i.yAxis3DTitleFont,z:e.fn.$i.zAxis3DTitleFont})).$u(3),h.cp=new qh((function(){return h.sp.zo(h.up).$u(2).Lo(fi).Po(fi)})),h.lp=new Qh((function(){return h.sp.vp(h.up).setMouseInteractions(!1).$u(1)}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.positions,n=e.existingMember||t.Wo();return n.ga(i),n}))})),h.dp=new Qh((function(){return h.op.py().setMouseInteractions(!1)}),(function(t,e,i){return t.zt().Ur(i.lineStyle),e.map((function(e){var i=e.positions;return e.existingMember||t.aa(i)}))})),h.rn=l,h.Ke=h.rn.JA([h.xe]).gn(r.effectsText),h.ap.setMouseEnterEventHandler(h.ip).setMouseLeaveEventHandler(h.np).setMouseDragEventHandler(h.rp).setMouseDragStopEventHandler(h.ep),n.EA=h,h}return Kh(e,t),e.prototype.setTickStrategy=function(e,i){return t.prototype.ze.call(this,e,i)},e.prototype.getTickStrategy=function(){return this.ee},e.prototype.addCustomTick=function(){var t=this,e=new Hh((function(){return t.chart.fn.Sn()}),(function(){var i=t.sd.indexOf(e);i>=0&&t.sd.splice(i,1)}),this.$i.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.$i.xAxis3DNumericTicks.majorTickStyle.tickLength,this.$i.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.$i.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.$i.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.$i.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.$i.xAxis3DNumericTicks.majorTickStyle.labelFont,(function(e){return t.formatValue(e)}),J,gt,{left:4,right:4,top:4,bottom:4});return this.sd.push(e),this.chart.fn.Sn(),e},e.prototype.setStrokeStyle=function(t){return this.ap.Ur(t).fp(Gh(this.ap.vf())),this.chart.fn.Sn(),this},e.prototype.getStrokeStyle=function(){return this.ap.vf()},e.prototype.setMouseInteractions=function(t){return this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.ap.setVisible(e),!1===e&&(this.dp.Qb(),this.cp.Qb(),this.lp.Qb()),this.op.Sn(),this},e.prototype.oy=function(){return this.chart.getSeries()},e.prototype.Ap=function(t){return Math.abs(this.vt.it(t)*this.op.yp(1))},e.prototype.Do=function(t,e,i){var n=Math.abs(this.vt.it(e-t)*this.op.yp(1));return{min:t-i*n,max:e+i*n}},e.prototype.yo=function(t,e){var i=new ic(e,t,this.sp,this.up,this.op);return i.ie.$u(0),i},e.prototype.mo=function(t,e){var i=this.mp(e,t.S,t.Oe.Ao.tickLength,t.Oe.Ao.tickPadding);return t.ie.Lr(i.labelPosition).Rh(i.labelAlignment),i},e.prototype.mp=function(t,e,i,n){var r=t.wuSize,o=t.start,s=t.end,a=t.tickDirection3D,u=t.tickDirection2D,l=(e-this.vt.getInnerStart())/(this.vt.getInnerEnd()-this.vt.getInnerStart()),h=xi.addVec(zi(o,s,l),xi.multiplyVec(xi.multiply(a,this.op.yp(.5*this.ap.vf().getThickness())),r)),c=xi.addVec(h,xi.multiplyVec(xi.multiply(a,this.op.yp(i)),r)),f=this.op.bp(c)||y(0,0);return{labelPosition:Hi(Pt(f,this.chart.fn.vt,this.up),Xi(u,n)),labelAlignment:{x:-u.x,y:-u.y},posTickEnd3D:c,posTickStart3D:h,tickPositionRelative:l}},e.prototype.pp=function(t,e,i){var n=e.wuSize,r=e.start,o=e.end,s=e.tickDirection3D,a=(t-this.vt.getInnerStart())/(this.vt.getInnerEnd()-this.vt.getInnerStart()),u=xi.addVec(zi(r,o,a),xi.multiplyVec(xi.multiply(s,this.op.yp(.5*this.ap.vf().getThickness())),n)),l=xi.addVec(u,xi.multiplyVec(xi.multiply(s,this.op.yp(10)),n)),h=this.op.bp(u)||y(0,0),c=this.op.bp(l)||y(0,0);return this.sp.Wr(this.up).Xr(h).Yr(c).Ur(new Hn({fillStyle:new et({color:F(120*i)}),thickness:1}))},e.prototype.Io=function(t,e){return nc(t,e,this.vt)},e.prototype.Pr=function(t){var e,i,n,r,o=this;if(this.Zi){var s,a,u=Math.min(this.Ve,this.Ne),l=Math.max(this.Ve,this.Ne),h=this.hp,c=m(h.x.et(),h.y.et(),h.z.et());this.gp()?(s=m(h.x.getInnerEnd(),h.y.getInnerStart(),h.z.getInnerStart()),a=m(h.x.getInnerEnd(),h.y.getInnerStart(),h.z.getInnerEnd())):(s=m(h.x.getInnerStart(),h.y.getInnerStart(),h.z.getInnerStart()),a=this.Be.Sp(m(h.x.getInnerEnd(),h.y.getInnerEnd(),h.z.getInnerEnd()),s));var f=this.Be.Ov,p=this.op.bp(s)||y(0,0),d=this.op.bp(a)||y(0,0),v=zi(s,a,.5),g=xi.addVec(v,xi.multiplyVec(xi.multiply(f,-1),c)),x=this.op.bp(v)||y(0,0),S=this.op.bp(g)||y(0,0),A=Gi(Zi(Pt(x,this.chart.fn.vt,this.up),Pt(S,this.chart.fn.vt,this.up)));this.ap.zt().aa([s,a]);var b=this.Be.xp(t),M=b.gridlinePositionA,w=b.gridlinePositionB,C=b.gridlinePositionC,P=function(t){return{x:-1===t.x?o.hp.x.getInnerStart():1===t.x?o.hp.x.getInnerEnd():0,y:-1===t.y?o.hp.y.getInnerStart():1===t.y?o.hp.y.getInnerEnd():0,z:-1===t.z?o.hp.z.getInnerStart():1===t.z?o.hp.z.getInnerEnd():0}},E=P(M),T=P(w),k=P(C),D={physicalAxisSize:Wi(Zi(p,d)),wuSize:c,start:s,end:a,tickDirection3D:f,tickDirection2D:A,gridlinePositionA:E,gridlinePositionB:T,gridlinePositionC:k},F=this.oo(D),_=this.dp.Hb();try{for(var I=$h(this.oe),O=I.next();!O.done;O=I.next()){var B=tc(O.value,2),z=B[0],L=B[1];try{for(var R=(n=void 0,$h(L)),V=R.next();!V.done;V=R.next()){var N=tc(V.value,2)[1],U=F.get(N);if(U){var Y=this.wp(D,U);_.add({Ru:0,positions:[Y.tickStroke.start,Y.tickStroke.end]},{lineStyle:z.Ao.tickStyle}),Y.gridStroke&&_.add({Ru:0,positions:Y.gridStroke},{lineStyle:z.Ao.gridStrokeStyle})}}}catch(t){n={error:t}}finally{try{V&&!V.done&&(r=R.return)&&r.call(R)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{O&&!O.done&&(i=I.return)&&i.call(I)}finally{if(e)throw e.error}}var G=this.cp.Hb(),j=this.lp.Hb(),W={x:0,y:0};this.sd.forEach((function(t){if(!(!t.Zi||t.S<u||t.S>l)){var e=o.mp(D,t.S,t.Eb,t.Lb),i=o.wp(D,e);if(t.Om!==J){var n=G.add().Lr(e.labelPosition).Rh(e.labelAlignment).Br(t.Om).He(t.zb).vo(t.Fc(t.S)).Ze(t.fv),r=n.En().oi();if(W.x=Math.max(W.x,r.x),W.y=Math.max(W.y,r.y),t.Vb!==J){var s=n.te(),a=[{x:s[0].x-t.xh.left,y:s[0].y+t.xh.top},{x:s[1].x+t.xh.right,y:s[1].y+t.xh.top},{x:s[2].x+t.xh.right,y:s[2].y-t.xh.bottom},{x:s[3].x-t.xh.left,y:s[3].y-t.xh.bottom}];j.add({Ru:0,positions:a},{fillStyle:t.Vb,strokeStyle:t.Nb})}}_.add({Ru:0,positions:[i.tickStroke.start,i.tickStroke.end]},{lineStyle:t.Bb}),i.gridStroke&&_.add({Ru:0,positions:i.gridStroke},{lineStyle:t.Pb})}})),G.finishPlot(),j.finishPlot(),_.finishPlot();var X=this.xo((function(t,e){var i=e.ie.oi();return t.x=Math.max(t.x,i.x),t.y=Math.max(t.y,i.y),t}),{x:W.x,y:W.y}),H=Math.atan((d.y-p.y)/(d.x-p.x));this.xe.Rh({x:0,y:0}).Ze(180*-H/Math.PI);var Z=xi.addVec(v,xi.multiplyVec(xi.multiply(f,this.op.yp(.5*this.ap.vf().getThickness()+this.Co((function(t,e){return Math.max(t,e.tickLength)}),0))),c)),Q=this.op.bp(Z)||y(0,0),q=Hi(Pt(Q,this.chart.fn.vt,this.up),Hi(Hi(Qi(X,A),Xi(A,this.Co((function(t,e){return Math.max(t)}),0))),Qi(Xi(this.xe.En().oi(),.5),A)));this.xe.Lr(q),this.ap.Mp={overrideFollowing:!1,skipMousePicking:!1}}},e.prototype.wp=function(t,e){var i,n=t.gridlinePositionA,r=t.gridlinePositionB,o=t.gridlinePositionC,s=e.posTickStart3D,a=e.posTickEnd3D,u=e.tickPositionRelative;return le(u,0)||le(u,1)||(i=[this.Cp()?Jh(Jh({},n),{x:s.x}):this._p()?Jh(Jh({},n),{y:s.y}):this.gp()?Jh(Jh({},n),{z:s.z}):{x:0,y:0,z:0},this.Cp()?Jh(Jh({},r),{x:s.x}):this._p()?Jh(Jh({},r),{y:s.y}):this.gp()?Jh(Jh({},r),{z:s.z}):{x:0,y:0,z:0},this.Cp()?Jh(Jh({},o),{x:s.x}):this._p()?Jh(Jh({},o),{y:s.y}):this.gp()?Jh(Jh({},o),{z:s.z}):{x:0,y:0,z:0}]),{gridStroke:i,tickStroke:{start:s,end:a}}},e.prototype.Je=function(){t.prototype.Je.call(this),this.dp.Qb(),this.cp.Qb(),this.lp.Qb()},e.prototype.Cp=function(){return this.Be.Cp()},e.prototype._p=function(){return this.Be._p()},e.prototype.gp=function(){return this.Be.gp()},e}(eo),ic=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;return a.Tp=o,a}return Kh(e,t),e}(io),nc=function(t,e,i){return he(t+.1*(e-t)+Math.abs(i.et())/100*Math.sign(e-t),Math.min(t,e),Math.max(t,e))},rc=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oc=function(t,e,i,n){return{_o:function(){var i,n,r,o=t();try{for(var s=rc(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.kp()){var l=e(u);r=void 0===l?r:void 0!==r?Math.min(r,l):l}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return r},To:function(){var e,n,r,o=t();try{for(var s=rc(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.kp()){var l=i(u);r=void 0===l?r:void 0!==r?Math.max(r,l):l}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},Oo:function(){var e,i,r,o=t();try{for(var s=rc(o),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.kp()){var l=n(u);r=void 0===l?r:void 0!==r?Math.max(r,l):l}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return r}}},sc=function(){return(sc=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ac=function(t){return sc(sc({},oc(t,(function(t){return t.getYMin()}),(function(t){return t.getYMax()}),(function(t){return t.Oo().y}))),{tp:function(t){return t.y},Sp:function(t,e){return{x:e.x,y:t.y,z:e.z}},Ov:m(-1,0,0),xp:function(t){var e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:m(e.x,0,e.z),gridlinePositionB:m(e.x,0,-e.z),gridlinePositionC:m(-e.x,0,-e.z)}},Cp:function(){return!1},_p:function(){return!0},gp:function(){return!1}})},uc=function(t){return sc(sc({},oc(t,(function(t){return t.getZMin()}),(function(t){return t.getZMax()}),(function(t){return t.Oo().z}))),{tp:function(t){return t.z},Sp:function(t,e){return{x:e.x,y:e.y,z:t.z}},Ov:m(1,0,0),xp:function(t){var e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:m(e.x,-e.y,0),gridlinePositionB:m(e.x,e.y,0),gridlinePositionC:m(-e.x,e.y,0)}},Cp:function(){return!1},_p:function(){return!1},gp:function(){return!0}})},lc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hc=function(){return(hc=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},cc=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,r,o)||this;return s.Op=oa,s.Fp=!0,s.Ip=!0,s.jp=!0,s.chart=e,s.op=n,s.tn=new Map,s.onMouseWheel(s.chart.Dp),s.onMouseDrag(s.chart.Bp),s.onMouseDragStop(s.chart.Ep),s.onTouchStart(s.chart.Pp.onTouchStart),s.onTouchMove(s.chart.Pp.onTouchMove),s.onTouchEnd(s.chart.Pp.onTouchEnd),s}return lc(e,t),e.prototype.Ji=function(t,e){var i=null==t?void 0:t.dataPoint;if(i){var n=this.chart.translateCoordinate(e,this.chart.coordsRelative);return hc(hc({cursorPosition:{resultTable:n,resultTableScale:this.chart.GA,axisLocation:i}},i),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ()})}},e.prototype.setCursorEnabled=function(t){return this.Fp=t,this},e.prototype.getCursorEnabled=function(){return this.Fp},e.prototype.setCursorFormattingOverride=function(t){return this.Lp=t,this},e.prototype.getCursorFormattingOverride=function(){return this.Lp},e.prototype.setAutoScrollingEnabled=function(t){return this.Ip=t,this.chart.fn.Sn(),this},e.prototype.getAutoScrollingEnabled=function(){return this.Ip},e.prototype.setColorShadingStyle=function(t){return this.Op=t,this.tn.forEach((function(e,i){return i.zp(t)})),this.op.Sn(),this},e.prototype.getColorShadingStyle=function(){return this.Op},e.prototype.setDepthTestEnabled=function(t){return this.jp=t,this.tn.forEach((function(e,i){return i.Vp(t)})),this.op.Sn(),this},e.prototype.getDepthTestEnabled=function(){return this.jp},e.prototype.Np=function(){},e.prototype.Pr=function(){},e.prototype.Xb=function(){},e.prototype.getXMax=function(){var t=this.Yh;return t?t.yt():void 0},e.prototype.getXMin=function(){var t=this.Yh;return t?t.At():void 0},e.prototype.getYMax=function(){var t=this.Yh;return t?t.St():void 0},e.prototype.getYMin=function(){var t=this.Yh;return t?t.bt():void 0},e.prototype.getZMax=function(){var t=this.Yh;return t?t.Rp():void 0},e.prototype.getZMin=function(){var t=this.Yh;return t?t.Gp():void 0},e.prototype.Oo=function(){var t=this.Yh;return t?m(t.xa(),t.wa(),t.Wp()):m(0,0,0)},e}(Vn),fc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;return a.Mn="Box Series 3D",a.Yp=.25,a.Xp=!1,a.pv=function(){return Ze(a.Or)},a.Or=Ke(a.$i.boxSeries3DFillStyle,o),a.Yh=a.op.Zp().Vp(a.jp).Br(a.Or).Hp(a.Yp).cn(a.getHighlight()),a.vn(a.Yh),a}return fc(e,t),e.prototype.invalidateData=function(t){var e=t.length;if(0===e)return this;this.Xp&&this.chart.fn.Rs(Nu.Jv);var i,n=t[0];if(!n)return this;if("xMin"in n||"yMin"in n||"zMin"in n||"xMax"in n||"yMax"in n||"zMax"in n){i=[];for(var r=0;r<e;r+=1){var o=t[r],s="xMin"in o&&"xMax"in o,a="yMin"in o&&"yMax"in o,u="zMin"in o&&"zMax"in o;i[r]={color:o.color,value:o.value,id:o.id,xCenter:s?(o.xMin+o.xMax)/2:void 0,yCenter:a?(o.yMin+o.yMax)/2:void 0,zCenter:u?(o.zMin+o.zMax)/2:void 0,xSize:s?o.xMax-o.xMin:void 0,ySize:a?o.yMax-o.yMin:void 0,zSize:u?o.zMax-o.zMin:void 0}}}else i=t;return this.Yh.Qp(i.slice()),this.chart.fn.Sn(),this.Xp=!0,this},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Yh.Br(t),this.chart.fn.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setRoundedEdges=function(t){return void 0!==t&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.Yp=void 0!==t?he(t,0,1):void 0,this.Yh.Hp(this.Yp),this.op.Sn(),this},e.prototype.getRoundedEdges=function(){return this.Yp},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.chart.fn.Sn()},e.prototype.Pr=function(){t.prototype.Pr.call(this),this.Yh.En(!1)},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e}(cc),dc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yc=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.Xp=!1,s.pv=function(){return Ze(s.lf.getFillStyle())},s}return dc(e,t),e.prototype.setStrokeStyle=function(t){this.lf="function"==typeof t?t(this.lf):t;var e=this.lf;return this.Yh.Ur(e),this.op.Sn(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.add=function(t){return this.Xp&&this.chart.fn.Rs(Nu.Jv),this.Xp=!0,(t=Array.isArray(t)?t:[t])?(this.Yh.aa(t.slice()),this.op.Sn(),this):this},e.prototype.clear=function(){return this.Yh.zt(),this},e.prototype.getPointAmount=function(){var t=this.Yh;return t.fa()+t.ca()},e.prototype.kp=function(){return this.Ip&&this.getPointAmount()>0&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.op.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{stroke:this.lf})},e}(cc),vc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;return a.Mn="Line Series 3D",a.lf=Ke(r.lineSeries3DStrokeStyle,o),a.Kp=ko.pointStyle3D,a.Jp(a.lf),a.Yh=a.op.Ib([Lh.UserSeries]).Vp(a.jp).Ur(a.lf).fp(a.Kp).cn(a.getHighlight()),a.vn(a.Yh),a}return dc(e,t),e.prototype.setStrokeStyle=function(e){t.prototype.setStrokeStyle.call(this,e),this.Jp(this.lf);var i=this.Kp;return this.Yh.fp(i),this},e.prototype.Jp=function(t){var e=new mo.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.Kp=e},e}(yc),gc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;return a.Mn="Point Line Series 3D",a.pv=function(){return Ze(a.lf.getFillStyle())||Ze(a.Kp.getFillStyle())},a.Kp=Ke(r.pointLineSeries3DPointStyle,o),a.lf=Ke(r.lineSeries3DStrokeStyle,o),a.qp(),a.Yh=a.op.Ib([Lh.UserSeries]).Vp(a.jp).Ur(a.lf).fp(a.Kp).cn(a.getHighlight()),a.vn(a.Yh),a}return gc(e,t),e.prototype.setPointStyle=function(t){return this.Kp="function"==typeof t?t(this.Kp):t,this.qp(),this.Yh.fp(this.Kp),this.op.Sn(),this},e.prototype.getPointStyle=function(){return this.Kp},e.prototype.setStrokeStyle=function(e){t.prototype.setStrokeStyle.call(this,e);var i=this.lf,n=Math.abs(i.getThickness()),r=this.Kp,o=r.getSize();n>("object"===a(o)?Math.max(o.x,o.y,o.z):o)&&(this.Kp=r.setSize(n)),this.qp();var s=this.Kp;return this.Yh.fp(s),this.op.Sn(),this},e.prototype.qp=function(){var t=this.Kp,e=t.getSize();this.Kp=t.setSize(e)},e.prototype.zr=function(t,e){t.cn(e),this.op.Sn()},e}(yc),xc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sc=function(){return(Sc=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ac=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;return a.Xp=!1,((null==s?void 0:s.individualPointSizeAxisEnabled)||(null==s?void 0:s.individualPointSizeEnabled))&&a.chart.fn.Rs(Nu.qv),a}return xc(e,t),e.prototype.add=function(t){return this.Xp&&this.chart.fn.Rs(Nu.Jv),this.Xp=!0,(t=Array.isArray(t)?t:[t])?(this.Yh.aa(t.slice()),this.op.Sn(),this):this},e.prototype.clear=function(){return this.Yh.zt(),this},e.prototype.getPointAmount=function(){var t=this.Yh;return t.fa()+t.ca()},e.prototype.kp=function(){return this.Ip&&this.getPointAmount()>0&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.op.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{point3D:this.$p})},e}(cc),bc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;a.Mn="Point Series 3D",a.pv=function(){return Ze(a.$p.getFillStyle())};var u=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:a.chart.getSeries().length;a.$p=Ke(r.pointSeries3DPointStyle,u);var l=Sc({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return a.Yh=a.op.ig(l).Vp(a.jp).tg(a.$p).cn(a.getHighlight()),a.vn(a.Yh),a}return xc(e,t),e.prototype.setPointStyle=function(t){this.$p="function"==typeof t?t(this.$p):t;var e=this.$p;return this.Yh.tg(e),this.op.Sn(),this},e.prototype.getPointStyle=function(){return this.$p},e}(Ac),Mc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;a.Mn="Point Cloud Series 3D",a.pv=function(){return Ze(a.$p.getFillStyle())};var u=a.chart.getSeries().length;a.$p=Ke(r.pointCloudSeries3DPointStyle,u);var l=Sc({individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1},s);return a.Yh=a.op.ig(l).tg(a.$p).cn(a.getHighlight()),a.vn(a.Yh),a}return xc(e,t),e.prototype.setPointStyle=function(t){this.$p="function"==typeof t?t(this.$p):t;var e=this.$p;return this.Yh.tg(e),this.op.Sn(),this},e.prototype.getPointStyle=function(){return this.$p},e}(Ac),wc={Triangulated:bc,Pixelated:Mc},Cc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Pc=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return c.ng=[],c.rg=0,c.eg=function(t){var e=c.ng.indexOf(t);e>=0&&(c.ng.splice(e,1),c.D.emit("seriesDispose",c,t))},c.onSeriesBackgroundMouseEnter=function(t){return c.D.on("mouseEnterSeriesBackground",t)},c.onSeriesBackgroundMouseLeave=function(t){return c.D.on("mouseLeaveSeriesBackground",t)},c.onSeriesBackgroundMouseMove=function(t){return c.D.on("mouseMoveSeriesBackground",t)},c.onSeriesBackgroundMouseDown=function(t){return c.D.on("mouseDownSeriesBackground",t)},c.onSeriesBackgroundMouseUp=function(t){return c.D.on("mouseUpSeriesBackground",t)},c.onSeriesBackgroundMouseClick=function(t){return c.D.on("mouseClickSeriesBackground",t)},c.onSeriesBackgroundMouseDoubleClick=function(t){return c.D.on("mouseDoubleClickSeriesBackground",t)},c.onSeriesBackgroundMouseDragStart=function(t){return c.D.on("mouseDragStartSeriesBackground",t)},c.onSeriesBackgroundMouseDrag=function(t){return c.D.on("mouseDragSeriesBackground",t)},c.onSeriesBackgroundMouseDragStop=function(t){return c.D.on("mouseDragStopSeriesBackground",t)},c.onSeriesBackgroundMouseWheel=function(t){return c.D.on("mouseWheelSeriesBackground",t)},c.onSeriesBackgroundTouchStart=function(t){return c.D.on("touchStartSeriesBackground",t)},c.onSeriesBackgroundTouchMove=function(t){return c.D.on("touchMoveSeriesBackground",t)},c.onSeriesBackgroundTouchEnd=function(t){return c.D.on("touchEndSeriesBackground",t)},c.offSeriesBackgroundMouseEnter=function(t){return c.D.off(t,"mouseEnterSeriesBackground")},c.offSeriesBackgroundMouseLeave=function(t){return c.D.off(t,"mouseLeaveSeriesBackground")},c.offSeriesBackgroundMouseMove=function(t){return c.D.off(t,"mouseMoveSeriesBackground")},c.offSeriesBackgroundMouseDown=function(t){return c.D.off(t,"mouseDownSeriesBackground")},c.offSeriesBackgroundMouseUp=function(t){return c.D.off(t,"mouseUpSeriesBackground")},c.offSeriesBackgroundMouseClick=function(t){return c.D.off(t,"mouseClickSeriesBackground")},c.offSeriesBackgroundMouseDoubleClick=function(t){return c.D.off(t,"mouseDoubleClickSeriesBackground")},c.offSeriesBackgroundMouseDragStart=function(t){return c.D.off(t,"mouseDragStartSeriesBackground")},c.offSeriesBackgroundMouseDrag=function(t){return c.D.off(t,"mouseDragSeriesBackground")},c.offSeriesBackgroundMouseDragStop=function(t){return c.D.off(t,"mouseDragStopSeriesBackground")},c.offSeriesBackgroundMouseWheel=function(t){return c.D.off(t,"mouseWheelSeriesBackground")},c.offSeriesBackgroundTouchStart=function(t){return c.D.off(t,"touchStartSeriesBackground")},c.offSeriesBackgroundTouchMove=function(t){return c.D.off(t,"touchMoveSeriesBackground")},c.offSeriesBackgroundTouchEnd=function(t){return c.D.off(t,"touchEndSeriesBackground")},c.og=c.rn.JA(),c}return Cc(e,t),e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.ng.forEach((function(t){return t.setAnimationHighlight(e)})),this},e.prototype.sg=function(t,e){var i=this;this.og.dn([e]),t.setMouseMoveEventHandler((function(t,e){i.D.emit("mouseMoveSeriesBackground",i,e)})).setMouseEnterEventHandler((function(t,e){i.D.emit("mouseEnterSeriesBackground",i,e)})).setMouseLeaveEventHandler((function(t,e){i.D.emit("mouseLeaveSeriesBackground",i,e)})).setMouseDownEventHandler((function(t,e){return i.D.emit("mouseDownSeriesBackground",i,e)})).setMouseUpEventHandler((function(t,e){return i.D.emit("mouseUpSeriesBackground",i,e)})).setMouseClickEventHandler((function(t,e){return i.D.emit("mouseClickSeriesBackground",i,e)})).setMouseDoubleClickEventHandler((function(t,e){return i.D.emit("mouseDoubleClickSeriesBackground",i,e)})).setMouseWheelEventHandler((function(t,e){return i.D.emit("mouseWheelSeriesBackground",i,e)})).setMouseDragStartEventHandler((function(t,e,n){return i.D.emit("mouseDragStartSeriesBackground",i,e,n)})).setMouseDragEventHandler((function(t,e,n,r,o){return i.D.emit("mouseDragSeriesBackground",i,e,n,r,o)})).setMouseDragStopEventHandler((function(t,e,n,r){return i.D.emit("mouseDragStopSeriesBackground",i,e,n,r)})).setTouchStartEventHandler((function(t,e){i.D.emit("touchStartSeriesBackground",i,e)})).setTouchMoveEventHandler((function(t,e){i.D.emit("touchMoveSeriesBackground",i,e)})).setTouchEndEventHandler((function(t,e){i.D.emit("touchEndSeriesBackground",i,e)}))},e.prototype.setSeriesBackgroundFillStyle=function(t){return this.ug.Br(t),this.fn.Sn(),this},e.prototype.getSeriesBackgroundFillStyle=function(){return this.ug.We()},e.prototype.setSeriesBackgroundStrokeStyle=function(t){return this.hg.Dr(t),this.fn.Sn(),this},e.prototype.getSeriesBackgroundStrokeStyle=function(){return this.hg.fu()},e.prototype.setSeriesBackgroundEffect=function(t){return this.og.gn(t),this.fn.Sn(),this},e.prototype.getSeriesBackgroundEffect=function(){return this.og.xn()},e.prototype.ag=function(t){this.ng.push(t),void 0!==this.cg&&t.setHighlightOnHover(this.cg),this.D.emit("seriesAdded",this,t)},e.prototype.Tv=function(){return this.ng},e.prototype.setSeriesHighlightOnHover=function(t){return this.cg=t,this.ng.forEach((function(e){return e.setHighlightOnHover(t)})),this},e.prototype.dispose=function(){return this.ng.slice().forEach(ae),t.prototype.dispose.call(this)},e.prototype.fm=function(t){return this.D.on("seriesAdded",t)},e.prototype.lg=function(t){return this.D.off(t)},e.prototype.vg=function(t){return this.D.on("seriesDispose",t)},e.prototype.dg=function(t){return this.D.off(t)},e}(Gl),Ec=xi.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081}),Tc=function(){function t(t,e,i,n){this.Ag=!0,this.yg=!0,this.mg=2*-Math.PI/2160,this.bg=2*Math.PI/2160,this.pg=.1,this.gg=1*Math.PI/180,this.Sg=t,this.xg=e,this.wg=i,this.bp=n}return t.prototype.getDefaultCameraConfiguration=function(t){var e={direction:Ec,location:xi.multiply(Ec,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:e.direction,cameraLocation:e.location})||e},t.prototype.applyCameraInteractions=function(t,e){var i=this,n={direction:t.cameraDirection,location:t.cameraLocation};return e.forEach((function(t){"rotate"===t.type?n=i.Mg(n,t):"wheel-zoom"===t.type?n=i.Cg(n,t):"rotate+zoom"===t.type?n=i._g(n,t):"fixed-rotate"===t.type?n=i.Tg(n,t):"move"===t.type&&(n=i.kg(n,t))})),this.Ag?n=this.Og(t.boundingBox,n):this.yg&&(n=this.Fg(t.boundingBox,n)),n},t.prototype.Mg=function(t,e){var i=e.rotation,n=t.location,r=xi.multiply(xi.normalize(t.location),-1),o=this.Ig(r),s=o.Right,a=o.Up,u=n,l=this.jg(r),h=i.x*this.mg*l;u=xi.rotateAroundAxis(u,a,h);var c=(i.y>0?1:-1)*Math.min(Math.abs(i.y)*this.bg,l-this.gg);return 0!==c&&(u=xi.rotateAroundAxis(u,s,c)),{location:u,direction:xi.multiply(xi.normalize(u),-1)}},t.prototype.Cg=function(t,e){var i=e.deltaY;this.Ag&&this.Dg(!1);var n=t.location,r=xi.multiply(xi.normalize(n),-1),o=i*this.pg,s=xi.length(n)*-o;return{direction:r,location:xi.addVec(n,xi.multiply(r,s))}},t.prototype._g=function(t,e){var i=e.rotation,n=e.cameraDistance;this.Ag&&this.Dg(!1);var r=this.Mg(t,{type:"rotate",rotation:i}).location,o=xi.multiply(xi.normalize(r),-1),s=xi.multiply(o,-n);return{direction:xi.multiply(xi.normalize(s),-1),location:s}},t.prototype.Tg=function(t,e){this.Ag&&this.Dg(!1);var i=e.rotation,n=t.location,r=t.direction,o=this.Ig(r),s=o.Right,a=o.Up,u=i.x*this.mg,l=xi.normalize(xi.rotateAroundAxis(r,a,u)),h=i.y*this.bg;return{location:n,direction:l=xi.normalize(xi.rotateAroundAxis(l,s,h))}},t.prototype.kg=function(t,e){this.Ag&&this.Dg(!1),this.yg=!1;var i=e.amountRight,n=e.amountForward,r=t.location,o=t.direction,s=this.Ig(o).Right;return{location:xi.addVec(r,xi.multiply(o,.01*n),xi.multiply(s,.01*i)),direction:o}},t.prototype.boundingBoxChanged=function(t){var e={location:t.cameraLocation,direction:xi.multiply(xi.normalize(t.cameraLocation),-1)};return this.Ag?this.Og(t.boundingBox,e):this.Fg(t.boundingBox,e)},t.prototype.cameraLocationChanged=function(t){var e={location:t.cameraLocation,direction:xi.multiply(xi.normalize(t.cameraLocation),-1)};return this.Ag?this.Og(t.boundingBox,e):this.Fg(t.boundingBox,e)},t.prototype.viewportChanged=function(t){var e={location:t.cameraLocation,direction:xi.multiply(xi.normalize(t.cameraLocation),-1)};if(this.Ag)return this.Og(t.boundingBox,e)},t.prototype.Og=function(t,e,i){var n=e;i=void 0!==i?i:0,n=this.Bg(t,n,100,20,1,i,5);var r=this.jg(n.direction);return this.Eg(n,this.Pg(t,n,100,1),r)},t.prototype.Bg=function(t,e,i,n,r,o,s){var a=this;return kc(o,s,(function(t){return{direction:e.direction,location:xi.multiply(e.direction,-t)}}),(function(e){return a.Lg(t,e)}),i,r,"linear",n)},t.prototype.Pg=function(t,e,i,n){var r=this,o=this.Ig(e.direction),s=o.Right,a=o.Left,u=o.Up,l=o.Down,h=this.zg(t,!1,e),c=e,f=n,p=.1;return Math.abs(h.bottom-h.top)>f&&(c=h.bottom<h.top?Dc(0,p,(function(t){return{location:c.location,direction:xi.normalize(xi.lerp(c.direction,l,t))}}),(function(e){return r.Vg(t,e)}),0,f,!0,i):Dc(0,p,(function(t){return{location:c.location,direction:xi.normalize(xi.lerp(c.direction,u,t))}}),(function(e){return r.Vg(t,e)}),0,f,!0,i)),Math.abs(h.left-h.right)>f&&(c=h.left<h.right?Dc(0,p,(function(t){return{location:c.location,direction:xi.normalize(xi.lerp(c.direction,a,t))}}),(function(e){return r.Ng(t,e)}),0,f,!0,i):Dc(0,p,(function(t){return{location:c.location,direction:xi.normalize(xi.lerp(c.direction,s,t))}}),(function(e){return r.Ng(t,e)}),0,f,!0,i)),c},t.prototype.Lg=function(t,e){var i=this.zg(t,!0,e);return Math.min(i.left+i.right,i.top+i.bottom)},t.prototype.Ng=function(t,e){var i=this.zg(t,!1,e);return Math.abs(i.left-i.right)},t.prototype.Vg=function(t,e){var i=this.zg(t,!1,e);return Math.abs(i.top-i.bottom)},t.prototype.zg=function(t,e,i){var n=this,r=Li(this.Rg(t,e,i).map((function(t){return Pt(t,n.Sg,n.xg)})));return{left:r.min.x,right:this.xg.x.getInnerEnd()-r.max.x,top:this.xg.y.getInnerEnd()-r.max.y,bottom:r.min.y}},t.prototype.Rg=function(t,e,i){var n=this,r=this.wg,o=m(r.x.getInnerStart(),r.y.getInnerStart(),r.z.getInnerStart()),s=m(r.x.getInnerEnd(),r.y.getInnerEnd(),r.z.getInnerEnd()),a=[],u=e?16:4,l=(o.x+s.x)/2,h=(o.z+s.z)/2,c=Math.sqrt(2)*(s.x-l),f=Math.sqrt(2)*(s.z-h);return[o.y,s.y].forEach((function(t){for(var e=0;e<u;e+=1){var i=Math.PI/4+2*Math.PI*e/u,n=l+Math.cos(i)*c,r=h+Math.sin(i)*f;a.push({x:n,y:t,z:r})}})),a.map((function(t){return n.bp(t,i)})).filter((function(t){return void 0!==t}))},t.prototype.Fg=function(t,e){var i=xi.length(e.location),n=this.Gg(t);return i<n?{direction:e.direction,location:xi.multiply(e.direction,-n)}:e},t.prototype.Gg=function(t){return.8*Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)+Math.pow(t.z,2))},t.prototype.Ig=function(t){var e=m(0,1,0),i=xi.normalize(xi.cross(e,xi.multiply(t,-1))),n=xi.cross(i,t);return n.y=Math.abs(n.y),{Right:i,Up:n=xi.normalize(n),Down:xi.multiply(n,-1),Left:xi.multiply(i,-1)}},t.prototype.jg=function(t){var e={x:0,y:1,z:0},i=xi.angle(t,e),n=xi.angle(t,xi.multiply(e,-1));return Math.min(i,n)},t.prototype.Eg=function(t,e,i){return{location:xi.lerp(t.location,e.location,i),direction:xi.normalize(xi.lerp(t.direction,e.direction,i))}},t.prototype.Dg=function(t){return this.Ag=t,this},t.prototype.Ug=function(){return this.Ag},t}(),kc=function(t,e,i,n,r,o,s,a){var u,l=0,h=(e+t)/2;do{var c=i(h);if(u={value:h,result:c,score:n(c)},Math.abs(u.score-r)<=o)break;var f=u.score>r;f&&"linear"===s||!f&&"reversed"===s?(h=(u.value+t)/2,e=u.value):(h=(u.value+e)/2,t=u.value),l+=1}while(l<a);return u.result},Dc=function(t,e,i,n,r,o,s,a){var u,l=0,h=t;do{var c=i(h),f=n(c);if(void 0===u||Math.abs(f-r)<Math.abs(u.score-r)){if(u={value:h,result:c,score:n(c)},Math.abs(u.score-r)<=o)break}else if(s)break;l+=1,h+=1/(a-1)*(e-t)}while(l<a);return u.result},Fc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_c=function(){return(_c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ic=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,o,s)||this;a.Mn="Surface Grid Series 3D",a.Wg={},a.Xp=!1,a.pv=function(){return Ze(a.Or)},a.Op=ia;var u=void 0!==(null==r?void 0:r.automaticColorIndex)?r.automaticColorIndex:a.chart.getSeries().length;a.Or=Ke(a.$i.surfaceGridSeries3DFillStyle,u),a.Ff=Ke(a.$i.surfaceGridSeries3DWireframeStyle,u);var l={heatmapDataType:"intensity",dataOrder:r.dataOrder||"columns",columns:r.columns,rows:r.rows};return a.Ws=l,a.Yh=a.op.Yg(l).Br(a.Or).If(a.Ff).zp(a.Op).cn(a.getHighlight()),a.vn(a.Yh),a.setHighlightOnHover(!1),a}return Fc(e,t),e.prototype.Ji=function(t,e){var i=null==t?void 0:t.dataPoint;if(i){var n=this.chart.translateCoordinate(e,this.chart.coordsRelative);return _c(_c({cursorPosition:{resultTable:n,resultTableScale:this.chart.GA,axisLocation:i}},i),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:st(this.Or)?this.Or.lut:void 0})}},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e.prototype.Xg=function(){var t,e=this.Wg.start||{x:0,z:0};t=this.Wg.end?{x:(this.Wg.end.x-e.x)/this.Ws.columns,z:(this.Wg.end.z-e.z)/this.Ws.rows}:this.Wg.step?this.Wg.step:{x:1,z:1},this.Yh.Hg(e,t),this.chart.fn.Sn()},e.prototype.setStart=function(t){return this.Wg.start=t,this.Xg(),this},e.prototype.getStart=function(){return this.Yh.Zg().start},e.prototype.setStep=function(t){return this.Wg.step=t,this.Xg(),this},e.prototype.getStep=function(){return this.Yh.Zg().step},e.prototype.setEnd=function(t){return this.Wg.end=t,this.Xg(),this},e.prototype.getEnd=function(){return this.Yh.Zg().end},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Yh.Br(this.Or),this.op.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setWireframeStyle=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this.Yh.If(this.Ff),this.op.Sn(),this},e.prototype.getWireframeStyle=function(){return this.Yh.jf()},e.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.Yh.Qg(t),this.op.Sn(),this},e.prototype.getIntensityInterpolation=function(){return this.Yh.Kg()},e.prototype.invalidateIntensityValues=function(t){if(this.Xp&&this.chart.fn.Rs(Nu.Jv),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var e={x:t.length,y:t[0].length,columns:"columns"===this.Ws.dataOrder?t.length:t[0].length,rows:"rows"===this.Ws.dataOrder?t.length:t[0].length},i="columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows,n="columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns;if(e.x>i||e.y>n){if(!0===this.chart.Yd.Xs){var r="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<i;s+=1)o[s]=t[s].slice(0,n);t=o}this.Yh.Jg({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Ws.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Ws.dataOrder?t.values.length:t.values[0].length};var a="columns"===this.Ws.dataOrder?t.iColumn:t.iRow,u=a+e.primary-1,l="columns"===this.Ws.dataOrder?t.iRow:t.iColumn,h=l+e.secondary-1,c=("columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows)-1,f=("columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns)-1;if(a<0||l<0||u>c||h>f){!0===this.chart.Yd.Xs&&(r="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),ne.console.warn(r));var p=Math.max(-a,0),d=Math.max(-l,0),y=Math.max(u-c,0),v=Math.max(h-f,0),g=e.primary-(p+y);if(o=[],0===d&&0===v)for(s=0;s<g;s+=1)o[s]=t.values[p+s];else for(s=0;s<g;s+=1)o[s]=t.values[p+s].slice(d,0===v?void 0:-v);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},a=Math.max(a,0),l=Math.max(l,0)}this.Yh.Jg({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:l,values:t.values})}return this.op.Sn(),this.Xp=!0,this},e.prototype.invalidateHeightMap=function(t){if(this.Xp&&this.chart.fn.Rs(Nu.Jv),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var e={x:t.length,y:t[0].length,columns:"columns"===this.Ws.dataOrder?t.length:t[0].length,rows:"rows"===this.Ws.dataOrder?t.length:t[0].length},i="columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows,n="columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns;if(e.x>i||e.y>n){if(!0===this.chart.Yd.Xs){var r="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<i;s+=1)o[s]=t[s].slice(0,n);t=o}this.Yh.qg({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Ws.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Ws.dataOrder?t.values.length:t.values[0].length};var a="columns"===this.Ws.dataOrder?t.iColumn:t.iRow,u=a+e.primary-1,l="columns"===this.Ws.dataOrder?t.iRow:t.iColumn,h=l+e.secondary-1,c=("columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows)-1,f=("columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns)-1;if(a<0||l<0||u>c||h>f){!0===this.chart.Yd.Xs&&(r="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance."),ne.console.warn(r));var p=Math.max(-a,0),d=Math.max(-l,0),y=Math.max(u-c,0),v=Math.max(h-f,0),g=e.primary-(p+y);if(o=[],0===d&&0===v)for(s=0;s<g;s+=1)o[s]=t.values[p+s];else for(s=0;s<g;s+=1)o[s]=t.values[p+s].slice(d,0===v?void 0:-v);if(0===o.length||0===o[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:o},a=Math.max(a,0),l=Math.max(l,0)}this.Yh.qg({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:l,values:t.values})}return this.op.Sn(),this.Xp=!0,this},e.prototype.setCullMode=function(t){return this.Yh.$g("boolean"==typeof t?t?"cull-back":"disabled":t),this},e.prototype.getCullMode=function(){return this.Yh.tS()},e.prototype.Np=function(){},e.prototype.Pr=function(){},e.prototype.Xb=function(){},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.op.Sn()},e}(cc),Oc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bc=function(){return(Bc=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},zc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,o,s)||this;a.Mn="Surface Grid Series 3D",a.Wg={},a.pv=function(){return Ze(a.Or)},a.chart.fn.Rs(Nu.Jv),a.Op=ia;var u=void 0!==(null==r?void 0:r.automaticColorIndex)?r.automaticColorIndex:a.chart.getSeries().length;a.Or=Ke(a.$i.surfaceScrollingGridSeries3DFillStyle,u),a.Ff=Ke(a.$i.surfaceScrollingGridSeries3DWireframeStyle,u);var l={heatmapDataType:"intensity",scrollDimension:r.scrollDimension||"columns",columns:r.columns,rows:r.rows};return a.Ws=l,a.Yh=a.op.iS(l).Br(a.Or).If(a.Ff).zp(a.Op).cn(a.getHighlight()),a.vn(a.Yh),a.setHighlightOnHover(!1),a}return Oc(e,t),e.prototype.Ji=function(t,e){var i=null==t?void 0:t.dataPoint;if(i){var n=this.chart.translateCoordinate(e,this.chart.coordsRelative);return Bc(Bc({cursorPosition:{resultTable:n,resultTableScale:this.chart.GA,axisLocation:i}},i),{series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:st(this.Or)?this.Or.lut:void 0})}},e.prototype.Xg=function(){var t,e=this.Wg.start||{x:0,z:0};t=this.Wg.step?this.Wg.step:{x:1,z:1},this.Yh.Hg(e,t),this.chart.fn.Sn()},e.prototype.setStart=function(t){return this.Wg.start=t,this.Xg(),this},e.prototype.getStart=function(){return this.Yh.Zg().start},e.prototype.setStep=function(t){return this.Wg.step=t,this.Xg(),this},e.prototype.getStep=function(){return this.Yh.Zg().step},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Yh.Br(this.Or),this.op.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setWireframeStyle=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this.Yh.If(this.Ff),this.op.Sn(),this},e.prototype.getWireframeStyle=function(){return this.Yh.jf()},e.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.Yh.Qg(t),this.op.Sn(),this},e.prototype.getIntensityInterpolation=function(){return this.Yh.Kg()},e.prototype.clear=function(){return this.Yh.zt(),this.op.Sn(),this},e.prototype.addValues=function(t){if(!t)return this;var e=t.yValues,i=t.intensityValues;if(!e&&!i)return this;if(e&&0===e.length&&(e=void 0),i&&0===i.length&&(i=void 0),e){var n=e[0].length;if(0+n-1>(a="columns"===this.Ws.scrollDimension?this.Ws.rows:this.Ws.columns)-1){if(!0===this.chart.Yd.Xs){var r="SurfaceScrollingGridSeries3D.addValues input yValues overflow.\nGrid was created with ".concat(a," ").concat("columns"===this.Ws.scrollDimension?"rows":"columns",", input yValues have ").concat(n,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s].slice(0,a+1);e=o}}if(i){var a,u=i[0].length;if(0+u-1>(a="columns"===this.Ws.scrollDimension?this.Ws.rows:this.Ws.columns)-1){for(!0===this.chart.Yd.Xs&&(r="SurfaceScrollingGridSeries3D.addValues intensityValues overflow.\nGrid was created with ".concat(a," ").concat("columns"===this.Ws.scrollDimension?"rows":"columns",", input intensityValues have ").concat(u,".\nExcess data will be automatically clipped. This can result in sub-optimal performance."),ne.console.warn(r)),o=[],s=0;s<i.length;s+=1)o[s]=i[s].slice(0,a+1);i=o}}if(e&&i){var l=e.length,h=i.length;l!==h&&(!0===this.chart.Yd.Xs&&(r="SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.\nyValues: ".concat(l,"\nintensityValues: ").concat(h,"\nData will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance."),ne.console.warn(r)),l>h?e=e.slice(0,h):i=i.slice(0,l))}var c=e?e.length:null==i?void 0:i.length,f=e?e[0].length:null==i?void 0:i[0].length;return this.Yh.nS({startPrimary:0,startSecondary:0,lengthPrimary:c,lengthSecondary:f,heightMapValues:e,intensityValues:i}),this.op.Sn(),this},e.prototype.setCullMode=function(t){return this.Yh.$g("boolean"==typeof t?t?"cull-back":"disabled":t),this},e.prototype.getCullMode=function(){return this.Yh.tS()},e.prototype.Np=function(){},e.prototype.Pr=function(){},e.prototype.Xb=function(){},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.op.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e}(cc),Lc=function(t){return!!(t&&"object"===a(t)&&"id"in t&&"chart"in t&&t.chart instanceof Hc)},Rc=function(t){return!!(t&&"object"===a(t)&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y&&"z"in t&&"number"==typeof t.z)},Vc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nc=function(){return(Nc=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Uc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,s)||this;a.Mn="Mesh Model 3D",a.rS=new Float32Array,a.vt={x:1,y:1,z:1},a.eS={x:0,y:0,z:0},a.oS={x:0,y:0,z:0},a.sS={x:0,y:0,z:0},a.uS={x:0,y:0,z:0},a.Qh=wi,a.pv=function(){return Ze(a.getFillStyle())};var u=void 0!==(null==o?void 0:o.automaticColorIndex)?o.automaticColorIndex:a.chart.getSeries().length;return a.Yh=a.op.hS().Vp(a.jp).Br(Ke(a.$i.meshModel3DFillStyle||a.$i.pointSeriesFillStyle,u)).cn(a.getHighlight()),a.vn(a.Yh),a}return Vc(e,t),e.prototype.Ji=function(t,e){var i=this,n=this.getFillStyle();return yi({series:this,axisX:this.chart.getDefaultAxisX(),axisY:this.chart.getDefaultAxisY(),axisZ:this.chart.getDefaultAxisZ(),lut:st(n)?n.lut:void 0},{cursorPosition:0,index:0,x:0,y:0,z:0,value:0},(function(){var r=i.Yh.aS(t,e);if(r){var o=i.chart.translateCoordinate(e,i.chart.coordsRelative);return Nc(Nc({cursorPosition:{resultTable:o,resultTableScale:i.chart.GA,axisLocation:r.coordAxis}},r.coordAxis),{index:r.index,value:r.value,series:i,axisX:i.chart.getDefaultAxisX(),axisY:i.chart.getDefaultAxisY(),axisZ:i.chart.getDefaultAxisZ(),lut:st(n)?n.lut:void 0})}}))},e.prototype.setModelGeometry=function(t){for(var e=t.indices,i=t.vertices,n=t.normals,r=bi,o=Ai,s=bi,a=Ai,u=bi,l=Ai,h=0;h<i.length;h+=3){var c=i[h],f=i[h+1],p=i[h+2];r=Math.max(r,c),o=Math.min(o,c),s=Math.max(s,f),a=Math.min(a,f),u=Math.max(u,p),l=Math.min(l,p)}for(this.Qh={min:{x:o,y:a,z:l},max:{x:r,y:s,z:u}},h=0;h<i.length;h+=3)i[h]-=this.Qh.min.x,i[h+1]-=this.Qh.min.y,i[h+2]-=this.Qh.min.z;return this.uS={x:this.Qh.max.x-this.Qh.min.x,y:this.Qh.max.y-this.Qh.min.y,z:this.Qh.max.z-this.Qh.min.z},this.rS=i instanceof Float32Array?i:new Float32Array(i),this.checkedNormals=n&&!Number.isNaN(n[0])?n instanceof Float32Array?n:new Float32Array(n):void 0,this.checkedNormals||this.setColorShadingStyle(ia),this.Yh.fS({vertices:this.rS,normals:this.checkedNormals,indices:e instanceof Uint16Array?e:new Uint16Array(e),modelSize:this.uS}),this.chart.fn.Sn(),this},e.prototype.setVertexValues=function(t){return this.Yh.cS(t),this.chart.fn.Sn(),this},e.prototype.setScale=function(t){var e={x:"number"==typeof t?t:(null==t?void 0:t.x)||1,y:"number"==typeof t?t:(null==t?void 0:t.y)||1,z:"number"==typeof t?t:(null==t?void 0:t.z)||1};return this.vt=e,this.Yh.lS(e),this.chart.fn.Sn(),this},e.prototype.getScale=function(){return this.vt},e.prototype.setModelLocation=function(t){return this.oS=t,this.Yh.vS(t),this.chart.fn.Sn(),this},e.prototype.getModelLocation=function(){return this.oS},e.prototype.setModelAlignment=function(t){return this.eS=t,this.Yh.dS(t),this.chart.fn.Sn(),this},e.prototype.getModelAlignment=function(){return this.eS},e.prototype.setModelRotation=function(t){var e={x:en(t.x),y:en(t.y),z:en(t.z)};return this.sS=e,this.Yh.AS(this.sS),this.chart.fn.Sn(),this},e.prototype.getModelRotation=function(){return this.sS},e.prototype.setBackfaceCullingMode=function(t){return this.Yh.yS(t),this.chart.fn.Sn(),this},e.prototype.getBackfaceCullingMode=function(){return this.Yh.mS()},e.prototype.setFillStyle=function(t){return this.Yh.Br(t),this.chart.fn.Sn(),this},e.prototype.getFillStyle=function(){return this.Yh.We()},e.prototype.setColorShadingStyle=function(e){return this.checkedNormals||e!==oa?t.prototype.setColorShadingStyle.call(this,e):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),t.prototype.setColorShadingStyle.call(this,new sa.Simple))},e.prototype.kp=function(){return!1},e.prototype.zr=function(t,e){t.cn(e),this.chart.fn.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.getFillStyle()})},e}(cc),Yc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gc=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,s)||this;return u.chart=a,u.bS=u.chart.getDefaultAxisX().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleX).setTickStyle(s.cursor3DTickStrokeStyleX).setTextFillStyle(s.cursor3DTickLabelFillStyleX).setTextFont(s.cursor3DTickLabelFontX).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleX).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleX).setPadding(s.cursor3DTickLabelPaddingX),u.pS=u.chart.getDefaultAxisY().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleY).setTickStyle(s.cursor3DTickStrokeStyleY).setTextFillStyle(s.cursor3DTickLabelFillStyleY).setTextFont(s.cursor3DTickLabelFontY).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleY).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleY).setPadding(s.cursor3DTickLabelPaddingY),u.gS=u.chart.getDefaultAxisZ().addCustomTick().setVisible(!1).setGridStrokeStyle(s.cursor3DGridStrokeStyleZ).setTickStyle(s.cursor3DTickStrokeStyleZ).setTextFillStyle(s.cursor3DTickLabelFillStyleZ).setTextFont(s.cursor3DTickLabelFontZ).setBackgroundFillStyle(s.cursor3DTickLabelBackgroundFillStyleZ).setBackgroundStrokeStyle(s.cursor3DTickLabelBackgroundStrokeStyleZ).setPadding(s.cursor3DTickLabelPaddingZ),u}return Yc(e,t),e.prototype.setTickX=function(t){return t(this.bS),this.chart.fn.Sn(),this},e.prototype.setTickY=function(t){return t(this.pS),this.chart.fn.Sn(),this},e.prototype.setTickZ=function(t){return t(this.gS),this.chart.fn.Sn(),this},e.prototype.setTicks=function(t){return t(this.bS),t(this.pS),t(this.gS),this.chart.fn.Sn(),this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.bS.dispose(),this.pS.dispose(),this.gS.dispose(),this},e.prototype.Pr=function(){return this.bS.setVisible(this.Zi&&this.Ey),this.pS.setVisible(this.Zi&&this.Ey),this.gS.setVisible(this.Zi&&this.Ey),t.prototype.Pr.call(this)},e.prototype.setPosition=function(t){this.Ey=!0;var e=this.renderingScale,i=Bl(t.resultTableScale,e),n=i===this.scale?t.resultTable:Pt(t.resultTable,i,this.scale);this.pm.setPosition(n),this.bS.setValue(t.axisLocation.x),this.pS.setValue(t.axisLocation.y),this.gS.setValue(t.axisLocation.z);var r=this.Im[0];if(!r){var o=new Na(this.In,this.renderingScale,this.scale,ue,this.$i).setMouseInteractions(!1).setFillStyle(this.$i.cursorPointMarkerFillStyle).setSize(this.$i.cursorPointMarkerSize).setShape(this.$i.cursorPointMarkerShape);r={pointMarker:o,targetVisible:!0},this.Im.push(r),this.Bm.forEach((function(t){return t(o)}))}return r.pointMarker.setPosition(n),this.chart.fn.Sn(),this},e}(uh),jc=function t(e,i){var n=this;this.Vm=[],this.Nm=function(t,e){return n.Vm.forEach((function(i){return i(t,e)})),t},this.addStyler=function(e){return new t(n.Pm,n.Vm.map((function(t){return t})).concat(e))},this.setResultTableBackground=function(e){return new t(e,n.Vm.map((function(t){return t})))},this.Rm=function(t,e,i,r,o,s){return n.Nm(new Gc(t,e,i,r,n.Pm,o,s),o)},this.Pm=e,this.Vm=i},Wc=new jc(za,[function(t,e){lh(t)}]),Xc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hc=function(t){function e(e,i,n,r,o,s,a){var u,l=t.call(this,e,i,n,i.nm("chart3D bg",0),r,i.fn.$i.chart3DBackgroundFillStyle,i.fn.$i.chart3DBackgroundStrokeStyle,i.fn.$i.chart3DTitleFont,i.fn.$i.chart3DTitleFillStyle,s)||this;l.SS=1,l.xS=[],l.wS=2,l.MS=!0,l.CS=!0,l._S=!0,l.TS=0,l.coordsAxis={id:"axes",chart:l},l.coordsWorld={id:"world",chart:l},l.ts=[],l.vs=function(){var t=l.op.kS();l.FS.OS(t),l.IS.OS(t);var e=l.jS.viewportChanged(l.DS());e&&l.BS(e),l.fn.Sn()},l.ES=!1,l.Bp=function(t,e,i,n,r){if(l.ES=!0,l._S){var o=r;l.xS.push({type:"rotate",rotation:o}),l.fn.Sn(),Ie(e)}},l.Ep=function(t,e,i,n,r){l.ES=!1},l.Dp=function(t,e){if(l.CS){if(l.MS)Math.sign(l.TS)!==Math.sign(e.deltaY)?l.TS=Je(e):l.TS+=Je(e);else{var i=Je(e);l.xS.push({type:"wheel-zoom",deltaY:i})}l.fn.Sn(),Ie(e)}},l.fn.Rs(Nu.Uv),l.pe.vo("Chart3D"),l.PS=n.d3(),l.PS.x.q(-1,1),l.PS.y.q(-1,1),l.PS.z.q(-1,1),l.op=i.LS("chart3D layer3D",0,l.PS),l.FS=i.zS("chart3D series bg",0),l.IS=i.bb("chart3D axis ui",1),l.VS={x:new ec(l,(u=function(){return l.ng},sc(sc({},oc(u,(function(t){return t.getXMin()}),(function(t){return t.getXMax()}),(function(t){return t.Oo().x}))),{tp:function(t){return t.x},Sp:function(t,e){return{x:t.x,y:e.y,z:e.z}},Ov:m(0,-1,0),xp:function(t){var e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:m(0,e.y,e.z),gridlinePositionB:m(0,e.y,-e.z),gridlinePositionC:m(0,-e.y,-e.z)}},Cp:function(){return!0},_p:function(){return!1},gp:function(){return!1}})),l.PS.x,l.$i,l.op,l.IS,l.GA,!1,l.rn),y:new ec(l,ac((function(){return l.ng})),l.PS.y,l.$i,l.op,l.IS,l.GA,!1,l.rn),z:new ec(l,uc((function(){return l.ng})),l.PS.z,l.$i,l.op,l.IS,l.GA,!1,l.rn)},l.NS=l.op.Ib([Lh.InternalUI]).setMouseInteractions(!1),l.setBoundingBoxStrokeStyle(l.$i.chart3DBoundingBoxStrokeStyle),l.ug=l.FS.Bc(l.fn.vt,cs.Simple).Br(l.$i.chart3DSeriesBackgroundFillStyle).Dr(gt).setMouseInteractions(!0),l.hg=l.FS.Bc(l.fn.vt,cs.Simple).Br(J).Dr(l.$i.chart3DSeriesBackgroundStrokeStyle).setMouseInteractions(!1),t.prototype.sg.call(l,l.ug,l.hg),l.RS({x:1,y:1,z:1},!0),l.jS=new Tc(l.fn.vt,l.GA,l.PS,(function(t,e){return e&&l.BS(e),l.op.bp(t)})),l.GS=l.jS.getDefaultCameraConfiguration(l.US(l.WS)),l.BS(l.GS);var h,c=ye(a?a.cursorBuilder:void 0,Wc),f=i.gb();return l.Sb=Kl(l,f,c.Rm(f,l.GA,l.GA,ue,l.$i,l),l,"show-pointed",Zc,(function(){return 0})),l.Pp=Gn(new jn.Pinch((function(t,e,i){h={locationOne:e,locationTwo:i,cameraLocation:l.op.getCameraLocation()}}),(function(t,e,i,n,r,o){if(l._S||l.CS){var s=Math.pow(h.locationOne.x-h.locationTwo.x,2)+Math.pow(h.locationOne.y-h.locationTwo.y,2),a=Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2),u=xi.length(h.cameraLocation),c=s/a*u,f=y((n.x+r.x)/2,(n.y+r.y)/2);l.xS.push({type:"rotate+zoom",rotation:l._S?f:{x:0,y:0},cameraDistance:l.CS?c:u}),l.fn.Sn(),Ie(o)}}),(function(t){})),new jn.Drag((function(t){}),(function(t,e,i,n,r){if(l._S){var o=n;l.xS.push({type:"rotate",rotation:o}),l.fn.Sn(),Ie(r)}}),(function(t){}))),l.onBackgroundTouchStart(l.Pp.onTouchStart),l.onBackgroundTouchMove(l.Pp.onTouchMove),l.onBackgroundTouchEnd(l.Pp.onTouchEnd),l.onSeriesBackgroundTouchStart(l.Pp.onTouchStart),l.onSeriesBackgroundTouchMove(l.Pp.onTouchMove),l.onSeriesBackgroundTouchEnd(l.Pp.onTouchEnd),l.onBackgroundMouseDrag(l.Bp),l.onBackgroundMouseDragStop(l.Ep),l.onBackgroundMouseWheel(l.Dp),l.onBackgroundMouseDown((function(t,e){Ie(e)})),l.onSeriesBackgroundMouseDrag(l.Bp),l.onSeriesBackgroundMouseDragStop(l.Ep),l.onSeriesBackgroundMouseWheel(l.Dp),l.onSeriesBackgroundMouseDown((function(t,e){Ie(e)})),l.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),l.onResize(l.vs),l.vs(),l.im(o,l.GA),l}return Xc(e,t),e.prototype.setProjection=function(t){this.op.YS(t);var e=this.jS.viewportChanged(this.DS());return e&&this.BS(e),this.fn.Sn(),this},e.prototype.getProjection=function(){return this.op.XS()},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=Wc);var e=this.Wy(),i=t.Rm(e,this.GA,this.GA,this.Vy(e),this.$i,this);return this.qy(i),i},e.prototype.addPointSeries=function(t){var e=new(t&&t.type||bc)(this,this.eg,this.op,this.$i,this.fn.rn,t);return this.ag(e),e},e.prototype.addLineSeries=function(t){var e=new vc(this,this.eg,this.op,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addPointLineSeries=function(t){var e=new mc(this,this.eg,this.op,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addSurfaceGridSeries=function(t){var e=new Ic(this,this.eg,this.op,t,this.$i,this.fn.rn);return this.ag(e),e},e.prototype.addSurfaceScrollingGridSeries=function(t){var e=new zc(this,this.eg,this.op,t,this.$i,this.fn.rn);return this.ag(e),e},e.prototype.addBoxSeries=function(t){var e=new pc(this,this.eg,this.op,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addMeshModel=function(t){var e=new Uc(this,this.eg,this.op,this.$i,t,this.fn.rn);return this.ag(e),e},e.prototype.translateCoordinate=function(t,e,i){if(Lc(e)||Lc(i)||Rc(t)){if(Lc(e)&&Lc(i)&&Rc(t)){if("axes"===e.id&&"world"===i.id)return this.op.HS(t);if("world"===e.id&&"axes"===i.id)return this.op.ZS(t);if(e.id===i.id)return t}var n;if(Lc(e)&&Tn(i)&&Rc(t))return(n=this.op.bp(t))?this.fn.Du({engineX:n.x,engineY:n.y}):{clientX:-1,clientY:-1};if(Lc(e)&&Dn(i)&&Rc(t))return(n=this.op.bp(t))?Pt(n,this.fn.vt,this.GA):{clientX:-1,clientY:-1};throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return zl(t,e,i,this.GA,this.fn)},e.prototype.getDefaultAxisX=function(){return this.VS.x},e.prototype.getDefaultAxisY=function(){return this.VS.y},e.prototype.getDefaultAxisZ=function(){return this.VS.z},Object.defineProperty(e.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axisZ",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zAxis",{get:function(){return this.getDefaultAxisZ()},enumerable:!1,configurable:!0}),e.prototype.getDefaultAxes=function(){return[this.VS.x,this.VS.y,this.VS.z]},e.prototype.setCameraLocation=function(t){var e={location:t,direction:xi.normalize(xi.multiply(t,-1))},i=this.jS.cameraLocationChanged(this.DS(e));return i&&(e=i),this.BS(e),this.fn.Sn(),this},e.prototype.getCameraLocation=function(){return this.op.getCameraLocation()},e.prototype.getCameraDirection=function(){return this.op.getCameraDirection()},e.prototype.setCameraAutomaticFittingEnabled=function(t){this.jS.Dg(t);var e=this.jS.cameraLocationChanged(this.DS());return e&&this.BS(e),this},e.prototype.getCameraAutomaticFittingEnabled=function(){return this.jS.Ug()},e.prototype.onCameraChange=function(t){return this.D.on("cameraChange",t)},e.prototype.offCameraChange=function(t){return this.D.off(t,"cameraChange")},e.prototype.setBoundingBoxStrokeStyle=function(t){return this.NS.Ur(t).fp(Gh(this.NS.vf())),this.op.Sn(),this},e.prototype.getBoundingBoxStrokeStyle=function(){return this.NS.vf()},e.prototype.setBoundingBox=function(t){return this.RS(t,!1),this},e.prototype.RS=function(t,e){this.WS=t;var i=this.US(t);if(this.PS.x.tt(i.x),this.PS.y.tt(i.y),this.PS.z.tt(-i.z),!e){var n=this.jS.boundingBoxChanged(this.DS());n&&this.BS(n)}this.fn.Sn()},e.prototype.getBoundingBox=function(){return this.WS},e.prototype.Pr=function(e){var i=this;if(Wl(this.pe,this.rm),0!==this.TS){var n=this.TS*e*.006;this.xS.push({type:"wheel-zoom",deltaY:n}),this.TS=Math.sign(this.TS)*Math.max(Math.abs(this.TS)-.01*e,0),0!==this.TS&&this.fn.Sn(!0)}var r=this.getCameraDirection();if(this.xS.length>0){var o=this.jS.applyCameraInteractions(this.DS(),this.xS);o&&this.BS(o),this.xS.length=0}this.QS&&xi.equals(this.QS.location,this.GS.location)&&xi.equals(this.QS.direction,this.GS.direction)||this.D.emit("cameraChange",this,this.getCameraLocation()),this.QS=this.GS,t.prototype.Pr.call(this,e);for(var s=0;s<this.ng.length;s+=1)this.ng[s].Np();for(s=0;s<this.ng.length;s+=1)this.ng[s].Pr();this.VS.x.Fo(),this.VS.y.Fo(),this.VS.z.Fo(),this.VS.x.Pr(r),this.VS.y.Pr(r),this.VS.z.Pr(r),this.Sb.Pr(this.ES,this.ng,void 0),t.prototype.tm.call(this);var a=this.PS,u=m(a.x.getInnerStart(),a.y.getInnerStart(),a.z.getInnerStart()),l=m(a.x.getInnerEnd(),a.y.getInnerEnd(),a.z.getInnerEnd());this.NS.zt().aa([m(l.x,u.y,u.z),m(l.x,l.y,u.z),m(l.x,l.y,l.z),m(l.x,u.y,l.z),m(u.x,u.y,l.z),m(u.x,l.y,l.z),m(l.x,l.y,l.z),m(l.x,l.y,u.z),m(u.x,l.y,u.z),m(u.x,l.y,l.z),m(u.x,u.y,l.z),m(u.x,u.y,u.z)]);var h,c,f,p,d,y,v,g,x,S,A,b=[m(u.x,u.y,u.z),m(l.x,u.y,u.z),m(u.x,l.y,u.z),m(l.x,l.y,u.z),m(u.x,u.y,l.z),m(l.x,u.y,l.z),m(u.x,l.y,l.z),m(l.x,l.y,l.z)].map((function(t){return i.op.bp(t)})),M=this.op.bp(m((u.x+l.x)/2,(u.y+l.y)/2,(u.z+l.z)/2)),w=Ye(b,M),C=[];for(s=0;s<w.length;s+=1){var P=w[s];c=M,f=w[s>0?s-1:w.length-1],p=w[s<w.length-1?s+1:0],d=(h=P).x-p.x,y=h.y-p.y,v=p.x-f.x,x=(g=f.y-p.y)*d+v*y,S=(p.y-c.y)*d+(c.x-p.x)*y,((A=g*(c.x-p.x)+v*(c.y-p.y))<0?x<=0&&S<=0&&x+S>=A:x>=0&&S>=0&&x+S<=A)||C.push(P)}var E=Ye(C,M);for(this.ug.ga(E),this.hg.ga(E),s=0;s<this.ng.length;s+=1)this.ng[s].Xb()},e.prototype.dispose=function(){return this.ts.forEach((function(t){t()})),this.ts.length=0,this.PS.U(),this.op.U(),this.IS.U(),this.FS.U(),this.Sb.U(),t.prototype.dispose.call(this)},e.prototype.K=function(){return this.PS.x.K(),this.PS.y.K(),this.PS.z.K(),t.prototype.K.call(this)},e.prototype.J=function(){return t.prototype.J.call(this)},e.prototype.BS=function(t){this.op.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(xi.addVec(t.location,xi.multiply(t.direction,-this.wS))),this.GS=t,this.fn.Sn()},e.prototype.US=function(t){return xi.divide(t,xi.length(t)/this.SS)},e.prototype.DS=function(t){return void 0===t&&(t=this.GS),{boundingBox:this.US(this.WS),cameraLocation:t.location,cameraDirection:t.direction}},e.prototype.setMouseInteractions=function(t){return this.setMouseInteractionZoom(t).setMouseInteractionRotate(t)},e.prototype.setMouseInteractionZoom=function(t){return this.CS=t,this},e.prototype.getMouseInteractionZoom=function(){return this.CS},e.prototype.setMouseInteractionRotate=function(t){return this._S=t,this},e.prototype.getMouseInteractionRotate=function(){return this._S},e.prototype.forEachAxis=function(t){return t(this.VS.x),t(this.VS.y),t(this.VS.z),this},e.prototype.getSeries=function(){return this.ng},e.prototype.getMinimumSize=function(){},e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.setAnimationZoom(e),this.forEachAxis((function(t){return t.setAnimationsEnabled(e)})),this},e.prototype.setAnimationZoom=function(t){return this.MS=!!t,this},e.prototype.getAnimationZoom=function(){return this.MS},e}(Pc),Zc=function(t,e,i){var n,r;return It(e)?ql(e,[[e.series],[t.getDefaultAxisX().getTitle()||"X","",{text:In(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:In(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],[t.getDefaultAxisZ().getTitle()||"Z","",{text:In(e.axisZ.formatValue(e.z),e.axisZ),font:{weight:"bold"}}],void 0!==e.intensity?["Value","",{text:In(e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]:[]]):zt(e)?ql(e,[[e.series],void 0!==e.value?["Value","",{text:In(e.value.toFixed(2),null===(r=e.lut)||void 0===r?void 0:r.units),font:{weight:"bold"}}]:[]]):ql(e,[[e.series],[t.getDefaultAxisX().getTitle()||"X","",{text:In(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:In(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],[t.getDefaultAxisZ().getTitle()||"Z","",{text:In(e.axisZ.formatValue(e.z),e.axisZ),font:{weight:"bold"}}]])},Qc={Column:Ja,Row:$a},qc=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Kc=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;return a.KS=new Map,a.JS=a.addUIElement(Qc.Row).setPosition({x:0,y:100}).setOrigin(br.LeftTop).setBackground((function(t){return t.setFillStyle(J).setStrokeStyle(gt)})),a}return qc(e,t),e.prototype.add=function(t,e){var i=this;return(t instanceof Gl?[t]:t instanceof Hg?t.getCells().filter((function(t){return t.panel instanceof Gl})).map((function(t){return t.panel})):[]).forEach((function(t){var n=i.JS.addElement(Vu.VerticalLegendBox).setBackground((function(t){return t.setFillStyle(J).setStrokeStyle(gt)})).add(t,e).setTitle(t.getTitle());i.KS.set(t,n)})),this.fn.Sn(),this},e.prototype.setLegendBoxes=function(t){return this.KS.forEach((function(e,i){return t(e,i)})),this},e.prototype.getMinimumSize=function(){return t.prototype.getMinimumSize.call(this)||this.JS.getSize()},e}(Nl),Jc={World:"World",USA:"USA",NorthAmerica:"NorthAmerica",SouthAmerica:"SouthAmerica",Canada:"Canada",Europe:"Europe",Asia:"Asia",Africa:"Africa",Australia:"Australia"},$c=function(){return($c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},tf=function(t,e){var i;if(t===Jc.World)i="countries_world.json";else if(t===Jc.NorthAmerica)i="countries_northAmerica.json";else if(t===Jc.SouthAmerica)i="countries_southAmerica.json";else if(t===Jc.Africa)i="countries_africa.json";else if(t===Jc.Europe)i="countries_europe.json";else if(t===Jc.Asia)i="countries_asia.json";else if(t===Jc.USA)i="states_usa.json";else if(t===Jc.Canada)i="territoriesProvinces_canada.json";else{if(t!==Jc.Australia){var n="LCJS MapChart unidentified `type`: ".concat(t);throw ne.alert(n),new Error(n)}i="territories_australia.json"}var r="".concat(e,"/maps/").concat(i);return ne.fetch(r).then((function(t){return t.json()})).catch((function(t){li(e,r,"Map Chart",{shouldCrash:!0})}))},ef=function(t,e){return!(!e.name||t.name.toLowerCase()!==e.name.toLowerCase())||"ISO_A3"in t&&"ISO_A3"in e&&t.ISO_A3.toLowerCase()===e.ISO_A3.toLowerCase()},nf={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},rf={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12},of=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sf=function(){return(sf=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},af=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uf=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("mapChart bg",0),r,i.fn.$i.mapChartBackgroundFillStyle,i.fn.$i.mapChartBackgroundStrokeStyle,i.fn.$i.mapChartTitleFont,i.fn.$i.mapChartTitleFillStyle,a)||this;u.qS=[],u.vt=u.Ry.d2({scaleXYConstructor:Cn}),u.Yi=!0,u.$S=u.$i.mapChartSeparateRegionFillStyle,u.tx=u.$i.mapChartSeparateRegionStrokeStyle,u.fe=!0,u.ix=0,u.nx=!0,u.ox=new Map,u.onMouseEnter=function(t){return u.D.on("mouseEnter",t)},u.onMouseLeave=function(t){return u.D.on("mouseLeave",t)},u.onMouseClick=function(t){return u.D.on("mouseClick",t)},u.onMouseDoubleClick=function(t){return u.D.on("mouseDoubleClick",t)},u.onMouseDown=function(t){return u.D.on("mouseDown",t)},u.onMouseUp=function(t){return u.D.on("mouseUp",t)},u.onMouseMove=function(t){return u.D.on("mouseMove",t)},u.offMouseEnter=function(t){return u.D.off(t,"mouseEnter")},u.offMouseLeave=function(t){return u.D.off(t,"mouseLeave")},u.offMouseClick=function(t){return u.D.off(t,"mouseClick")},u.offMouseDoubleClick=function(t){return u.D.off(t,"mouseDoubleClick")},u.offMouseDown=function(t){return u.D.off(t,"mouseDown")},u.offMouseUp=function(t){return u.D.off(t,"mouseUp")},u.offMouseMove=function(t){return u.D.off(t,"mouseMove")},u.offMouseDragStart=function(t){return u.D.off(t,"mouseDragStart")},u.offMouseDrag=function(t){return u.D.off(t,"mouseDrag")},u.offMouseDragStop=function(t){return u.D.off(t,"mouseDragStop")},u.offMouseWheel=function(t){return u.D.off(t,"mouseWheel")},u.onMapDataReady=function(t){var e=u.D.on("mapDataReady",t);return u.sx&&ne.setTimeout((function(){return t()})),e},u.onViewChange=function(t){return u.D.on("viewChange",t)},u.ux=function(t,e,i,n,r){u.vt.x.tt(n).ti([u.Yt.left+u.xh.left,u.Yt.right+u.xh.right]),u.vt.y.tt(r).ti([u.Yt.bottom+u.xh.bottom,u.Yt.top+u.xh.top+jl(u.pe,u.rm)]),u.hx&&u.lx(u.vx,u.vt,u.hx)},u.wt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;r&&(u.getCursorMode()&&(u.yx(n),Ie(t)),u.nx&&u.fn.an.Cn(r,!0),u.mx=r,u.D.emit("mouseEnter",u,t,n))}},u.Mt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;u.bx(),r&&(u.nx&&u.fn.an.Cn(r,!1),u.mx=void 0,u.D.emit("mouseLeave",u,t,n),t&&Ie(t))}},u.Ot=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;r&&(u.getCursorMode()&&(u.yx(n),Ie(t)),u.mx=r,u.D.emit("mouseMove",u,t,n))}},u.Ct=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i);u.D.emit("mouseClick",u,t,n)}},u._t=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i);u.D.emit("mouseDoubleClick",u,t,n)}},u.Tt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i);u.D.emit("mouseDown",u,t,n)}},u.kt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i);u.D.emit("mouseUp",u,t,n)}},u.It=function(t,e,i){var n=i;if(n&&u.sx){var r=u.Ax(u.sx,n);u.D.emit("mouseDragStart",u,t,e,r)}},u.Ft=function(t,e,i,n,r){var o=r;if(o&&u.sx){var s=u.Ax(u.sx,o);u.D.emit("mouseDrag",u,t,e,i,n,s)}},u.jt=function(t,e,i,n){var r=n;if(r&&u.sx){var o=u.Ax(u.sx,r);u.D.emit("mouseDragStop",u,t,e,i,o)}},u.Dt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i);u.D.emit("mouseWheel",u,t,n)}},u.Bt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;r&&(u.yx(n),u.nx&&u.fn.an.Cn(r,!0),u.mx=r,u.D.emit("touchStart",u,t,n),Ie(t))}},u.Et=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;r&&(u.yx(n),u.mx=r,u.D.emit("touchMove",u,t,n),Ie(t))}},u.Pt=function(t,e){var i=e;if(i&&u.sx){var n=u.Ax(u.sx,i),r=null==n?void 0:n.region;u.bx(),r&&(u.nx&&u.fn.an.Cn(r,!1),u.mx=void 0,u.D.emit("touchEnd",u,t,n),Ie(t))}},u.fn.Rs(Nu.Yv),u.fe=!1!==(null==s?void 0:s.animationsEnabled),u.gx=i.bb("mapChart plotting",0),u.onResize(u.ux),u.pe.vo("Map Chart");var l=i.gb(),h=ye(s?s.cursorBuilder:void 0,xh);u.Sb=Kl(u,l,h.Rm(l,u.uiScale,u.uiScale,ue,u.$i),void 0,"show-pointed",hf,(function(){return 0})),u.Sx=u.rn.JA(),u.im(o,u.uiScale),u.xx=u.gx.vp(u.vt).setMouseInteractions(u.Yi).setMouseEnterEventHandler((function(t,e,i){return u.wt(e,i)})).setMouseLeaveEventHandler((function(t,e,i){return u.Mt(e,i)})).setMouseClickEventHandler((function(t,e,i){return u.Ct(e,i)})).setMouseDoubleClickEventHandler((function(t,e,i){return u._t(e,i)})).setMouseDownEventHandler((function(t,e,i){return u.Tt(e,i)})).setMouseUpEventHandler((function(t,e,i){return u.kt(e,i)})).setMouseMoveEventHandler((function(t,e,i){return u.Ot(e,i)})).setMouseDragStartEventHandler((function(t,e,i,n){return u.It(e,i,n)})).setMouseDragEventHandler((function(t,e,i,n,r,o){return u.Ft(e,i,n,r,o)})).setMouseDragStopEventHandler((function(t,e,i,n,r){return u.jt(e,i,n,r)})).setMouseWheelEventHandler((function(t,e,i){return u.Dt(e,i)})).setTouchStartEventHandler((function(t,e,i){return u.Bt(e,i)})).setTouchMoveEventHandler((function(t,e,i){return u.Et(e,i)})).setTouchEndEventHandler((function(t,e,i){return u.Pt(e,i)})).Br(u.$i.mapChartFillStyle).Dr(u.$i.mapChartStrokeStyle),u.wx=u.gx.vp(u.vt).setMouseInteractions(u.Yi).Br(u.$i.mapChartOutlierRegionFillStyle).Dr(u.$i.mapChartOutlierRegionStrokeStyle);var c=ye(s&&s.type,Jc.World);return u.vx=c,u.Mx(c).then((function(){u.D.emit("mapDataReady")})),u}return of(e,t),e.prototype.getRegionUnderMouse=function(){return this.mx},e.prototype.setFillStyle=function(t){return this.xx.Br(t),this.fn.Sn(),this},e.prototype.getFillStyle=function(){return this.xx.We()},e.prototype.setStrokeStyle=function(t){return this.xx.Dr(t),this.fn.Sn(),this},e.prototype.getStrokeStyle=function(){return this.xx.fu()},e.prototype.setEffect=function(t){return this.Sx.gn(t),this.fn.Sn(),this},e.prototype.getEffect=function(){return this.Sx.xn()},e.prototype.setOutlierRegionFillStyle=function(t){return this.wx.Br(t),this.fn.Sn(),this},e.prototype.getOutlierRegionFillStyle=function(){return this.wx.We()},e.prototype.setOutlierRegionStrokeStyle=function(t){return this.wx.Dr(t),this.fn.Sn(),this},e.prototype.getOutlierRegionStrokeStyle=function(){return this.wx.fu()},e.prototype.setSeparateRegionFillStyle=function(t){var e=this;return this.$S="function"==typeof t?t(this.$S):t,this.qS.forEach((function(t){return t.Br(e.$S)})),this.fn.Sn(),this},e.prototype.getSeparateRegionFillStyle=function(){return this.$S},e.prototype.setSeparateRegionStrokeStyle=function(t){var e=this;return this.tx="function"==typeof t?t(this.tx):t,this.qS.forEach((function(t){return t.Dr(e.tx)})),this.fn.Sn(),this},e.prototype.getSeparateRegionStrokeStyle=function(){return this.tx},e.prototype.invalidateRegionValues=function(t){var e,i;if(!this.sx||!this.Cx)return this._x=this._x||[],this._x.push(t),this;if("function"==typeof t)for(var n=function(e){var i=r.sx.regions[e],n=r.Cx[e],o=t(sf(sf({},i),{geometry:void 0}),n);if(void 0!==o&&o!==n){r.Cx[e]=o;var s=r.ox.get(i);null==s||s.forEach((function(t){t.Tx(o)}))}},r=this,o=0;o<this.sx.regions.length;o+=1)n(o);else{var s=function(t){if(t)for(var e=0;e<a.sx.regions.length;e+=1){var i=a.sx.regions[e],n=a.Cx[e];if(void 0!==t.value&&t.value!==n&&ef(i,t)){a.Cx[e]=t.value;var r=a.ox.get(i);null==r||r.forEach((function(e){e.Tx(t.value)}))}}},a=this;try{for(var u=af(t),l=u.next();!l.done;l=u.next())s(l.value)}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}}return this.fn.Sn(),this},e.prototype.onMouseDragStart=function(t){return this.D.on("mouseDragStart",t)},e.prototype.onMouseDrag=function(t){return this.D.on("mouseDrag",t)},e.prototype.onMouseDragStop=function(t){return this.D.on("mouseDragStop",t)},e.prototype.onMouseWheel=function(t){return this.D.on("mouseWheel",t)},e.prototype.onTouchStart=function(t){return this.D.on("touchStart",t)},e.prototype.onTouchMove=function(t){return this.D.on("touchMove",t)},e.prototype.onTouchEnd=function(t){return this.D.on("touchEnd",t)},e.prototype.offTouchStart=function(t){return this.D.off(t,"touchStart")},e.prototype.offTouchMove=function(t){return this.D.off(t,"touchMove")},e.prototype.offTouchEnd=function(t){return this.D.off(t,"touchEnd")},e.prototype.setMouseInteractions=function(t){return this.Yi=t,this.xx.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.Yi},e.prototype.setHighlight=function(t){var e,i=this;return t=ri(t),this.ix=t,null===(e=this.sx)||void 0===e||e.regions.forEach((function(e){i.fn.an.Cn(e,t)})),this.D.emit("highlight",this,t),this},e.prototype.getHighlight=function(){return this.ix},e.prototype.setAnimationHighlight=function(t){var e,i=this;return null===(e=this.sx)||void 0===e||e.regions.forEach((function(e){i.fn.an._n(e,t)})),this},e.prototype.getAnimationHighlight=function(){var t;return this.fn.an.Tn(null===(t=this.sx)||void 0===t?void 0:t.regions[0])},e.prototype.setHighlightOnHover=function(t){return this.nx=t,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this},e.prototype.getHighlightOnHover=function(){return this.nx},e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.offMapDataReady=function(t){return this.D.off(t,"mapDataReady")},e.prototype.offViewChange=function(t){return this.D.off(t,"viewChange")},e.prototype.Mx=function(t){return e=this,void 0,n=function(){var e,i,n,r,o,s,a,u,l,h,c,f,p,d,y,v,g,m,x,S,A,b;return function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(M){switch(M.label){case 0:return[4,tf(t,this.Yd.Kn)];case 1:if(e=M.sent(),this.Cx=new Array(e.regions.length).map((function(t){})).fill(void 0),!(i=nf[t]))throw new Error("Unidentified map type.");try{for(n=af(e.outliers),r=n.next();!r.done;r=n.next()){o=r.value;try{for(x=void 0,s=af(o.geometry),a=s.next();!a.done;a=s.next())u=a.value,this.wx.Wo().ga(u)}catch(t){x={error:t}}finally{try{a&&!a.done&&(S=s.return)&&S.call(s)}finally{if(x)throw x.error}}}}catch(t){g={error:t}}finally{try{r&&!r.done&&(m=n.return)&&m.call(n)}finally{if(g)throw g.error}}for(t===Jc.USA&&(l=25.8,this.qS.push(this.gx.Er(this.vt).setMouseInteractions(!1).Br(this.$S).Dr(this.tx).Lr({x:-126,y:l}).tt({x:10,y:29.7-l}),this.gx.Er(this.vt).setMouseInteractions(!1).Br(this.$S).Dr(this.tx).Lr({x:-113,y:l}).tt({x:7,y:29.7-l}))),h=this.fn.an.Uo(this.xx,{animationEnabled:this.fe}),c=function(i){var n,r,o=e.regions[i],s=function(t,e){var i=e.geometry;return function(t,e,i){var n,r=e.name.toLowerCase();if(t===Jc.USA&&("alaska"===r?n={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:"hawaii"===r&&(n={translate:{x:48,y:7},scale:{x:1,y:1}})),n){for(var o=n.translate,s=n.scale,a=Li(ce(i)),u=[],l=0;l<i.length;l+=1){u[l]=[];for(var h=i[l],c=u[l],f=0;f<h.length;f+=1){var p=h[f],d=p.x;"alaska"===r&&1===Math.sign(d)&&(d=-180-(180-d)),c[f]={x:o.x+(d-a.min.x)*s.x+a.min.x,y:o.y+(p.y-a.min.y)*s.y+a.min.y}}}return e.outlier=!0,e.transform=$c($c({},n),{vertexBoundaries:a}),u}return i}(t,e,i=function(t,e,i){if(t===Jc.Asia){for(var n=[],r=0;r<i.length;r+=1){n[r]=[];for(var o=i[r],s=n[r],a=0;a<o.length;a+=1){var u=o[a];u.x<-100?s[a]={x:u.x+360,y:u.y}:s[a]=u}}return n}return i}(t,0,i))}(t,o),a=[];try{for(var u=(n=void 0,af(s)),l=u.next();!l.done;l=u.next()){var c=l.value;c.length<3||a.push(f.xx.Wo().ga(c))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}f.ox.set(o,a),h.Wo(o,(function(t){a.forEach((function(e){return e.cn(t)}))}))},f=this,p=0;p<e.regions.length;p+=1)c(p);if(this.Sx.dn([this.xx]),this.hx=i,this.lx(t,this.vt,i),this.sx=e,this._x){try{for(d=af(this._x),y=d.next();!y.done;y=d.next())v=y.value,this.invalidateRegionValues(v)}catch(t){A={error:t}}finally{try{y&&!y.done&&(b=d.return)&&b.call(d)}finally{if(A)throw A.error}}this._x=void 0}return this.fn.Sn(),[2]}}))},new((i=void 0)||(i=Promise))((function(t,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function s(t){try{a(n.throw(t))}catch(t){r(t)}}function a(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(o,s)}a((n=n.apply(e,[])).next())}));var e,i,n},e.prototype.lx=function(t,e,i){var n=rf[t],r=e.x.getCellSize(),o=e.y.getCellSize()/r,s={min:{x:i.min.x,y:i.min.y},max:{x:i.max.x,y:i.max.y}};if(o<n){var a=(s.max.x-s.min.x)*(n/o-1);s.min.x-=a/2,s.max.x+=a/2}else o>n&&(a=(s.max.y-s.min.y)*(o/n-1),s.min.y-=a/2,s.max.y+=a/2);e.x.q(s.min.x,s.max.x),e.y.q(s.min.y,s.max.y);var u=this.vt.x.ui(),l=this.vt.y.ui();this.D.emit("viewChange",{latitudeRange:{start:s.min.y,end:s.max.y},longitudeRange:{start:s.min.x,end:s.max.x},margin:{top:l[1],bottom:l[0],left:u[0],right:u[1]}})},e.prototype.yx=function(t){this.kx=t,this.fn.Sn()},e.prototype.bx=function(){this.kx=void 0,this.fn.Sn()},e.prototype.Ax=function(t,e){var i=Array.from(this.ox.entries()).findIndex((function(t){var i=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t,2);return i[0],i[1].includes(e)})),n=null==t?void 0:t.regions[i],r=this.fn.zs();if(r){var o=this.fn.ju(r),s=this.Cx&&this.Cx[i],a=Pt({x:o.engineX,y:o.engineY},this.fn.vt,this.vt),u=(a={x:he(a.x,this.vt.x.getInnerStart(),this.vt.x.getInnerEnd()),y:he(a.y,this.vt.y.getInnerStart(),this.vt.y.getInnerEnd())}).x,l=a.y,h=n.transform;n.outlier&&h&&(u=(u-h.translate.x-h.vertexBoundaries.min.x)/h.scale.x+h.vertexBoundaries.min.x,l=(l-h.translate.y-h.vertexBoundaries.min.y)/h.scale.y+h.vertexBoundaries.min.y);var c=this.getFillStyle();return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:this.fn.vt,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:this.fn.vt},region:n,value:s,longitude:l,latitude:u,lut:st(c)?c.lut:void 0}}},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=xh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.setAnimationsEnabled=function(t){return this.fe=!t,this},e.prototype.getAnimationsEnabled=function(){return this.fe},e.prototype.getMinimumSize=function(){},e.prototype.Tv=function(){return[this]},e.prototype.Pr=function(e){t.prototype.Pr.call(this,e),t.prototype.tm.call(this),Wl(this.pe,this.rm);var i=A(this.vt.x.ii(),this.vt.y.ii(),this.vt.x.ri(),this.vt.y.ri());return this.gx.OS(i),this.Sb.Pr(!1,[],void 0,{explicitTarget:this.kx}),this},e.prototype.dispose=function(){return this.gx.U(),this.Sb.U(),Vl(this.vt),t.prototype.dispose.call(this)},e.prototype.K=function(){return t.prototype.K.call(this),this.vt.K(),this},e.prototype.J=function(){return t.prototype.J.call(this),this.vt.J(),this},e.prototype.pv=function(){return Ze(this.getFillStyle())},e.prototype.attach=function(t,e,i){var n=this;return void 0===i&&(i=!1),t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),t.onMouseEnter((function(){n.setHighlight(!0)})),t.onMouseLeave((function(){n.setHighlight(!1)})),this.onMouseEnter((function(){return t.setHighlight(!0)})),this.onMouseLeave((function(){return t.setHighlight(!1)})),this.onTouchStart((function(){return t.setHighlight(!0)})),this.onTouchEnd((function(){return t.setHighlight(!1)})),this.styleLegendEntry(t,i),this},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.getFillStyle()})},e}(Gl),lf=function(t,e){var i=t>0,n=[qe(Math.abs(0|t),2),"° ",qe(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(i?"E":"W"),r=e>0,o=[qe(Math.abs(0|e),2),"° ",qe(Math.abs(0|(e<0?e=-e:e)%1*60),2),"' "].join("")+(r?"N":"S");return"".concat(n,", ").concat(o)},hf=function(t,e,i){var n,r=[[e.region.name],[lf(e.longitude,e.latitude)]];return void 0!==e.value&&r.push({text:In(e.value.toFixed(1),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}),r},cf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ff=function(t){function e(e,i,n,r,o,s,a,u,l){var h=t.call(this,e,i,i.Ox(n),r,o,{numeric:i.Fx({amplitude:r.polarAmplitudeAxisNumericTicks,radial:r.polarAmplitudeAxisNumericTicks}),datetime:i.Fx({amplitude:r.polarAmplitudeAxisDateTimeTicks,radial:r.polarAmplitudeAxisDateTimeTicks}),time:i.Fx({amplitude:r.polarAmplitudeAxisTimeTicks,radial:r.polarAmplitudeAxisTimeTicks})},{type:"linear"})||this;return h.Ix=s,h.jx=a,h.Dx=u,h.rn=l,h.Bx=n,h.Ex=i.Fx({amplitude:r.polarAmplitudeAxisStrokeStyle,radial:r.polarRadialAxisStrokeStyle}),h.xe=u.zo(n).setMouseInteractions(!1).He(i.Fx({amplitude:r.polarAmplitudeAxisTitleFont,radial:r.polarRadialAxisTitleFont})).Br(i.Fx({amplitude:r.polarAmplitudeAxisTitleFillStyle,radial:r.polarRadialAxisTitleFillStyle})),h.Ke=h.rn.JA([h.xe]).gn(r.effectsText),h}return cf(e,t),e.prototype.setTickStrategy=function(e,i){return t.prototype.ze.call(this,e,i)},e.prototype.setStrokeStyle=function(t){return this.Ex="function"==typeof t?t(this.Ex):t,this.jx.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Ex},e.prototype.yo=function(t,e){return new pf(e,t,this.Bx,this.Dx,this.Px(this.Ix,this.Bx),this.Dx.Wr(this.Bx).setMouseInteractions(!1))},e.prototype.mo=function(t,e){var i=this.Lx(this.Bx,t);this.zx&&!1===this.zx(t)?t.ie.setVisible(!1):t.ie.setVisible(!0).Lr(Hi(this.Vx(this.Bx,t.S),i.padding)).Rh(i.alignment).Ze(i.rotation).Eh(i.offset.x,i.offset.y),this.Nx(this.Bx,t.Rx,t.Gx,t)},e.prototype.setMouseInteractions=function(t){return this},e.prototype.Pr=function(){var t=this;this.oo({physicalAxisSize:0});var e=this.xo((function(e,i){var n=i.Oe.Ao,r=.5*t.Ex.getThickness()+n.tickLength+n.tickPadding+Math.abs(i.ie.En().Tl().y);return Math.max(e,r)}),0);return this.Ux(this.Bx,this.Ex,e),this.Wx(this.Bx,this.xe,e),e},e}(eo),pf=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,r,n,a)||this;return u.Rx=o,u.Gx=s,o.setMouseInteractions(!1),u.tn.push(o,s),u}return cf(e,t),e}(io),df=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yf=function(){return(yf=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},vf=function(t){function e(e,i,n,r,o,s,a,u,l){var h=t.call(this,e,gf((function(){return h.oy()})),i,n,r,o,s,a,u)||this;return h.ap=h.jx.Wr(h.Bx).setMouseInteractions(!1),h.Yx=l,h.setScrollStrategy(Lr.expansion),h.setTickStrategy(Rr.Numeric),h.setTitle("Amplitude"),h}return df(e,t),e.prototype.oy=function(){return this.Yx()},e.prototype.Io=function(t,e){return Bn(t,e,this.Bx.y)},e.prototype.Do=function(t,e,i){var n=2*(e-t),r=this.Bx.x.Di(n);return{min:t-i*r,max:e+i*r}},e.prototype.Vx=function(t,e){return{x:t.Xx()?e-t.Hx().start:t.Hx().start-e,y:0}},e.prototype.Px=function(t,e){return t.Fl(e)},e.prototype.Nx=function(t,e,i,n){var r=n.Oe.Ao,o=t.Xx()?n.S-t.Hx().start:t.Hx().start-n.S;le(n.S,t.Hx().start)||le(n.S,t.Hx().end)?e.setVisible(!1):e.setVisible(!0).sf(0).Yr(360).cf(void 0).ff(0).uf(o).cf(60).Br(J).Dr(r.gridStrokeStyle);var s=.5*this.Ex.getThickness();i.Xr({x:o,y:-s*t.Ri().y}).Yr({x:o,y:-(s+r.tickLength)*t.Ri().y}).Ur(r.tickStyle)},e.prototype.Lx=function(t,e){var i=e.Oe.Ao;return{alignment:{x:0,y:1},padding:{x:0,y:t.Ri().y*-(.5*this.Ex.getThickness()+i.tickLength+i.tickPadding)},rotation:0,offset:{x:0,y:0}}},e.prototype.Ux=function(t,e,i){var n=t.Xx()?t.Hx().end-t.Hx().start:t.Hx().start-t.Hx().end;this.ap.Xr({x:0,y:0}).Yr({x:n,y:0}).Ur(e)},e.prototype.Wx=function(t,e,i){var n=t.Xx()?(t.Hx().start+t.Hx().end)/2-t.Hx().start:t.Hx().start-(t.Hx().start+t.Hx().end)/2;e.Rh({x:0,y:1}).Lr({x:n,y:-i*t.Ri().y})},e}(ff),gf=function(t){return yf(yf({},oc(t,(function(t){return t.getAmplitudeMin()}),(function(t){return t.getAmplitudeMax()}),(function(t){}))),{Ox:function(t){return{getInnerStart:function(){return t.Hx().start},getInnerEnd:function(){return t.Hx().end},q:function(e,i){return t.Zx(e,i)},ut:function(e,i,n,r,o){return t.y.ut(e,i,n,r,o)}}},Fx:function(t){return t.amplitude}})},mf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xf=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,e,Af,i,n,r,o,s,a,u)||this;return l.Qx=90,l.Kx=12,l.Jx=Sf,l.ap=l.jx.Fl(l.Bx).setMouseInteractions(!1),l.zx=function(t){for(var e=180*(t.S-l.Bx.qx())/Math.PI%360;e<0;)e+=360;for(;e>360;)e-=360;if(e>=0&&e<=20||e>=340&&e<=360)return!1},l.ue=void 0,l.setTickStyle(n.polarRadialAxisTickStyle),l.setTitle("Degrees"),l.setNorth(l.Qx),l}return mf(e,t),e.prototype.setTickStyle=function(t){return this.$x="function"==typeof t?t(this.$x):t,this.tw(),this.jx.Sn(),this},e.prototype.getTickStyle=function(){return this.$x},e.prototype.setTickFormattingFunction=function(t){return this.Jx=t,this.tw(),this.jx.Sn(),this},e.prototype.getTickFormattingFunction=function(){return this.Jx},e.prototype.setClockwise=function(t){this.Bx.iw(t);var e=this.Qx*Math.PI/180;return t?this.Bx.nw(e+Math.PI/2):this.Bx.nw(e-Math.PI/2),this.jx.Sn(),this},e.prototype.getClockwise=function(){return!this.Bx.rw()},e.prototype.setNorth=function(t){for(;t<0;)t+=360;t%=360,this.Qx=t;var e=t*Math.PI/180;return this.getClockwise()?this.Bx.nw(e+Math.PI/2):this.Bx.nw(e-Math.PI/2),this.jx.Sn(),this},e.prototype.getNorth=function(){return 180*this.Bx.qx()/Math.PI},e.prototype.setDivision=function(t){return this.Kx=t,this.tw(),this.jx.Sn(),this},e.prototype.getDivision=function(){return this.Kx},e.prototype.oy=function(){return[]},e.prototype.Io=function(t,e){return e},e.prototype.Do=function(t,e,i){return{min:t,max:e}},e.prototype.Vx=function(t,e){var i=t.rw()?1:-1,n=t.qx(),r=t.Xx()?t.Hx().end-t.Hx().start:t.Hx().start-t.Hx().end;return{x:Math.cos((e-n)*i)*r,y:Math.sin((e-n)*i)*r}},e.prototype.Px=function(t,e){return t.Wr(e)},e.prototype.Nx=function(t,e,i,n){var r=this.$x,o=t.rw()?1:-1,s=t.qx(),a=(n.S-s)*o,u=Math.cos(a),l=Math.sin(a),h=t.Xx()?t.Hx().end-t.Hx().start:t.Hx().start-t.Hx().end,c={x:u*h,y:l*h};e.Xr({x:0,y:0}).Yr(c);var f={x:c.x+u*r.tickLength*t.Ri().x,y:c.y+l*r.tickLength*t.Ri().y};i.Xr(c).Yr(f),e.Ur(r.gridStrokeStyle),i.Ur(r.tickStyle)},e.prototype.Lx=function(t,e){for(var i,n=this.$x,r=t.rw()?1:-1,o=t.qx(),s=(e.S-o)*r;s<0;)s+=2*Math.PI;for(;s>=2*Math.PI;)s-=2*Math.PI;i=s>0&&s<=Math.PI?-s+Math.PI/2:-s-Math.PI/2;var a=n.tickLength+n.tickPadding,u=Math.cos(s)*a*t.Ri().x,l=Math.sin(s)*a*t.Ri().y;return{alignment:{x:0,y:0},padding:{x:u,y:l},rotation:180*i/Math.PI,offset:{x:u,y:l}}},e.prototype.Ux=function(t,e,i){var n=t.Xx()?t.Hx().end-t.Hx().start:t.Hx().start-t.Hx().end;this.ap.sf(0).Yr(360).ff(0).uf(n+.5*e.getThickness()*t.Ri().x).cf(360).Br(J).Dr(e)},e.prototype.Wx=function(t,e,i){var n=t.qx(),r=this.Lx(t,{S:0+n}),o=t.Xx()?t.Hx().end-t.Hx().start:t.Hx().start-t.Hx().end;e.Rh(r.alignment).Ze(r.rotation).Eh(r.offset.x,r.offset.y).Lr(Hi({x:o,y:0},r.padding))},e.prototype.tw=function(){var t=this;this.$e({Qr:[],Kr:[{ie:"Radial ticks",gy:0,Ao:this.$x,lo:this.Jx,No:function(e,i,n,r){for(var o=[],s=2*Math.PI/t.Kx,a=0;a<2*Math.PI;a+=s)o.push(a);return o},Fe:{po:function(){},Ie:function(){return!1}},Ro:void 0}],Jr:Sf,qr:void 0,$r:void 0})},e}(ff),Sf=function(t,e,i){return(180*t/Math.PI).toFixed(0)},Af={_o:function(){},To:function(){},Oo:function(){},Ox:function(t){return{getInnerStart:function(){return 0},getInnerEnd:function(){return 2*Math.PI},q:function(t,e){},ut:function(e,i,n,r,o){return t.x.ut(e,i,n,r,o)}}},Fx:function(t){return t.radial}},bf=function(t){return!!(t&&"object"===a(t)&&"axisAmplitude"in t&&"axisRadial"in t)},Mf=function(t){return!!(t&&"object"===a(t)&&"angle"in t&&"number"==typeof t.angle&&"amplitude"in t&&"number"==typeof t.amplitude)},wf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cf=function(t){function e(e,i,n,r,o,s){var a=t.call(this,i,n,o,s)||this;return a.Mn="Sector",a.ew=0,a.ow=1*Math.PI/2,a.sw=void 0,a.uw=void 0,a.In=e,a.Bx=r,a.tb=a.In.Fl(a.Bx).cn(a.getHighlight()),a.vn(a.tb),a.Or=o.polarSectorFillStyle,a.Fr=o.polarSectorStrokeStyle,a.setMouseInteractions(!1),a}return wf(e,t),e.prototype.setAngleStart=function(t){return this.ew=he(t,0,360),this.In.Sn(),this},e.prototype.getAngleStart=function(){return this.ew},e.prototype.setAngleEnd=function(t){return this.ow=he(t,0,360),this.In.Sn(),this},e.prototype.getAngleEnd=function(){return this.ow},e.prototype.setAmplitudeStart=function(t){return this.sw=t,this.In.Sn(),this},e.prototype.getAmplitudeStart=function(){return this.sw},e.prototype.setAmplitudeEnd=function(t){return this.uw=t,this.In.Sn(),this},e.prototype.getAmplitudeEnd=function(){return this.uw},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.Pr=function(){var t=this.Bx.Hx(),e=180*this.Bx.qx()/Math.PI,i=void 0!==this.sw?he(this.sw,t.start,t.end):t.start,n=void 0!==this.uw?he(this.uw,t.start,t.end):t.end,r=this.Bx.Xx()?i-t.start:t.start-i,o=this.Bx.Xx()?n-t.start:t.start-n,s=Math.min(r,o),a=Math.max(r,o),u=this.Bx.rw()?1:-1,l=Math.abs(this.ow-this.ew);this.tb.sf((this.ew-e)*u).Yr((this.ow-e)*u).ff(100*s/a).uf(a).Br(this.Or).Dr(this.Fr).cf(Math.ceil(l/2))},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or,stroke:this.Fr})},e}(Vn),Pf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ef=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Ip=!0,e.Fp=!0,e}return Pf(e,t),e.prototype.setAutoScrollingEnabled=function(t){return this.Ip=t,this.chart.fn.Sn(),this},e.prototype.getAutoScrollingEnabled=function(){return this.Ip},e.prototype.Np=function(){},e.prototype.Pr=function(){},e.prototype.Xb=function(){},e.prototype.setCursorEnabled=function(t){return this.Fp=t,this},e.prototype.getCursorEnabled=function(){return this.Fp},e.prototype.setCursorFormattingOverride=function(t){return this.Lp=t,this},e.prototype.getCursorFormattingOverride=function(){return this.Lp},e}(Vn),Tf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kf=function(t){function e(e,i,n,r,o,s){var a=t.call(this,i,n,o,s)||this;return a.In=e,a.chart=i,a.scale=r,a}return Tf(e,t),e.prototype.getAmplitudeMin=function(){return this.hw?this.hw.min:void 0},e.prototype.getAmplitudeMax=function(){return this.hw?this.hw.max:void 0},e}(Ef),Df=function(){return(Df=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ff=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_f=function(t,e){var i,n,r=[],o=e.Hx().start,s=e.Hx().end,a=e.Xx(),u=e.rw()?1:-1,l=e.qx(),h=Math.abs(s-o),c=Math.min(o,s)+.001*h,f=Math.max(o,s)-.001*h;try{for(var p=Ff(t),d=p.next();!d.done;d=p.next()){var y=d.value,v=he(y.amplitude,c,f),g=y.angle*Math.PI/180-l,m=Math.cos(g*u)*(a?v-o:o-v),x=Math.sin(g*u)*(a?v-o:o-v),S=y.color;r.push({x:m,y:x,color:S})}}catch(t){i={error:t}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(i)throw i.error}}return r},If=function(t){var e,i,n={min:Ai,max:bi};try{for(var r=Ff(t),o=r.next();!o.done;o=r.next()){var s=o.value;n.min=Math.min(n.min,s.amplitude),n.max=Math.max(n.max,s.amplitude)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return n},Of=function(t){return t.slice().map((function(t){return t.angle>=0&&t.angle<=360?t:Df(Df({},t),{angle:t.angle%360})}))},Bf=function(t,e){var i=nn(t);for(e.rw()||(i*=-1),i+=180*e.qx()/Math.PI;i<0;)i+=360;i%=360;var n=Wi(t),r=e.Hx(),o=Math.abs(r.end-r.start);return{angle:i,amplitude:Hs(r.start,r.end,n/o)}},zf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lf=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,s)||this;u.Mn="Heatmap Series",u.aw=!0,u.Xp=!1,u.pv=function(){return Ze(u.Or)};var l=u.chart.getSeries().length;u.Or=Ke(u.$i.polarHeatmapSeriesFillStyle||u.$i.heatmapGridSeriesFillStyle,l);var h=a.amplitudeStart||0,c=a.amplitudeEnd?(a.amplitudeEnd-h)/(a.annuli-1):a.amplitudeStep||1,f={sectors:a.sectors,annuli:a.annuli,amplitudeStart:h,amplitudeStep:c,heatmapDataType:"intensity",dataOrder:a.dataOrder||"annuli"};u.Ws=f,u.fw=e.cw(r,[],f).Br(u.Or).cn(u.getHighlight()),u.vn(u.fw);var p=Math.min(f.amplitudeStart,f.amplitudeStart+(f.annuli-1)*f.amplitudeStep),d=Math.max(f.amplitudeStart,f.amplitudeStart+(f.annuli-1)*f.amplitudeStep);return u.hw={min:p,max:d},u.setHighlightOnHover(!1),u}return zf(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e="show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Pt(n,this.chart.fn.vt,this.scale),o=Bf(r,this.scale),s=Ql(e)?this.fw.lw(o):this.fw.Ml(o);if(s){var a=_f([s],this.scale)[0];return{cursorPosition:{pointMarker:a,pointMarkerScale:this.scale,resultTable:a,resultTableScale:this.scale},series:this,angle:s.angle,amplitude:s.amplitude,intensity:s.cellValue,annulus:s.iAnnulus,sector:s.iSector,lut:st(this.Or)?this.Or.lut:void 0}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0,intensity:0,sector:0,annulus:0,lut:st(this.Or)?this.Or.lut:void 0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.invalidateIntensityValues=function(t){if(this.Xp&&this.chart.fn.Rs(Nu.Jv),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;var e={x:t.length,y:t[0].length,sectors:"annuli"===this.Ws.dataOrder?t[0].length:t.length,annuli:"annuli"===this.Ws.dataOrder?t.length:t[0].length},i="annuli"===this.Ws.dataOrder?this.Ws.annuli:this.Ws.sectors,n="annuli"===this.Ws.dataOrder?this.Ws.sectors:this.Ws.annuli;if(e.x>i||e.y>n){if(!0===this.chart.Yd.Xs){var r="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nHeatmap ".concat(i,"x").concat(n,", input ").concat(e.x,"x").concat(e.y,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<i;s+=1)o[s]=t[s].slice(0,n);if(0===(t=o).length||0===t[0].length)return this}this.fw.Jg({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;e={primary:t.values.length,secondary:t.values[0].length,sectors:"annuli"===this.Ws.dataOrder?t.values[0].length:t.values.length,annuli:"annuli"===this.Ws.dataOrder?t.values.length:t.values[0].length};var a="annuli"===this.Ws.dataOrder?t.iAnnulus:t.iSector,u=a+e.primary-1,l="annuli"===this.Ws.dataOrder?t.iSector:t.iAnnulus,h=l+e.secondary-1,c="annuli"===this.Ws.dataOrder?this.Ws.annuli-1:this.Ws.sectors-1,f="annuli"===this.Ws.dataOrder?this.Ws.sectors-1:this.Ws.annuli-1;if(a<0||l<0)return!0===this.chart.Yd.Xs&&(r="PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niSector: ".concat(t.iSector,", iAnnuli: ").concat(t.iAnnulus,".\nNo intensity values will be invalidated."),ne.console.warn(r)),this;if(u>c||h>f){!0===this.chart.Yd.Xs&&(r="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nMax indexes ".concat(c,"x").concat(f,", input ").concat(e.primary,"x").concat(e.secondary," starting at [").concat(a,",").concat(l,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),ne.console.warn(r));var p=Math.max(u-c,0),d=e.primary-p,y=Math.max(h-f,0);for(o=[],s=0;s<d;s+=1)o[s]=t.values[s].slice(0,y>0?-y:void 0);if(0===(t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:o}).values.length||0===t.values[0].length)return this}this.fw.Jg({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:l,values:t.values})}return this.In.Sn(),this.Xp=!0,this},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.fw.Br(this.Or),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.clear=function(){return this.fw.zt(),this.In.Sn(),this},e.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.fw.Qg(t),this.In.Sn(),this},e.prototype.getIntensityInterpolation=function(){return this.fw.Kg()},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.Pr=function(){},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e}(kf),Rf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vf=function(){return(Vf=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Nf=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,a)||this;return u.Mn="Line Series",u.dw=[],u.Aw=!1,u.yw=!1,u.lf=Ke(u.$i.polarLineSeriesStrokeStyle,s),u.mw=e.Ib(r,void 0,[Lh.UserSeries]).Ur(u.lf).cn(u.getHighlight()),u.vn(u.mw),u}return Rf(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=this.mw.bw(n);if(r){var o=Bf(r,this.scale);return Vf({cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this},o)}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return i.solveNearest(e,"show-nearest")}))},e.prototype.setData=function(t){return 0!==this.dw.length&&this.chart.fn.Rs(Nu.Jv),this.dw=Of(t),this.Aw=!0,this.hw=If(this.dw),this.In.Sn(),this},e.prototype.setStrokeStyle=function(t){this.lf="function"==typeof t?t(this.lf):t;var e=this.lf;return this.mw.Ur(e),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yw=t,this.In.Sn(),this},e.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yw},e.prototype.kp=function(){return this.Ip&&this.dw.length>0&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.Pr=function(){if(this.Aw||this.scale.pw()){var t=_f(this.dw,this.scale),e=Li(t);this.yw?(t.push(Vf({},t[0])),this.mw.Va(!0)):this.mw.Va(!1),this.mw.zt().aa(t).Xu(e),this.Aw=!1,this.mw.En()}},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{stroke:this.lf})},e}(kf),Uf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yf=function(){return(Yf=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Gf=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,a)||this;return u.Mn="Point Line Series",u.dw=[],u.Aw=!1,u.yw=!1,u.gw=3,u.ph=0,u.Sw=Co.Circle,u.Or=Ke(u.$i.polarPointLineSeriesFillStyle,s),u.lf=Ke(u.$i.polarPointLineSeriesStrokeStyle,s),u.mw=e.Ib(r,void 0,[Lh.UserSeries]).Ur(u.lf).cn(u.getHighlight()),u.vn(u.mw),u.xw=e.ig(r).Br(u.Or).ea(u.Sw).tt(u.gw).cn(u.getHighlight()),u.vn(u.xw),u}return Uf(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=this.mw.bw(n);if(r){var o=Bf(r,this.scale);return Yf({cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this},o)}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.setData=function(t){return 0!==this.dw.length&&this.chart.fn.Rs(Nu.Jv),this.dw=Of(t),this.Aw=!0,this.hw=If(this.dw),this.In.Sn(),this},e.prototype.setStrokeStyle=function(t){this.lf="function"==typeof t?t(this.lf):t;var e=this.lf;return this.mw.Ur(e),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.setPointFillStyle=function(t){this.Or="function"==typeof t?t(this.Or):t;var e=this.Or;return this.xw.Br(e),this.In.Sn(),this},e.prototype.getPointFillStyle=function(){return this.Or},e.prototype.setPointSize=function(t){return this.gw=t,this.xw.tt(t),this.In.Sn(),this},e.prototype.getPointSize=function(){return this.gw},e.prototype.setPointShape=function(t){return this.Sw=t,this.xw.ea(this.Sw),this},e.prototype.getPointShape=function(){return this.Sw},e.prototype.setPointRotation=function(t){return this.ph=t,this.xw.Ze(t),this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.ph},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or,stroke:this.lf})},e.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yw=t,this.In.Sn(),this},e.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yw},e.prototype.kp=function(){return this.Ip&&this.dw.length>0&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.Pr=function(){if(this.Aw||this.scale.pw()){var t=_f(this.dw,this.scale),e=Li(t);this.yw?(t.push(Yf({},t[0])),this.mw.Va(!0)):this.mw.Va(!1),this.mw.zt().aa(t).Xu(e),this.xw.zt().aa(t).Xu(e),this.Aw=!1,this.mw.En(),this.xw.En()}},e.prototype.On=function(){return this.wn||this.Sw},e}(kf),jf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wf=function(t){function e(e,i,n,o,s,a,u,l,h){var c=t.call(this)||this;return c.Ru=pi(),c.D=new r.a,c.Hi=!1,c.ww=o,c.Mw=s,c.Cw=a,c._w=u,c.Tw=l,c.In=e,c.scale=i,c.kw=n,c.$i=h,c}return jf(e,t),e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.dispose=function(){return this.kw&&this.kw(this),this.In.fn.Sn(),this.D.emit("dispose",this),this.Hi=!0,this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.Cw(),this.In.fn.Sn(),this},e.prototype.isDisposed=function(){return this.Hi},e.prototype.onDispose=function(t){return this.D.on("dispose",t)},e.prototype.offDispose=function(t){return this.D.off(t,"dispose")},e.prototype.setMouseInteractions=function(t){return this._w(this,t),this},e.prototype.getMouseInteractions=function(){return this.Tw(this)},e}(bs),Xf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hf=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p,d,y,v,g){var m=t.call(this,e,i,n,r,o,s,a,u,g)||this;return m.Ow=1,m.Fw=1,m.In=e,m.scale=i,m.dimensionStrategy=l,m.start=h,m.end=c,m.lowerExtreme=f,m.lowerQuartile=p,m.median=d,m.upperQuartile=y,m.upperExtreme=v,m.boundaries=S(m.dimensionStrategy.toPoint(h,f),m.dimensionStrategy.toPoint(c,v)),m.Iw=m.$i.boxSeriesBodyFillStyle,m.jw=m.$i.boxSeriesBodyStrokeStyle,m.lf=m.$i.boxSeriesStrokeStyle,m.Dw=m.$i.boxSeriesMedianStrokeStyle,m.En(),m}return Xf(e,t),e.prototype.getBoundaries=function(){return this.boundaries},e.prototype.setBodyWidth=function(t){return this.Ow=t,this.En(),this},e.prototype.getBodyWidth=function(){return this.Ow},e.prototype.setBodyFillStyle=function(t){return this.Iw="function"==typeof t?t(this.Iw):t,this.Mw(),this},e.prototype.getBodyFillStyle=function(){return this.Iw},e.prototype.setBodyStrokeStyle=function(t){return this.jw="function"==typeof t?t(this.jw):t,this.Mw(),this},e.prototype.getBodyStrokeStyle=function(){return this.jw},e.prototype.setTailWidth=function(t){return this.Fw=t,this.En(),this},e.prototype.getTailWidth=function(){return this.Fw},e.prototype.setStrokeStyle=function(t){return this.lf="function"==typeof t?t(this.lf):t,this.Mw(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.setMedianStrokeStyle=function(t){return this.Dw="function"==typeof t?t(this.Dw):t,this.Mw(),this},e.prototype.getMedianStrokeStyle=function(){return this.Dw},e.prototype.En=function(){this.ww()},e.prototype.getDominantStyle=function(){return this.getBodyFillStyle()},e}(Wf),Zf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Qf=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,l,h)||this;return c.Fn=!0,c.tn=new Map,c.chart=e,c.In=n,c.axisX=r,c.axisY=o,c.axisXAttachHandler=s,c.axisYAttachHandler=a,c.Bw=u,c.scale=En(r.vt,o.vt),c.Ew=e.Pw,e.Pw+=1,c.Lw(c.scale),c.attacheAxis(),c.onMouseEnter(c.chart.zw),c.onMouseLeave(c.chart.Vw),c.onMouseWheel(c.chart.Dp),c.onMouseDragStart(c.chart.Nw),c.onMouseDrag(c.chart.Bp),c.onMouseDragStop(c.chart.Ep),c.onTouchStart(c.chart.Pp.onTouchStart),c.onTouchMove(c.chart.Pp.onTouchMove),c.onTouchEnd(c.chart.Pp.onTouchEnd),c}return Zf(e,t),Object.defineProperty(e.prototype,"xAxis",{get:function(){return this.axisX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yAxis",{get:function(){return this.axisY},enumerable:!1,configurable:!0}),e.prototype.Rw=function(){var t,e,i=Array.from(this.tn.keys());try{for(var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.Gw)return o.Gw}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.setClipping=function(t){return this.Fn=t,this.In.Sn(),this},e.prototype.getClipping=function(){return this.Fn},e.prototype.attacheAxis=function(){this.Uw=this.axisXAttachHandler(this),this.Ww=this.axisYAttachHandler(this)},e.prototype.vn=function(e,i){t.prototype.vn.call(this,e,i),e.$u(this.Ew)},e.prototype.getName=function(){var t=this.ln(),e="ProgressiveY"===t||"RegressiveY"===t?this.axisX.getTitle():this.axisY.getTitle();return this.Mn||e.length>0&&e||"Series"},e.prototype.setDrawOrder=function(t){var e=this;return this.Ew=t.seriesDrawOrderIndex,this.tn.forEach((function(t,i){i.$u(e.Ew)})),this.chart.fn.Sn(),this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.Uw(this),this.Ww(this),this},e.prototype.Xb=function(){t.prototype.Xb.call(this),_n(this.Fn,Array.from(this.tn.keys()),this.scale)},e.prototype.getBoundaries=function(){return S(y(this.getXMin()||0,this.getYMin()||0),y(this.getXMax()||0,this.getYMax()||0))},e.prototype.setCursorEnabled=function(e){return t.prototype.setCursorEnabled.call(this,e)},e}(Ef),qf=function(t,e,i,n){var r=t.length,o=0;if(void 0!==e){var s=i-e;if(s>0){var a=t.slice(o,s);o+=s,n(a,!0)}}for(;o<r;){var u=t.slice(o,o+i);o+=i,n(u,!1)}},Kf=function(t,e){void 0===e&&(e=function(t){return t});for(var i,n=[],r=0;r<t.length;r+=1){var o=e((i=t[r]).ra()),s=i.na(),a=s?e(s):[],u=!1,l=!1;"za"in i&&(u=i.za(),l=i.Na()),n.push.apply(n,o.slice(u?1:0,o.length-(l&&0===a.length?1:0))),n.push.apply(n,a.slice(u&&0===o.length?1:0,a.length-(l?1:0)))}return n},Jf=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Yw=[],e.Xw=void 0,e.Hw=!1,e.kw=function(t){var i=e.Yw.findIndex((function(e){return e===t}));i>=0&&e.Yw.splice(i,1),e.Hw=!0,e.Xw=void 0,e.In.Sn()},e.ww=function(){e.Xw=void 0,e.Hw=!0,e.chart.fn.Sn()},e.Mw=function(){e.Hw=!0,e.chart.fn.Sn()},e.Cw=function(){e.Xw=void 0,e.Hw=!0,e.chart.fn.Sn()},e._w=function(t,i){e.setMouseInteractions(i)},e.Zw=function(t){return e.getMouseInteractions()},e}return Jf(e,t),e.prototype.Pr=function(){t.prototype.Pr.call(this),this.Hw&&(this.Qw(this.Yw),this.Hw=!1)},e.prototype.clear=function(){return this.Yw.slice().forEach(ae),this.Yw.length=0,this.Hw=!0,this.Xw=void 0,this.In.Sn(),this},e.prototype.Kw=function(t,e){var i=this;void 0!==e?this.Yw.splice(e,0,t):this.Yw.push(t),this.Hw=!0,this.Jw&&this.Jw(t),t.onMouseEnter((function(t,e){return i.wt(t,e,void 0,{})})),t.onMouseLeave((function(t,e){return i.Mt(t,e,void 0)})),t.onMouseClick((function(t,e){return i.Ct(t,e,void 0,{})})),t.onMouseDoubleClick((function(t,e){return i._t(t,e,void 0,{})})),t.onMouseDown((function(t,e){return i.Tt(t,e,void 0,{})})),t.onMouseUp((function(t,e){return i.kt(t,e,void 0,{})})),t.onMouseMove((function(t,e){return i.Ot(t,e,void 0,{})})),t.onMouseDragStart((function(t,e,n){return i.It(t,e,n,void 0,{})})),t.onMouseDrag((function(t,e,n,r,o){return i.Ft(t,e,n,r,o,void 0,{})})),t.onMouseDragStop((function(t,e,n,r){return i.jt(t,e,n,r,void 0,{})})),t.onMouseWheel((function(t,e){return i.Dt(t,e,void 0,{})})),t.onTouchStart((function(t,e){return i.Bt(t,e,void 0,{})})),t.onTouchMove((function(t,e){return i.Et(t,e,void 0,{})})),t.onTouchEnd((function(t,e){return i.Pt(t,e,void 0,{})})),this.In.Sn()},e.prototype.kp=function(){return this.Ip&&this.Yw.length>0&&this.getVisible()},e.prototype.setDefaultStyle=function(t){this.Jw=t,this.Yw.forEach(t),t(this.qw);for(var e=0;e<this.Ki.length;e+=1)this.styleLegendEntry(this.Ki[e]);return this.Hw=!0,this.chart.fn.Sn(),this},e.prototype.getXMax=function(){return this.Xw||(this.Xw=this.$w()),this.Xw.max.x},e.prototype.getXMin=function(){return this.Xw||(this.Xw=this.$w()),this.Xw.min.x},e.prototype.getYMax=function(){return this.Xw||(this.Xw=this.$w()),this.Xw.max.y},e.prototype.getYMin=function(){return this.Xw||(this.Xw=this.$w()),this.Xw.min.y},e.prototype.Oo=function(){return y(0,0)},e.prototype.$w=function(){for(var t=S(v(Ai,Ai),v(bi,bi)),e=0;e<this.Yw.length;e+=1)if(this.Yw[e].getVisible()){var i=this.Yw[e].getBoundaries();t.min.x=Math.min(t.min.x,i.min.x),t.min.y=Math.min(t.min.y,i.min.y),t.max.x=Math.max(t.max.x,i.max.x),t.max.y=Math.max(t.max.y,i.max.y)}return t},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Yw.length>0?this.Yw[0].getDominantStyle():this.qw.getDominantStyle()})},e}(Qf),tp=function(t,e,i){void 0===e&&(e=1);for(var n=void 0!==i?i:0,r=new Array(t.length),o=0;o<t.length;o+=1)r[o]={x:n+e*o,y:t[o]};return r},ep=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ip=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},np=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,h,c)||this;return f.tM=[],f.pf=[],f.iM=0,f.kn=!1,f.Xi=on.onHover,f.chart.fn.Rs(Nu.Hv),f.nM=l,f}return ep(e,t),e.prototype.setDataCleaning=function(t){var e=t&&t.minDataPointCount;return this.iM=void 0!==e&&e>0?e:0,this.In.Sn(),this},e.prototype.add=function(t){if(0!==this.tM.length&&this.chart.fn.Rs(Nu.Jv),Array.isArray(t)?this.rM(t):this.rM([t]),this.pf.length>0){var e=this.pf[this.pf.length-1];this.eM={x:e.x,y:e.y}}return this},e.prototype.addArrayX=function(t,e,i){void 0===e&&(e=1);var n=i;return n||(n=this.eM?this.eM.y+e:0),this.add(function(t,e,i){void 0===e&&(e=1);for(var n=void 0!==i?i:0,r=new Array(t.length),o=0;o<t.length;o+=1)r[o]={x:t[o],y:n+e*o};return r}(t,e,n)),this},e.prototype.addArrayY=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0);var n=i;return n||(n=this.eM?this.eM.x+e:0),this.add(tp(t,e,n)),this},e.prototype.addArraysXY=function(t,e){if(t.length!==e.length)throw new Error("arrayX and arrayY lengths are not equal");return this.add(function(t,e){for(var i=new Array(t.length),n=0;n<t.length;n+=1)i[n]={x:t[n],y:e[n]};return i}(t,e)),this},e.prototype.getPointAmount=function(){return this.tM.reduce((function(t,e){return t+e.fa()+e.ca()}),this.pf.length)},e.prototype.clear=function(){this.oM=void 0;for(var t=0;t<this.tM.length;t+=1)this.tM[t].zt();return this.pf.length=0,this.eM=void 0,this.In.Sn(),this.D.emit("dataClear",this),this},e.prototype.getLastPoint=function(){return this.eM},e.prototype.kp=function(){return this.Ip&&this.getPointAmount()>0&&this.getVisible()},e.prototype.getXMax=function(){return this.nM.getXMax(this.tM,this.oM)||0},e.prototype.getXMin=function(){return this.nM.getXMin(this.tM,this.oM)||0},e.prototype.getYMax=function(){return this.nM.getYMax(this.tM,this.oM)||0},e.prototype.getYMin=function(){return this.nM.getYMin(this.tM,this.oM)||0},e.prototype.Oo=function(){var t,e,i=y(0,0);try{for(var n=ip(this.tM),r=n.next();!r.done;r=n.next()){var o=r.value;i.x=Math.max(i.x,o.xa()),i.y=Math.max(i.y,o.wa())}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return i},e.prototype.sM=function(t,e,i,n){this.nM.sM(t,e,i,n,this.scale,(function(t){}))},e.prototype.Np=function(){t.prototype.Np.call(this),this.uM&&this.sM(this.tM,this.getPointAmount(),this.uM,this.iM)},e.prototype.Pr=function(){var e,i;t.prototype.Pr.call(this);var n=this.getBoundaries();this.pf.length>0&&(this.hM(this.pf),this.pf=[]);try{for(var r=ip(this.tM),o=r.next();!o.done;o=r.next())o.value.Xu(n)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return t.prototype.Pr.call(this)},e.prototype.Xb=function(){t.prototype.Xb.call(this),this.oM=void 0,this.pf.length=0},e.prototype.rM=function(t){0!==t.length&&(this.oM?this.oM=Vi(this.oM,Li(t)):this.oM=Li(t),this.D.emit("dataAdd",this,t,this.oM),this.pf=Ge(this.pf,t,{canReturnB:!1}),this.In.Sn())},e.prototype.aM=function(){return Kf(this.tM)},e.prototype.fM=function(t){return this.D.on("dataAdd",t)},e.prototype.cM=function(t){return this.D.off(t)},e.prototype.lM=function(t){return this.D.on("dataClear",t)},e.prototype.vM=function(t){return this.D.off(t)},e}(Qf),rp=function(t,e,i,n){for(var r,o,s=Number.MAX_VALUE,a=0;a<e.length;a+=1){var u=e[a],l=i(u,t);if(l){var h=n(t,l);(void 0===r||h<s)&&(r=l,o=u,s=h)}}return r&&o?[r,o]:void 0},op=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sp=function(){return(sp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ap=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p=t.call(this,e,i,n,r,o,s,a,u,h,c)||this;return p.Mn="Box Series",p.dM=ci(),p.AM=function(t){return Pt(p.jn.toPoint((t.start+t.end)/2,t.median),p.scale,p.In.fn.vt)},p.chart.fn.Rs(Nu.Qv),p.jn=l,p.qw=new Hf(p.In,p.scale,p.kw,ue,ue,ue,ue,(function(t){return!1}),p.jn,0,0,0,0,0,0,0,p.$i).dispose(),p.yM=new Qh((function(){var t=p.In.py(p.scale);return p.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Ur(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.Sy(e.start,e.end),i}))})),p.mM=new Qh((function(){var t=p.dM.xt(p.In.vp(p.scale));return p.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.ga(e.vertices),p.dM.Lt(i,e.figure),i}))}),(function(){p.dM.zt()}),(function(t,e){p.yn(e)})),p}return op(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.Yw.length){var r=rp(n,this.Yw.filter((function(t){return t.getVisible()})),this.AM,Ii);if(r){var o=Pt(r[0],this.In.fn.vt,this.scale);return sp(sp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:r[1],start:r[1].start,end:r[1].end,lowerExtreme:r[1].lowerExtreme,lowerQuartile:r[1].lowerQuartile,median:r[1].median,upperQuartile:r[1].upperQuartile,upperExtreme:r[1].upperExtreme,series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0,median:0,lowerQuartile:0,upperQuartile:0,lowerExtreme:0,upperExtreme:0,start:0,end:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){if(!(t instanceof Cn||t instanceof Pn))throw new Error("BoxSeries only supports Linear Axes")},e.prototype.Qw=function(t){var e=this,i=this.mM.Hb(),n=this.yM.Hb();t.forEach((function(t){if(t.getVisible()){var r=e.jn.toPoint((t.start+t.end-t.Ow*(t.end-t.start))/2,t.lowerQuartile),o=e.jn.toPoint((t.end-t.start)*t.Ow,t.upperQuartile-t.lowerQuartile),s=e.jn.toPoint((t.start+t.end)/2,t.lowerQuartile),a=e.jn.toPoint((t.start+t.end)/2,t.lowerExtreme),u=e.jn.toPoint((t.start+t.end)/2,t.upperQuartile),l=e.jn.toPoint((t.start+t.end)/2,t.upperExtreme),h=e.jn.toPoint((t.start+t.end-t.Fw*(t.end-t.start))/2,t.lowerExtreme),c=e.jn.toPoint((t.start+t.end+t.Fw*(t.end-t.start))/2,t.lowerExtreme),f=e.jn.toPoint((t.start+t.end-t.Fw*(t.end-t.start))/2,t.upperExtreme),p=e.jn.toPoint((t.start+t.end+t.Fw*(t.end-t.start))/2,t.upperExtreme),d=e.jn.toPoint((t.start+t.end-t.Ow*(t.end-t.start))/2,t.median),y=e.jn.toPoint((t.start+t.end+t.Ow*(t.end-t.start))/2,t.median);i.add({Ru:t.Ru,vertices:[{x:r.x,y:r.y},{x:r.x,y:r.y+o.y},{x:r.x+o.x,y:r.y+o.y},{x:r.x+o.x,y:r.y}],figure:t},{fillStyle:t.Iw,strokeStyle:t.jw}),n.add({Ru:0,start:s,end:a,figure:t},{strokeStyle:t.lf}),n.add({Ru:0,start:u,end:l,figure:t},{strokeStyle:t.lf}),n.add({Ru:0,start:h,end:c,figure:t},{strokeStyle:t.lf}),n.add({Ru:0,start:f,end:p,figure:t},{strokeStyle:t.lf}),n.add({Ru:0,start:d,end:y,figure:t},{strokeStyle:t.Dw})}})),i.finishPlot(),n.finishPlot()},e.prototype.add=function(t){var e=new Hf(this.In,this.scale,this.kw,this.ww,this.Mw,this.Cw,this._w,this.Zw,this.jn,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.$i);return this.Kw(e),this.Hw=!0,this.chart.fn.Sn(),e},e}($f),up=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),lp=function(){return(lp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},hp=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l)||this;return c.dimensions={x:0,y:0,radiusX:0,radiusY:0},c.Qh=S(y(0,0),y(0,0)),c.In=e,c.scale=i,c.Or=Ke(l.ellipseSeriesFillStyle,h),c.Fr=Ke(l.ellipseSeriesStrokeStyle,h),c}return up(e,t),e.prototype.getBoundaries=function(){return this.Qh},e.prototype.setDimensions=function(t){return this.dimensions=t,this.Qh=S(y(t.x-t.radiusX,t.y-t.radiusY),y(t.x+t.radiusX,t.y+t.radiusY)),this.ww(),this.In.Sn(),this},e.prototype.getDimensions=function(){return this.dimensions},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Mw(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.Mw(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.getDominantStyle=function(){return this.Or},e}(Wf),cp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return f.Mn="Ellipse Series",f.dM=ci(),f.AM=function(t){var e=t.getDimensions(),i=y(e.x,e.y);return Pt(i,f.scale,f.In.fn.vt)},f.chart.fn.Rs(Nu.Qv),f.bM=c,f.qw=new hp(f.In,f.scale,ue,ue,ue,ue,ue,(function(t){return!1}),f.$i,f.bM).dispose(),f.mM=new Qh((function(){var t=f.dM.xt(f.In.vp(f.scale));return f.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.ga(e.vertices),f.dM.Lt(i,e.figure),i}))}),(function(){f.dM.zt()}),(function(t,e){f.yn(e)})),f}return up(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.Yw.length){var r=rp(n,this.Yw.filter((function(t){return t.getVisible()})),this.AM,Ii);if(r){var o=Pt(r[0],this.In.fn.vt,this.scale);return lp(lp(lp(lp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:r[1]}),r[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0,radiusX:0,radiusY:0,drawSteps:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){if(!(t instanceof Cn||t instanceof Pn))throw new Error("EllipseSeries only supports Linear Axes")},e.prototype.Qw=function(t){var e=this.mM.Hb();t.forEach((function(t){if(t.getVisible()){for(var i=t.getDimensions(),n=[],r=void 0!==i.drawSteps?i.drawSteps:72,o=0;o<=r;o+=1){var s=o/r*2*Math.PI,a=i.x+i.radiusX*Math.cos(s),u=i.y+i.radiusY*Math.sin(s);n.push({x:a,y:u})}var l=t.getFillStyle(),h=t.getStrokeStyle();e.add({Ru:t.Ru,vertices:n,figure:t},{fillStyle:l,strokeStyle:h})}})),e.finishPlot()},e.prototype.add=function(t){var e=new hp(this.In,this.scale,this.kw,this.ww,this.Mw,this.Cw,this._w,this.Zw,this.$i,this.bM).setDimensions(t);return this.Kw(e),this.Hw=!0,this.chart.fn.Sn(),e},e}($f),fp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),pp=function(){return(pp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},dp=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l)||this;return c.pM=[],c.Qh=Mi,c.In=e,c.scale=i,c.Or=Ke(l.polygonSeriesFillStyle,h),c.Fr=Ke(l.polygonSeriesStrokeStyle,h),c}return fp(e,t),e.prototype.getBoundaries=function(){return this.Qh},e.prototype.setDimensions=function(t){return this.pM=t,this.Qh=Li(this.pM),this.ww(),this.In.Sn(),this},e.prototype.getDimensions=function(){return this.pM},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Mw(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.Mw(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.getDominantStyle=function(){return this.Or},e}(Wf),yp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return f.Mn="Polygon Series",f.dM=ci(),f.AM=function(t){var e=t.getBoundaries(),i=y((e.min.x+e.max.x)/2,(e.min.y+e.max.y)/2);return Pt(i,f.scale,f.In.fn.vt)},f.chart.fn.Rs(Nu.Qv),f.bM=c,f.qw=new dp(f.In,f.scale,ue,ue,ue,ue,ue,(function(t){return!1}),f.$i,f.bM).dispose(),f.mM=new Qh((function(){var t=f.dM.xt(f.In.vp(f.scale));return f.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.ga(e.vertices),f.dM.Lt(i,e.figure),i}))}),(function(){f.dM.zt()}),(function(t,e){f.yn(e)})),f}return fp(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.Yw.length){var r=rp(n,this.Yw.filter((function(t){return t.getVisible()})),this.AM,Ii);if(r){var o=Pt(r[0],this.In.fn.vt,this.scale);return pp(pp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:r[1],coordinates:r[1].getDimensions(),series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0,coordinates:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){},e.prototype.Qw=function(t){var e=this.mM.Hb();t.forEach((function(t){if(t.getVisible()){var i=t.getDimensions(),n=t.getFillStyle(),r=t.getStrokeStyle();e.add({Ru:t.Ru,vertices:i,figure:t},{fillStyle:n,strokeStyle:r})}})),e.finishPlot()},e.prototype.add=function(t){var e=new dp(this.In,this.scale,this.kw,this.ww,this.Mw,this.Cw,this._w,this.Zw,this.$i,this.bM).setDimensions(t);return this.Kw(e),this.Hw=!0,this.chart.fn.Sn(),e},e}($f),vp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gp=function(){return(gp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},mp=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l)||this;return c.gM={x:0,y:0,width:0,height:0},c.SM={x1:0,y1:0,x2:0,y2:0},c.Qh=S(y(0,0),y(0,0)),c.Or=Ke(l.rectangleSeriesFillStyle,h),c.In=e,c.scale=i,c.Fr=Ke(l.rectangleSeriesStrokeStyle,h),c}return vp(e,t),e.prototype.getBoundaries=function(){return this.Qh},e.prototype.setDimensions=function(t){return"x"in t?(this.gM=t,this.SM={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.SM=t,this.gM={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.Qh=Li([this.gM,y(this.gM.x+this.gM.width,this.gM.y+this.gM.height)]),this.ww(),this.In.Sn(),this},e.prototype.getDimensionsPositionAndSize=function(){return this.gM},e.prototype.getDimensionsTwoPoints=function(){return this.SM},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.Mw(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.Mw(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.getDominantStyle=function(){return this.Or},e}(Wf),xp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return f.Mn="Rectangle Series",f.dM=ci(),f.AM=function(t){var e=t.getDimensionsPositionAndSize(),i=y(e.x+e.width/2,e.y+e.height/2);return Pt(i,f.scale,f.In.fn.vt)},f.chart.fn.Rs(Nu.Qv),f.bM=c,f.qw=new mp(f.In,f.scale,ue,ue,ue,ue,ue,(function(t){return!1}),f.$i,f.bM).dispose(),f.mM=new Qh((function(){var t=f.dM.xt(f.In.vp(f.scale));return f.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.ga(e.vertices),f.dM.Lt(i,e.figure),i}))}),(function(){f.dM.zt()}),(function(t,e){f.yn(e)})),f}return vp(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.Yw.length){var r=rp(n,this.Yw.filter((function(t){return t.getVisible()})),this.AM,Ii);if(r){var o=Pt(r[0],this.In.fn.vt,this.scale);return gp(gp(gp(gp(gp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:r[1]}),r[1].getDimensionsPositionAndSize()),r[1].getDimensionsTwoPoints()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,x1:0,y1:0,x2:0,y2:0,width:0,height:0,multiHit:0,figure:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){},e.prototype.Qw=function(t){var e=this.mM.Hb();t.forEach((function(t){if(t.getVisible()){var i=t.getDimensionsTwoPoints(),n=[{x:i.x1,y:i.y1},{x:i.x1,y:i.y2},{x:i.x2,y:i.y2},{x:i.x2,y:i.y1}],r=t.getFillStyle(),o=t.getStrokeStyle();e.add({Ru:t.Ru,vertices:n,figure:t},{fillStyle:r,strokeStyle:o})}})),e.finishPlot()},e.prototype.add=function(t){var e=new mp(this.In,this.scale,this.kw,this.ww,this.Mw,this.Cw,this._w,this.Zw,this.$i,this.bM).setDimensions(t);return this.Kw(e),this.Hw=!0,this.chart.fn.Sn(),e},e}($f),Sp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ap=function(){return(Ap=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},bp=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l)||this;return c.dimensions={startX:0,startY:0,endX:0,endY:0},c.Qh=S(y(0,0),y(0,0)),c.$i=l,c.In=e,c.scale=i,c.Fr=Ke(l.segmentSeriesStrokeStyle,h),c}return Sp(e,t),e.prototype.getBoundaries=function(){return this.Qh},e.prototype.setDimensions=function(t){return this.dimensions=t,this.Qh=S(y(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),y(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.ww(),this.In.Sn(),this},e.prototype.getDimensions=function(){return this.dimensions},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.Mw(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.getDominantStyle=function(){var t=this.Fr;return t!==gt?t.getFillStyle():J},e}(Wf),Mp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return f.Mn="Segment Series",f.xM=ci(),f.AM=function(t){var e=t.getDimensions(),i=y((e.startX+e.endX)/2,(e.startY+e.endY)/2);return Pt(i,f.scale,f.In.fn.vt)},f.chart.fn.Rs(Nu.Qv),f.bM=c,f.qw=new bp(f.In,f.scale,ue,ue,ue,ue,ue,(function(t){return!1}),f.$i,f.bM).dispose(),f.yM=new Qh((function(){var t=f.xM.xt(f.In.py(f.scale));return f.vn(t,{setEventHandlers:!1}),t}),(function(t,e,i){return t.Ur(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.Sy(e.start,e.end),f.xM.Lt(i,e.figure),i}))}),(function(){f.xM.zt()}),(function(t,e){f.yn(e)})),f}return Sp(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.Yw.length){var r=rp(n,this.Yw.filter((function(t){return t.getVisible()})),this.AM,Ii);if(r){var o=Pt(r[0],this.In.fn.vt,this.scale);return Ap(Ap(Ap(Ap({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{figure:r[1]}),r[1].getDimensions()),{series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,figure:0,startX:0,startY:0,endX:0,endY:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){},e.prototype.Qw=function(t){var e=this.yM.Hb();t.forEach((function(t){if(t.getVisible()){var i=t.getDimensions(),n={x:i.startX,y:i.startY},r={x:i.endX,y:i.endY},o=t.getStrokeStyle();e.add({Ru:t.Ru,start:n,end:r,figure:t},{strokeStyle:o})}})),e.finishPlot()},e.prototype.add=function(t){var e=new bp(this.In,this.scale,this.kw,this.ww,this.Mw,this.Cw,this._w,this.Zw,this.$i,this.bM).setDimensions(t);return this.Kw(e),this.Hw=!0,this.chart.fn.Sn(),e},e}($f),wp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p=t.call(this,e,i,n,r,o,s,a,u,h,c)||this;p.Mn="Heatmap Grid Series",p.Wg={},p.chart.fn.Rs(Nu.Zv),p.wM=l,p.$i=h;var d=f;p.Or=Ke(h.heatmapGridSeriesFillStyle,d),p.Ff=Ke(p.$i.heatmapGridSeriesWireframeStyle,d);var y={heatmapDataType:"intensity",dataOrder:l.dataOrder||"columns",columns:l.columns,rows:l.rows};return p.Ws=y,p.MM=p.In.CM(p.scale,[],y).Br(p.Or).If(p.Ff).cn(p.getHighlight()),p.vn(p.MM),p.setHighlightOnHover(!1),p}return wp(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e="show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Pt(n,this.In.fn.vt,this.scale),o=Ql(e)?this.MM.lw(r):this.MM.Ml(r);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:st(this.Or)?this.Or.lut:void 0}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,intensity:0,column:0,row:0,lut:st(this.Or)?this.Or.lut:void 0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Xg=function(){var t,e=this.Wg.start||{x:0,y:0};t=this.Wg.end?{x:(this.Wg.end.x-e.x)/this.Ws.columns,y:(this.Wg.end.y-e.y)/this.Ws.rows}:this.Wg.step?this.Wg.step:{x:1,y:1},this.MM.Hg(e,t),this.chart.fn.Sn()},e.prototype.setStart=function(t){return this.Wg.start=t,this.Xg(),this},e.prototype.getStart=function(){return this.MM.Zg().start},e.prototype.setStep=function(t){return this.Wg.step=t,this.Xg(),this},e.prototype.getStep=function(){return this.MM.Zg().step},e.prototype.setEnd=function(t){return this.Wg.end=t,this.Xg(),this},e.prototype.getEnd=function(){return this.MM.Zg().end},e.prototype.clear=function(){return this.MM.zt(),this.In.Sn(),this.D.emit("dataClear",this),this},e.prototype.setWireframeStyle=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this.MM.If(this.Ff),this.In.Sn(),this.D.emit("styleChange",this),this},e.prototype.getWireframeStyle=function(){return this.Ff},e.prototype.setIntensityInterpolation=function(t){return t=t||"disabled",this.MM.Qg(t),this.In.Sn(),this.D.emit("styleChange",this),this},e.prototype.getIntensityInterpolation=function(){return this.MM.Kg()},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.pv=function(){return Ze(this.Or)},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e.prototype._M=function(t){this.MM._M().forEach((function(e){t.MM.Jg(e)}))},e.prototype.vM=function(t){return this.D.off(t)},e.prototype.lM=function(t){return this.D.on("dataClear",t)},e.prototype.TM=function(t){return this.D.on("styleChange",t)},e.prototype.kM=function(t){return this.D.off(t)},e.prototype.getXMax=function(){var t=this.MM;return t?t.yt():void 0},e.prototype.getXMin=function(){var t=this.MM;return t?t.At():void 0},e.prototype.getYMax=function(){var t=this.MM;return t?t.St():void 0},e.prototype.getYMin=function(){var t=this.MM;return t?t.bt():void 0},e.prototype.Oo=function(){var t=y(0,0);return t.x=Math.max(t.x,this.MM.xa()),t.y=Math.max(t.y,this.MM.wa()),t},e.prototype.Lw=function(t){if(!(t instanceof Cn))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof Cn&&t.wi())throw new Error("HeatmapGridSeries can not be attached to a high precision Axis.")},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.Pr=function(){return t.prototype.Pr.call(this),this.MM.Xu(this.getBoundaries()),this},e}(Qf),Pp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p=t.call(this,e,i,n,r,o,s,a,u,l,h,c,f)||this;return p.Xp=!1,p}return wp(e,t),e.prototype.invalidateIntensityValues=function(t){if(this.Xp&&this.chart.fn.Rs(Nu.Jv),Array.isArray(t)){if(0===t.length)return this;var e={x:t.length,y:t[0].length,columns:"columns"===this.Ws.dataOrder?t.length:t[0].length,rows:"rows"===this.Ws.dataOrder?t.length:t[0].length},i="columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows,n="columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns;if(e.x>i||e.y>n){if(!0===this.chart.Yd.Xs){var r="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<i;s+=1)o[s]=t[s].slice(0,n);t=o}this.MM.Jg({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length)return this;e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Ws.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Ws.dataOrder?t.values.length:t.values[0].length};var a="columns"===this.Ws.dataOrder?t.iColumn:t.iRow,u=a+e.primary-1,l="columns"===this.Ws.dataOrder?t.iRow:t.iColumn,h=l+e.secondary-1,c=("columns"===this.Ws.dataOrder?this.Ws.columns:this.Ws.rows)-1,f=("columns"===this.Ws.dataOrder?this.Ws.rows:this.Ws.columns)-1;if(a<0||l<0)return!0===this.chart.Yd.Xs&&(r="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated."),ne.console.warn(r)),this;if(u>c||h>f){!0===this.chart.Yd.Xs&&(r="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Ws.columns,"x").concat(this.Ws.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance."),ne.console.warn(r));var p=Math.max(u-c,0),d=e.primary-p,y=Math.max(h-f,0);for(o=[],s=0;s<d;s+=1)o[s]=t.values[s].slice(0,y>0?-y:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:o}}this.MM.Jg({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:a,startSecondary:l,values:t.values})}return this.D.emit("invalidateIntensity",this,t),this.In.Sn(),this.Xp=!0,this},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.MM.Br(this.Or),this.D.emit("styleChange",this),this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.OM=function(t){return this.D.on("invalidateIntensity",t)},e.prototype.FM=function(t){return this.D.off(t)},e}(Cp),Ep=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Tp=function(){return(Tp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},kp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p=t.call(this,e,i,n,r,o,s,a,u,h,c)||this;p.Mn="Scrolling Heatmap Grid Series",p.Wg={},p.chart.fn.Rs(Nu.Zv),p.chart.fn.Rs(Nu.Jv);var d=f;p.Or=Ke(h.heatmapScrollingGridSeriesFillStyle,d),p.Ff=Ke(p.$i.heatmapScrollingGridSeriesWireframeStyle,d);var y=Tp({scrollDimension:"columns",heatmapDataType:"intensity"},l);return p.Ws=y,p.IM=p.In.jM(p.scale,[],y).Br(p.Or).If(p.Ff).cn(p.getHighlight()),p.vn(p.IM),p.setHighlightOnHover(!1),p}return Ep(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e="show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Pt(n,this.In.fn.vt,this.scale),o=Ql(e)?this.IM.lw(r):this.IM.Ml(r);if(o)return{cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}},x:o.x,y:o.y,column:o.column,row:o.row,intensity:o.cellValue,series:this,axisX:this.axisX,axisY:this.axisY,lut:st(this.Or)?this.Or.lut:void 0}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,intensity:0,multiHit:0,column:0,row:0,lut:st(this.Or)?this.Or.lut:void 0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Xg=function(){var t,e=this.Wg.start||{x:0,y:0};t=this.Wg.step?this.Wg.step:{x:1,y:1},this.IM.Hg(e,t),this.chart.fn.Sn()},e.prototype.setStart=function(t){return this.Wg.start=t,this.Xg(),this},e.prototype.getStart=function(){return this.IM.Zg().start},e.prototype.setStep=function(t){return this.Wg.step=t,this.Xg(),this},e.prototype.getStep=function(){return this.IM.Zg().step},e.prototype.clear=function(){return this.IM.zt(),this.In.Sn(),this},e.prototype.setWireframeStyle=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this.IM.If(this.Ff),this.In.Sn(),this},e.prototype.getWireframeStyle=function(){return this.Ff},e.prototype.setPixelInterpolationMode=function(t){return t=t||"disabled",this.IM.Qg(t),this.In.Sn(),this},e.prototype.getPixelInterpolationMode=function(){return this.IM.Kg()},e.prototype.setDataCleaning=function(t){return this.IM.Sf(t),this.In.Sn(),this},e.prototype.kp=function(){return this.Ip&&this.getVisible()},e.prototype.pv=function(){return Ze(this.Or)},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e.prototype.Br=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.IM.Br(this.Or),this.In.Sn(),this},e.prototype.Lw=function(t){if(!(t instanceof Cn))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof Cn&&t.wi())throw new Error("HeatmapScrollingGridSeries can not be attached to a high precision Axis.")},e.prototype.getXMax=function(){return this.IM.yt()||0},e.prototype.getXMin=function(){return this.IM.At()||0},e.prototype.getYMax=function(){return this.IM.St()||0},e.prototype.getYMin=function(){return this.IM.bt()||0},e.prototype.Oo=function(){var t=y(0,0);return t.x=Math.max(t.x,this.IM.xa()),t.y=Math.max(t.y,this.IM.wa()),t},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e}(Qf),Dp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){return t.call(this,e,i,n,r,o,s,a,u,l,h,c,f)||this}return Ep(e,t),e.prototype.addIntensityValues=function(t){if(0===t.length||0===t[0].length)return this;var e={primary:t.length,secondary:t[0].length,columns:"columns"===this.Ws.scrollDimension?t.length:t[0].length,rows:"rows"===this.Ws.scrollDimension?t.length:t[0].length},i=0+e.secondary-1,n=this.Ws.resolution-1;if(i>n){if(!0===this.chart.Yd.Xs){var r="HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.\nGrid resolution: ".concat(this.Ws.resolution,", input ").concat(e.primary,"x").concat(e.secondary,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");ne.console.warn(r)}for(var o=[],s=0;s<e.primary;s+=1)o[s]=t[s].slice(0,n+1);t=o}return this.IM.nS(t),this.In.Sn(),this},e.prototype.invalidateIntensityValues=function(t){return this.IM.Jg(t.iSample,t.values),this.In.Sn(),this},e.prototype.getSampleCount=function(){return this.IM.DM()},e.prototype.setFillStyle=function(t){return this.Br(t),this},e.prototype.getFillStyle=function(){return this.Or},e}(kp),Fp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_p=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Ip=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Op=function(t,e,i){for(var n,r,o=Number.MAX_VALUE,s=0;s<e.length;s+=1){var a=e[s],u=i(a,t);if(u){var l=Ii(t,u[0]),h=Ii(t,u[1]);(void 0===n||l<o||h<o)&&(n=u,r=a,l<o?o=l:h<o&&(o=h))}}return n&&r?[n,r]:void 0},Bp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tM=[],e.pf=[],e.BM=[],e.EM=[],e.uM=1e3,e.iM=0,e.Xi=on.onHover,e._a={type:"disabled",packager:function(t,e,i){return t.slice()}},e.PM=[],e.LM=[],e.zM=!1,e.VM=function(t,i){var n=t.bw(i);if(n)return[Pt(n[0],e.scale,e.In.fn.vt),Pt(n[1],e.scale,e.In.fn.vt)]},e.NM=function(t,i){var n=t.RM(i);if(n)return[Pt(n[0],e.scale,e.In.fn.vt),Pt(n[1],e.scale,e.In.fn.vt)]},e.pv=function(){return Ze(e.GM)||Ze(e.UM)},e.WM=function(t){var i=t.length;if(e.tM.length>0){var n=e.tM.length-1,r=e.tM[n];if(i>0){var o=_p(r.ra(),2),s=o[0],a=o[1],u=_p(r.na(),2),l=u[0],h=u[1];if((l?s.length+l.length:s.length)>=e.uM){var c=l&&l.length>0?l[l.length-1]:s[s.length-1],f=h&&h.length>0?h[h.length-1]:a[s.length-1],p=(c.x+t[0].position)/2,d=$i(p,c,y(t[0].position,t[0].high)).y,v=$i(p,f,y(t[0].position,t[0].low)).y,m=g(p,d,v);r.aa(m,S(y(p,v),y(p,d))).Va(!0),e.YM([m].concat(t)).La(!0)}else r.aa(t)}}else i>0&&e.YM(t)},e.XM=function(t){var i=e.PM,n=t.length;if(e.PM.length>0){if(n>0){var r=i[i.length-1],o=r.ra(),s=r.na();if(o.length+s.length>=e.uM){var a=s.length>0?s[s.length-1]:o[o.length-1],u=(a.x+t[0].x)/2,l=$i(u,a,y(t[0].x,t[0].y)).y,h=y(u,l);r.aa(h,S(y(u,l),y(u,l))).Va(!0),i.push(e.HM([h].concat(t),e.oM).La(!0))}else r.aa(t)}}else n>0&&i.push(e.HM(t))},e.ZM=function(t){var i=e.LM,n=t.length;if(e.LM.length>0){if(n>0){var r=i[i.length-1],o=r.ra(),s=r.na();if(o.length+s.length>=e.uM){var a=s.length>0?s[s.length-1]:o[o.length-1],u=(a.x+t[0].x)/2,l=$i(u,a,y(t[0].x,t[0].y)).y,h=y(u,l);r.aa(h,S(y(u,l),y(u,l))).Va(!0),i.push(e.QM([h].concat(t)).La(!0))}else r.aa(t)}}else n>0&&i.push(e.QM(t))},e}return Fp(e,t),e.prototype.ln=function(){return"ProgressiveX"},e.prototype.setDataCleaning=function(t){var e=t&&t.minDataPointCount;return this.iM=void 0!==e&&e>0?e:0,this.In.Sn(),this},e.prototype.clear=function(){for(var t=0;t<this.tM.length;t+=1)this.tM[t].dispose();for(t=0;t<this.PM.length;t+=1)this.PM[t].dispose();for(t=0;t<this.LM.length;t+=1)this.LM[t].dispose();return this.pf.length=0,this.BM.length=0,this.EM.length=0,this.oM=void 0,this.tM.length=0,this.PM.length=0,this.LM.length=0,this.In.Sn(),this.D.emit("dataClear",this),this},e.prototype.getPointAmount=function(){return this.tM.reduce((function(t,e){return t+e.fa()+e.ca()}),this.pf.length)},e.prototype.getXMax=function(){return we(this.tM,ge,Math.max,Ae,this.oM)||0},e.prototype.getXMin=function(){return we(this.tM,ve,Math.min,Se,this.oM)||0},e.prototype.getYMax=function(){return we(this.tM,xe,Math.max,Me,this.oM)||0},e.prototype.getYMin=function(){return we(this.tM,me,Math.min,be,this.oM)||0},e.prototype.Oo=function(){var t,e,i=y(0,0);try{for(var n=Ip(this.tM),r=n.next();!r.done;r=n.next()){var o=r.value;i.x=Math.max(i.x,o.xa()),i.y=Math.max(i.y,o.wa())}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return i},e.prototype.kp=function(){return this.Ip&&this.getPointAmount()>0&&this.getVisible()},e.prototype.Lw=function(t){},e.prototype.rM=function(t,e,i){this.pf=Ge(this.pf,t,{canReturnB:!1}),this.BM=Ge(this.BM,e,{canReturnB:!1}),this.EM=Ge(this.EM,i,{canReturnB:!1}),this.In.Sn()},e.prototype.KM=function(t,e,i,n){this.JM(e,i,n),this.rM(Array.isArray(t)?t:[t],e,i)},e.prototype.JM=function(t,e,i){var n=Vi(Li(t),Li(e));this.oM?this.oM=Vi(this.oM,n):this.oM=n,i&&(this.oM=Vi(this.oM,i))},e.prototype.qM=function(){var t=this.tM.length,e=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd()),i=0;if(t>1)for(var n=0;n<t-1;n+=1)this.scale.x.Ai(this.tM[n].yt(),this.tM[n].xa())<e&&(i+=1);return i},e.prototype.sM=function(t,e,i,n){if(i>0){var r=Math.ceil(i/e),o=t.length-r;if(o>0&&n>0){var s=o-n>0?n:o;if(s>0){for(var a=0;a<s;a+=1)t[a].dispose();t.splice(0,s)}}}},e.prototype.$M=function(t){var e=this.tM.length>0?this.tM[this.tM.length-1]:void 0,i=e?e.ra()[0].length+(e.na()[0]?e.na()[0].length:0):void 0;qf(t,i,this.uM,this.WM)},e.prototype.tC=function(t){var e=this.PM.length>0?this.PM[this.PM.length-1].ra().length+this.PM[this.PM.length-1].na().length:void 0;qf(t,e,this.uM,this.XM)},e.prototype.iC=function(t,e){var i=this.PM.length>0?this.PM[this.PM.length-1].ra().length+this.PM[this.PM.length-1].na().length:void 0;qf(t,i,this.uM,this.XM),qf(e,i,this.uM,this.ZM)},e.prototype.YM=function(t,e){var i=this.In.nC(this.scale).aa(t,e).Br(this.GM).Ea(this.UM).Da(this._a).cn(this.getHighlight());return this.tM.push(i),this.vn(i),i},e.prototype.rC=function(t,e,i){var n=this.In.Ib(this.scale,void 0,[Lh.UserSeries]).aa(t,i).setMouseInteractions(!1).Ur(e).cn(this.getHighlight());return this.vn(n),n},e.prototype.HM=function(t,e){return this.rC(t,this.eC,e)},e.prototype.QM=function(t,e){return this.rC(t,this.oC,e)},e.prototype.sC=function(t){this.GM="function"==typeof t?t(this.GM):t;for(var e=this.GM,i=0;i<this.tM.length;i+=1)this.tM[i].Br(e);this.In.Sn()},e.prototype.uC=function(t){this.UM="function"==typeof t?t(this.UM):t;for(var e=this.UM,i=0;i<this.tM.length;i+=1)this.tM[i].Ea(e);this.In.Sn()},e.prototype.hC=function(){return this.GM},e.prototype.Pa=function(){return this.UM},e.prototype.aC=function(t){this.eC="function"==typeof t?t(this.eC):t;for(var e=this.eC,i=0;i<this.PM.length;i+=1)this.PM[i].Ur(e);this.In.Sn()},e.prototype.fC=function(t){this.oC="function"==typeof t?t(this.oC):t;for(var e=this.oC,i=0;i<this.LM.length;i+=1)this.LM[i].Ur(e);this.In.Sn()},e.prototype.cC=function(){return this.eC},e.prototype.lC=function(){return this.oC},e.prototype.zr=function(t,e){t.cn(e),this.vC(e),this.In.Sn()},e.prototype.vC=function(t){for(var e=0;e<this.PM.length;e+=1)this.PM[e].cn(t);for(e=0;e<this.LM.length;e+=1)this.LM[e].cn(t)},e.prototype.Np=function(){if(t.prototype.Np.call(this),this.zM=!1,this.iM>0){var e=this.qM();this.sM(this.tM,this.uM,this.iM,e),this.PM.length>0&&this.sM(this.PM,this.uM,this.iM,e),this.LM.length>0&&this.sM(this.LM,this.uM,this.iM,e),this.zM=!0}},e.prototype.Pr=function(){var e,i,n,r,o,s;if(t.prototype.Pr.call(this),this.pf.length>0&&(this.$M(this.pf),this.dC(this.BM,this.EM),this.zM=!0),this.zM){var a=this.getBoundaries();try{for(var u=Ip(this.tM),l=u.next();!l.done;l=u.next())l.value.Xu(a)}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}try{for(var h=Ip(this.PM),c=h.next();!c.done;c=h.next())c.value.Xu(a)}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}try{for(var f=Ip(this.LM),p=f.next();!p.done;p=f.next())p.value.Xu(a)}catch(t){o={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}}},e.prototype.Xb=function(){this.oM=void 0,this.pf.length=0,this.BM.length=0,this.EM.length=0},e}(Qf),zp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){void 0===l&&(l=0);var f=t.call(this,e,i,n,r,o,s,a,u,h,c)||this;return f.chart.fn.Rs(Nu.Hv),f.AC=l,f}return zp(e,t),e.prototype.add=function(t){0!==this.tM.length&&this.chart.fn.Rs(Nu.Jv);var e=Array.isArray(t)?t:[t];if(e.length>0){var i=this.yC(e),n=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.mC(i),2),r=n[0],o=n[1];this.KM(i,r,o,S(y(Ai,this.AC),y(bi,this.AC)));var s=this.pf[this.pf.length-1];this.eM=s?{position:s.position,high:s.high,low:s.low}:void 0,this.D.emit("dataAdd",this,e,this.oM)}return this},e.prototype.addArrayY=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0);var n=i;return n||(n=this.eM?this.eM.position+e:0),this.add(tp(t,e,n)),this},e.prototype.fM=function(t){return this.D.on("dataAdd",t)},e.prototype.cM=function(t){return this.D.off(t)},e.prototype.lM=function(t){return this.D.on("dataClear",t)},e.prototype.vM=function(t){return this.D.off(t)},e}(Bp),Rp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vp=function(){return(Vp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Np=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h,c)||this,p=e.getSeries().length;return f.GM=Ke(f.$i.areaSeriesBipolarHighFillStyle,p),f.eC=Ke(f.$i.areaSeriesBipolarHighStrokeStyle,p),f.UM=Ke(f.$i.areaSeriesBipolarLowFillStyle,p),f.oC=Ke(f.$i.areaSeriesBipolarLowStrokeStyle,p),f}return Rp(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Op(n,this.tM,Ql(e)?this.NM:this.VM);if(void 0!==r&&void 0!==r[0]){var o=Pt(r[0][0],this.In.fn.vt,this.scale),s=Pt(r[0][1],this.In.fn.vt,this.scale);return Vp(Vp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,multiHit:[o,s]})}},e.prototype.yC=function(t){return this.bC(t)},e.prototype.dC=function(t,e){return this.iC(t,e)},e.prototype.bC=function(t){var e=0,i=[],n=t.length,r=this.AC;return n>0&&(this.pC&&(this.pC.y<=r&&r<=t[0].y||this.pC.y>=r&&r>=t[0].y)&&(i[e]=g(.5*(this.pC.x+t[0].x),r,r),e+=1),this.pC=t[n-1],1===n?this.gC(t[0],i,e):this.SC(t,i)),i},e.prototype.gC=function(t,e,i){return void 0===i&&(i=0),e[i]=g(t.x,t.y,this.AC),i+1},e.prototype.SC=function(t,e){for(var i=0,n=0,r=t.length-1,o=this.AC;n<r;){var s=t[n],a=t[n+=1],u=g(s.x,s.y,o);if(0!==i&&Ce(e[i-1],u)||(e[i]=u,i+=1),s.y<=o&&o<=a.y||s.y>=o&&o>=a.y){var l=s.y,h=a.y,c=o,f=l===h?a.x:Hs(s.x,a.x,(c-l)/(h-l));e[i]=g(f,o,o),i+=1}e[i]=g(a.x,a.y,o),i+=1}return i},e.prototype.mC=function(t){for(var e=t.length,i=Array(e),n=Array(e),r=this.AC,o=0;o<e;o+=1){var s=t[o];s.high>r?(i[o]=y(s.position,s.high),n[o]=y(s.position,r)):s.high<r?(i[o]=y(s.position,r),n[o]=y(s.position,s.high)):(i[o]=y(s.position,s.high),n[o]=y(s.position,s.high))}return[i,n]},e.prototype.aM=function(){return Kf(this.tM,(function(t){return t[0]}))},e.prototype.setPositiveFillStyle=function(t){return this.sC(t),this},e.prototype.setNegativeFillStyle=function(t){return this.uC(t),this},e.prototype.setPositiveStrokeStyle=function(t){return this.aC(t),this},e.prototype.setNegativeStrokeStyle=function(t){return this.fC(t),this},e.prototype.getPositiveFillStyle=function(){return this.hC()},e.prototype.getNegativeFillStyle=function(){return this.Pa()},e.prototype.getPositiveStrokeStyle=function(){return this.cC()},e.prototype.getNegativeStrokeStyle=function(){return this.lC()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.GM,fill2:this.UM,behavior:{colorStep:!0}})},e}(Lp),Up=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oC=gt,e}return Up(e,t),e.prototype.dC=function(t){return this.tC(t)},e.prototype.mC=function(t){for(var e=t.length,i=Array(e),n=0;n<e;n+=1){var r=t[n];i[n]=y(r.position,r.high)}return[i,[]]},e.prototype.setStrokeStyle=function(t){return this.aC(t),this},e.prototype.getStrokeStyle=function(){return this.cC()},e}(Lp),Gp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),jp=function(){return(jp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Wp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h,c)||this,p=e.getSeries().length;return f.GM=J,f.UM=Ke(f.$i.areaSeriesNegativeFillStyle,p),f.eC=Ke(f.$i.areaSeriesNegativeStrokeStyle,p),f}return Gp(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Op(n,this.tM,Ql(e)?this.NM:this.VM);if(void 0!==r&&void 0!==r[0]){var o=Pt(r[0][0],this.In.fn.vt,this.scale),s=Pt(r[0][1],this.In.fn.vt,this.scale),a=o.y<s.y?o:s;return jp(jp({cursorPosition:{resultTable:a,resultTableScale:this.scale,pointMarker:a,pointMarkerScale:{x:this.axisX,y:this.axisY}}},a),{series:this,axisX:this.axisX,axisY:this.axisY})}},e.prototype.yC=function(t){return this.xC(t)},e.prototype.xC=function(t){var e=[];return 1===t.length?this.gC(t[0],e):this.SC(t,e),e},e.prototype.gC=function(t,e,i){void 0===i&&(i=0);var n=this.AC;return e[i]=t.y>n?g(t.x,n,n):g(t.x,t.y,n),i+1},e.prototype.SC=function(t,e,i){void 0===i&&(i=0);for(var n=0,r=t.length-1,o=this.AC;n<r;){var s=t[n],a=t[n+=1];if(s.y<=o){var u=g(s.x,s.y,o);0!==i&&Ce(e[i-1],u)||(e[i]=u,i+=1),a.y>o?((l=sn(y(bi,o),y(Ai,o),s,a))&&(e[i]=g(l.x,l.y,o),i+=1),e[i]=g(a.x,o,o),i+=1):(e[i]=g(a.x,a.y,o),i+=1)}else{var l;u=g(s.x,o,o),0!==i&&Ce(e[i-1],u)||(e[i]=u,i+=1),a.y<=o?((l=sn(y(bi,o),y(Ai,o),s,a))&&(e[i]=g(l.x,l.y,o),i+=1),e[i]=g(a.x,a.y,o),i+=1):(e[i]=g(a.x,o,o),i+=1)}}return i},e.prototype.aM=function(){return Kf(this.tM,(function(t){return t[1]}))},e.prototype.setFillStyle=function(t){return this.uC(t),this},e.prototype.getFillStyle=function(){return this.Pa()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.UM,stroke:this.eC})},e}(Yp),Xp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hp=function(){return(Hp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Zp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p=t.call(this,e,i,n,r,o,s,a,u,l,h,c)||this,d=f;return p.GM=Ke(p.$i.areaSeriesPositiveFillStyle,d),p.UM=J,p.eC=Ke(p.$i.areaSeriesPositiveStrokeStyle,d),p}return Xp(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Op(n,this.tM,Ql(e)?this.NM:this.VM);if(void 0!==r&&void 0!==r[0]){var o=Pt(r[0][0],this.In.fn.vt,this.scale),s=Pt(r[0][1],this.In.fn.vt,this.scale),a=o.y<s.y?s:o;return Hp(Hp({cursorPosition:{resultTable:a,resultTableScale:this.scale,pointMarker:a,pointMarkerScale:{x:this.axisX,y:this.axisY}}},a),{series:this,axisX:this.axisX,axisY:this.axisY})}},e.prototype.yC=function(t){return this.wC(t)},e.prototype.wC=function(t){var e=[];return 1===t.length?this.gC(t[0],e):this.SC(t,e),e},e.prototype.gC=function(t,e,i){void 0===i&&(i=0);var n=this.AC;return e[i]=t.y<n?g(t.x,n,n):g(t.x,t.y,n),i+1},e.prototype.SC=function(t,e,i){void 0===i&&(i=0);for(var n=0,r=t.length-1,o=this.AC;n<r;){var s=t[n],a=t[n+=1];if(s.y>=o){var u=g(s.x,s.y,o);0!==i&&Ce(e[i-1],u)||(e[i]=u,i+=1),a.y<o?((l=sn(y(bi,o),y(Ai,o),s,a))&&(e[i]=g(l.x,l.y,o),i+=1),e[i]=g(a.x,o,o),i+=1):(e[i]=g(a.x,a.y,o),i+=1)}else{var l;u=g(s.x,o,o),0!==i&&Ce(e[i-1],u)||(e[i]=u,i+=1),a.y>=o?((l=sn(y(bi,o),y(Ai,o),s,a))&&(e[i]=g(l.x,l.y,o),i+=1),e[i]=g(a.x,a.y,o),i+=1):(e[i]=g(a.x,o,o),i+=1)}}return i},e.prototype.aM=function(){return Kf(this.tM,(function(t){return t[0]||[]}))},e.prototype.setFillStyle=function(t){return this.sC(t),this},e.prototype.getFillStyle=function(){return this.hC()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.GM,stroke:this.eC})},e}(Yp),Qp={Positive:Zp,Negative:Wp,Bipolar:Np},qp=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Kp=function(){return(Kp=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Jp=function(t){function e(e,i,n,r,o,s,a,u,l,h,c){var f=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;f.chart.fn.Rs(Nu.Hv);var p=c;return f.GM=Ke(f.$i.areaRangeSeriesFillStyle,p),f.eC=Ke(f.$i.areaRangeSeriesStrokeStyle,p),f.UM=Ke(f.$i.areaRangeSeriesFillStyleInverted,p),f.oC=Ke(f.$i.areaRangeSeriesStrokeStyleInverted,p),f}return qp(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=Op(n,this.tM,Ql(e)?this.NM:this.VM);if(void 0!==r&&void 0!==r[0]){var o=Pt(r[0][0],this.In.fn.vt,this.scale),s=Pt(r[0][1],this.In.fn.vt,this.scale);return Kp(Kp({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY,multiHit:[o,s]})}},e.prototype.add=function(t){var e=Array.isArray(t)?t:[t],i=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(x(e),2),n=i[0],r=i[1];this.KM(t,n,r);var o=this.pf[this.pf.length-1];return this.eM=o?{position:o.position,high:o.high,low:o.low}:void 0,this.D.emit("dataAdd",this,e,this.oM),this},e.prototype.addArraysHighLow=function(t,e,i,n){if(void 0===i&&(i=1),void 0===n&&(n=0),t.length!==e.length)throw new Error("arrayHigh and arrayLow lengths are not equal");var r=n;return r||(r=this.eM?this.eM.position+i:0),this.add(function(t,e,i,n){void 0===i&&(i=1);for(var r=void 0!==n?n:0,o=new Array(t.length),s=0;s<t.length;s+=1)o[s]={position:r+i*s,high:t[s],low:e[s]};return o}(t,e,i,r)),this},e.prototype.dC=function(t,e){this.iC(t,e)},e.prototype.setHighFillStyle=function(t){return this.sC(t),this},e.prototype.setLowFillStyle=function(t){return this.uC(t),this},e.prototype.setHighStrokeStyle=function(t){return this.aC(t),this},e.prototype.setLowStrokeStyle=function(t){return this.fC(t),this},e.prototype.getHighFillStyle=function(){return this.hC()},e.prototype.getLowFillStyle=function(){return this.Pa()},e.prototype.getHighStrokeStyle=function(){return this.cC()},e.prototype.getLowStrokeStyle=function(){return this.lC()},e.prototype.aM=function(){return Kf(this.tM,(function(t){var e=t[0],i=t[1];if(!e||!i)return[];for(var n=[],r=e.length,o=0;o<r;o+=1)n[o]={position:e[o].x,high:e[o].y,low:i[o].y};return n}))},e.prototype.fM=function(t){return this.D.on("dataAdd",t)},e.prototype.cM=function(t){return this.D.off(t)},e.prototype.lM=function(t){return this.D.on("dataClear",t)},e.prototype.vM=function(t){return this.D.off(t)},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.GM,fill2:this.UM,behavior:{colorStep:!0}})},e}(Bp);!function(t){t[t.before=0]="before",t[t.middle=.5]="middle",t[t.after=1]="after"}(Sh||(Sh={}));var $p,td=function(t,e){var i=[],n=t.length,r=e;if(n>0){var o=0,s=t[0];i[o]=s,o+=1;for(var a=1;a<n;a+=1){var u=t[a];if(r<=0)i[o]=y(s.x,u.y),o+=1;else{var l=s.x*(1-r)+u.x*r;i[o]=y(l,s.y),i[o+=1]=y(l,u.y),o+=1}i[o]=u,o+=1,s=u}}return i},ed=function(t,e){if(void 0===e&&(e=32),2===t.length)return[t[0],t[1]];for(var i,n,r,o,s,a,u,l=function(t){var e=1e-5,i=t.length-1,n=Array(i);if(i>1)for(var r=y(0,0),o=y(0,0),s=y(0,0),a=Gi(Zi(t[1],t[0])),u=0,l=0,h=0;h<i;h+=1){var c=Array(4);if(c[0]=t[h],c[1]=t[h],c[3]=t[h+1],c[2]=t[h+1],s=a,r=o,h+1<i?(a=t[h+2]===t[h+1]?y(0,0):Gi(Zi(t[h+2],t[h+1])),o=Gi(Hi(s,a))):o=y(0,0),t[h+1].y===t[h].y)u=0,l=0;else{var f=t[h+1].x-t[h].x;u=Math.abs(r.x)>e?Math.abs(f/(3*r.x)):1,l=Math.abs(o.x)>e?Math.abs(f/(3*o.x)):1}c[1]=Hi(Xi(r,u),c[1]),c[2]=Zi(c[2],Xi(o,l)),n[h]=c}return n.length>0?n:[]}(t),h=l.length,c=Array(h*e),f=0,p=0;p<h;p+=1)for(var d=0;d<=e;d+=1)c[f]=(i=d/e,n=l[p],o=(r=i*i)*i,y((u=(a=(s=1-i)*s)*s)*n[0].x+3*i*a*n[1].x+3*r*s*n[2].x+o*n[3].x,u*n[0].y+3*i*a*n[1].y+3*r*s*n[2].y+o*n[3].y)),f+=1;return c},id=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nd=function(){return(nd=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},rd=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p,d,v){var g=t.call(this,e,i,n,r,o,s,a,u,l,c,f)||this;return g.tM=[],g.uM=1e5,g.gw=5,g.ph=0,g.Xh=!1,g.Hh=!1,g.Zh=!1,g.MC=1,g.CC=[],g._C=function(t,e){var i=t.Ml(e);if(i)return Pt(i,g.scale,g.In.fn.vt)},g.TC=function(t,e){var i=t.RM(e);if(i)return Pt(i,g.scale,g.In.fn.vt)},g.kC=function(t){if(g.tM.length>0){var e=g.tM[g.tM.length-1];if(t.length>0){var i=e.ra(),n=e.na(),r=i.length+n.length-+e.za();if(r>=g.uM){var o=n.length>0?n[n.length-1]:i[e.za()?r:r-1],s=y((o.x+t[0].x)/2,(o.y+t[0].y)/2);e.aa(s,S(y(s.x,s.y),y(s.x,s.y))).Va(!0),g.OC([s].concat(t)).La(!0)}else e.aa(t,g.oM)}}else t.length>0&&g.OC(t)},g.FC=function(t){if(g.CC.length>0){var e=g.CC[g.CC.length-1];t.length>0&&((e.ra().length+e.na().length)*g.MC>=g.uM?g.IC(t):e.aa(t))}else t.length>0&&g.IC(t)},g.Ws=v,g.Sw=h,g.jC=p,g.DC=Ke(c.pointLineSeriesFillStyle,d),g.lf=Ke(g.$i.pointLineSeriesStrokeStyle,d),g}return id(e,t),e.prototype.add=function(e){return t.prototype.add.call(this,e),this},e.prototype.aM=function(){return Kf(this.CC)},e.prototype.setStrokeStyle=function(t){this.lf="function"==typeof t?t(this.lf):t;for(var e=this.lf,i=0;i<this.tM.length;i+=1)this.tM[i].Ur(e);return this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.setPointFillStyle=function(t){this.DC="function"==typeof t?t(this.DC):t;for(var e=this.DC,i=0;i<this.CC.length;i+=1)this.CC[i].Br(e);return this.In.Sn(),this},e.prototype.getPointFillStyle=function(){return this.DC},e.prototype.setPointSize=function(t){this.gw=t;for(var e=0;e<this.CC.length;e+=1)this.CC[e].tt(t);return this.In.Sn(),this},e.prototype.getPointSize=function(){return this.gw},e.prototype.getPointShape=function(){return this.Sw},e.prototype.setPointRotation=function(t){this.ph=t;for(var e=0;e<this.CC.length;e+=1)this.CC[e].Ze(t);return this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.ph},e.prototype.setIndividualPointSizeEnabled=function(t){this.Xh=t,t&&this.chart.fn.Rs(Nu.qv);for(var e=0;e<this.CC.length;e+=1)this.CC[e].sa(t);return this.In.Sn(),this},e.prototype.getIndividualPointSizeEnabled=function(){return this.Xh},e.prototype.setIndividualPointRotationEnabled=function(t){this.Hh=t;for(var e=0;e<this.CC.length;e+=1)this.CC[e].ua(t);return this.In.Sn(),this},e.prototype.getIndividualPointRotationEnabled=function(){return this.Hh},e.prototype.setIndividualPointValueEnabled=function(t){this.Zh=t;for(var e=0;e<this.CC.length;e+=1)this.CC[e].ha(t);return this.In.Sn(),this},e.prototype.getIndividualPointValueEnabled=function(){return this.Zh},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.CC.forEach((function(t){return t.setVisible(e)})),this},e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.tM.length){var r=this.tM[0].Uu()||Bo.NearestX,o=Ql(e)?rp(n,this.tM,this.TC,r===Bo.NearestX?function(t,e){return Math.abs(t.x-e.x)}:r===Bo.NearestY?function(t,e){return Math.abs(t.y-e.y)}:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}):rp(n,this.CC,this._C,r===Bo.NearestX?function(t,e){return Math.abs(t.x-e.x)}:r===Bo.NearestY?function(t,e){return Math.abs(t.y-e.y)}:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)});if(void 0!==o){var s=Pt(o[0],this.In.fn.vt,this.scale);return nd(nd({cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}}},s),{series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.pv=function(){return Ze(this.DC)||Ze(this.lf.getFillStyle())},e.prototype.On=function(){return this.wn||this.Sw},e.prototype.Lw=function(t){},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.hM=function(t){var e=this.tM.length>0?this.tM[this.tM.length-1].ra().length+this.tM[this.tM.length-1].na().length-+this.tM[this.tM.length-1].za():void 0;qf(t,e,this.uM,this.kC),qf(t,e,this.uM,this.FC)},e.prototype.IC=function(t,e){var i=this.In.ig(this.scale).aa(t,e).setMouseInteractions(this.Yi).Br(this.DC).ea(this.Sw).tt(this.gw).Ze(this.ph).sa(this.Xh).ua(this.Hh).ha(this.Zh).cn(this.getHighlight());return this.vn(i),this.CC.push(i),i},e.prototype.OC=function(t,e){var i=this.In.Ib(this.scale,void 0,function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([Lh.UserSeries],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.jC),!1)).aa(t,e).setMouseInteractions(this.Yi).Ur(this.lf).cn(this.getHighlight());return this.vn(i),this.tM.push(i),i},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{stroke:this.lf,fill:this.DC})},e.prototype.getPointAmount=function(){return this.CC.reduce((function(t,e){return t+e.fa()+e.ca()}),this.pf.length)},e.prototype.clear=function(){t.prototype.clear.call(this);for(var e=0;e<this.tM.length;e+=1)this.tM[e].dispose();for(this.tM.length=0,e=0;e<this.CC.length;e+=1)this.CC[e].dispose();return this.CC.length=0,this},e.prototype.sM=function(e,i,n,r){t.prototype.sM.call(this,e,i,n,r),this.nM.sM(this.CC,i,n,r,this.scale,(function(t){}))},e}(np),od=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),sd=function(t,e){return t.na().length>=e?t.na().slice(-e):Array.prototype.concat(t.ra(),t.na()).slice(-e)},ad=function(t,e,i){var n=Array.prototype.concat(t.ra(),t.na()).slice(0,-i-1).concat(e.slice(i+1,2*i+2));t.zt().aa(n).En()},ud=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p,d,y){var v=t.call(this,e,i,n,r,o,s,a,u,l,h,c,f,p,d,y)||this;return v.MC=32,v.uM=8e3,v.BC=function(t){if(0!==t.length){var e=v.CC.length;if(e>0){var i=e>1,n=v.CC[e-1];if(i)if(32*(d=(p=Array.prototype.concat(n.ra(),n.na())).length)>=v.uM){var r=sd(n,3),o=Array.prototype.concat(r,t),s=ed(o,32);ad(v.tM[e-1],s,32),v.OC(s.slice(66))}else if(d<5){var a=v.CC[e-2],u=(r=sd(a,3),o=Array.prototype.concat(r,p,t),s=ed(o,32),v.tM[e-1]),l=s.slice(66);u.zt().aa(l).En()}else{u=v.tM[e-1];var h=Array.prototype.concat(u.ra(),u.na()),c=sd(n,4),f=(o=Array.prototype.concat(c,t),s=ed(o,32),h.slice(0,-66).concat(s.slice(33)));u.zt().aa(f).En()}else{var p,d=(p=Array.prototype.concat(n.ra(),n.na())).length;u=v.tM[e-1],32*d>=v.uM?(r=sd(n,3),o=Array.prototype.concat(r,t),s=ed(o,32),ad(v.tM[0],s,32),v.OC(s.slice(66))):d+t.length>1?(o=Array.prototype.concat(p,t),s=ed(o,32),u.zt().aa(s).En()):u.aa(t)}}else{var y=t.length>0?ed(t,32):t,g=Li(y);v.OC(y,g)}v.FC(t)}},v}return od(e,t),e.prototype.hM=function(t){var e=this.CC.length,i=this.CC.length>0?this.CC[e-1].ra().length+this.CC[e-1].na().length:void 0;qf(t,i,Math.ceil(this.uM/this.MC),this.BC)},e}(rd),ld=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hd=function(){function t(){this.Ni="FreeformPattern",this._a={type:"disabled",packager:function(t,e,i){return t.slice()}}}return t.prototype.sM=function(t,e,i,n,r,o){if(n>0){var s=Math.trunc((e-n)/i);if(s>0&&t.length>1)for(var a=t.splice(0,s),u=0;u<a.length;u+=1)o(a[u]),a[u].dispose()}},t.prototype.EC=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},t.prototype.getXMax=function(t,e){return void 0===t&&(t=[]),we(t,ge,Math.max,Ae,e)},t.prototype.getXMin=function(t,e){return void 0===t&&(t=[]),we(t,ve,Math.min,Se,e)},t.prototype.getYMax=function(t,e){return void 0===t&&(t=[]),we(t,xe,Math.max,Me,e)},t.prototype.getYMin=function(t,e){return void 0===t&&(t=[]),we(t,me,Math.min,be,e)},t}(),cd=function(t){switch(t){case"normal":default:return 1;case"high":return.25}},fd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ld(e,t),e.prototype.sM=function(t,e,i,n,r,o){if(n>0){var s=Math.ceil(n/i),a=t.length-s;if(a>0){var u=this.qM(t,r);if(u>0){var l=a-u>0?u:a;if(l>0){for(var h=0;h<l;h+=1)o(t[h]),t[h].dispose();t.splice(0,l)}}}}},e}(Object(n.b)({_a:{type:"disabled",packager:function(t,e,i){return t.slice()}}})),pd=function(t,e){var i=e.bt();return t?Math.min(i,t):i},dd=function(t,e){var i=e.St();return t?Math.max(i,t):i},yd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ld(e,t),e.prototype.EC=function(t,e){return Math.abs(t.x-e.x)},e.prototype.getYMax=function(t,e){return void 0===t&&(t=[]),t.reduce(dd,e?e.max.y:void 0)},e.prototype.getYMin=function(t,e){return void 0===t&&(t=[]),t.reduce(pd,e?e.min.y:void 0)},e}(fd),vd=function(t){function e(){var e=t.call(this,{_a:Fo()})||this;return e.Ni="HorizontalProgressivePattern",e}return ld(e,t),e.prototype.qM=function(t,e){var i=t.length,n=Math.min(e.x.getInnerStart(),e.x.getInnerEnd()),r=0;if(i>1)for(var o=0;o<i-1;o+=1)e.x.Ai(t[o].yt(),t[o].xa())<n&&(r+=1);return r},e.prototype.getXMax=function(t,e){return void 0===t&&(t=[]),void 0!==e?e?e.max.x:void 0:t.length>0?t[t.length-1].yt():void 0},e.prototype.getXMin=function(t,e){return void 0===t&&(t=[]),t.length>0&&t[0].fa()>0?t[0].At():e?e.min.x:void 0},e.prototype.setPrecision=function(t){return this.set("_columnPackaging",Fo(cd(t)))},e}(yd),gd=function(t){function e(){var e=t.call(this,{_a:_o()})||this;return e.Ni="HorizontalRegressivePattern",e}return ld(e,t),e.prototype.qM=function(t,e){var i=t.length,n=Math.max(e.x.getInnerStart(),e.x.getInnerEnd()),r=0;if(i>1)for(var o=0;o<i-1;o+=1)n<e.x.Ai(t[o].At(),-t[o].xa())&&(r+=1);return r},e.prototype.getXMax=function(t,e){return void 0===t&&(t=[]),t.length>0&&t[0].fa()>0?t[0].yt():e?e.max.x:void 0},e.prototype.getXMin=function(t,e){return void 0===t&&(t=[]),void 0!==e?e?e.min.x:void 0:t.length>0?t[t.length-1].At():void 0},e.prototype.setPrecision=function(t){return this.set("_columnPackaging",_o(cd(t)))},e}(yd),md=function(t,e){var i=e.At();return t?Math.min(i,t):i},xd=function(t,e){var i=e.yt();return t?Math.max(i,t):i},Sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ld(e,t),e.prototype.EC=function(t,e){return Math.abs(t.y-e.y)},e.prototype.getXMax=function(t,e){return void 0===t&&(t=[]),t.reduce(xd,e?e.max.x:void 0)},e.prototype.getXMin=function(t,e){return void 0===t&&(t=[]),t.reduce(md,e?e.min.x:void 0)},e}(fd),Ad=function(t){function e(){var e=t.call(this,{_a:Io()})||this;return e.Ni="VerticalProgressivePattern",e}return ld(e,t),e.prototype.qM=function(t,e){var i=t.length,n=Math.min(e.y.getInnerStart(),e.y.getInnerEnd()),r=0;if(i>1)for(var o=0;o<i-1;o+=1)e.y.Ai(t[o].St(),t[o].wa())<n&&(r+=1);return r},e.prototype.getYMax=function(t,e){return void 0===t&&(t=[]),void 0!==e?e?e.max.y:void 0:t.length>0?t[t.length-1].St():void 0},e.prototype.getYMin=function(t,e){return void 0===t&&(t=[]),t.length>0&&t[0].fa()>0?t[0].bt():e?e.min.y:void 0},e.prototype.setPrecision=function(t){return this.set("_columnPackaging",Io(cd(t)))},e}(Sd),bd=function(t){function e(){var e=t.call(this,{_a:Oo()})||this;return e.Ni="VerticalRegressivePattern",e}return ld(e,t),e.prototype.qM=function(t,e){var i=t.length,n=Math.max(e.y.getInnerStart(),e.y.getInnerEnd()),r=0;if(i>1)for(var o=0;o<i-1;o+=1)n<e.y.Ai(t[o].bt(),-t[o].wa())&&(r+=1);return r},e.prototype.getYMax=function(t,e){return void 0===t&&(t=[]),t.length>0&&t[0].fa()>0?t[0].St():e?e.max.y:void 0},e.prototype.getYMin=function(t,e){return void 0===t&&(t=[]),void 0!==e?e?e.min.y:void 0:t.length>0?t[t.length-1].bt():void 0},e.prototype.setPrecision=function(t){return this.set("_columnPackaging",Oo(cd(t)))},e}(Sd),Md={horizontalProgressive:new vd,horizontalRegressive:new gd,verticalProgressive:new Ad,verticalRegressive:new bd,freeform:new hd},wd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cd=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p,d,v){var g=t.call(this,e,i,n,r,o,s,a,u,Md.horizontalProgressive,l,c,f,p,d,v)||this;return g.kC=function(t){var e=g.tM.length>0?g.tM[g.tM.length-1].ra().length+g.tM[g.tM.length-1].na().length:void 0;qf(t,e,g.uM,g.PC)},g.PC=function(t){var e=t.length;if(g.tM.length>0){var i=g.tM[g.tM.length-1];if(e>0){var n=i.ra(),r=i.na(),o=r.length>0?r[r.length-1]:n[n.length-1],s=td([o].concat(t),g.LC);s.shift();var a=y((o.x+s[0].x)/2,(o.y+s[0].y)/2),u=Array.prototype.concat(a,s);(r.length>0?n.length+r.length:n.length)>=g.uM?(i.aa(a,S(y(a.x,a.y),y(a.x,a.y))).Va(!0),g.OC(u).La(!0),g.IC(t)):i.aa(u)}}else e>0&&g.OC(td(t,g.LC));g.FC(t)},g.LC=h,void 0===g.jC.find((function(t){return"DataPattern"===t.type}))&&g.jC.push({type:"DataPattern",args:{pattern:"ProgressiveX"}}),g}return wd(e,t),e}(rd),Pd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ed=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return c.zC=function(t){return t[4]>=t[1]},c.Xw=S(v(Ai,Ai),v(bi,bi)),c.VC=[],c.NC=!1,c.RC=-1,c.GC=[],c.UC=!0,c.WC=!1,c.YC=4,c.XC=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],c.chart.fn.Rs(Nu.Lv),c}return Pd(e,t),e.prototype.aM=function(){return this.GC},e.prototype.fM=function(t){return this.D.on("dataAdd",t)},e.prototype.cM=function(t){return this.D.off(t)},e.prototype.lM=function(t){return this.D.on("dataClear",t)},e.prototype.vM=function(t){return this.D.off(t)},e.prototype.kp=function(){return this.Ip&&this.GC.length>0&&this.getVisible()},e.prototype.HC=function(t){if(!(this.GC.length<1))return[this.GC[t][0],this.GC[t][1],this.GC[t][2],this.GC[t][3],this.GC[t][4]]},e.prototype.solveNearest=function(t,e){var i=this;if(0!==this.GC.length){var n,r,o,s,a,u=this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}).x,l=void 0!==this.getPackDataState();if(l){var h=this.ZC;if(!h)return;var c=hi(u,h.length-1,(function(t){return h[t][0]})),f=void 0!==c&&h[c];if(!f)return;s=f[3],o=f[2],r=f[1],a=f[4],n=f[0]}else{var p=hi(u,this.GC.length-1,(function(t){return i.GC[t][0]})),d=void 0!==p&&this.GC[p];if(!d)return;n=d[0],r=d[1],o=d[2],s=d[3],a=d[4]}return{cursorPosition:{resultTable:y(n,a),resultTableScale:this.scale,pointMarker:y(n,a),pointMarkerScale:{x:this.axisX,y:this.axisY}},x:n,y:a,open:r,high:o,low:s,close:a,position:n,isPacked:l,series:this,axisX:this.axisX,axisY:this.axisY}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this,axisX:this.axisX,axisY:this.axisY},{cursorPosition:0,x:0,y:0,multiHit:0,open:0,high:0,low:0,close:0,position:0,isPacked:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Lw=function(t){if(!(t.x instanceof An))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.QC=t.x},e.prototype.Oo=function(){return y(5,5)},e.prototype.zM=function(t){var e=t.length-1;if(e<0)return this;for(var i=0;i<=e;i+=1)t[i][3]<this.Xw.min.y&&(this.Xw.min.y=t[i][3]),this.Xw.max.y<t[i][2]&&(this.Xw.max.y=t[i][2]);return this.Xw.min.x=Math.min(this.Xw.min.x,t[0][0]),this.Xw.max.x=Math.max(this.Xw.max.x,t[e][0]),this},e.prototype.getXMax=function(){return this.Xw.max.x},e.prototype.getXMin=function(){return this.Xw.min.x},e.prototype.getYMax=function(){return this.Xw.max.y},e.prototype.getYMin=function(){return this.Xw.min.y},e.prototype.add=function(t){this.GC.length>0&&this.chart.fn.Rs(Nu.Jv);var e=Array.isArray(t[0])?t:[t[0]];if(e.length>0){this.NC=!0;var i=this.GC.length,n=this.VC.length,r=e.length;this.GC.length=i+r,this.VC.length=n+r;for(var o=0;o<r;o+=1)this.GC[i+o]=e[o],this.VC[n+o]=this.GC[i+o];this.zM(e),this.D.emit("dataAdd",this,e,void 0),this.In.Sn()}return this},e.prototype.setPackData=function(t){return t!==this.UC&&(this.WC=!0,this.UC=t,this.chart.fn.Sn()),this},e.prototype.getPackData=function(){return this.UC},e.prototype.getPackDataState=function(){var t=this.RC;if(!(t<0||void 0===this.ZC||this.ZC.length===this.GC.length))return{figureAxisInterval:t}},e.prototype.setFigureWidth=function(t){return this.KC=t,this.chart.fn.Sn(),this},e.prototype.getFigureWidth=function(){return this.KC},e.prototype.setFigureMinimumGap=function(t){return this.YC=t,this.chart.fn.Sn(),this},e.prototype.getFigureMinimumGap=function(){return this.YC},e.prototype.clear=function(){return this.GC=[],this.VC=[],this.ZC=void 0,this.JC(),this.Xw.min.x=Ai,this.Xw.min.y=Ai,this.Xw.max.x=bi,this.Xw.max.y=bi,this.D.emit("dataClear",this),this},e.prototype.qC=function(t){return this.QC.getPixelSize()*t/1e3},e.prototype.$C=function(){var t=this,e=this.XC.length-1,i=this.qC(this.KC+this.YC),n=hi(i,e,(function(e){return t.XC[e]}));return void 0===n?n=i<this.XC[0]?0:this.XC[e]<i?e:this.XC.length/2:this.XC[n]<i&&(n+=1),this.XC.length<=n&&(n=e),1e3*this.XC[n]},e.prototype.Pr=function(){if(t.prototype.Pr.call(this),!this.UC){this.ZC=void 0;var e=null;if(this.WC?(this.WC=!1,e=this.GC,this.JC()):e=this.VC,e.length>=1){for(var i=0;i<e.length;i+=1){var n=e[i],r=n[0];this.zC(n)?this.t_(r,n):this.i_(r,n)}this.VC.length=0,this.NC=!1,this.RC=-1}}},e.prototype.Xb=function(){t.prototype.Xb.call(this);var e=this.$C();if(this.UC&&this.GC.length>=1&&(e!==this.RC||this.NC||this.WC)){this.WC=!1,this.RC=e,this.NC=!1,this.JC(),this.ZC=[];for(var i=this.GC.length,n=this.GC[0][0]-this.GC[0][0]%(e/2)+e,r=0;r<i;){var o=this.HC(r);if(void 0===o)break;var s=o[3],a=o[2],u=r;for(r+=1;r<i&&this.GC[r][0]<n;)o=this.GC[r],this.GC[r][3]<s&&(s=this.GC[r][3]),a<this.GC[r][2]&&(a=this.GC[r][2]),r+=1;var l=r-1,h=o[0];u<l&&(o=[h=this.GC[l][0],this.GC[u][1],a,s,this.GC[l][4]]),o[1]<o[4]?this.t_(h,o):this.i_(h,o),this.ZC.push(o),n+=e}}},e}(Qf),Td=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kd=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return c.n_=1175494351e-14,c.KC=c.$i.ohlcCandleThicknessPixels||5,c.r_=c.$i.ohlcCandleTailStrokeStylePositive,c.e_=c.$i.ohlcCandleTailStrokeStyleNegative,c.o_=c.$i.ohlcCandleBodyFillStylePositive,c.s_=c.$i.ohlcCandleBodyFillStyleNegative,c.u_=n.py(c.scale).Ur(new Hn({thickness:c.KC,fillStyle:c.o_})),c.u_.bf={x:0,y:1},c.h_=n.py(c.scale).Ur(new Hn({thickness:c.KC,fillStyle:c.s_})),c.h_.bf={x:0,y:-1},c.a_=n.py(c.scale).Ur(c.r_),c.f_=n.py(c.scale).Ur(c.e_),c.vn(c.u_),c.vn(c.h_),c.vn(c.a_),c.vn(c.f_),c}return Td(e,t),e.prototype.setBodyThickness=function(t){return this.KC=t,this.u_.Ur(new Hn({thickness:this.KC,fillStyle:this.o_})),this.h_.Ur(new Hn({thickness:this.KC,fillStyle:this.s_})),this.chart.fn.Sn(),this},e.prototype.getBodyThickness=function(){return this.KC},e.prototype.setBodyFillStylePositive=function(t){return this.o_="function"==typeof t?t(this.o_):t,this.u_.Ur(new Hn({thickness:this.KC,fillStyle:this.o_})),this.chart.fn.Sn(),this},e.prototype.getBodyFillStylePositive=function(){return this.o_},e.prototype.setBodyFillStyleNegative=function(t){return this.s_="function"==typeof t?t(this.s_):t,this.h_.Ur(new Hn({thickness:this.KC,fillStyle:this.s_})),this.chart.fn.Sn(),this},e.prototype.getBodyFillStyleNegative=function(){return this.s_},e.prototype.setTailStrokeStylePositive=function(t){return this.r_="function"==typeof t?t(this.r_):t,this.a_.Ur(this.r_),this.chart.fn.Sn(),this},e.prototype.getTailStrokeStylePositive=function(){return this.r_},e.prototype.setTailStrokeStyleNegative=function(t){return this.e_="function"==typeof t?t(this.e_):t,this.f_.Ur(this.e_),this.chart.fn.Sn(),this},e.prototype.getTailStrokeStyleNegative=function(){return this.e_},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.o_,fill2:this.s_,behavior:{colorStep:!0}})},e.prototype.JC=function(){return this.a_.zt(),this.f_.zt(),this.u_.zt(),this.h_.zt(),this},e.prototype.t_=function(t,e){return Math.abs(e[1]-e[4])<this.n_?this.u_.Wo().Sy({x:t,y:e[1]-this.n_},{x:t,y:e[1]+this.n_}):this.u_.Wo().Sy({x:t,y:e[1]},{x:t,y:e[4]}),e[4]<e[2]&&this.a_.Wo().Sy({x:t,y:e[4]},{x:t,y:e[2]}),e[3]<e[1]&&this.a_.Wo().Sy({x:t,y:e[3]},{x:t,y:e[1]}),this},e.prototype.i_=function(t,e){return Math.abs(e[1]-e[4])<this.n_?this.h_.Wo().Sy({x:t,y:e[1]-this.n_},{x:t,y:e[1]+this.n_}):this.h_.Wo().Sy({x:t,y:e[1]},{x:t,y:e[4]}),e[3]<e[4]&&this.f_.Wo().Sy({x:t,y:e[3]},{x:t,y:e[4]}),e[1]<e[2]&&this.f_.Wo().Sy({x:t,y:e[1]},{x:t,y:e[2]}),this},e}(Ed),Dd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fd=function(t){function e(e,i,n,r,o,s,a,u,l,h){var c=t.call(this,e,i,n,r,o,s,a,u,l,h)||this;return c.KC=c.$i.ohlcBarThicknessPixels||10,c.c_=c.$i.ohlcBarStrokeStylePositive,c.l_=c.$i.ohlcBarStrokeStyleNegative,c.v_=n.py(c.scale).Ur(c.c_),c.vn(c.v_),c.d_=n.py(c.scale).Ur(c.c_),c.d_.bf={x:-c.KC/2,y:0},c.vn(c.d_),c.A_=n.py(c.scale).Ur(c.c_),c.A_.bf={x:c.KC/2,y:0},c.vn(c.A_),c.y_=n.py(c.scale).Ur(c.l_),c.vn(c.y_),c.m_=n.py(c.scale).Ur(c.l_),c.m_.bf={x:-c.KC/2,y:0},c.vn(c.m_),c.b_=n.py(c.scale).Ur(c.l_),c.b_.bf={x:c.KC/2,y:0},c.vn(c.b_),c}return Dd(e,t),e.prototype.setStrokeStylePositive=function(t){return this.c_="function"==typeof t?t(this.c_):t,this.v_.Ur(this.c_),this.d_.Ur(this.c_),this.A_.Ur(this.c_),this.chart.fn.Sn(),this},e.prototype.getStrokeStylePositive=function(){return this.c_},e.prototype.setStrokeStyleNegative=function(t){return this.l_="function"==typeof t?t(this.l_):t,this.y_.Ur(this.l_),this.m_.Ur(this.l_),this.b_.Ur(this.l_),this.chart.fn.Sn(),this},e.prototype.getStrokeStyleNegative=function(){return this.l_},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.c_.getFillStyle(),fill2:this.l_.getFillStyle(),behavior:{colorStep:!0}})},e.prototype.setFigureWidth=function(e){return t.prototype.setFigureWidth.call(this,e),this.d_.bf={x:-e/2,y:0},this.m_.bf={x:-e/2,y:0},this.A_.bf={x:e/2,y:0},this.b_.bf={x:e/2,y:0},this},e.prototype.JC=function(){return this.y_.zt(),this.v_.zt(),this.m_.zt(),this.d_.zt(),this.b_.zt(),this.A_.zt(),this},e.prototype.t_=function(t,e){return this.v_.Wo().Sy({x:t,y:e[3]},{x:t,y:e[2]}),this.d_.Wo().Sy({x:t,y:e[1]},{x:t,y:e[1]}),this.A_.Wo().Sy({x:t,y:e[4]},{x:t,y:e[4]}),this},e.prototype.i_=function(t,e){return this.y_.Wo().Sy({x:t,y:e[3]},{x:t,y:e[2]}),this.m_.Wo().Sy({x:t,y:e[1]},{x:t,y:e[1]}),this.b_.Wo().Sy({x:t,y:e[4]},{x:t,y:e[4]}),this},e}(Ed),_d={Candlesticks:kd,Bars:Fd},Id=function(){return(Id=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Od=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bd=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,e,i,n,r,o,u)||this;return l.p_=!1,l.g_=!1,l.S_=!1,l.x_=!1,l.w_=new Map,l.M_=new Map,l.C_=[],l.__=[],l.T_=!0,l.k_=!0,l.O_=new Set,l.F_=!1,l.Pm=o,l.I_=s,l.j_=a,l.D_=u.cursorGridStrokeStyleX,l.B_=u.cursorGridStrokeStyleY,l}return Od(e,t),e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.w_.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.M_.forEach((function(t){return t.forEach((function(t){return t.dispose()}))})),this.C_.length=0,this.__.length=0,this.Bm.length=0,this},e.prototype.Pr=function(){var e=this;return this.C_.forEach((function(t){return t.setVisible(e.Zi&&e.Ey).setMarkerVisible(e.Zi&&e.Ey&&e.T_)})),this.__.forEach((function(t){return t.setVisible(e.Zi&&e.Ey).setMarkerVisible(e.Zi&&e.Ey&&e.k_)})),t.prototype.Pr.call(this)},e.prototype.setPosition=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.C_.forEach((function(t){return t.setVisible(!1)})),this.__.forEach((function(t){return t.setVisible(!1)})),this.C_.length=0,this.__.length=0,0===e.length)return this;var n=this.renderingScale,r=e[0].resultTable,o=Bl(e[0].resultTableScale,n),s=o===this.scale?r:Pt(r,o,this.scale);this.pm.setPosition(s),this.Ey=!1,this.Im.forEach((function(t){t.targetVisible=!1}));var a=new Map;return e.forEach((function(e,i){var r=e.pointMarkerScale.x,o=e.pointMarkerScale.y,s=a.get(r)||[],u=a.get(o)||[],l=!s.includes(e.pointMarker.x),h=!u.includes(e.pointMarker.y);s.push(e.pointMarker.x),u.push(e.pointMarker.y),a.set(r,s),a.set(o,u);var c=e.pointMarker,f=Rd(y(c.x,c.y),r,o);if(l){var p=t.Me(r,!0);p.setValue(c.x),p.setGridStrokeLength(t.p_?f.x:1).setAllocatesAxisSpace(t.F_),t.C_.push(p)}if(h){var d=t.Me(o,!1);d.setValue(c.y),d.setGridStrokeLength(t.g_?f.y:1).setAllocatesAxisSpace(t.F_),t.__.push(d)}var v=t.Im[i];if(!v){var g=new Na(t.In,t.renderingScale,t.scale,ue,t.$i).setMouseInteractions(!1).setFillStyle(t.$i.cursorPointMarkerFillStyle).setSize(t.$i.cursorPointMarkerSize).setShape(t.$i.cursorPointMarkerShape);v={pointMarker:g,targetVisible:!0},t.Im.push(v),t.Bm.forEach((function(t){return t(g)}))}var m=Bl(e.pointMarkerScale,n),x=m===t.scale?e.pointMarker:Pt(e.pointMarker,m,t.scale);v.pointMarker.setPosition(x),v.targetVisible=!0;var S=r.getInterval(),A=o.getInterval(),b=Math.min(S.start,S.end),M=Math.max(S.start,S.end),w=Math.min(A.start,A.end),C=Math.max(A.start,A.end);c.x>=b&&c.x<=M&&c.y>=w&&c.y<=C&&(t.Ey=!0)})),this},e.prototype.setTickMarkersAllocateAxisSpace=function(t){return this.F_=t,this.In.Sn(),this},e.prototype.getTickMarkersAllocateAxisSpace=function(){return this.F_},e.prototype.Me=function(t,e){this.O_.has(t)||(t.onDispose((function(){var e;null===(e=i.get(t))||void 0===e||e.forEach((function(t){return t.dispose()})),i.delete(t)})),this.O_.add(t));var i=e?this.w_:this.M_,n=e?this.C_:this.__,r=i.get(t)||[];i.set(t,r);var o=r.find((function(t){return!n.includes(t)}));return o||(o=e?t.Oy(!1,this.I_):t.Oy(!1,this.j_),r.push(o),this.do(o,e),o.setMouseInteractions(!1)),o},e.prototype.do=function(t,e){var i=e?this.D_:this.B_;return t.setGridStrokeStyle(i),t.setMouseInteractions(!1),(e?this.T_:this.k_)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t},e.prototype.setGridStrokeXCut=function(t){return this.p_=t,this.In.Sn(),this},e.prototype.getGridStrokeXCut=function(){return this.p_},e.prototype.setGridStrokeYCut=function(t){return this.g_=t,this.In.Sn(),this},e.prototype.getGridStrokeYCut=function(){return this.g_},e.prototype.setGridStrokeXStyle=function(t){var e=this;return this.D_=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.w_.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(e.D_)}))})),this},e.prototype.getGridStrokeXStyle=function(){return this.D_},e.prototype.setGridStrokeYStyle=function(t){var e=this;return this.B_=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.M_.forEach((function(t){return t.forEach((function(t){return t.setGridStrokeStyle(e.B_)}))})),this},e.prototype.getGridStrokeYStyle=function(){return this.B_},e.prototype.setTickMarkerXVisible=function(t){return this.T_=t,this.In.Sn(),this},e.prototype.getTickMarkerXVisible=function(){return this.T_},e.prototype.setTickMarkerYVisible=function(t){return this.k_=t,this.In.Sn(),this},e.prototype.getTickMarkerYVisible=function(){return this.k_},e.prototype.setTickMarkerX=function(t){return this.w_.forEach((function(e){return e.forEach((function(e){return e.setMarker(t)}))})),this.I_=this.I_.addStyler(t),this.In.Sn(),this},e.prototype.setTickMarkerY=function(t){return this.M_.forEach((function(e){return e.forEach((function(e){return e.setMarker(t)}))})),this.j_=this.j_.addStyler(t),this.In.Sn(),this},e}(uh),zd=function t(e,i,n,r){var o=this;this.Vm=[],this.Nm=function(t,e){return o.Vm.forEach((function(i){return i(t,e)})),t},this.addStyler=function(e){return new t(o.Pm,o.I_,o.j_,o.Vm.map((function(t){return t})).concat(e))},this.setResultTableBackground=function(e){return new t(e,o.I_,o.j_,o.Vm.map((function(t){return t})))},this.Rm=function(t,e,i,n,r){return o.Nm(new Bd(t,e,i,n,o.Pm,o.I_,o.j_,r),r)},this.Pm=e,this.Vm=r,this.I_=i,this.j_=n},Ld=new zd(za,Ru.PointableTextBox,Ru.PointableTextBox,[function(t,e){lh(t),t.setTickMarkerX((function(t){t.setEffect(!0).setTextFont(e.cursorTickMarkerXTextFont).setTextFillStyle(e.cursorTickMarkerXTextFillStyle),Ts(t)&&t.setBackground((function(t){return t.setFillStyle(e.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerXBackgroundStrokeStyle)}))})),t.setTickMarkerY((function(t){t.setEffect(!0).setTextFont(e.cursorTickMarkerYTextFont).setTextFillStyle(e.cursorTickMarkerYTextFillStyle),Ts(t)&&t.setBackground((function(t){return t.setFillStyle(e.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerYBackgroundStrokeStyle)}))}))}]),Rd=function(t,e,i){var n=e.vt,r=i.vt,o=(t.x-n.getInnerStart())/(n.getInnerEnd()-n.getInnerStart()),s=(t.y-r.getInnerStart())/(r.getInnerEnd()-r.getInnerStart());return 1===i.LA&&(o=1-o),1===e.LA&&(s=1-s),y(s,o)},Vd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nd=function(){return(Nd=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ud=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p,d){var y=t.call(this,e,i,n,r,o,s,a,u,l,h,c)||this;return y.tM=[],y.aw=!0,y.uM=void 0,y.gf=void 0,y.E_=function(t,e){var i=t.bw(e);if(i)return Pt(i,y.scale,y.In.fn.vt)},y.TC=function(t,e){var i=t.RM(e);if(i)return Pt(i,y.scale,y.In.fn.vt)},y.pv=function(){return Ze(y.lf.getFillStyle())},y.jC=f,y.Ws=d,y.lf=Ke(y.$i.lineSeriesStrokeStyle,p),y.P_={individualLookupValuesEnabled:void 0!==(null==d?void 0:d.individualLookupValuesEnabled)&&d.individualLookupValuesEnabled},y}return Vd(e,t),e.prototype.ln=function(){var t,e;return null===(e=null===(t=this.Ws)||void 0===t?void 0:t.dataPattern)||void 0===e?void 0:e.pattern},e.prototype.add=function(e){return t.prototype.add.call(this,e),this},e.prototype.setMouseInteractions=function(e){return t.prototype.setMouseInteractions.call(this,e)},e.prototype.setStrokeStyle=function(t){this.lf="function"==typeof t?t(this.lf):t;for(var e=this.lf,i=0;i<this.tM.length;i+=1)this.tM[i].Ur(e);return this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.lf},e.prototype.setDataCleaning=function(t){var e=this;return this.gf=t,this.tM.forEach((function(t){return t.Sf(e.gf)})),this.In.Sn(),this},e.prototype.setCursorInterpolationEnabled=function(t){return this.aw=t,this.In.fn.Sn(),this},e.prototype.getCursorInterpolationEnabled=function(){return this.aw},e.prototype.Lw=function(t){},e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY};if(0!==this.tM.length){var r=this.tM[0].Uu()||Bo.NearestX,o=rp(n,this.tM,Ql(e)?this.TC:this.E_,r===Bo.NearestX?function(t,e){return Math.abs(t.x-e.x)}:r===Bo.NearestY?function(t,e){return Math.abs(t.y-e.y)}:function(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)});if(void 0!==o){var s=Pt(o[0],this.In.fn.vt,this.scale);return Nd(Nd({cursorPosition:{resultTable:s,resultTableScale:this.scale,pointMarker:s,pointMarkerScale:{x:this.axisX,y:this.axisY}}},s),{series:this,axisX:this.axisX,axisY:this.axisY})}}},e.prototype.hM=function(t){var e=this.tM[0];e||(e=this.OC(),this.tM.push(e),this.vn(e)),e.aa(t,this.oM)},e.prototype.OC=function(){return this.In.Ib(this.scale,this.P_,function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([Lh.UserSeries],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.jC),!1)).Ur(this.lf).Sf(this.gf).cn(this.getHighlight())},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{stroke:this.lf})},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.sM=function(t,e,i,n){},e}(np),Yd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gd=function(){return(Gd=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},jd=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f,p){var d=t.call(this,e,i,n,r,o,s,a,u,new hd,h,c)||this;return d.tM=[],d.gw=5,d.ph=0,d.Xh=!1,d.Hh=!1,d.Zh=!1,d.uM=void 0,d._C=function(t,e){var i=t.Ml(e);if(i)return Pt(i,d.scale,d.In.fn.vt)},d.Ws=p,d.Sw=l,d.Or=Ke(h.pointSeriesFillStyle,f),d}return Yd(e,t),e.prototype.add=function(e){return t.prototype.add.call(this,e),this},e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=rp(n,this.tM,this._C,Ii);if(void 0!==r){var o=Pt(r[0],this.In.fn.vt,this.scale);return Gd(Gd({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY})}},e.prototype.pv=function(){return Ze(this.Or)},e.prototype.On=function(){return this.wn||this.Sw},e.prototype.Lw=function(t){},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.setPointFillStyle=function(t){this.Or="function"==typeof t?t(this.Or):t;for(var e=this.Or,i=0;i<this.tM.length;i+=1)this.tM[i].Br(e);return this.In.Sn(),this},e.prototype.getPointFillStyle=function(){return this.Or},e.prototype.setPointSize=function(t){this.gw=t;for(var e=0;e<this.tM.length;e+=1)this.tM[e].tt(t);return this.In.Sn(),this},e.prototype.getPointSize=function(){return this.gw},e.prototype.getPointShape=function(){return this.Sw},e.prototype.setPointRotation=function(t){this.ph=t;for(var e=0;e<this.tM.length;e+=1)this.tM[e].Ze(t);return this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.ph},e.prototype.setIndividualPointSizeEnabled=function(t){this.Xh=t,t&&this.chart.fn.Rs(Nu.qv);for(var e=0;e<this.tM.length;e+=1)this.tM[e].sa(t);return this.In.Sn(),this},e.prototype.getIndividualPointSizeEnabled=function(){return this.Xh},e.prototype.setIndividualPointRotationEnabled=function(t){this.Hh=t;for(var e=0;e<this.tM.length;e+=1)this.tM[e].ua(t);return this.In.Sn(),this},e.prototype.getIndividualPointRotationEnabled=function(){return this.Hh},e.prototype.setIndividualPointValueEnabled=function(t){this.Zh=t;for(var e=0;e<this.tM.length;e+=1)this.tM[e].ha(t);return this.In.Sn(),this},e.prototype.getIndividualPointValueEnabled=function(){return this.Zh},e.prototype.hM=function(t){var e=this.tM[0];e||(e=this.OC()),e.aa(t,this.oM)},e.prototype.OC=function(){var t=this.In.ig(this.scale).ea(this.Sw).tt(this.gw).Ze(this.ph).sa(this.Xh).ua(this.Hh).ha(this.Zh).Br(this.Or).cn(this.getHighlight());return this.tM.push(t),this.vn(t),t},e}(np),Wd=function(){function t(t,e,i,n){var o=this;this.L_=!1,this.D=new r.a,this.chart=i,this.z_=n,this.Kn=t.Kn,this.rr=n||kr,this.V_=ne.document.createElement("div"),this.V_.style.position="absolute",this.V_.style.pointerEvents="none",ne.document.body.append(this.V_);var s=function(){var t=i.engine.container.getBoundingClientRect();o.V_.style.left="".concat(t.left,"px"),o.V_.style.top="".concat(t.top,"px"),o.V_.style.width="".concat(t.width,"px"),o.V_.style.height="".concat(t.height,"px")};s(),i.onResize(s),this.N_(this.V_),this.R_(),this.G_(),this.U_(),this.W_(e),this.chart.Y_().push(this)}return t.prototype.N_=function(t){this.X_=ne.document.createElement("div"),this.X_.style.pointerEvents="all",t.append(this.X_),this.H_=ne.document.createElement("div"),this.Z_=new Sr(this.Kn,this.rr,this.chart,this.H_),this.Q_=ne.document.createElement("table"),this.Q_.style.borderSpacing="0",this.X_.appendChild(this.Z_.dr()),this.X_.appendChild(this.H_),this.H_.appendChild(this.Q_)},t.prototype.G_=function(){var t=this,e=0,i=0,n=0,r=0,o=!1;this.L_=!1,this.X_.onmousedown=function(s){s=s||ne.event,n=s.clientX,r=s.clientY,o=!0,ne.document.onmouseup=function(e){t.L_?t.X_.addEventListener("click",Ie,!0):t.X_.removeEventListener("click",Ie,!0),o=!1,t.L_=!1,ne.document.onmouseup=null,ne.document.onmousemove=null},ne.document.onmousemove=function(s){s=s||ne.event,o&&(e=n-s.clientX,i=r-s.clientY,n=s.clientX,r=s.clientY,t.L_=!0,t.X_.style.top="".concat(t.X_.offsetTop-i,"px"),t.X_.style.left="".concat(t.X_.offsetLeft-e,"px"),t.X_.style.removeProperty("right"),t.X_.style.removeProperty("bottom"))}}},t.prototype.U_=function(){var t=this,e=0,i=0,n=0,r=0,o=!1;this.X_.ontouchstart=function(s){s=s||ne.event,n=s.touches[0].clientX,r=s.touches[0].clientY,o=!0,t.X_.ontouchend=function(){o=!1,ne.document.ontouchend=null,ne.document.ontouchmove=null},t.X_.ontouchmove=function(s){o&&(Ie(s),s=s||ne.event,e=n-s.touches[0].clientX,i=r-s.touches[0].clientY,n=s.touches[0].clientX,r=s.touches[0].clientY,t.X_.style.top="".concat(t.X_.offsetTop-i,"px"),t.X_.style.left="".concat(t.X_.offsetLeft-e,"px"),t.X_.style.removeProperty("right"),t.X_.style.removeProperty("bottom"))}}},t.prototype.R_=function(){this.X_.style.setProperty("top","10px"),this.X_.style.setProperty("left","10px"),this.X_.style.position="absolute",this.X_.style.display="flex",this.X_.style.alignItems="flex-start",this.H_.style.setProperty("display","none")},t.prototype.removePositionProperty=function(){this.X_.style.removeProperty("top"),this.X_.style.removeProperty("left"),this.X_.style.removeProperty("bottom"),this.X_.style.removeProperty("right")},t.prototype.setPositionProperty=function(t){switch(this.removePositionProperty(),t){case Ar.BottomLeft:this.X_.style.setProperty("bottom","10px"),this.X_.style.setProperty("left","10px");break;case Ar.TopLeft:this.X_.style.setProperty("top","10px"),this.X_.style.setProperty("left","10px");break;case Ar.BottomRight:this.X_.style.setProperty("bottom","10px"),this.X_.style.setProperty("right","10px");break;case Ar.TopRight:default:this.X_.style.setProperty("top","10px"),this.X_.style.setProperty("right","10px")}},t.prototype.W_=function(t){for(var e=0;e<t.length;e+=1)for(var i=this.Q_.insertRow(),n=0;n<t[e].length;n+=1){var r=i.insertCell(),o=t[e][n];"object"!==a(o)?this.K_(o,r):this.addCustomButton(o,r)}},t.prototype.K_=function(t,e){switch(t){case Ln.ZoomIn:this.J_(new cr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomInX:this.J_(new fr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomInY:this.J_(new pr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomOut:this.J_(new dr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomOutX:this.J_(new yr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomOutY:this.J_(new vr(this.Kn,this.chart,this.rr),e);break;case Ln.ZoomToFit:this.J_(new mr(this.Kn,this.chart,this.rr),e);break;case Ln.ToggleAnimations:this.J_(new gr(this.Kn,this.chart,this.rr),e);break;default:console.error('No predefined button like "'.concat(Ln[t],'" exists.'))}},t.prototype.J_=function(t,e){e.rowSpan=t.Jn.rows,e.colSpan=t.Jn.columns,t.vr(e)},t.prototype.addCustomButton=function(t,e){var i=new xr(this.Kn,t,this.chart);return this.J_(i,e),this},t.prototype.dispose=function(){this.V_.remove(),this.D.emit("dispose",this)},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t}(),Xd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hd=function(){return(Hd=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Zd=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p,d=this;return(d=t.call(this,e,i,n,r,o,s,a,u,l,h)||this).q_=0,d.Ws=f,d.Yh=d.In.Ul(d.scale).Ur(Ke(d.$i.lineSeriesStrokeStyle,c)).Rl(Ke(d.$i.pointSeriesFillStyle,c)).Gl(Ke(d.$i.areaSeriesPositiveFillStyle,c)).tT(void 0).Ql(7),d.Yh.iT=!1!==(null===(p=d.Ws)||void 0===p?void 0:p.allowDataGrouping),d.vn(d.Yh),d}return Xd(e,t),e.prototype.ln=function(){return this.getDataSet().bl()},e.prototype.setDataSet=function(t){var e,i=this;return t===(null===(e=this.Vl)||void 0===e?void 0:e.Nt)||(t.Qc&&this.chart.fn.Rs(Nu.$v),t.Jc&&this.chart.fn.Rs(Nu.qv),this.Vl=di(t,this.Vl,(function(){return[t.Cl((function(){i.q_+=1,i.q_>1&&i.chart.fn.Rs(Nu.Jv),i.chart.fn.Sn()})),t._l((function(){return i.chart.fn.Sn()}))]})),this.Yh.Nl(t),this.chart.fn.Sn()),this},e.prototype.getDataSet=function(){return this.nT()},e.prototype.setStrokeStyle=function(t){return this.Yh.Ur(t),this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Yh.vf()},e.prototype.setAreaFillStyle=function(t){return this.Yh.Gl(t),this.In.Sn(),this},e.prototype.getAreaFillStyle=function(){return this.Yh.rT()},e.prototype.setPointFillStyle=function(t){return this.Yh.Rl(t),this.In.Sn(),this},e.prototype.getPointFillStyle=function(){return this.Yh.Zl()},e.prototype.setPointSize=function(t){return this.Yh.Ql(t),this.In.Sn(),this},e.prototype.getPointSize=function(){return this.Yh.eT()},e.prototype.setPointShape=function(t){return this.Yh.Wl(t),this.In.Sn(),this},e.prototype.getPointShape=function(){return this.Yh.Yl()},e.prototype.setPointRotation=function(t){return this.Yh.Xl(t),this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.Yh.Hl()},e.prototype.setPointAlignment=function(t){return this.Yh.oT(t),this.chart.fn.Sn(),this},e.prototype.getPointAlignment=function(){return this.Yh.sT()},e.prototype.setCurvePreprocessing=function(t){return this.Yh.tT(t),this.In.Sn(),this},e.prototype.getCurvePreprocessing=function(){return this.Yh.uT()},e.prototype.add=function(t){return this.nT().add(t),this.In.Sn(),this},e.prototype.addArraysXY=function(t,e){return this.nT().addArraysXY(t,e),this.In.Sn(),this},e.prototype.appendJSON=function(t,e){return this.nT().appendJSON(t,e),this.In.Sn(),this},e.prototype.appendSample=function(t){return this.nT().appendSample(t),this.In.Sn(),this},e.prototype.appendSamples=function(t){return this.nT().appendSamples(t),this.In.Sn(),this},e.prototype.fill=function(t){return this.nT().fill(t),this.In.Sn(),this},e.prototype.setSamples=function(t){return this.nT().setSamples(t),this.In.Sn(),this},e.prototype.alterSamples=function(t,e){return this.nT().alterSamples(t,e),this.In.Sn(),this},e.prototype.alterSamplesByID=function(t,e){return this.nT().alterSamplesByID(t,e),this.In.Sn(),this},e.prototype.getSampleCount=function(){return this.nT().getSampleCount()},e.prototype.getNextSampleIndex=function(){return this.nT().getNextSampleIndex()},e.prototype.clear=function(){return this.nT().clear(),this.In.Sn(),this},e.prototype.setMaxSampleCount=function(t){return a(t),this.nT().setMaxSampleCount(t),this.In.Sn(),this},e.prototype.getMaxSampleCount=function(){return this.nT().getMaxSampleCount()},e.prototype.readBack=function(t){return this.nT().readBack(t)},e.prototype.onMaxSampleCountExceeded=function(t){return this.nT().onMaxSampleCountExceeded(t)},e.prototype.offMaxSampleCountExceeded=function(t){return this.nT().offMaxSampleCountExceeded(t)},e.prototype.solveNearest=function(t,e){void 0===e&&(e=this.chart.getCursorMode()||"show-nearest");var i=Ql(e);void 0!==this.getCurvePreprocessing()&&(i=!1);var n=this.hT(),r=this.chart.translateCoordinate(t,{x:this.axisX,y:this.axisY}),o=n.Ml(r,i,this.scale,this.chart.GA);if(void 0!==o)return Hd(Hd({cursorPosition:{resultTable:o,resultTableScale:this.scale,pointMarker:o,pointMarkerScale:{x:this.axisX,y:this.axisY}}},o),{series:this,axisX:this.axisX,axisY:this.axisY})},e.prototype.Ji=function(t,e){var i=this,n=this.getDataSet(),r=null==t?void 0:t.dataPoint;return void 0===n.bl()||r?r?Hd(Hd({cursorPosition:{resultTable:r,resultTableScale:this.scale,pointMarker:r,pointMarkerScale:{x:this.axisX,y:this.axisY}}},r),{series:this,axisX:this.axisX,axisY:this.axisY}):void 0:yi({series:this,axisX:this.axisX,axisY:this.axisY},{x:0,y:0,cursorPosition:0,id:0,rotation:0,size:0,color:0,lookupValue:0,multiHit:0,iSample:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.hT=function(){return this.nT()},e.prototype.pv=function(){return Ze(this.getPointFillStyle())||Ze(this.getStrokeStyle().getFillStyle())||Ze(this.getAreaFillStyle())},e.prototype.kp=function(){var t,e=null===(t=this.Vl)||void 0===t?void 0:t.Nt;return this.getAutoScrollingEnabled()&&void 0!==e&&e.Gc>0},e.prototype.Lw=function(t){},e.prototype.getXMax=function(){return this.Yh.yt()},e.prototype.getXMin=function(){return this.Yh.At()},e.prototype.getYMax=function(){return this.Yh.St()},e.prototype.getYMin=function(){return this.Yh.bt()},e.prototype.Oo=function(){return{x:this.Yh.xa(),y:this.Yh.wa()}},e.prototype.nT=function(){var t=this;if(!this.Vl){var e=new Ca(this.Ws);e.Qc&&this.chart.fn.Rs(Nu.$v),e.Jc&&this.chart.fn.Rs(Nu.qv),this.Vl=di(e,this.Vl,(function(){return[e.Cl((function(){t.q_+=1,t.q_>1&&t.chart.fn.Rs(Nu.Jv),t.chart.fn.Sn()})),e._l((function(){t.chart.fn.Sn()}))]})),this.Yh.Nl(e)}return this.Vl.Nt},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1);var i=this.getPointFillStyle(),n=this.getAreaFillStyle();He(t,this.$i,e,{stroke:this.getStrokeStyle(),fill:i!==J?i:n,behavior:{priority:"stroke"}})},e.prototype.On=function(){return this.wn||this.getPointShape()},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e}(Qf),Qd=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qd=function(){return(qd=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Kd=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Jd=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},$d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ty=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,i){return t.forEach((function(t){return t.forEach((function(t){t.axis.vt.tt(e),t.axis.VA.tt(i)}))}))}},ey=y(10,10);!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}($p||($p={}));var iy,ny,ry=new Set([$p.Top,$p.Bottom,$p.Left,$p.Right]),oy=function(t){return t.setStopped(!0)},sy=function(t){return t.getChartInteractionFitByDrag()?t.fit(!0):void 0},ay=function(t,e){var i="linear-highPrecision"===t.Pe.type||"linear-highPrecision"===e.Pe.type,n="logarithmic"===t.Pe.type||"logarithmic"===e.Pe.type;if(i&&n){var r="Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ".concat(t.Pe.type,", y: ").concat(e.Pe.type,")");throw new Error(r)}};!function(t){t[t.seriesBackground=0]="seriesBackground",t[t.gridLine0=1]="gridLine0",t[t.gridLine1=2]="gridLine1",t[t.gridLine2=3]="gridLine2",t[t.highlightersBelow=4]="highlightersBelow"}(iy||(iy={})),function(t){t[t.plotting=0]="plotting",t[t.highlightersAbove=1]="highlightersAbove",t[t.fg=2]="fg"}(ny||(ny={}));var uy,ly=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("chartXY bg",0),r,i.fn.$i.chartXYBackgroundFillStyle,i.fn.$i.chartXYBackgroundStrokeStyle,i.fn.$i.chartXYTitleFont,i.fn.$i.chartXYTitleFillStyle,a)||this;u.aT=u.Ry.d2({scaleXYConstructor:Cn}),u.wy=[],u.My=[],u._y=[],u.Cy=[],u.fT=new Map,u.cT=!0,u.lT=!0,u.vT=!0,u.dd=2,u.dT=!0,u.AT=!0,u.yT=[],u.mT=u.om.Er(u.aT).Br(J).Dr(gt).setMouseInteractions(!1),u.bT=u.om.Wr(u.aT).Ur(gt).setMouseInteractions(!1),u.pT=u.om.Wr(u.aT).Ur(gt).setMouseInteractions(!1),u.gT=u.$i.chartXYZoomingRectangleFillStyle,u.ST=u.$i.chartXYZoomingRectangleStrokeStyle,u.xT=u.$i.chartXYFittingRectangleFillStyle,u.wT=u.$i.chartXYFittingRectangleStrokeStyle,u.MT=Kn.Default,u.CT=Kn.Move,u._T=Kn.ZoomIn,u.TT=Kn.Default,u.kT=void 0,u.Dd=cy,u.Pw=0,u.OT=function(t,e,i){var n=t.solveNearest(e,i);return n&&_i(n.cursorPosition.pointMarker.x,n.axisX.getInterval().start,n.axisX.getInterval().end)&&_i(n.cursorPosition.pointMarker.y,n.axisY.getInterval().start,n.axisY.getInterval().end)?n:void 0},u.FT=ty(u.My,u.wy),u.IT=ty(u._y,u.Cy),u.jT=function(t,e,i,n,r){u.FT(n,r),u.IT(r,n),u.aT.tt(n,r),u.fn.Sn()},u.DT=function(t,e){u.fT.set(t,e)},u.DA=function(t){var e=u.My.findIndex((function(e){return e.axis===t})),i=u.wy.findIndex((function(e){return e.axis===t})),n=u._y.findIndex((function(e){return e.axis===t})),r=u.Cy.findIndex((function(e){return e.axis===t}));e>=0&&u.My.splice(e,1),i>=0&&u.wy.splice(i,1),n>=0&&u._y.splice(n,1),r>=0&&u.Cy.splice(r,1),u.fT.delete(t),u.fn.Sn()},u.addAreaSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||u.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||u.getDefaultAxisY();ay(e,i);var n=t&&t.baseline?t.baseline:0,r=new(t&&t.type?t.type:Qp.Positive)(u,u.eg,u.gx,e,i,u.BT(e),u.BT(i),u.Wy,n,u.$i,u.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:u.ng.length);return u.ag(r),r},u.addAreaRangeSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||u.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||u.getDefaultAxisY();ay(e,i);var n=new Jp(u,u.eg,u.gx,e,i,u.BT(e),u.BT(i),u.Wy,u.$i,u.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:u.ng.length);return u.ag(n),n},u.ET=!1,u.PT=!1,u.zw=function(){(u.cT||u.lT)&&(u.kT=u.engine.setMouseStyle(u.MT))},u.Vw=function(){u.ET=!1,u.engine.restoreMouseStyle(u.kT)},u.Nw=function(t,e,i){var n,r,o=ye(null===(n=u.Yd.Ys)||void 0===n?void 0:n.chartXYRectangleZoomFitMouseButton,0),s=ye(null===(r=u.Yd.Ys)||void 0===r?void 0:r.chartXYPanMouseButton,2);u.engine.restoreMouseStyle(u.kT);var a=u.om.fn.Vr(e.clientX,e.clientY);i===o&&(u.cT||u.lT)?(u.LT(t,a),Ie(e)):i===s&&u.dT&&(u.kT=u.engine.setMouseStyle(u.CT),u.PT=!0,Ie(e))},u.Bp=function(t,e,i,n,r){var o,s,a=y(e.clientX,e.clientY),l=ye(null===(o=u.Yd.Ys)||void 0===o?void 0:o.chartXYRectangleZoomFitMouseButton,0),h=ye(null===(s=u.Yd.Ys)||void 0===s?void 0:s.chartXYPanMouseButton,2);i===l&&(u.cT||u.lT)?(u.zT(t,n,a),Ie(e)):i===h&&u.dT&&(u.VT(Xi(r,-1)),Ie(e)),u.fn.Sn()},u.Ep=function(t,e,i,n){var r,o,s=ye(null===(r=u.Yd.Ys)||void 0===r?void 0:r.chartXYRectangleZoomFitMouseButton,0),a=ye(null===(o=u.Yd.Ys)||void 0===o?void 0:o.chartXYPanMouseButton,2);if(i===s&&(u.cT||u.lT)){var l=y(e.clientX,e.clientY);u.NT(t,n,l),Ie(e)}else i===a&&u.dT&&Ie(e);u.engine.restoreMouseStyle(u.kT),u.ug.getIsUnderMouse()&&(u.kT=u.engine.setMouseStyle(u.MT)),u.ET=!1,u.PT=!1},u.Dp=function(t,e){if(u.vT){var i=u.om.fn.Vr(e.clientX,e.clientY);u.RT(i,y(Je(e),Je(e))),Ie(e)}},u.GT=function(t,e,i,n){},u.UT=function(t,e,i,n,r,o){if(u.dT){var s=y(-(n.x+r.x)/2,-(n.y+r.y)/2);u.VT(s),Ie(o),u.PT=!0}if(u.vT){var a=u.fn.ju({clientX:e.x,clientY:e.y}),l=u.fn.ju({clientX:i.x,clientY:i.y}),h=Zi(y(Math.abs(a.engineX-n.x-(l.engineX-r.x)),Math.abs(a.engineY-n.y-(l.engineY-r.y))),y(Math.abs(a.engineX-l.engineX),Math.abs(a.engineY-l.engineY)));u.forEachAxisX((function(t){t.getChartInteractionZoomByWheel()&&t.dt(t.vt.Ai(t.getInterval().start,-h.x),t.vt.Ai(t.getInterval().end,h.x),!1,!0,"interactionZoom")})),u.forEachAxisY((function(t){t.getChartInteractionZoomByWheel()&&t.dt(t.vt.Ai(t.getInterval().start,-h.y),t.vt.Ai(t.getInterval().end,h.y),!1,!0,"interactionZoom")})),Ie(o),u.ET=!0}},u.WT=function(t,e,i,n){u.PT=!1,u.ET=!1},u.YT=function(t,e,i){(u.lT||u.cT)&&(u.LT(t,e),Ie(i))},u.XT=function(t,e,i,n,r){(u.lT||u.cT)&&(u.zT(t,e,i),Ie(r))},u.HT=function(t,e,i,n){(u.lT||u.cT)&&(u.NT(t,e,i),Ie(n))},u.fn.Rs(Nu.Xv),u.setPadding({right:24}),u.ZT=i.zS("chartXY series bg",iy.seriesBackground),u.QT=[iy.gridLine0,iy.gridLine1,iy.gridLine2].map((function(t){return i.KT("chartXY gridline #".concat(t),t)})),u.IA=i.KT("chartXY highlighters below",iy.highlightersBelow),u.gx=i.bb("chartXY plotting",ny.plotting),u.jA=i.bb("chartXY highlighters above",ny.highlightersAbove),u.iA=i.bb("chartXY fg",ny.fg),u.aT.x.q(0,u.uiScale.x.getCellSize()-(u.Yt.left+u.Yt.right+u.xh.left+u.xh.right)),u.aT.y.q(0,u.uiScale.y.getCellSize()-(u.Yt.bottom+u.Yt.top+u.xh.bottom+u.xh.top)),u.aT.tt(u.uiScale.oi().x,u.uiScale.oi().y),u.ug=u.ZT.Er(u.aT).Br(u.$i.chartXYSeriesBackgroundFillStyle).Dr(gt),u.hg=u.iA.Er(u.aT).Br(J).Dr(u.$i.chartXYSeriesBackgroundStrokeStyle).setMouseInteractions(!1),t.prototype.sg.call(u,u.ug,u.hg),u.setSeriesBackgroundEffect(!1);var l=ye(s?s.cursorBuilder:void 0,Ld),h=i.gb();return u.Sb=Kl(u,h,l.Rm(h,u.aT,u.aT,ue,u.$i),u,"show-all",yy,(function(t,e){var i=u.translateCoordinate(t,{x:t.axisX,y:t.axisY},u.coordsClient);return Math.sqrt(Math.pow(i.clientX-e.clientX,2)+Math.pow(i.clientY-e.clientY,2))})),u.addAxisX(s&&s.defaultAxisX),u.addAxisY(s&&s.defaultAxisY),u.onResize(u.jT),u.pe.vo("ChartXY"),u.Pp=Gn(new jn.Drag(u.YT,u.XT,u.HT,1),new jn.Pinch(u.GT,u.UT,u.WT)),u.onSeriesBackgroundMouseEnter(u.zw),u.onSeriesBackgroundMouseLeave(u.Vw),u.onSeriesBackgroundMouseWheel(u.Dp),u.onSeriesBackgroundMouseDragStart(u.Nw),u.onSeriesBackgroundMouseDrag(u.Bp),u.onSeriesBackgroundMouseDragStop(u.Ep),u.onSeriesBackgroundTouchStart(u.Pp.onTouchStart),u.onSeriesBackgroundTouchMove(u.Pp.onTouchMove),u.onSeriesBackgroundTouchEnd(u.Pp.onTouchEnd),u.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),u.im(o,u.aT),u}return Qd(e,t),Object.defineProperty(e.prototype,"coordsAxis",{get:function(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}},enumerable:!1,configurable:!0}),e.prototype.getSeries=function(){return this.ng},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.solveNearest=function(t,e){return void 0===e&&(e=this.getCursorMode()||"show-nearest"),this.Sb.solveNearest(t,e,this.ng,this.OT)},e.prototype.addCursor=function(t){void 0===t&&(t=Ld);var e=this.Wy(),i=t.Rm(e,this.aT,this.aT,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.getMinimumSize=function(){var t={x:0,y:0};t.x+=this.Yt.left+this.Yt.right+this.xh.left+this.xh.right,t.y+=this.Yt.top+this.Yt.bottom+this.xh.top+this.xh.bottom;var e=this.pe.En().Tl(),i=C(fy(this.Dd||cy),this.rm);return t.x+=e.x+i.left+i.right,t.y+=e.y+i.top+i.bottom,this.JT&&(t.x+=this.JT.left,t.x+=this.JT.right,t.y+=this.JT.top,t.y+=this.JT.bottom),t.x+=ey.x,t.y+=ey.y,t},e.prototype.addAxisX=function(t){var e,i,n,r=On(t),o=r.opposite,s=r.type;(n="linear"===s.type?this.Ry.d1({dimension:"x",scale1DConstructor:An}):"linear-highPrecision"===s.type?this.Ry.d1({dimension:"x",scale1DConstructor:An}).xi():this.Ry.d1({dimension:"x",scale1DConstructor:cn}).vi(s.base)).tt(this.aT.x.oi());var a,u,l,h=o?this.wy:this.My,c=new Xu(this.QT,this.iA,this.om,this.IA,this.jA,this.fn.rn,n,this.aT.y,(l=function(){return c.oy()},Id(Id({},Zu),function(t){return Id({defaultDragMouseStyle:Kn.Horizontal,getTitleTextRotation:function(){return 0}},oc(t,(function(t){return t.getXMin()}),(function(t){return t.getXMax()}),(function(t){return t.Oo().x})))}(l))),this,o?100:0,this.DA,this.DT,this.$i,this.fe,s);return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(a=h.reduce((function(t,e){return Math.max(t,e.iParallel+1)}),0),u=0):(a=null!==(e=t.iParallel)&&void 0!==e?e:0,u=null!==(i=t.iStack)&&void 0!==i?i:0),h.push({axis:c,iStack:u,iParallel:a}),this.fn.Sn(),c},e.prototype.addAxisY=function(t){var e,i,n,r=On(t),o=r.opposite,s=r.type;(n="linear"===s.type?this.Ry.d1({dimension:"y",scale1DConstructor:An}):"linear-highPrecision"===s.type?this.Ry.d1({dimension:"y",scale1DConstructor:An}).xi():this.Ry.d1({dimension:"y",scale1DConstructor:cn}).vi(s.base)).tt(this.aT.y.oi());var a,u,l,h=o?this.Cy:this._y,c=new Xu(this.QT,this.iA,this.om,this.IA,this.jA,this.fn.rn,n,this.aT.x,(l=function(){return c.oy()},Id(Id({},Qu),function(t){return Id({defaultDragMouseStyle:Kn.Vertical,getTitleTextRotation:function(t){return 90*t}},oc(t,(function(t){return t.getYMin()}),(function(t){return t.getYMax()}),(function(t){return t.Oo().y})))}(l))),this,o?100:0,this.DA,this.DT,this.$i,this.fe,s);return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(a=h.reduce((function(t,e){return Math.max(t,e.iParallel+1)}),0),u=0):(a=null!==(e=t.iParallel)&&void 0!==e?e:0,u=null!==(i=t.iStack)&&void 0!==i?i:0),h.push({axis:c,iParallel:a,iStack:u}),this.fn.Sn(),c},e.prototype.swapAxes=function(t,e){var i=[this.My,this._y,this.Cy,this.wy],n=i.find((function(e){return void 0!==e.find((function(e){return e.axis===t}))})),r=i.find((function(t){return void 0!==t.find((function(t){return t.axis===e}))}));if(!n||!r)return this;if(n!==r)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");var o=n.find((function(e){return e.axis===t})),s=n.find((function(t){return t.axis===e}));if(!o||!s)return this;var a=o.iParallel,u=o.iStack;return o.iParallel=s.iParallel,o.iStack=s.iStack,s.iParallel=a,s.iStack=u,this.fn.Sn(),this},e.prototype.dispose=function(){return this.Sb.U(),this.ZT.U(),this.gx.U(),this.iA.U(),this.QT.forEach((function(t){return t.U()})),this.jA.U(),this.IA.U(),this.Y_().forEach((function(t){return t.dispose()})),Vl(this.aT),this.My.slice().forEach((function(t){return t.axis.dispose()})),this._y.slice().forEach((function(t){return t.axis.dispose()})),this.Cy.slice().forEach((function(t){return t.axis.dispose()})),this.wy.slice().forEach((function(t){return t.axis.dispose()})),this.ng.slice().forEach((function(t){t.dispose()})),t.prototype.dispose.call(this)},e.prototype.getDefaultAxisX=function(){var t;return null===(t=Jd(Jd([],Kd(this.My),!1),Kd(this.wy),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(e.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),e.prototype.getDefaultAxisY=function(){var t;return null===(t=Jd(Jd([],Kd(this._y),!1),Kd(this.Cy),!1).find((function(t){return t.axis.getVisible()})))||void 0===t?void 0:t.axis},Object.defineProperty(e.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),e.prototype.getDefaultAxes=function(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]},e.prototype.getAxes=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=e&&e.length>0?new Set(e):ry;return ce(Array.from(n).map((function(e){switch(e){default:case $p.Top:return t.wy.map((function(t){return t.axis}));case $p.Bottom:return t.My.map((function(t){return t.axis}));case $p.Left:return t._y.map((function(t){return t.axis}));case $p.Right:return t.Cy.map((function(t){return t.axis}))}})))},e.prototype.qT=function(t){var e;return this.forEachAxisX((function(i){e=t===i?"x":e})),this.forEachAxisY((function(i){e=t===i?"y":e})),e},e.prototype.forEachAxisX=function(t){this.My.forEach((function(e,i,n){return t(e.axis,i,n.map((function(t){return t.axis})))})),this.wy.forEach((function(e,i,n){return t(e.axis,i,n.map((function(t){return t.axis})))}))},e.prototype.forEachAxisY=function(t){this._y.forEach((function(e,i,n){return t(e.axis,i,n.map((function(t){return t.axis})))})),this.Cy.forEach((function(e,i,n){return t(e.axis,i,n.map((function(t){return t.axis})))}))},e.prototype.setTitlePosition=function(t){return this.Dd=t,this.fn.Sn(),this},e.prototype.getTitlePosition=function(){return this.Dd},e.prototype.$T=function(t,e,i,n){var r,o=this.Dd||cy,s=C(fy(o),this.rm);this.getTitleFillStyle()===J||0===this.getTitle().length?(r={x:0,y:0},s={left:0,top:0,right:0,bottom:0}):r=this.pe.En().Tl();var a=Math.abs(n)+this.xh.bottom+this.Yt.bottom,u=Math.abs(i)+this.xh.top+this.Yt.top,l={left:Math.abs(t)+this.xh.left+this.Yt.left,right:Math.abs(e)+this.xh.right+this.Yt.right,top:u,bottom:a},h=this.uiScale.Ri(),c=py(o,h,l,r,s,this.xh),f=c.horizontalAlignment,p=c.verticalAlignment,d=c.position,y=c.marginsWithTitle;return this.pe.Lr(d).Lh(f).Vh(p),y},e.prototype.Pr=function(e){var i,n,r,o,s,a,u=this;t.prototype.Pr.call(this,e);try{for(var l=$d(this.ng),h=l.next();!h.done;h=l.next())h.value.Np()}catch(t){i={error:t}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}try{for(var c=$d(this.ng),f=c.next();!f.done;f=c.next())f.value.Pr()}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}var p=ni(this.ng.map((function(t){return t.Rw()}))),d=new Set(p.map((function(t){return t.tk})));if(1===d.size){var v=Array.from(d)[0],g="x"===v?[this.My,this.wy]:[this._y,this.Cy],m="y"===v?[this.My,this.wy]:[this._y,this.Cy];g.forEach((function(t){return t.forEach((function(t){return t.axis.Fo()}))})),p.forEach((function(t){return t.ik()})),m.forEach((function(t){return t.forEach((function(t){return t.axis.Fo()}))}))}else this._y.forEach((function(t){return t.axis.Fo()})),this.My.forEach((function(t){return t.axis.Fo()})),this.wy.forEach((function(t){return t.axis.Fo()})),this.Cy.forEach((function(t){return t.axis.Fo()}));var x=this._y.map((function(t){return t.axis.En()})),S=this.My.map((function(t){return t.axis.En()})),b=this.wy.map((function(t){return t.axis.En()})),M=this.Cy.map((function(t){return t.axis.En()})),w=!1;this.forEachAxis((function(t){(t.Bo()||t.Eo())&&(w=!0)}));var C=this.ET||this.PT||!this.AT&&w,P=new Set(this.getAxes().map((function(t){return t.getStackIndex()}))).size>1;this.Sb.Pr(C,P?this.ng.sort((function(t,e){return e.axisY.getStackIndex()-t.axisY.getStackIndex()})):this.ng,this.OT,{afterCursorPointedAt:function(t){var e=u.fn.zs();if(t.length>1&&e){var i=u.fn.ju(e);u.Sb.lm.zm({x:i.engineX,y:i.engineY},u.fn.vt)}},overrideCursorPositions:function(t,e){return t.map((function(t){return t.multiHit?t.multiHit.map((function(e){return qd(qd({},t.cursorPosition),{pointMarker:e})})):[t.cursorPosition]})).flat()}});var E=dy(this._y,x),T=dy(this.My,S),k=dy(this.wy,b),D=dy(this.Cy,M),F=this.$T(E.thicknessTotal,D.thicknessTotal,k.thicknessTotal,T.thicknessTotal),_=this.aT.x.getCellSize()-(F.left+F.right),I=this.aT.y.getCellSize()-(F.bottom+F.top),O=[F.left,F.right],B=[F.bottom,F.top];this.aT.x.q(0,_),this.aT.y.q(0,I),this.aT.x.ti(O),this.aT.y.ti(B);var z=function(t,e,i,n){var r=0;t.groups.forEach((function(t){var o=0,s=t.stacks.reduce((function(t,e){return Math.max(t,e.hy)}),0),a=t.stacks.reduce((function(t,e){return t+(e.axis.getVisible()?e.axis.Ed+e.axis.Pd:0)}),0),u=t.stacks.reduce((function(t,e){return t+(e.axis.getVisible()&&"pixels"in e.axis.Av?e.axis.Av.pixels:0)}),0),l=e-a-u;t.stacks.forEach((function(n){var a=n.axis,u=a.getVisible(),h=Math.max(e-o,0),c=Math.min(u?"pixels"in a.Av?a.Av.pixels:a.Av.relative/t.sumRelativeSize*l:0,h),f=u?i[0]+o+a.Ed:0,p=u?i[1]+(e-o)-c-a.Ed:0;a.vt.ti([f,p]),a.Pr({hy:s,ly:n.ly,yy:c,nk:o,xy:s+n.ly,by:r}),u&&(o+=c+a.Ed+a.Pd)})),r+=n*t.thicknessMax}))};z(E,I,B,-1),z(D,I,B,1),z(T,_,O,-1),z(k,_,O,1),this.JT={left:E.thicknessTotal,top:k.thicknessTotal,right:D.thicknessTotal,bottom:T.thicknessTotal},this.ug.Lr(y(0,0)).tt(y(_,I)),this.hg.Lr(y(0,0)).tt(y(_,I));var L=A(this.aT.x.ii(),this.aT.y.ii(),this.aT.x.ri(),this.aT.y.ri());this.gx.OS(L),this.IA.OS(L),this.jA.OS(L),this.By&&this.By(),t.prototype.tm.call(this),this.My.forEach((function(t){return t.axis.Ty()})),this.wy.forEach((function(t){return t.axis.Ty()})),this._y.forEach((function(t){return t.axis.Ty()})),this.Cy.forEach((function(t){return t.axis.Ty()}));try{for(var R=$d(this.ng),V=R.next();!V.done;V=R.next())V.value.Xb()}catch(t){s={error:t}}finally{try{V&&!V.done&&(a=R.return)&&a.call(R)}finally{if(s)throw s.error}}},e.prototype.K=function(){for(var e=0;e<this.My.length;e+=1)this.My[e].axis.K();for(e=0;e<this.wy.length;e+=1)this.wy[e].axis.K();for(e=0;e<this._y.length;e+=1)this._y[e].axis.K();for(e=0;e<this.Cy.length;e+=1)this.Cy[e].axis.K();return t.prototype.K.call(this)},e.prototype.BT=function(t){if(this.fT.has(t))return this.fT.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")},e.prototype.addLineSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=Md.freeform;t&&t.dataPattern&&(n="ProgressiveX"===t.dataPattern.pattern?Md.horizontalProgressive:"ProgressiveY"===t.dataPattern.pattern?Md.verticalProgressive:"RegressiveX"===t.dataPattern.pattern?Md.horizontalRegressive:"RegressiveY"===t.dataPattern.pattern?Md.verticalRegressive:Md.freeform);var r=new Ud(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,n,this.$i,this.fn.rn,Rh(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(r),r},e.prototype.addPointLineAreaSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=new Zd(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(n),n},e.prototype.addPointSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=t&&t.pointShape&&Object.values(Co).includes(t.pointShape)?"string"==typeof t.pointShape?Co[t.pointShape]:t.pointShape:Co.Square,r=new jd(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,n,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(r),r},e.prototype.addPointLineSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=t&&t.pointShape&&Object.values(Co).includes(t.pointShape)?"string"==typeof t.pointShape?Co[t.pointShape]:t.pointShape:Co.Square,r=Md.freeform;t&&t.dataPattern&&(r="ProgressiveX"===t.dataPattern.pattern?Md.horizontalProgressive:"ProgressiveY"===t.dataPattern.pattern?Md.verticalProgressive:"RegressiveX"===t.dataPattern.pattern?Md.horizontalRegressive:"RegressiveY"===t.dataPattern.pattern?Md.verticalRegressive:Md.freeform);var o=new rd(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,r,n,this.$i,this.fn.rn,Rh(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(o),o},e.prototype.addStepSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=t&&t.pointShape?t.pointShape:Co.Square,r=t&&t.mode?t.mode:Sh.before,o=new Cd(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,n,r,this.$i,this.fn.rn,Rh(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(o),o},e.prototype.addSplineSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=t&&t.pointShape?t.pointShape:Co.Square,r=Md.freeform;t&&t.dataPattern&&(r="ProgressiveX"===t.dataPattern.pattern?Md.horizontalProgressive:"RegressiveX"===t.dataPattern.pattern?Md.horizontalRegressive:Md.freeform);var o=new ud(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,r,n,this.$i,this.fn.rn,Rh(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,t);return this.ag(o),o},e.prototype.addRectangleSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=new xp(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length);return this.ag(n),n},e.prototype.addPolygonSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY(),n=new yp(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length);return this.ag(n),n},e.prototype.addSegmentSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=new Mp(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length);return this.ag(n),n},e.prototype.addEllipseSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=new cp(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length);return this.ag(n),n},e.prototype.addBoxSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=t&&t.dimensionStrategy?t.dimensionStrategy:Zu,r=new ap(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,n,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length);return this.ag(r),r},e.prototype.addHeatmapGridSeries=function(t){var e,i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return e=new Pp(this,this.eg,this.gx,i,n,this.BT(i),this.BT(n),this.Wy,t,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length),this.ag(e),e},e.prototype.addHeatmapScrollingGridSeries=function(t){var e,i=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),n=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return e=new Dp(this,this.eg,this.gx,i,n,this.BT(i),this.BT(n),this.Wy,t,this.$i,this.fn.rn,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length),this.ag(e),e},e.prototype.addOHLCSeries=function(t){var e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();ay(e,i);var n=new(t&&t.type?t.type:_d.Candlesticks)(this,this.eg,this.gx,e,i,this.BT(e),this.BT(i),this.Wy,this.$i,this.fn.rn);return this.ag(n),n},e.prototype.addOnScreenMenu=function(t,e){return new Wd(this.Yd,t,this,e)},e.prototype.setMouseBackgroundStyle=function(t){return void 0===t&&(t=Kn.Default),this.MT=t,this},e.prototype.setMouseZoomStyle=function(t){return void 0===t&&(t=Kn.ZoomIn),this._T=t,this},e.prototype.setMouseFitStyle=function(t){return void 0===t&&(t=Kn.Default),this.TT=t,this},e.prototype.setMousePanStyle=function(t){return void 0===t&&(t=Kn.Move),this.CT=t,this},e.prototype.setMouseInteractions=function(t){return this.setMouseInteractionRectangleZoom(t).setMouseInteractionRectangleFit(t).setMouseInteractionWheelZoom(t).setMouseInteractionPan(t)},e.prototype.setMouseInteractionRectangleZoom=function(t){return this.cT=t,this},e.prototype.getMouseInteractionRectangleZoom=function(){return this.cT},e.prototype.setMouseInteractionRectangleFit=function(t){return this.lT=t,this},e.prototype.getMouseInteractionRectangleFit=function(){return this.lT},e.prototype.setMouseInteractionPan=function(t){return this.dT=t,this},e.prototype.getMouseInteractionPan=function(){return this.dT},e.prototype.setMouseInteractionWheelZoom=function(t){return this.vT=t,this},e.prototype.getMouseInteractionWheelZoom=function(){return this.vT},e.prototype.setZoomingRectangleFillStyle=function(t){return this.gT="function"==typeof t?t(this.gT):t,this.fn.Sn(),this},e.prototype.getZoomingRectangleFillStyle=function(){return this.gT},e.prototype.setZoomingRectangleStrokeStyle=function(t){return this.ST="function"==typeof t?t(this.ST):t,this.fn.Sn(),this},e.prototype.getZoomingRectangleStrokeStyle=function(){return this.ST},e.prototype.setFittingRectangleFillStyle=function(t){return this.xT="function"==typeof t?t(this.xT):t,this.fn.Sn(),this},e.prototype.getFittingRectangleFillStyle=function(){return this.xT},e.prototype.setFittingRectangleStrokeStyle=function(t){return this.wT="function"==typeof t?t(this.wT):t,this.fn.Sn(),this},e.prototype.getFittingRectangleStrokeStyle=function(){return this.wT},e.prototype.addLegendBox=function(e,i){var n=t.prototype.addLegendBox.call(this,e,i);if(void 0===i||i===this.uiScale)if(void 0===e||"vertical"===e.getAlignment())n.setOrigin(br.RightCenter).setPosition({x:this.uiScale.x.ft(this.uiScale.x.ni()-this.xh.right),y:Ct(this.aT.y.ft(this.aT.y.ii()+this.aT.y.ri()/2),this.aT.y,this.uiScale.y)});else{var r=this.Dd||cy,o=py(r,this.uiScale.Ri(),this.xh,this.getTitleFillStyle()===J||0===this.getTitle().length?{x:0,y:0}:this.pe.En().Tl(),C(fy(r),this.rm),this.xh).marginsWithTitle.top;n.setOrigin(br.RightTop).setPosition(Pt({x:this.GA.x.getInnerEnd()-this.xh.right,y:this.GA.y.getInnerEnd()-o},this.GA,this.uiScale))}return n},e.prototype.LT=function(t,e){this.forEachAxis(oy);var i=this.fn.ju({clientX:e.x,clientY:e.y}),n=Pt({x:i.engineX,y:i.engineY},this.om.fn.vt,this.aT);this.mT.Lr(n).tt(y(0,0))},e.prototype.zT=function(t,e,i){var n=this.fn.ju({clientX:e.x,clientY:e.y}),r=Pt({x:n.engineX,y:n.engineY},this.om.fn.vt,this.aT),o=this.fn.ju({clientX:i.x,clientY:i.y}),s=Pt({x:o.engineX,y:o.engineY},this.om.fn.vt,this.aT),a=_i(s.x,this.aT.x.getInnerStart(),this.aT.x.getInnerEnd())&&_i(s.y,this.aT.y.getInnerStart(),this.aT.y.getInnerEnd()),u=y(Math.min(r.x,s.x),Math.min(r.y,s.y)),l=y(Math.max(r.x,s.x),Math.max(r.y,s.y));this.mT.Lr(u).tt(Zi(l,u));var h=Math.min(l.x-u.x,l.y-u.y)>=10;a&&h&&l.x===r.x&&this.lT?(this.ET=!0,this.mT.Br(this.xT).Dr(this.wT),this.bT.Ur(this.wT).Xr(r).Yr(s),this.pT.Ur(this.wT).Xr(y(r.x,s.y)).Yr(y(s.x,r.y)),this.kT=this.engine.setMouseStyle(this.TT,this.kT)):a&&h&&(this.cT||this.lT)?(this.ET=!0,this.mT.Br(this.gT).Dr(this.ST),this.bT.Ur(gt),this.pT.Ur(gt),this.kT=this.engine.setMouseStyle(this._T,this.kT)):(this.ET=!1,this.mT.Dr(gt).Br(J),this.bT.Ur(gt),this.pT.Ur(gt),this.engine.restoreMouseStyle(this.kT)),this.fn.Sn()},e.prototype.NT=function(t,e,i){var n=this;if(this.ET){var r=this.fn.ju({clientX:i.x,clientY:i.y}),o=Pt({x:r.engineX,y:r.engineY},this.om.fn.vt,this.aT),s=_i(o.x,this.aT.x.getInnerStart(),this.aT.x.getInnerEnd())&&_i(o.y,this.aT.y.getInnerStart(),this.aT.y.getInnerEnd()),a=i.x>=e.x||!this.lT?"zoom":"fit",u=this.mT.Bh(),l=Hi(u,this.mT.oi()),h=Math.min(this.mT.oi().x,this.mT.oi().y)>=10;s&&h&&"zoom"===a&&this.cT?(this.forEachAxisX((function(t){if(t.getChartInteractionZoomByDrag()){var e=Pt(u,n.aT,t.NA).x,i=Pt(l,n.aT,t.NA).x;t.dt(e,i,!0,!0,"interactionSetInterval")}})),this.forEachAxisY((function(t){if(t.getChartInteractionZoomByDrag()){var e=Pt(u,n.aT,t.NA).y,i=Pt(l,n.aT,t.NA).y;t.dt(e,i,!0,!0,"interactionSetInterval")}}))):s&&h&&"fit"===a&&this.lT&&this.forEachAxis(sy)}this.mT.Dr(gt).Br(J),this.bT.Ur(gt),this.pT.Ur(gt),this.fn.Sn()},e.prototype.pan=function(t){this.forEachAxisX((function(e){e.setStopped(!0).pan(t.x)})),this.forEachAxisY((function(e){e.setStopped(!0).pan(t.y)}))},e.prototype.VT=function(t){this.forEachAxisX((function(e){e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.x)})),this.forEachAxisY((function(e){e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.y)}))},e.prototype.zoom=function(t,e){this.forEachAxis(oy),this.forEachAxisX((function(i){i.zoom(i.vt.ft(t.x),e.x)})),this.forEachAxisY((function(i){i.zoom(i.vt.ft(t.y),e.y)}))},e.prototype.RT=function(t,e){this.forEachAxisX((function(i){i.getChartInteractionZoomByWheel()&&(oy(i),i.zoom(i.vt.ft(t.x),e.x))})),this.forEachAxisY((function(i){i.getChartInteractionZoomByWheel()&&(oy(i),i.zoom(i.vt.ft(t.y),e.y))}))},e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.forEachAxis((function(t){return t.setAnimationsEnabled(e)})),this},e.prototype.Tv=function(){var e=[];return this.forEachAxis((function(t){return t.ty((function(t){return e.push(t)}))})),t.prototype.Tv.call(this).concat(e)},e.prototype.Y_=function(){return this.yT},e.prototype.Mr=function(){return this.hm(this.gx)},e.prototype.setCursorEnabledDuringAxisAnimation=function(t){return this.AT=t,this},e.prototype.getCursorEnabledDuringAxisAnimation=function(){return this.AT},e.prototype.forEachAxis=function(t){return this.forEachAxisX(t),this.forEachAxisY(t),this},e.prototype.translateCoordinate=function(t,e,i){if(i){var n=t,r=e,o=qu(r)?r:Dn(r)?this.GA:void 0;if(o&&Tn(i)){var s=Pt(n,o,this.fn.vt);return this.fn.Du({engineX:s.x,engineY:s.y})}if(o&&Dn(i))return Pt(n,o,this.GA);if(o&&qu(i))return Pt(n,o,i)}else{if(n=t,Dn(e))return s=this.fn.ju(n),Pt({x:s.engineX,y:s.engineY},this.fn.vt,this.GA);if(qu(e)){var a=e;return s=this.fn.ju(n),Pt({x:s.engineX,y:s.engineY},this.fn.vt,a)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},e}(Pc);!function(t){t.CenterTop="center-top",t.RightTop="right-top",t.LeftTop="left-top",t.CenterBottom="center-bottom",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.SeriesCenterTop="series-center-top",t.SeriesRightTop="series-right-top",t.SeriesLeftTop="series-left-top",t.SeriesCenterBottom="series-center-bottom",t.SeriesRightBottom="series-right-bottom",t.SeriesLeftBottom="series-left-bottom"}(uy||(uy={}));var hy,cy=uy.CenterTop,fy=function(t){switch(t){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:5};case"left-top":return{left:20,right:0,top:0,bottom:5};case"right-top":return{left:0,right:20,top:0,bottom:5};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:5,bottom:0};case"series-left-top":return{left:5,right:0,top:5,bottom:0};case"series-right-top":return{left:0,right:5,top:5,bottom:0};case"series-left-bottom":return{left:5,right:0,top:0,bottom:5};case"series-right-bottom":return{left:0,right:5,top:0,bottom:5}}return si(0,"Unexpected ChartXY title position selection ".concat(t))},py=function(t,e,i,n,r,o){n.x,r.left,r.right;var s=n.y+r.bottom+r.top,a=(r.left-r.right)*e.x,u=(r.bottom-r.top)*e.y;switch(t){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-(o.top+r.top)*e.y},marginsWithTitle:qd(qd({},i),{top:i.top+s})};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:a,y:100-(o.top-r.top)*e.y},marginsWithTitle:qd(qd({},i),{top:i.top+s})};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+a,y:100-(o.top-r.top)*e.y},marginsWithTitle:qd(qd({},i),{top:i.top+s})};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+a,y:(o.bottom+r.bottom)*e.y},marginsWithTitle:qd(qd({},i),{bottom:i.bottom+s})};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:a,y:(o.bottom+r.bottom)*e.y},marginsWithTitle:qd(qd({},i),{bottom:i.bottom+s})};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+a,y:(o.bottom+r.bottom)*e.y},marginsWithTitle:qd(qd({},i),{bottom:i.bottom+s})};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-i.top*e.y+u},marginsWithTitle:i};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:i.left*e.x+a,y:100-i.top*e.y+u},marginsWithTitle:i};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-i.right*e.x+a,y:100-i.top*e.y+u},marginsWithTitle:i};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:i.bottom*e.y+u},marginsWithTitle:i};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:i.left*e.x+a,y:i.bottom*e.y+u},marginsWithTitle:i};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-i.right*e.x+a,y:i.bottom*e.y+u},marginsWithTitle:i}}return si(0,"Unexpected ChartXY title position selection ".concat(t))},dy=function(t,e){var i=[];t.forEach((function(t,n){var r=e[n],o=i.find((function(e){return e.iParallel===t.iParallel}));o?(o.stacks.push(qd(qd({},t),r)),o.stacks.sort((function(t,e){return t.iStack-e.iStack}))):i.push({iParallel:t.iParallel,stacks:[qd(qd({},t),r)]})}));var n=i.map((function(t){var e=t.stacks.reduce((function(t,e){return Math.max(t,e.hy)}),0),i=t.stacks.reduce((function(t,e){return Math.max(t,e.ly)}),0),n=t.stacks.reduce((function(t,e){return Math.max(t,e.yv)}),0),r=t.stacks.reduce((function(t,e){return t+(e.axis.getVisible()&&"relative"in e.axis.Av?e.axis.Av.relative:0)}),0);return qd(qd({},t),{ticksSizeMax:e,titleSizeMax:i,sumRelativeSize:r,thicknessMax:n})}));return n.sort((function(t,e){return t.iParallel-e.iParallel})),{groups:n,thicknessTotal:n.reduce((function(t,e){return t+e.thicknessMax}),0)}},yy=function(t,e,i){var n,r=Array.from(new Set(i.map((function(t){return t.series.ln()})))),o=1===r.length&&void 0!==r[0]?r[0]:void 0,s="ProgressiveY"===o||"RegressiveY"===o?{progressiveDimension:"Y",progressiveAxis:e.axisY,valueDimension:"X",hitValueAxis:function(t){return t.axisX},value:function(t){return t.x},position:function(t){return t.y}}:{progressiveDimension:"X",progressiveAxis:e.axisX,valueDimension:"Y",hitValueAxis:function(t){return t.axisY},value:function(t){return t.y},position:function(t){return t.x}},a=s.progressiveAxis.getTickStrategy();return _t(e)?ql(e,[[e.series],[t.getDefaultAxisX().getTitle()||"X","",{text:In(e.axisX.formatValue(e.x),e.axisX),font:{weight:"bold"}}],[t.getDefaultAxisY().getTitle()||"Y","",{text:In(e.axisY.formatValue(e.y),e.axisY),font:{weight:"bold"}}],void 0!==e.intensity?["Value","",{text:In(e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]:[]]):1===i.length?"Time"===a||"DateTime"===a?e.multiHit?Jd([[In(s.progressiveAxis.formatValue(s.position(e)),s.progressiveAxis)]],Kd(ql(e,[[e.series,""],["".concat(s.valueDimension,"1"),"",{text:In(s.hitValueAxis(e).formatValue(s.value(e.multiHit[0])),s.hitValueAxis(e)),font:{weight:"bold"}}],["".concat(s.valueDimension,"2"),"",{text:In(s.hitValueAxis(e).formatValue(s.value(e.multiHit[1])),s.hitValueAxis(e)),font:{weight:"bold"}}]])),!1):Jd([[In(s.progressiveAxis.formatValue(s.position(e)),s.progressiveAxis)]],Kd(ql(e,[[e.series,"",{text:In(s.hitValueAxis(e).formatValue(s.value(e)),s.hitValueAxis(e)),font:{weight:"bold"}}]])),!1):e.multiHit?ql(e,[[e.series],[s.progressiveDimension,"",{text:In(s.progressiveAxis.formatValue(s.position(e)),s.progressiveAxis),font:{weight:"bold"}}],["".concat(s.valueDimension,"1"),"",{text:In(s.hitValueAxis(e).formatValue(s.value(e.multiHit[0])),s.hitValueAxis(e)),font:{weight:"bold"}}],["".concat(s.valueDimension,"2"),"",{text:In(s.hitValueAxis(e).formatValue(s.value(e.multiHit[1])),s.hitValueAxis(e)),font:{weight:"bold"}}]]):ql(e,[[e.series],[s.progressiveDimension,"",{text:In(s.progressiveAxis.formatValue(s.position(e)),s.progressiveAxis),font:{weight:"bold"}}],[s.valueDimension,"",{text:In(s.hitValueAxis(e).formatValue(s.value(e)),s.hitValueAxis(e)),font:{weight:"bold"}}]]):o?Jd([In(s.progressiveAxis.formatValue(s.position(e)),s.progressiveAxis)],Kd(i.map((function(t){return t.multiHit?ql(t,[[t.series,""],["".concat(s.valueDimension,"1"),"",{text:In(s.hitValueAxis(t).formatValue(s.value(t.multiHit[0])),s.hitValueAxis(t)),font:{weight:"bold"}}],["".concat(s.valueDimension,"2"),"",{text:In(s.hitValueAxis(t).formatValue(s.value(t.multiHit[1])),s.hitValueAxis(t)),font:{weight:"bold"}}]]):ql(t,[[t.series,"",{text:In(s.hitValueAxis(t).formatValue(s.value(t)),s.hitValueAxis(t)),font:{weight:"bold"}}]])})).flat()),!1):i.map((function(t){return ql(t,[[t.series],[s.progressiveDimension,"",{text:In(s.progressiveAxis.formatValue(s.position(t)),s.progressiveAxis),font:{weight:"bold"}}],[s.valueDimension,"",{text:In(s.hitValueAxis(t).formatValue(s.value(t)),s.hitValueAxis(t)),font:{weight:"bold"}}]])})).flat()},vy=function(){return(vy=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},gy=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},my=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},xy=function(t){return t instanceof np||t instanceof Lp||t instanceof Jp||t instanceof Pp||t instanceof Ed||t instanceof Cd||t instanceof Zd},Sy=function(){function t(t,e,i,n,o,s,a){var u=this;this.coordsRelative="relative",this.coordsClient="client",this.D=new r.a,this.rk=[],this.ek=new Map,this.ng=new Map,this.sk=function(t,e,i){0!==u.ng.size&&void 0!==my([],gy(u.ng.values()),!1).find((function(t){return!0===t.series.getVisible()}))||u.uk.dt(e,i,!1,!1,"zoomBandChart"),u.hk.fn.Sn()},e.fn.Rs(Nu.Wv),this.Yd=t,this.ak=(null==s?void 0:s.orientation)||"x",this.fk=void 0!==(null==s?void 0:s.useSharedValueAxis)&&s.useSharedValueAxis,this.ck=n,this.Sc="x"===this.ak?Zu:Qu;var l=vy(vy({},s),{defaultAxisX:this.Sc.getWidth({x:null==s?void 0:s.defaultAxis,y:void 0}),defaultAxisY:this.Sc.getHeight({x:null==s?void 0:s.defaultAxis,y:void 0})});this.hk=new ly(t,e,i,ue,o,l,a).setTitle("Zoom Band Chart").setMouseInteractions(!1).setCursorMode(void 0),this.engine=this.hk.engine;var h=this.hk.getDefaultAxisX().setMouseInteractions(!1),c=this.hk.getDefaultAxisY().setMouseInteractions(!1);this.uk=this.Sc.getWidth({x:h,y:c}).setScrollStrategy(Lr.fitting).setAnimationScroll(!1).setStrokeStyle(gt).setTickStrategy(Rr.Empty),(null==s?void 0:s.useSharedValueAxis)?this.lk=this.Sc.getHeight({x:h,y:c}):this.Sc.getHeight({x:h,y:c}).dispose();var f=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new et({color:this.getTheme().isDark?k(0,0,0,180):k(255,255,255,180)});this.vk=[this.hk.iA.Er(this.uk.NA).Br(f).Dr(gt),this.hk.iA.Er(this.uk.NA).Br(f).Dr(gt)];var p=this.hk.iA.py(this.uk.NA).Ur(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.dk={collection:p,members:new Array(5).fill(0).map((function(t){return p.Wo()}))};var d=this.getTheme(),y="function"==typeof d.zoomBandChartKnobFillStyle?d.zoomBandChartKnobFillStyle(this.Yd.Kn):d.zoomBandChartKnobFillStyle||J;this.Ak=[this.hk.iA.Er(this.hk.GA).Br(y).Dr(gt),this.hk.iA.Er(this.hk.GA).Br(y).Dr(gt)],this.yk=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.mk()}return t.prototype.add=function(t){var e,i,n,r,o,s=this,a=this.rk.map((function(t){return t.axis})),u="x"===this.ak?t.axisX:t.axisY;if(!a.includes(u)){var l=u.onIntervalChange(this.sk);this.rk.push({axis:u,deattach:function(){u.offIntervalChange(l)}}),this.uk.$e(u.qe()),this.bk&&this.bk.remove(),this.bk=Dt.apply(void 0,my([],gy(this.rk.map((function(t){return t.axis}))),!1))}var h,c=this.Sc.getHeight({x:t.axisX,y:t.axisY});if(this.fk)h=this.lk;else{var f=this.ek.get(c);f?h=f:(h=this.Sc.getHeight({x:this.hk.addAxisX.bind(this.hk),y:this.hk.addAxisY.bind(this.hk)})(),this.pk(h)),this.ek.set(c,h)}var p,d=this.Sc.getWidth({x:this.uk,y:h}),y=this.Sc.getHeight({x:this.uk,y:h}),v=[],g=function(t,e){var i=function(t){if(0!==t.length)if("x"in t[0]){var i=t;e.add(i)}else{i=t;for(var n=[],r=0;r<i.length;r+=1){var o=i[r];n.push({x:o[0],y:o[4]})}e.add(n)}},n=t.aM();i(n);var r=t.fM((function(t,e){return i(e)}));v.push((function(){return t.cM(r)}));var o=t.lM((function(){return e.clear()}));v.push((function(){t.vM(o)}))};if(t instanceof Zd)(p=this.hk.addPointLineAreaSeries(vy(vy({},t.Ws),{xAxis:d,yAxis:y})).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setPointAlignment(t.getPointAlignment()).setPointRotation(t.getPointRotation()).setPointShape(t.getPointShape()).setPointSize(t.getPointSize()).setCurvePreprocessing(t.getCurvePreprocessing())).setDataSet(t.hT());else if(t instanceof Ud||t instanceof Ed){var m=this.hk.addLineSeries({xAxis:d,yAxis:y,dataPattern:t instanceof Ud?null===(e=t.Ws)||void 0===e?void 0:e.dataPattern:void 0});if(t instanceof Ud)m.setStrokeStyle(t.getStrokeStyle());else{var x=Ay(t);x&&m.setStrokeStyle(x)}g(t,m),p=m}else if(t instanceof Yp){var S=this.hk.addAreaSeries({xAxis:d,yAxis:y,baseline:t.AC}).setFillStyle(t.getFillStyle()).setStrokeStyle(t.getStrokeStyle());g(t,S),p=S}else if(t instanceof jd){var A=this.hk.addPointSeries({xAxis:d,yAxis:y,pointShape:null===(i=t.Ws)||void 0===i?void 0:i.pointShape}).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());g(t,A),p=A}else if(t instanceof Cd){var b=this.hk.addStepSeries({xAxis:d,yAxis:y,pointShape:null===(n=t.Ws)||void 0===n?void 0:n.pointShape,mode:t.LC}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());g(t,b),p=b}else if(t instanceof ud){var M=this.hk.addSplineSeries({xAxis:d,yAxis:y,pointShape:null===(r=t.Ws)||void 0===r?void 0:r.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());g(t,M),p=M}else if(t instanceof rd){var w=this.hk.addSplineSeries({xAxis:d,yAxis:y,pointShape:null===(o=t.Ws)||void 0===o?void 0:o.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());g(t,w),p=w}else if(t instanceof Jp){var C=this.hk.addAreaRangeSeries({xAxis:d,yAxis:y}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.aM()),P=t.fM((function(t,e){return C.add(e)}));v.push((function(){return t.cM(P)})),p=C;var E=t.lM((function(){return C.clear()}));v.push((function(){t.vM(E)}))}else{if(!(t instanceof Cp))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");var T=this.hk.addHeatmapGridSeries(vy({xAxis:d,yAxis:y},t.wM)),k=function(){T.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle())};k(),p=T,t._M(p);var D=t.OM((function(t,e){return T.invalidateIntensityValues(e)})),F=t.TM(k);v.push((function(){t.FM(D),t.kM(F)}));var _=t.lM((function(){return T.clear()}));v.push((function(){t.vM(_)}))}p.setMouseInteractions(!1);var I=t.onVisibleStateChanged((function(t,e){p.setVisible(e)}));v.push((function(){t.offVisibleStateChanged(I)}));var O=t.onHighlight((function(t,e){return p.setHighlight(e)}));v.push((function(){t.offHighlight(O)}));var B=t.onDispose((function(){s.disposeSeries(t)}));return v.push((function(){t.offDispose(B)})),this.ng.set(t,{series:p,clearReferences:function(){return v.forEach((function(t){return t()}))}}),p},t.prototype.disposeSeries=function(t){var e=this,i=this.ng.get(t);if(i){(0,i.clearReferences)(),this.ng.delete(t),i.series.dispose();var n=this.Sc.getHeight({x:t.axisX,y:t.axisY}),r=this.ek.get(n);r&&0===r.oy().length&&(this.ek.delete(n),r.dispose())}var o="x"===this.ak?t.axisX:t.axisY;if(!Array.from(this.ng.keys()).find((function(t){return o===("x"===e.ak?t.axisX:t.axisY)}))){var s=this.rk.findIndex((function(t){return t.axis===o}));this.rk[s].deattach(),this.rk.splice(s,1)}return this},t.prototype.setDefocusOverlayFillStyle=function(t){return this.vk.forEach((function(e){return e.Br(t)})),this.hk.fn.Sn(),this},t.prototype.getDefocusOverlayFillStyle=function(){return this.vk[0].We()},t.prototype.setSplitterStrokeStyle=function(t){return this.dk.collection.Ur(t),this.hk.fn.Sn(),this},t.prototype.getSplitterStrokeStyle=function(){return this.dk.collection.vf()},t.prototype.setKnobFillStyle=function(t){return this.Ak.forEach((function(e){return e.Br(t)})),this.hk.fn.Sn(),this},t.prototype.getKnobFillStyle=function(){return this.Ak[0].We()},t.prototype.setKnobStrokeStyle=function(t){return this.Ak.forEach((function(e){return e.Dr(t)})),this.hk.fn.Sn(),this},t.prototype.getKnobStrokeStyle=function(){return this.Ak[0].fu()},t.prototype.setKnobSize=function(t){return this.yk=t,this.hk.fn.Sn(),this},t.prototype.getKnobSize=function(){return this.yk},t.prototype.getDefaultAxisX=function(){return this.hk.getDefaultAxisX()},t.prototype.getDefaultAxisY=function(){return this.hk.getDefaultAxisY()},Object.defineProperty(t.prototype,"axisX",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this.getDefaultAxisX()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this.getDefaultAxisY()},enumerable:!1,configurable:!0}),t.prototype.pk=function(t){t.setTickStrategy(Rr.Empty).setMouseInteractions(!1).setNibStyle(gt).setStrokeStyle(gt)},t.prototype.mk=function(){var t,e=this,i=function(t,i,n){var r,o,s="x"===e.ak?null===(r=Array.from(e.ng.keys())[0])||void 0===r?void 0:r.axisX:null===(o=Array.from(e.ng.keys())[0])||void 0===o?void 0:o.axisY;if(s){var a=s.getInterval(),u=e.uk.getInterval();Math.abs(e.uk.vt.ct(t)-e.uk.vt.ct(i))<10||Math.sign(i-t)!==Math.sign(a.end-a.start)||Math.min(t,i)<Math.min(u.start,u.end)||Math.max(t,i)>Math.max(u.start,u.end)&&Math.max(a.start,a.end)<Math.max(t,i)||s.dt(t,i,n,!0,"zoomBandChart")}};this.Ak.forEach((function(n,r){n.setMouseEnterEventHandler((function(){t=e.engine.setMouseStyle(e.Sc.getWidth({x:Kn.Horizontal,y:Kn.Vertical}),t)})),n.setMouseLeaveEventHandler((function(){e.engine.restoreMouseStyle(t)}));var o=function(t){var n,o,s="x"===e.ak?null===(n=Array.from(e.ng.keys())[0])||void 0===n?void 0:n.axisX:null===(o=Array.from(e.ng.keys())[0])||void 0===o?void 0:o.axisY;if(s){var a=e.Sc.getWidth(e.hk.translateCoordinate(t,e.hk.coordsAxis)),u=s.getInterval(),l=0===r?a:u.start,h=1===r?a:u.end;i(l,h,!1),Ie(t)}};n.setMouseDragEventHandler((function(t,e,i,n,r){return o(e)}));var s=Gn(new jn.Drag(void 0,(function(t,e,i,n,r){return o(r)})));n.setTouchStartEventHandler(s.onTouchStart),n.setTouchMoveEventHandler(s.onTouchMove),n.setTouchEndEventHandler(s.onTouchEnd)})),this.hk.onSeriesBackgroundMouseEnter((function(){t=e.engine.setMouseStyle(Kn.Move,t)})),this.hk.onSeriesBackgroundMouseLeave((function(){e.engine.restoreMouseStyle(t)}));var n=function(t,n){var r,o,s="x"===e.ak?null===(r=Array.from(e.ng.keys())[0])||void 0===r?void 0:r.axisX:null===(o=Array.from(e.ng.keys())[0])||void 0===o?void 0:o.axisY;if(s){var a=s.getInterval(),u=e.uk.vt.Ai(a.start,e.Sc.getWidth(t)),l=e.uk.vt.Ai(a.end,e.Sc.getWidth(t));i(u,l,!1),Ie(n)}};this.hk.onSeriesBackgroundMouseDrag((function(t,e,i,r,o){return n(o,e)}));var r=Gn(new jn.Drag(void 0,(function(t,e,i,r,o){return n(r,o)})));this.hk.onSeriesBackgroundMouseWheel((function(t,n){var r,o,s="x"===e.ak?null===(r=Array.from(e.ng.keys())[0])||void 0===r?void 0:r.axisX:null===(o=Array.from(e.ng.keys())[0])||void 0===o?void 0:o.axisY;if(s){var a=s.getInterval(),u=e.uk.getInterval(),l=e.Sc.getWidth(e.hk.translateCoordinate(n,e.hk.coordsAxis)),h=e.uk.vt.ct(a.start),c=e.uk.vt.ct(a.end),f=e.uk.vt.ct(l),p=he((f-h)/(c-h),0,1),d=.2*Math.abs(c-h)*s.dd,y=p*d*-Math.sign(n.deltaY),v=(1-p)*d*Math.sign(n.deltaY),g=he(e.uk.vt.Ai(a.start,y),u.start,u.end),m=he(e.uk.vt.Ai(a.end,v),u.start,u.end);i(g,m,!1),Ie(n)}})),this.hk.onSeriesBackgroundTouchStart(r.onTouchStart),this.hk.onSeriesBackgroundTouchMove(r.onTouchMove),this.hk.onSeriesBackgroundTouchEnd(r.onTouchEnd),this.vk.forEach((function(n,r){n.setMouseEnterEventHandler((function(){t=e.engine.setMouseStyle(Kn.Point,t)})),n.setMouseLeaveEventHandler((function(){e.engine.restoreMouseStyle(t)}));var o=function(t){var n,r,o="x"===e.ak?null===(n=Array.from(e.ng.keys())[0])||void 0===n?void 0:n.axisX:null===(r=Array.from(e.ng.keys())[0])||void 0===r?void 0:r.axisY;if(o){var s=e.Sc.getWidth(e.hk.translateCoordinate(t,e.hk.coordsAxis)),a=o.getInterval(),u=e.uk.getInterval(),l=he(s-(a.end-a.start)/2,Math.min(u.start,u.end),Math.max(u.start,u.end)-Math.abs(a.end-a.start)),h=l+(a.end-a.start);i(l,h,!0),Ie(t)}};n.setMouseClickEventHandler((function(t,e){return o(e)}));var s=Gn(new jn.Poke((function(t,e){return o(e)})));n.setTouchStartEventHandler(s.onTouchStart),n.setTouchMoveEventHandler(s.onTouchMove),n.setTouchEndEventHandler(s.onTouchEnd)}))},t.prototype.getSizePixels=function(){return this.hk.getSizePixels()},t.prototype.onResize=function(t){var e=this;return this.hk.onResize((function(i,n,r,o,s){return t(e,n,r,o,s)}))},t.prototype.offResize=function(t){return this.hk.offResize(t)},t.prototype.Po=function(t){this.hk.Po(t)},t.prototype.getMinimumSize=function(){return this.hk.getMinimumSize()},t.prototype.K=function(){return this.hk.K()},t.prototype.J=function(){return this.hk.J()},t.prototype.Pr=function(t){var e,i,n,r,o=ii(Array.from(this.ng.keys()).map((function(t){return t.chart}))),s="x"===this.ak?null===(e=Array.from(this.ng.keys())[0])||void 0===e?void 0:e.axisX:null===(i=Array.from(this.ng.keys())[0])||void 0===i?void 0:i.axisY;if("x"===this.ak){var a=o.reduce((function(t,e){var i=[];e.forEachAxisY((function(t){if(0===t.PA){var e=i.find((function(e){return e.iParallel===t.getParallelIndex()}));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.ky())}}));var n=i.reduce((function(t,e){return t+e.maxHeight}),0);return Math.max(t,n)}),0),u=o.reduce((function(t,e){var i=[];e.forEachAxisY((function(t){if(100===t.PA){var e=i.find((function(e){return e.iParallel===t.getParallelIndex()}));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.ky())}}));var n=i.reduce((function(t,e){return t+e.maxHeight}),0);return Math.max(t,n)}),0),l=o.reduce((function(t,e){return Math.max(t,e.getPadding().left)}),0),h=o.reduce((function(t,e){return Math.max(t,e.getPadding().right)}),0);this.hk.forEachAxisY((function(t){return t.setThickness(0)})),null===(n=this.getDefaultAxisY())||void 0===n||n.setThickness(a),this.hk.setPadding({left:l+(0===o.length?10:0),right:h+u+(0===o.length?10:0)})}else{var c=o.reduce((function(t,e){var i=[];e.forEachAxisX((function(t){if(0===t.PA){var e=i.find((function(e){return e.iParallel===t.getParallelIndex()}));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.ky())}}));var n=i.reduce((function(t,e){return t+e.maxHeight}),0);return Math.max(t,n)}),0),f=o.reduce((function(t,e){var i=[];e.forEachAxisX((function(t){if(100===t.PA){var e=i.find((function(e){return e.iParallel===t.getParallelIndex()}));e||(e={iParallel:t.getParallelIndex(),maxHeight:0},i.push(e)),e.maxHeight=Math.max(e.maxHeight,t.ky())}}));var n=i.reduce((function(t,e){return t+e.maxHeight}),0);return Math.max(t,n)}),0),p=o.reduce((function(t,e){return Math.max(t,e.getPadding().bottom)}),0),d=o.reduce((function(t,e){return Math.max(t,e.getPadding().top)}),0);this.hk.forEachAxisX((function(t){return t.setThickness(0)})),null===(r=this.getDefaultAxisX())||void 0===r||r.setThickness(c),this.hk.setPadding({bottom:p+(0===o.length?10:0),top:d+f+(0===o.length?10:0)})}this.hk.Pr(t);var y=this.uk.getInterval().start,v=this.uk.getInterval().end,g=he(s?s.getInterval().start:y,y,v),m=he(s?s.getInterval().end:v,y,v),x=this.Sc.getHeight(this.hk.aT.getInnerIntervalPixels());this.vk[0].Lr(this.Sc.toPoint(y,0)).tt(this.Sc.toPoint(g-y,x)),this.vk[1].Lr(this.Sc.toPoint(m,0)).tt(this.Sc.toPoint(v-m,x)),this.dk.members[0].Sy(this.Sc.toPoint(y,x),this.Sc.toPoint(g,x)),this.dk.members[1].Sy(this.Sc.toPoint(g,x),this.Sc.toPoint(g,0)),this.dk.members[2].Sy(this.Sc.toPoint(g,0),this.Sc.toPoint(m,0)),this.dk.members[3].Sy(this.Sc.toPoint(m,0),this.Sc.toPoint(m,x)),this.dk.members[4].Sy(this.Sc.toPoint(m,x),this.Sc.toPoint(v,x));var S=Pt(this.Sc.toPoint(g,x/2),this.uk.NA,this.hk.GA),A=Pt(this.Sc.toPoint(m,x/2),this.uk.NA,this.hk.GA),b=this.yk;this.Ak[0].Lr({x:S.x-b.x/2,y:S.y-b.y/2}).tt({x:b.x,y:b.y}).Ze(this.Sc.getWidth({x:0,y:90})),this.Ak[1].Lr({x:A.x-b.x/2,y:A.y-b.y/2}).tt({x:b.x,y:b.y}).Ze(this.Sc.getWidth({x:0,y:90}))},t.prototype.setSeriesBackgroundFillStyle=function(t){return this.hk.setSeriesBackgroundFillStyle(t),this.hk.fn.Sn(),this},t.prototype.getSeriesBackgroundFillStyle=function(){return this.hk.getSeriesBackgroundFillStyle()},t.prototype.setSeriesBackgroundStrokeStyle=function(t){return this.hk.setSeriesBackgroundStrokeStyle(t),this.hk.fn.Sn(),this},t.prototype.getSeriesBackgroundStrokeStyle=function(){return this.hk.getSeriesBackgroundStrokeStyle()},t.prototype.setSeriesBackgroundEffect=function(t){return this.hk.setSeriesBackgroundEffect(t),this.hk.fn.Sn(),this},t.prototype.getSeriesBackgroundEffect=function(){return this.hk.getSeriesBackgroundEffect()},t.prototype.getTheme=function(){return this.hk.getTheme()},t.prototype.setTitle=function(t){return this.hk.setTitle(t),this},t.prototype.getTitle=function(){return this.hk.getTitle()},t.prototype.setTitleFillStyle=function(t){return this.hk.setTitleFillStyle(t),this},t.prototype.getTitleFillStyle=function(){return this.hk.getTitleFillStyle()},t.prototype.setTitleFont=function(t){return this.hk.setTitleFont(t),this},t.prototype.getTitleFont=function(){return this.hk.getTitleFont()},t.prototype.setTitleMargin=function(t){return this.hk.setTitleMargin(t),this},t.prototype.getTitleMargin=function(){return this.hk.getTitleMargin()},t.prototype.setPadding=function(t){return this.hk.setPadding(t),this},t.prototype.getPadding=function(){return this.hk.getPadding()},t.prototype.setBackgroundFillStyle=function(t){return this.hk.setBackgroundFillStyle(t),this},t.prototype.getBackgroundFillStyle=function(){return this.hk.getBackgroundFillStyle()},t.prototype.setBackgroundStrokeStyle=function(t){return this.hk.setBackgroundStrokeStyle(t),this},t.prototype.getBackgroundStrokeStyle=function(){return this.hk.getBackgroundStrokeStyle()},t.prototype.translateCoordinate=function(t,e,i){return zl(t,e,i,this.hk.GA,this.hk.fn)},t.prototype.addUIElement=function(t,e){return this.hk.addUIElement(t,e)},t.prototype.addLegendBox=function(t,e){return this.hk.addLegendBox(t,e)},t.prototype.getLegendBoxes=function(){return this.hk.getLegendBoxes()},t.prototype.saveToFile=function(t,e,i){return this.hk.saveToFile(t,e,i),this},t.prototype.dispose=function(){return this.hk.dispose(),this.ek.clear(),this.ng.clear(),this.ck(this),this},t.prototype.isDisposed=function(){return this.hk.isDisposed()},t.prototype.onDispose=function(t){var e=this;return this.hk.onDispose((function(){return t(e)}))},t.prototype.offDispose=function(t){return this.hk.offDispose(t)},t}(),Ay=function(t){if("getStrokeStyle"in t)return t.getStrokeStyle();var e=function(t){return t instanceof Ud||t instanceof Yp?t.getStrokeStyle().getFillStyle():t instanceof jd||t instanceof rd?t.getPointFillStyle():void 0}(t);return e?new Hn({thickness:2,fillStyle:e}):void 0},by=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),My=function(){return(My=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},wy=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,a)||this;return u.Mn="Point Series",u.dw=[],u.Aw=!1,u.gw=3,u.ph=0,u.Or=Ke(u.$i.polarPointSeriesFillStyle,s),u.Vl=new Ca({dataPattern:null}),u.Yh=e.Ul(r).Ur(gt).Gl(J).Rl(u.Or).Wl(Co.Circle).Ql(u.gw).cn(u.getHighlight()).Nl(u.Vl),u.vn(u.Yh),u}return by(e,t),e.prototype.solveNearest=function(t,e){void 0===e&&(e="show-nearest");var i=this.chart.translateCoordinate(t,this.chart.coordsAxis),n=_f([i],this.scale)[0],r=this.Vl.Ml(n,Ql(e),this.scale,this.chart.GA);if(r){var o=Bf(r,this.scale);return My({cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this},o)}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.setData=function(t){return 0!==this.dw.length&&this.chart.fn.Rs(Nu.Jv),this.dw=Of(t),this.Aw=!0,this.hw=If(this.dw),this.In.Sn(),this},e.prototype.setPointAlignment=function(t){return this.Yh.oT(t),this.chart.fn.Sn(),this},e.prototype.getPointAlignment=function(){return this.Yh.sT()},e.prototype.setPointFillStyle=function(t){this.Or="function"==typeof t?t(this.Or):t;var e=this.Or;return this.Yh.Rl(e),this.In.Sn(),this},e.prototype.getPointFillStyle=function(){return this.Or},e.prototype.setPointSize=function(t){return this.gw=t,this.Yh.Ql(t),this.In.Sn(),this},e.prototype.getPointSize=function(){return this.gw},e.prototype.setPointShape=function(t){return this.Yh.Wl(t),this.chart.fn.Sn(),this},e.prototype.getPointShape=function(){return this.Yh.Yl()},e.prototype.setPointRotation=function(t){return this.ph=t,this.Yh.Xl(t),this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.ph},e.prototype.kp=function(){return this.Ip&&this.dw.length>0&&this.getVisible()},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.Pr=function(){if(this.Aw||this.scale.pw()){var t=_f(this.dw,this.scale),e=Li(t);this.Vl.clear().add(t),this.Yh.Xu(e),this.Aw=!1,this.Yh.En()}},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e.prototype.On=function(){return this.wn||this.getPointShape()},e}(kf),Cy=function(){function t(t,e,i,n){this.D=new r.a,this.gk=!1,this.er=t,this.Sk=e,this.ng=i,this.Yh=n}return t.prototype.setGeometry=function(t){return this.xk=t,this.gk=!0,this.er.fn.Sn(),this},t.prototype.getGeometry=function(){return this.xk},t.prototype.setMouseInteractions=function(t){return this.Yh.setMouseInteractions(t),this},t.prototype.dispose=function(){return this.Yh.dispose(),this.Sk(this),this.D.emit("dispose",this),this},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t.prototype.setVisible=function(t){var e=this.Yh.getVisible()!==t;return this.Yh.setVisible(t),e&&this.D.emit("visibleStateChanged",this,t),this.er.fn.Sn(),this},t.prototype.getVisible=function(){return this.Yh.getVisible()},t.prototype.onVisibleStateChanged=function(t){return this.D.on("visibleStateChanged",t)},t.prototype.offVisibleStateChanged=function(t){return this.D.off(t,"visibleStateChanged")},t}(),Py=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ey=function(){return(Ey=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ty=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ky=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,a)||this;return u.Mn="Polygon Series",u.wk=[],u.Mk=[],u.Ck=function(t){var e=u.Mk.indexOf(t);e>=0&&u.Mk.splice(e,1);var i=u.wk.findIndex((function(e){return e===t.Yh}));i>=0&&u.wk.splice(i,1),u.In.Sn()},u.Or=Ke(u.$i.polarPolygonSeriesFillStyle,s),u.Fr=Ke(u.$i.polarPolygonSeriesStrokeStyle,s),u}return Py(e,t),e.prototype.solveNearest=function(t,e){var i=this,n=this.chart.fn.ju(t),r={x:n.engineX,y:n.engineY},o=rp(r,this.wk,(function(t,e){var n=t.Ml(e);if(n)return Pt(n,i.scale,t.fn.vt)}),Ii);if(o){var s=Pt(o[0],o[1].fn.vt,this.scale);if(this._k(o[1])){var a=Bf(s,this.scale);return Ey({cursorPosition:{pointMarker:s,pointMarkerScale:this.scale,resultTable:s,resultTableScale:this.scale},series:this},a)}}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.addPolygon=function(){var t=new Cy(this.chart,this.Ck,this,this.Tk());return this.Mk.push(t),t},e.prototype.setFillStyle=function(t){var e,i;this.Or="function"==typeof t?t(this.Or):t;var n=this.Or;try{for(var r=Ty(this.wk),o=r.next();!o.done;o=r.next())o.value.Br(n)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){var e,i;this.Fr="function"==typeof t?t(this.Fr):t;var n=this.Fr;try{for(var r=Ty(this.wk),o=r.next();!o.done;o=r.next())o.value.Dr(n)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.kp=function(){return this.Ip&&void 0!==this.Mk.find((function(t){return void 0!==t.kk}))&&this.getVisible()},e.prototype.Pr=function(){var t=this;this.Mk.forEach((function(e){(e.gk||t.scale.pw())&&e.Ok&&(e.Yh.ga(_f(e.Ok,t.scale)),e.gk=!1,e.Yh.En())}))},e.prototype.Np=function(){t.prototype.Np.call(this);var e=S(Ai,bi);this.Mk.forEach((function(t){if(t.xk){var i=!t.gk&&t.Ok?t.Ok:Of(t.xk);t.Ok=i;var n=!t.gk&&t.kk?t.kk:If(i);t.kk=n,e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max)}})),this.hw=e},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or,stroke:this.Fr})},e.prototype.Tk=function(){var t=this.In.Bc(this.scale,cs.Simple).Br(this.Or).Dr(this.Fr).cn(this.getHighlight());return this.wk.push(t),this.vn(t),t},e.prototype._k=function(t){return this.Mk.find((function(e){return e.Yh===t}))},e}(kf),Dy=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Fy=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,a)||this;return u.Mn="Area Series",u.dw=[],u.Aw=!1,u.yw=!1,u.Fk=!1,u.Or=Ke(u.$i.polarAreaSeriesFillStyle,s),u.Fr=Ke(u.$i.polarAreaSeriesStrokeStyle,s),u}return Dy(e,t),e.prototype.setData=function(t){0!==this.dw.length&&this.chart.fn.Rs(Nu.Jv);var e=function(t){for(var e,i,n=[],r=!1,o=0;o<t.length;o+=1){var s=t[o],a=!0;if(e){a=!1;var u=s.angle-e.angle;if(le(u,0))a=!0;else{var l=Math.sign(u);void 0===i?(i=l,a=!0):i===l&&(a=!0)}}a?n.push(s):r=!0,e=s}return{progressivePoints:n,userDataModified:r}}(t);return e.userDataModified&&!1===this.Fk&&(console.warn("".concat(this.Mn," setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.")),this.Fk=!0),this.dw=e.progressivePoints,this.Aw=!0,this.hw=If(this.dw),this.In.Sn(),this},e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.In.Sn(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.In.Sn(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.setConnectDataAutomaticallyEnabled=function(t){return this.yw=t,this.In.Sn(),this},e.prototype.getConnectDataAutomaticallyEnabled=function(){return this.yw},e.prototype.kp=function(){return this.Ip&&this.dw.length>0&&this.getVisible()},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or,stroke:this.Fr})},e}(kf),_y=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Iy=function(){return(Iy=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Oy=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},By=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r,o,s,a)||this;return u.Ik=u.In.Bc(u.scale,cs.Simple).cn(u.getHighlight()),u.vn(u.Ik),u}return _y(e,t),e.prototype.solveNearest=function(t,e){var i=this.chart.fn.ju(t),n={x:i.engineX,y:i.engineY},r=this.Ik.Ml(n);if(r){var o=Bf(r,this.scale);return Iy({cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this},o)}},e.prototype.Ji=function(t,e){var i=this;return yi({series:this},{cursorPosition:0,amplitude:0,angle:0,color:0},(function(){return i.solveNearest(e,i.chart.getCursorMode())}))},e.prototype.Pr=function(){if(this.Aw||this.scale.pw()){var t=this.dw,e=!0===this.yw?_f(t.concat(function(t){if(0===t.length)return t;var e=t[0],i=t[t.length-1];if(le(e.angle,i.angle))return t;for(var n=1*Math.sign(i.angle-e.angle),r=0,o=[],s=i.angle+n;!le(s%360,e.angle%360);s+=n)if(o.push({angle:s,amplitude:0}),(r+=1)>360)return[];for(var a=0;a<o.length;a+=1)o[a].amplitude=Hs(i.amplitude,e.amplitude,(a+1)/(o.length+1));return o}(t)),this.scale):Oy(Oy([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(_f(t,this.scale)),!1),[{x:0,y:0}],!1);this.Ik.ga(e).Br(this.Or).Dr(this.Fr),this.Aw=!1,this.Ik.En()}},e.prototype.zr=function(t,e){t.cn(e),this.In.Sn()},e}(Fy),zy=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ly=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Ni="RadialScale",e.jk={start:0,end:1},e.Dk=!1,e.Bk=0,e.Z=y(0,0),e.Ek=[0,0],e.Pk=[0,0],e.o=!0,e.pi=!0,e.Lk=!0,e.zk=!0,e.Vk={x:0,y:0},e.ci={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}},e}return zy(e,t),e.prototype.Zx=function(t,e){return t===this.jk.start&&e===this.jk.end||(this.jk={start:t,end:e},this.Lk=!0,this.Nk()),this},e.prototype.Hx=function(){return this.jk},e.prototype.Xx=function(){return this.jk.end>=this.jk.start},e.prototype.iw=function(t){this.Dk=t,this.zk=!0},e.prototype.rw=function(){return!1===this.Dk},e.prototype.nw=function(t){this.Bk=t,this.zk=!0},e.prototype.qx=function(){return this.Bk},e.prototype.yi=function(){return this.pi},e.prototype.wi=function(){return!1},e.prototype.ht=function(t,e,i,n){return this.x=new An(t.x,e.x,i.x,n?n.x:void 0),this.y=new An(t.y,e.y,i.y,n?n.y:void 0),this},e.prototype.mi=function(){return this.ci},e.prototype.pw=function(){return this.Lk},e.prototype.Rk=function(){return this.zk},e.prototype.Ri=function(){return this.Vk},e.prototype.K=function(){return this.o=!1,this.pi=!1,this.Lk=!1,this.zk=!1,this},e.prototype.J=function(){return this.o=!0,this.pi=!0,this.Lk=!0,this.zk=!0,this},e.prototype.tt=function(t,e){return"object"===a(t)?(this.Z.x=t.x,this.Z.y=t.y):(this.Z.x=t,this.Z.y=e),this.Nk(),this},e.prototype.Ei=function(t){return this.Ek=t,this.Nk(),this},e.prototype.Pi=function(t){return this.Pk=t,this.Nk(),this},e.prototype.ei=function(){return y(this.Ek[0]+this.Ek[1],this.Pk[0]+this.Pk[1])},e.prototype.oi=function(){return this.Z},e.prototype.Nk=function(){var t=this.jk,e=y(this.x.si(this.Z.x),this.y.si(this.Z.y)),i=this.Ek[0]+this.Ek[1],n=this.Pk[0]+this.Pk[1],r=Math.max(e.x-i,0),o=Math.max(e.y-n,0),s=.5*(r>o?o:r),a=[this.Ek[0]+Math.max((r-2*s)/2,0),this.Ek[1]+Math.max((r-2*s)/2,0)],u=[this.Pk[0]+Math.max((o-2*s)/2,0),this.Pk[1]+Math.max((o-2*s)/2,0)],l=Math.abs(t.end-t.start);this.x.tt(this.Z.x).ti(a).q(-l,l),this.y.tt(this.Z.y).ti(u).q(-l,l),this.Vk={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.ci={x:this.x.mi(),y:this.y.mi()},this.J()},e.prototype.Ai=function(t,e){var i=this.Ri();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}},e.prototype.Gi=function(t,e,i,n){var r=this.Ri(),o=ji(t,e);return o.x*=n,o.y*=n,{x:t.x+i*r.x*o.x,y:t.y+i*r.y*o.y}},e}(wn),Ry=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Vy=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ny=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Uy=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Yy=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("polarChart bg",0),r,i.fn.$i.polarChartBackgroundFillStyle,i.fn.$i.polarChartBackgroundStrokeStyle,i.fn.$i.polarChartTitleFont,i.fn.$i.polarChartTitleFillStyle,a)||this;u.coordsClient="client",u.Fd=[],u.Bu=!0,u.Gk=function(t,e,i,n,r){u.Bx.tt(n,r)},u.Bd=Le(u.Fd),u.Uk=function(t){u.Fd.push(t)},u.Wk=function(){return u.ng},u.fn.Rs(Nu.Gv),u.ZT=i.zS("polarChart series bg",0),u.Yk=i.bb("polarChart axis gridlines",0),u.Xk=i.bb("polarChart series",1),u.Hk=i.bb("polarChart axis lines",2),u.Zk=i.bb("polarChart axis ticks",3),u.Bx=n.d2({scaleXYConstructor:Ly}),u.onResize(u.Gk),u.pe.vo("Polar Chart"),u.ug=u.ZT.Fl(u.Bx).Br(u.$i.polarChartSeriesBackgroundFillStyle).Dr(gt).sf(0).Yr(360).ff(0),u.hg=u.ZT.Fl(u.Bx).Br(J).Dr(u.$i.polarChartSeriesBackgroundStrokeStyle).sf(0).Yr(360).ff(0),t.prototype.sg.call(u,u.ug,u.hg),u.im(o,u.GA),u.Qk=new vf(u,u.Bx,u.$i,!1!==(null==s?void 0:s.animationsEnabled),u.Yk,u.Hk,u.Zk,u.rn,u.Wk),u.Kk=new xf(u,u.Bx,u.$i,!1!==(null==s?void 0:s.animationsEnabled),u.Yk,u.Hk,u.Zk,u.rn),u.coordsAxis={axisAmplitude:u.Qk,axisRadial:u.Kk};var l=i.gb(),h=ye(s?s.cursorBuilder:void 0,mh);return u.Sb=Kl(u,l,h.Rm(l,u.uiScale,u.uiScale,ue,u.$i),u,"show-nearest",jy,(function(t,e){var i=u.translateCoordinate(t,u.coordsClient);return Math.sqrt(Math.pow(i.clientX-e.clientX,2)+Math.pow(i.clientY-e.clientY,2))})),u.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),u}return Ry(e,t),e.prototype.getSeries=function(){return this.ng},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.solveNearest=function(t,e){return void 0===e&&(e=this.getCursorMode()||"show-nearest"),this.Sb.solveNearest(t,e,this.ng,(function(t,e,i){return t.solveNearest(e,i)}))},e.prototype.addCursor=function(t){void 0===t&&(t=mh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.translateCoordinate=function(t,e,i){if(i){var n=t,r=this.GA;if(Tn(a=i)){var o=Pt(n,r,this.fn.vt);return this.fn.Du({engineX:o.x,engineY:o.y})}if(Dn(a))return n;if(bf(a)){var s=Pt(n,r,this.Bx);return Bf(s,this.Bx)}}else{var a=e;if(kn(n=t)){if(bf(a))return o=this.fn.ju(n),s=Pt({x:o.engineX,y:o.engineY},this.fn.vt,this.Bx),Bf(s,this.Bx);if(Tn(a))return n;if(Dn(a))return o=this.fn.ju(n),Pt({x:o.engineX,y:o.engineY},this.fn.vt,this.GA)}else if(Mf(n)){if(bf(a))return n;if(s=_f([n],this.Bx)[0],Tn(a)){var u=Pt(s,this.Bx,this.fn.vt);return o={engineX:u.x,engineY:u.y},this.fn.Du(o)}if(Dn(a))return Pt(s,this.Bx,this.GA)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")},e.prototype.addLineSeries=function(t){var e=new Nf(this.Xk,this,this.eg,this.Bx,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addPointSeries=function(t){var e=new wy(this.Xk,this,this.eg,this.Bx,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addPointLineSeries=function(t){var e=new Gf(this.Xk,this,this.eg,this.Bx,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addAreaSeries=function(t){var e=new By(this.Xk,this,this.eg,this.Bx,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addPolygonSeries=function(t){var e=new ky(this.Xk,this,this.eg,this.Bx,this.$i,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,this.fn.rn);return this.ag(e),e},e.prototype.addHeatmapSeries=function(t){var e=new Lf(this.Xk,this,this.eg,this.Bx,this.$i,this.fn.rn,t);return this.ag(e),e},e.prototype.addSector=function(){var t=new Cf(this.Xk,this,this.Bd,this.Bx,this.$i,this.fn.rn);return this.Uk(t),t},e.prototype.getAmplitudeAxis=function(){return this.Qk},Object.defineProperty(e.prototype,"amplitudeAxis",{get:function(){return this.Qk},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axisAmplitude",{get:function(){return this.Qk},enumerable:!1,configurable:!0}),e.prototype.getRadialAxis=function(){return this.Kk},Object.defineProperty(e.prototype,"radialAxis",{get:function(){return this.Kk},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axisRadial",{get:function(){return this.Kk},enumerable:!1,configurable:!0}),e.prototype.Pr=function(e){var i,n,r,o,s,a,u,l,h,c;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm);try{for(var f=Vy(this.ng),p=f.next();!p.done;p=f.next())p.value.Np()}catch(t){i={error:t}}finally{try{p&&!p.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}this.Qk.Fo(),this.Kk.Fo();try{for(var d=Vy(this.ng),y=d.next();!y.done;y=d.next())y.value.Pr()}catch(t){r={error:t}}finally{try{y&&!y.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}for(var v=1;v<=2;v+=1){var g=this.Qk.Pr(),m=this.Kk.Pr(),x=jl(this.pe,this.rm),S=[this.xh.left+m,this.xh.right+m],A=[this.xh.bottom+m,this.xh.top+m+x];if(this.Bx.Ei(S).Pi(A),!(!this.Jk||Math.abs(this.Jk.amplitude-g)>=4||Math.abs(this.Jk.radial-m)>=4)||1!==v){this.Jk={amplitude:g,radial:m};break}}var b=this.Bx.Hx().start,M=this.Bx.Hx().end,w=this.Bx.Xx()?((null===(h=this.Jk)||void 0===h?void 0:h.radial)||0)*this.Bx.x.getPixelSize()+M-b:((null===(c=this.Jk)||void 0===c?void 0:c.radial)||0)*this.Bx.x.getPixelSize()+b-M;this.ug.uf(w).cf(360),this.hg.uf(w).cf(360);try{for(var C=Vy(this.Fd),P=C.next();!P.done;P=C.next())P.value.Pr()}catch(t){s={error:t}}finally{try{P&&!P.done&&(a=C.return)&&a.call(C)}finally{if(s)throw s.error}}this.Sb.Pr(!1,this.ng,(function(t,e,i){return t.solveNearest(e,i)}));try{for(var E=Vy(this.ng),T=E.next();!T.done;T=E.next())T.value.Xb()}catch(t){u={error:t}}finally{try{T&&!T.done&&(l=E.return)&&l.call(E)}finally{if(u)throw u.error}}return t.prototype.tm.call(this),this.qk(),this},e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.Qk.setAnimationsEnabled(e),this.Kk.setAnimationsEnabled(e),this},e.prototype.setMouseInteractions=function(t){return this.Bu=t,this},e.prototype.getMouseInteractions=function(){return this.Bu},e.prototype.getMinimumSize=function(){return y(Gy,Gy)},e.prototype.qk=function(){},e.prototype.forEachAxis=function(t){return t(this.Qk),t(this.Kk),this},e.prototype.dispose=function(){return this.Fd.slice().forEach((function(t){return t.dispose()})),this.Sb.U(),this.ZT.U(),this.Yk.U(),this.Xk.U(),this.Hk.U(),this.Zk.U(),t.prototype.dispose.call(this)},e.prototype.Tv=function(){return Uy(Uy([],Ny(this.ng),!1),Ny(this.Fd),!1)},e}(Pc),Gy=300,jy=function(t,e,i){var n;return Bt(e)?ql(e,[[e.series],["Angle","",{text:e.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:In(t.getAmplitudeAxis().formatValue(e.amplitude),t.amplitudeAxis),font:{weight:"bold"}}],["Intensity","",{text:In(e.intensity.toFixed(2),null===(n=e.lut)||void 0===n?void 0:n.units),font:{weight:"bold"}}]]):ql(e,[[e.series],["Angle","",{text:e.angle.toFixed(0),font:{weight:"bold"}}],["Amplitude","",{text:In(t.getAmplitudeAxis().formatValue(e.amplitude),t.amplitudeAxis),font:{weight:"bold"}}]])},Wy=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Xy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Wy(e,t),e}(wh),Hy=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,r,s,a,u)||this;return l.Mn="Slice",l.S=0,l.Gm=!1,l.$k=J,l.Wm=J,l.Ym=l.S,l.Zm=lt((function(){return l.chart.fn.Sn()})),l.Km=function(){l.Jm=void 0},l.index=e,l.chart=r,l.scale=o,l.qi=s,l.Ik=i.Bc(o,cs.Simple).cn(l.getHighlight()),l.vn(l.Ik),l.ie=n.zo(o).cn(l.getHighlight()),l.vn(l.ie,{isText:!0}),l}return Wy(e,t),e.prototype.setValue=function(t){return this.chart.getAnimationsEnabled()?this.getVisible()&&this.ib(this.Ym,t):this.Ym=t,this.S=t,this.chart.fn.Sn(),this},e.prototype.getValue=function(){return this.S},e.prototype.setVisible=function(e){var i=this;return!1===e?this.chart.getAnimationsEnabled()&&this.Ym>0?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),this.ib(this.Ym,0,(function(){return t.prototype.setVisible.call(i,!1)}))):(this.Ym=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),t.prototype.setVisible.call(this,!0),this.ib(this.Ym,this.S)):(this.Ym=this.S,t.prototype.setVisible.call(this,!0)),this},e.prototype.ib=function(t,e,i){var n=this;this.Jm=this.Zm(300,at.ease)([[t,e]],(function(t){var e=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t,1)[0];n.Ym=e,n.chart.fn.Sn()})),this.Jm.onEveryAnimationEnd(this.Km),i&&this.Jm.onAnimationEnd(i)},e.prototype.setStyle=function(t,e,i,n){this.$k=t,this.Wm=i,this.Ik.Br(this.$k).Dr(e),this.ie.Br(this.Wm).He(n);for(var r=0;r<this.Ki.length;r+=1)this.styleLegendEntry(this.Ki[r])},e.prototype.getAnimatedValue=function(){return this.Ym},e.prototype.zr=function(t,e){return t.cn(e),this.chart.fn.Sn(),this},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.$k,stroke:this.Ik.fu()})},e}(Xy),Zy=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(hy||(hy={}));var Qy,qy=function(t,e){return t<=0?0:e*((t>=100?100:t)/100)},Ky=function(t,e,i,n,r,o,s,a){void 0===o&&(o=0),void 0===s&&(s=hy.VariableHeight),e=qy(e,n.x),i=qy(i,n.x);var u,l=t.length,h=0;u=t.reduce((function(t,e){return t+e.getAnimatedValue()}),0);var c={x:a-e/2,y:n.y+r.bottom},f={x:a+e/2,y:n.y+r.bottom},p={x:0,y:r.bottom},d={x:0,y:r.bottom},y=0,v=0;if(o)for(var g=0;g<t.length;g+=1){v+=(S=t[g]).getAnimatedValue();var m=s===hy.VariableWidth?(n.y-o*l)/l:n.y+r.bottom-v/u*n.y;if(s===hy.VariableWidth){o=m-o<10?Math.max(20,m-10):o;break}0!==y&&y-m-o<10&&(o=Math.max(0,y-m-10)),y=m}var x=(e-i)/2/n.y;for(g=0;g<l;g+=1){var S;h+=(S=t[g]).getAnimatedValue();var A,b=s===hy.VariableWidth?(n.y-o*l)/l:n.y+r.bottom-h/u*n.y;g>0&&(c={x:p.x+x*o,y:p.y-o},f={x:d.x-x*o,y:d.y-o}),p={x:a-(A=(e+h/u*(i-e))/2),y:parseInt("".concat(s===hy.VariableWidth?c.y-b:b),10)},d={x:a+A,y:parseInt("".concat(s===hy.VariableWidth?f.y-b:b),10)},f.x>=c.x&&d.x>p.x&&S.Ik.ga([p,c,f,d])}},Jy=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("funnelChart bg",0),r,i.fn.$i.funnelChartBackgroundFillStyle,i.fn.$i.funnelChartBackgroundStrokeStyle,i.fn.$i.funnelChartTitleFont,i.fn.$i.funnelChartTitleFillStyle,s)||this;u.nb=[],u.rb=Ah.None,u.sb=!0,u.ab=0,u.tO=80,u.iO=20,u.nO=0,u.rO=hy.VariableHeight,u.lb=!0,u.Ab=function(t){var e=u.nb.indexOf(t);e>=0&&(u.nb.splice(e,1),u.yb())},u.fn.Rs(Nu.Vv),u.vb=u.$i.effectsText,u.mb=i.bb("funnelChart bottom",0),u.pb=i.bb("funnelChart top",1),u.pe.vo("Funnel Chart"),u.eb=u.$i.funnelChartSliceFillStylePalette,u.ob=u.$i.funnelChartSliceStrokeStyle,u.ub=u.$i.funnelChartSliceLabelFont,u.hb=u.$i.funnelChartSliceLabelFillStyle;var l=i.gb(),h=ye(a?a.cursorBuilder:void 0,vh);return u.Sb=Kl(u,l,h.Rm(l,u.uiScale,u.uiScale,ue,u.$i),void 0,"show-pointed",$y,(function(){return 0})),u.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),u.im(o,u.GA),u}return Zy(e,t),e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=vh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.addSlice=function(t,e){var i=this,n=new Hy(this.ab,this.mb,this.pb,this,this.GA,this.Ab,this.$i,this.fn.rn);return this.ab+=1,n.setName(t),n.setValue(e),n.rn.sn.gn(this.vb),n.rn.un.gn(this.lb),this.nb.push(n),this.fn.Sn(),n.setHighlightOnHover(this.sb),n.onMouseMove((function(){i.getCursorMode()&&i.fn.Sn()})),n},e.prototype.addSlices=function(t){for(var e=[],i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e},e.prototype.getSlices=function(){return this.nb},e.prototype.setHeadWidth=function(t){return this.tO=t,this.fn.Sn(),this},e.prototype.getHeadWidth=function(){return this.tO},e.prototype.setNeckWidth=function(t){return this.iO=t,this.fn.Sn(),this},e.prototype.getNeckWidth=function(){return this.iO},e.prototype.setSliceGap=function(t){return this.nO=Math.min(Math.max(t,0),20),this.fn.Sn(),this},e.prototype.setSliceMode=function(t){return this.rO=t,this.fn.Sn(),this},e.prototype.getFunnelSliceMode=function(){return this.rO},e.prototype.setLUT=function(t){return this.bv=t,this.fn.Sn(),this},e.prototype.setSliceFillStyle=function(t){return this.eb=t,this.fn.Sn(),this},e.prototype.getSliceFillStyle=function(){return this.eb},e.prototype.setSliceStrokeStyle=function(t){return this.ob="function"==typeof t?t(this.ob):t,this.fn.Sn(),this},e.prototype.getSliceStrokeStyle=function(){return this.ob},e.prototype.setSliceEffect=function(t){return this.lb=t,this.nb.forEach((function(e){return e.rn.un.gn(t)})),this.fn.Sn(),this},e.prototype.getSliceEffect=function(){return this.lb},e.prototype.setSliceSorter=function(t){return this.rb=t,this.nb=this.nb.sort(this.rb),this.fn.Sn(),this},e.prototype.getSliceSorter=function(){return this.rb},e.prototype.setLabelFillStyle=function(t){return this.hb="function"==typeof t?t(this.hb):t,this.fn.Sn(),this},e.prototype.getLabelFillStyle=function(){return this.hb},e.prototype.setLabelFont=function(t){return this.ub="function"==typeof t?t(this.ub):t,this.fn.Sn(),this},e.prototype.getLabelFont=function(){return this.ub},e.prototype.setLabelEffect=function(t){return this.vb=t,this.nb.forEach((function(e){return e.rn.sn.gn(t)})),this.fn.Sn(),this},e.prototype.getLabelEffect=function(){return this.vb},e.prototype.setLabelFormatter=function(t){return this.wb=t,this.fn.Sn(),this},e.prototype.getLabelFormatter=function(){return this.wb},e.prototype.setSliceHighlightOnHover=function(t){return this.sb=t,this.nb.forEach((function(e){return e.setHighlightOnHover(t)})),this},e.prototype.Pr=function(e){var i=this;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm),t.prototype.tm.call(this);var n=jl(this.pe,this.rm),r=y(this.GA.x.getInnerInterval()-(this.xh.left+this.xh.right),this.GA.y.getInnerInterval()-(this.xh.bottom+this.xh.top+n)),o=y(this.xh.left+r.x/2,this.xh.bottom+r.y/2);this.nb=this.nb.sort(this.rb);for(var s=0,a=this.nb.length;s<a;s+=1)this.xb(this.nb[s],s);var u=this.nb.filter((function(t){return t.getAnimatedValue()>0})),l=0;for(s=0;s<u.length;s+=1)l+=u[s].getAnimatedValue();var h,c=[];for(s=0;s<u.length;s+=1)c.push((h=u[s].getAnimatedValue())>0?h/l:0);for(s=0;s<u.length;s+=1){var f=u[s];f.ie.vo(this.wb(f,c[s])).En()}c.push(l),this.Sb.Pr(!1,this.nb,(function(t,e,n){var r=c[u.indexOf(t)]||0,o=i.fn.ju(e);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:i.fn.vt,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:i.fn.vt},slice:t,category:t.getName(),value:t.getValue(),relativeValue:r}})),this.Mb(u,c,o,r)},e.prototype.xb=function(t,e){t.setStyle(this.bv?new et({color:this.bv.getColors(t.getAnimatedValue())}):this.eb(e,t),this.ob,this.hb,this.ub)},e.prototype.yb=function(){this.nb=this.nb.sort(this.rb),this.fn.Sn()},e.prototype.Tv=function(){return this.nb},e.prototype.dispose=function(){return this.nb.slice().forEach((function(t){return t.dispose()})),this.Sb.U(),this.mb.U(),this.pb.U(),t.prototype.dispose.call(this)},e}(Gl),$y=function(t,e,i){return[[e.slice],[{text:e.value.toString(),font:{weight:"bold"}}]]},tv=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ev=function(t,e,i){var n=t.Sa();if(n.length>0){var r=(n[1].y-n[0].y)/2+n[0].y;return{x:e===Qy.Left?(n[0].x-n[1].x)/2+n[1].x-i:(n[2].x-(4===n.length?n[3].x:n[1].x))/2+(4===n.length?n[3].x:n[1].x)+i,y:r}}},iv=function(t){var e=t.Sa();if(e.length>0)return{x:(e[2].x-e[1].x)/2+e[1].x,y:(e[1].y-e[0].y)/2+e[0].y}},nv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wb=bh.NamePlusValue,e.eO=10,e.oO=Qy.Left,e.sO=Hu.LabelsOnSides,e.Cb=[],e.Ob=e.$i.funnelChartConnectorStrokeStyle,e}return tv(e,t),e.prototype.setLabelConnectorStyle=function(t){this.Ob=t;for(var e=0;e<this.Cb.length;e+=1)this.Cb[e].Ur(this.Ob);return this.fn.Sn(),this},e.prototype.getLabelConnectorStyle=function(){return this.Ob},e.prototype.setLabelConnectorGap=function(t){return this.eO=t,this.fn.Sn(),this},e.prototype.getLabelConnectorGap=function(){return this.eO},e.prototype.setLabelSide=function(t){return this.oO=t,this.fn.Sn(),this},e.prototype.getLabelSide=function(){return this.oO},e.prototype.Mb=function(t,e,i,n){var r,o=n.x+this.xh.left+this.xh.right,s=n.y+this.xh.top+this.xh.bottom<250||o<250,a=this.eO,u=0;if(!s)for(var l=0;l<t.length;l+=1)u=Math.max(u,t[l].ie.oi().x);r=s?o/2:this.oO===Qy.Right?(this.xh.left+(o-(this.xh.right+u)))/2:(this.xh.left+u+(o-this.xh.right))/2;var h=n.x-u,c=y(h,n.y);if(Ky(t,this.tO,this.iO,c,this.xh,this.nO,this.rO,r),s)return t.forEach((function(t){return t.ie.setVisible(!1)})),void this.Cb.forEach((function(t){return t.setVisible(!1)}));for(this.uO(t,this.oO===Qy.Left?-1:1,-1,i,n),l=0;l<this.Cb.length;l+=1)this.Cb[l].setVisible(!1);for(l=0;l<t.length;l+=1)t[l].getVisible()&&this.Fb(this.hO(t[l],-1,i,a))},e.prototype.getMinimumSize=function(){return y(500,300)},e.prototype.uO=function(t,e,i,n,r){if(0!==t.length)for(var o,s=n.x+e*r.x*.5,a=1===i?Math.max:Math.min,u=0;u<t.length;u+=1){var l=t[u];if(0===l.Ik.Sa().length)l.ie.setVisible(!1);else{l.ie.setVisible(!0);var h=void 0;o&&(h=o.ie.Bh().y+i*(o.ie.oi().y+10));var c=(ev(l.Ik,this.oO,0)||y(0,0)).y,f=void 0===h?c:a(c,h);l.ie.Lr(y(s,f)).Lh(e).Vh(0),o=l}}},e.prototype.hO=function(t,e,i,n){var r=t.Ik,o=t.ie,s=ev(r,this.oO,n);if(s){var a={x:$i(this.oO===Qy.Left?o.Bh().x-e*(n+o.oi().x):o.Bh().x+e*(n+o.oi().x),s,i).x,y:tn(o.Bh().y,s,i).y};return[s,a,y(this.oO===Qy.Left?o.Bh().x-e*(n+o.oi().x):o.Bh().x+e*(n+o.oi().x),a.y)]}},e.prototype.Fb=function(t){if(t){for(var e=void 0,i=0;i<this.Cb.length;i+=1)if(!this.Cb[i].getVisible()){e=this.Cb[i].setVisible(!0);break}void 0===e&&(e=this.pb.Ib(this.GA,void 0,[Lh.InternalUI]).Ur(this.Ob),this.Cb.push(e)),e.zt().aa(t)}},e}(Jy),rv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wb=bh.Name,e.sO=Hu.LabelsInsideSlices,e}return tv(e,t),e.prototype.Mb=function(t,e,i,n){var r=this.xh.left+n.x/2;Ky(t,this.tO,this.iO,n,this.xh,this.nO,this.rO,r);for(var o=0;o<t.length;o+=1){var s=t[o],a=s.Ik,u=s.ie,l=iv(a);l&&u.Lr(l).Lh(0).Vh(0)}},e.prototype.getMinimumSize=function(){return y(200,200)},e}(Jy),ov={LabelsOnSides:nv,LabelsInsideSlices:rv};!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(Qy||(Qy={}));var sv,av=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return av(e,t),e}(wh),lv=function(t){function e(e,i,n,r,o,s,a,u){var l=t.call(this,r,s,a,u)||this;return l.Mn="Slice",l.S=0,l.Gm=!1,l.$k=J,l.Wm=J,l.Ym=l.S,l.Zm=lt((function(){return l.chart.fn.Sn()})),l.Km=function(){l.Jm=void 0},l.index=e,l.chart=r,l.scale=o,l.qi=s,l.Ik=i.Bc(o,cs.Simple).cn(l.getHighlight()),l.vn(l.Ik),l.ie=n.zo(o).cn(l.getHighlight()),l.vn(l.ie,{isText:!0}),l}return av(e,t),e.prototype.setValue=function(t){return this.chart.getAnimationsEnabled()?this.getVisible()&&this.ib(this.Ym,t):this.Ym=t,this.S=t,this.chart.fn.Sn(),this},e.prototype.getValue=function(){return this.S},e.prototype.setVisible=function(e){var i=this;return!1===e?this.chart.getAnimationsEnabled()&&this.Ym>0?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),this.ib(this.Ym,0,(function(){return t.prototype.setVisible.call(i,!1)}))):(this.Ym=0,t.prototype.setVisible.call(this,!1)):this.chart.getAnimationsEnabled()?(this.Jm&&(this.Jm.finish(!1),this.Jm=void 0),t.prototype.setVisible.call(this,!0),this.ib(this.Ym,this.S)):(this.Ym=this.S,t.prototype.setVisible.call(this,!0)),this},e.prototype.ib=function(t,e,i){var n=this;this.Jm=this.Zm(300,at.ease)([[t,e]],(function(t){var e=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t,1)[0];n.Ym=e,n.chart.fn.Sn()})),this.Jm.onEveryAnimationEnd(this.Km),i&&this.Jm.onAnimationEnd(i)},e.prototype.setStyle=function(t,e,i,n){this.$k=t,this.Wm=i,this.Ik.Br(this.$k).Dr(e),this.ie.Br(this.Wm).He(n);for(var r=0;r<this.Ki.length;r+=1)this.styleLegendEntry(this.Ki[r])},e.prototype.getAnimatedValue=function(){return this.Ym},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.$k,stroke:this.Ik.fu()})},e}(uv),hv=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(sv||(sv={}));var cv,fv=function(t,e){return t<=0?0:e*((t>=100?100:t)/100)},pv=function(t,e,i,n,r,o,s,a){void 0===o&&(o=0),void 0===s&&(s=sv.VariableHeight),e=fv(e,n.x),i=fv(i,n.x);var u,l=t.length,h=0;u=t.reduce((function(t,e){return t+e.getAnimatedValue()}),0);var c={x:a-e/2,y:n.y+r.bottom},f={x:a+e/2,y:n.y+r.bottom},p={x:0,y:r.bottom},d={x:0,y:r.bottom},y=0,v=0;if(o)for(var g=0;g<t.length;g+=1){v+=t[g].getAnimatedValue();var m=s===sv.VariableWidth?(n.y-o*l)/l:n.y+r.bottom-v/u*n.y;if(s===sv.VariableWidth){o=m-o<10?Math.max(20,m-10):o;break}0!==y&&y-m-o<10&&(o=Math.max(0,y-m-10)),y=m}var x=(e-i)/2/n.y;for(g=0;g<l;g+=1){var S=t[g];h+=S.getAnimatedValue();var A,b=s===sv.VariableWidth?(n.y-o*l)/l:n.y+r.bottom-h/u*n.y;g>0&&(c={x:p.x+x*o,y:p.y-o},f={x:d.x-x*o,y:d.y-o}),p={x:a-(A=(e+h/u*(i-e))/2),y:parseInt("".concat(s===sv.VariableWidth?c.y-b:b),10)},d={x:a+A,y:parseInt("".concat(s===sv.VariableWidth?f.y-b:b),10)},f.x>=c.x&&d.x>=p.x&&S.Ik.ga([p,c,f,d])}},dv=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("pyramidChart bg",0),r,i.fn.$i.pyramidChartBackgroundFillStyle,i.fn.$i.pyramidChartBackgroundStrokeStyle,i.fn.$i.pyramidChartTitleFont,i.fn.$i.pyramidChartTitleFillStyle,s)||this;u.nb=[],u.rb=Ah.None,u.eb=u.$i.pyramidChartSliceFillStylePalette,u.ob=u.$i.pyramidChartSliceStrokeStyle,u.sb=!0,u.ub=u.$i.pyramidChartSliceLabelFont,u.hb=u.$i.pyramidChartSliceLabelFillStyle,u.ab=0,u.tO=0,u.iO=80,u.nO=0,u.rO=sv.VariableHeight,u.lb=!0,u.Ab=function(t){var e=u.nb.indexOf(t);e>=0&&(u.nb.splice(e,1),u.yb())},u.fn.Rs(Nu.Vv),u.vb=u.$i.effectsText,u.mb=i.bb("pyramidChart bottom",0),u.pb=i.bb("pyramidChart top",1),u.pe.vo("Pyramid Chart");var l=i.gb(),h=ye(a?a.cursorBuilder:void 0,vh);return u.Sb=Kl(u,l,h.Rm(l,u.uiScale,u.uiScale,ue,u.$i),void 0,"show-pointed",yv,(function(){return 0})),u.im(o,u.GA),u.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),u}return hv(e,t),e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=vh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.addSlice=function(t,e){var i=this,n=new lv(this.ab,this.mb,this.pb,this,this.GA,this.Ab,this.$i,this.fn.rn);return this.ab+=1,n.setName(t),n.setValue(e),n.rn.sn.gn(this.vb),n.rn.un.gn(this.lb),this.nb.push(n),this.fn.Sn(),n.onMouseMove((function(){i.getCursorMode()&&i.fn.Sn()})),n},e.prototype.addSlices=function(t){for(var e=[],i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e},e.prototype.getSlices=function(){return this.nb},e.prototype.setNeckWidth=function(t){return this.iO=t,this.fn.Sn(),this},e.prototype.getNeckWidth=function(){return this.iO},e.prototype.setSliceGap=function(t){return this.nO=Math.min(Math.max(t,0),20),this.fn.Sn(),this},e.prototype.setSliceMode=function(t){return this.rO=t,this.fn.Sn(),this},e.prototype.getPyramidSliceMode=function(){return this.rO},e.prototype.setLUT=function(t){return this.bv=t,this.fn.Sn(),this},e.prototype.setSliceFillStyle=function(t){return this.eb=t,this.fn.Sn(),this},e.prototype.getSliceFillStyle=function(){return this.eb},e.prototype.setSliceStrokeStyle=function(t){return this.ob="function"==typeof t?t(this.ob):t,this.fn.Sn(),this},e.prototype.getSliceStrokeStyle=function(){return this.ob},e.prototype.setSliceEffect=function(t){return this.lb=t,this.nb.forEach((function(e){return e.rn.un.gn(t)})),this.fn.Sn(),this},e.prototype.getSliceEffect=function(){return this.lb},e.prototype.setSliceSorter=function(t){return this.rb=t,this.nb=this.nb.sort(this.rb),this.fn.Sn(),this},e.prototype.getSliceSorter=function(){return this.rb},e.prototype.setLabelFillStyle=function(t){return this.hb="function"==typeof t?t(this.hb):t,this.fn.Sn(),this},e.prototype.getLabelFillStyle=function(){return this.hb},e.prototype.setLabelFont=function(t){return this.ub="function"==typeof t?t(this.ub):t,this.fn.Sn(),this},e.prototype.getLabelFont=function(){return this.ub},e.prototype.setLabelEffect=function(t){return this.vb=t,this.nb.forEach((function(e){return e.rn.sn.gn(t)})),this.fn.Sn(),this},e.prototype.getLabelEffect=function(){return this.vb},e.prototype.setLabelFormatter=function(t){return this.wb=t,this.fn.Sn(),this},e.prototype.getLabelFormatter=function(){return this.wb},e.prototype.setSliceHighlightOnHover=function(t){return this.sb=t,this.nb.forEach((function(e){return e.setHighlightOnHover(t)})),this},e.prototype.Pr=function(e){var i=this;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm),t.prototype.tm.call(this);var n=jl(this.pe,this.rm),r=y(this.GA.x.getInnerInterval()-(this.xh.left+this.xh.right),this.GA.y.getInnerInterval()-(this.xh.bottom+this.xh.top+n)),o=y(this.xh.left+r.x/2,this.xh.bottom+r.y/2);this.nb=this.nb.sort(this.rb);for(var s=0,a=this.nb.length;s<a;s+=1)this.xb(this.nb[s],s);var u=this.nb.filter((function(t){return t.getAnimatedValue()>0})),l=0;for(s=0;s<u.length;s+=1)l+=u[s].getAnimatedValue();var h,c=[];for(s=0;s<u.length;s+=1)c.push((h=u[s].getAnimatedValue())>0?h/l:0);for(s=0;s<u.length;s+=1){var f=u[s];f.ie.vo(this.wb(f,c[s])).En()}c.push(l),this.Sb.Pr(!1,this.nb,(function(t,e,n){var r=c[u.indexOf(t)]||0,o=i.fn.ju(e);return{cursorPosition:{pointMarker:{x:o.engineX,y:o.engineY},pointMarkerScale:i.fn.vt,resultTable:{x:o.engineX,y:o.engineY},resultTableScale:i.fn.vt},slice:t,category:t.getName(),value:t.getValue(),relativeValue:r}})),this.Mb(u,c,o,r)},e.prototype.xb=function(t,e){t.setStyle(this.bv?new et({color:this.bv.getColors(t.getAnimatedValue())}):this.eb(e,t),this.ob,this.hb,this.ub)},e.prototype.yb=function(){this.nb=this.nb.sort(this.rb),this.fn.Sn()},e.prototype.Tv=function(){return this.nb},e.prototype.dispose=function(){return this.nb.slice().forEach((function(t){return t.dispose()})),this.Sb.U(),this.mb.U(),this.pb.U(),t.prototype.dispose.call(this)},e}(Gl),yv=function(t,e,i){return[[e.slice],[{text:e.value.toString(),font:{weight:"bold"}}]]},vv=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),gv=function(t,e,i){var n=t.Sa();if(n.length>0){var r=(n[1].y-n[0].y)/2+n[0].y;return{x:e===cv.Left?(n[0].x-n[1].x)/2+n[1].x-i:(n[2].x-(4===n.length?n[3].x:n[1].x))/2+(4===n.length?n[3].x:n[1].x)+i,y:r}}},mv=function(t){var e=t.Sa();if(e.length>0)return{x:(e[2].x-e[1].x)/2+e[1].x,y:(e[1].y-e[0].y)/2+e[0].y}},xv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wb=bh.NamePlusValue,e.eO=10,e.oO=cv.Left,e.sO=Hu.LabelsOnSides,e.Cb=[],e.Ob=e.$i.pyramidChartConnectorStrokeStyle,e}return vv(e,t),e.prototype.setLabelConnectorStyle=function(t){this.Ob=t;for(var e=0;e<this.Cb.length;e+=1)this.Cb[e].Ur(this.Ob);return this.fn.Sn(),this},e.prototype.getLabelConnectorStyle=function(){return this.Ob},e.prototype.setLabelConnectorGap=function(t){return this.eO=t,this.fn.Sn(),this},e.prototype.getLabelConnectorGap=function(){return this.eO},e.prototype.setLabelSide=function(t){return this.oO=t,this.fn.Sn(),this},e.prototype.getLabelSide=function(){return this.oO},e.prototype.Mb=function(t,e,i,n){var r,o=n.x+this.xh.left+this.xh.right,s=n.y+this.xh.top+this.xh.bottom<250||o<250,a=this.eO,u=0;if(!s)for(var l=0;l<t.length;l+=1)u=Math.max(u,t[l].ie.oi().x);r=s?o/2:this.oO===cv.Right?(this.xh.left+(o-(this.xh.right+u)))/2:(this.xh.left+u+(o-this.xh.right))/2;var h=n.x-u,c=y(h,n.y);if(pv(t,this.tO,this.iO,c,this.xh,this.nO,this.rO,r),s)return t.forEach((function(t){return t.ie.setVisible(!1)})),void this.Cb.forEach((function(t){return t.setVisible(!1)}));for(this.uO(t,this.oO===cv.Left?-1:1,-1,i,n),l=0;l<this.Cb.length;l+=1)this.Cb[l].setVisible(!1);for(l=0;l<t.length;l+=1)if(t[l].getVisible()){var f=this.hO(t[l],-1,i,a);f&&this.Fb(f)}},e.prototype.getMinimumSize=function(){return y(500,300)},e.prototype.uO=function(t,e,i,n,r){if(0!==t.length)for(var o,s=n.x+e*r.x*.5,a=1===i?Math.max:Math.min,u=0;u<t.length;u+=1){var l=t[u];0===l.Ik.Sa().length?l.ie.setVisible(!1):l.ie.setVisible(!0);var h=void 0;o&&(h=o.ie.Bh().y+i*(o.ie.oi().y+10));var c=gv(l.Ik,this.oO,0);if(c){var f=c.y,p=void 0===h?f:a(f,h);l.ie.Lr(y(s,p)).Lh(e).Vh(0)}o=l}},e.prototype.hO=function(t,e,i,n){var r=t.Ik,o=t.ie,s=gv(r,this.oO,n);if(s){var a={x:$i(this.oO===cv.Left?o.Bh().x-e*(n+o.oi().x):o.Bh().x+e*(n+o.oi().x),s,i).x,y:tn(o.Bh().y,s,i).y};return[s,a,y(this.oO===cv.Left?o.Bh().x-e*(n+o.oi().x):o.Bh().x+e*(n+o.oi().x),a.y)]}},e.prototype.Fb=function(t){for(var e,i=0;i<this.Cb.length;i+=1)if(!this.Cb[i].getVisible()){e=this.Cb[i].setVisible(!0);break}void 0===e&&(e=this.pb.Ib(this.GA,void 0,[Lh.InternalUI]).Ur(this.Ob),this.Cb.push(e)),e.zt().aa(t)},e}(dv),Sv=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wb=bh.Name,e.sO=Hu.LabelsInsideSlices,e}return vv(e,t),e.prototype.Mb=function(t,e,i,n){var r=this.xh.left+n.x/2;pv(t,this.tO,this.iO,n,this.xh,this.nO,this.rO,r);for(var o=0;o<t.length;o+=1){var s=t[o].Ik,a=t[o].ie,u=mv(s);u&&a.Lr(u).Lh(0).Vh(0)}},e.prototype.getMinimumSize=function(){return y(200,200)},e}(dv),Av={LabelsOnSides:xv,LabelsInsideSlices:Sv};!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(cv||(cv={}));var bv,Mv=function(t,e,i,n,r,o){return t.alignmentX=(r+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,t.alignmentY=r%(2*Math.PI)<=Math.PI?-1:1,t.paddingX=Math.cos(r)*o,t.paddingY=Math.sin(r)*o,t},wv=function(t,e,i,n,r,o,s,a){if(0===e)return t.paddingX=a,t.alignmentX=-1,t};!function(t){t[t.Normal=0]="Normal",t[t.Circle=1]="Circle"}(bv||(bv={}));var Cv,Pv,Ev,Tv=function(){function t(t,e,i,n,o,s,a,u){this.D=new r.a,this.aO=t,this.Vo=e,this.scale=i,this.chart=n,this.tag=o,this.axisScale=s,this.fO=a,this.cO=u,this.lO=this.aO.Wr(this.scale).setMouseInteractions(!1),this.vO=this.Vo.zo(this.scale).vo(this.tag).setMouseInteractions(!1),this.dO=this.fO(this,this.aO.Ib(this.scale,void 0,[Lh.InternalUI])).Ur(this.chart.getNibStyle()),this.cO.dn([this.vO])}return t.prototype.Mb=function(t,e,i,n,r,o,s){var a=e.length,u=e[i>0?i-1:a-1],l=e[i],h=e[i<a-1?i+1:0],c=this.chart.getNibLength();this.lO.Xr(t).Yr(l).Ur(this.chart.getAxisStyle()),this.dO.zt().aa(o===bv.Normal?[Bi(l,u,he(.5*c/Wi(Zi(u,l)),0,1)),l,Bi(l,h,he(.5*c/Wi(Zi(h,l)),0,1))]:function(t,e,i,n,r){void 0===r&&(r=2);for(var o=n/i,s=[],a=-n/2;a<=n/2;a+=r){var u=o*(a/n)+e,l=y(t.x+Math.cos(u)*i,t.y+Math.sin(u)*i);s.push(l)}return s}(t,n,r,c)),s?this.vO.setVisible(!0).Lr(Hi(l,y(s.paddingX,s.paddingY))).Lh(s.alignmentX).Vh(s.alignmentY):this.vO.setVisible(!1)},t.prototype.getLabelSize=function(){return this.vO.He(this.chart.getAxisLabelFont()).Br(this.chart.getAxisLabelStyle()).En().oi()},t.prototype.dispose=function(){this.lO&&this.lO.dispose(),this.vO&&this.vO.dispose(),this.dO&&this.dO.dispose()},t}(),kv=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Dv=function(t){function e(e,i,n,r,o,s,a,u,l,h,c,f){var p,d,y=t.call(this,e,l,h,f)||this;return y.Mn="Spider Series",y.pf=new Map,y.Xi=on.onHover,y.gw=8,y.ph=0,y.AO=(d=lt((function(){})),function(t,e,i,n){var r,o=null==n?void 0:n.onStart,s=null==n?void 0:n.onCompleted,a=(null==n?void 0:n.easing)||at.ease,u=(null==n?void 0:n.durationMs)||1e3;if(p)if(0===p.nextAnimations.length){var l=p.NextAnimation([[t,e]],(function(t){var e=ee(t,1)[0];p=l,i(e)}),u,a);r=l}else{t=p.nextAnimations.pop().values[0][0];var h=p.NextAnimation([[t,e]],(function(t){var e=ee(t,1)[0];p=h,i(e)}),u,a);r=h}else r=d(u,a)([[t,e]],(function(t){var e=ee(t,1)[0];i(e)})),p=r;r.onAnimationEnd((function(){p=void 0})),o&&r.onAnimationStart(o),s&&r.onAnimationEnd(s)}),y.yO={},y.mO={},y.Hm=y.getVisible(),y.bO=1,y.pO=function(t,e){var i,n,r=lt((function(){})),o=1;return function(s,a,u){if(s!==n){n=s;var l=(null==u?void 0:u.easing)||at.ease,h=(null==u?void 0:u.durationMs)||1e3;i&&(i.finish(!1),i=void 0),!1===s?a&&o?(i=r(h,l)([[o,0]],(function(e){var i=ee(e,1)[0];t(o=i)}))).onAnimationEnd((function(){i=void 0,e(!1)})):(o=0,e(!1)):a?(e(!0),(i=r(h,l)([[o,1]],(function(e){var i=ee(e,1)[0];t(o=i)}))).onAnimationEnd((function(){i=void 0}))):(o=1,e(!0))}}}((function(t){y.bO=t,y.In.fn.Sn()}),(function(e){t.prototype.setVisible.call(y,e)})),y.chart=e,y.In=i,y.Sw=r,y.gO=o,y.VS=s,y.SO=a,y.xO=u,y.scale=n,y.wO=Ke(h.spiderSeriesFillStyle,c),y.MO=Ke(h.spiderSeriesStrokeStyle,c),y.CO=Ke(h.spiderSeriesPointFillStyle,c),y}return kv(e,t),e.prototype.Ji=function(t,e){var i=this.xO(e);if(void 0!==i&&this.pf.has(i.tag)){var n=this.pf.get(i.tag),r=this.SO(i.tag,n);return{cursorPosition:{pointMarker:r,pointMarkerScale:this.scale,resultTable:r,resultTableScale:this.scale},series:this,axis:i.tag,value:n}}},e.prototype.kp=function(){return this.Ip&&this.pf.size>0&&this.getVisible()},e.prototype.addPoints=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.pf.size>0&&this.chart.fn.Rs(Nu.Jv),e=e.filter((function(t){return void 0!==t.axis}));for(var n=0;n<e.length;n+=1)this.gO(e[n].axis);if(this.chart.getAnimationsEnabled()&&void 0!==this.yO){var r,o=new Map;e.forEach((function(t){return o.set(t.axis,t.value)})),this.AO(0,1,(function(e){o.forEach((function(i,n){var o=(null==r?void 0:r.get(n))||0;t.pf.set(n,o+e*(i-o)),t.In.fn.Sn()}))}),{easing:this.yO.easing,durationMs:this.yO.durationMs,onStart:function(){r=new Map(t.pf)}})}else for(n=0;n<e.length;n+=1){var s=e[n].axis;this.pf.set(s,e[n].value)}return this.In.Sn(),this},e.prototype.getValue=function(t,e){void 0===e&&(e=!1);var i=this.pf.get(t),n=this.chart.getOriginValue();if(void 0!==i)return e?n+this.bO*(i-n):i},e.prototype.setAnimationAddPoints=function(t,e){return this.yO=t?{easing:t,durationMs:e}:void 0,this.In.Sn(),this},e.prototype.setVisibleStateChangedAnimation=function(t,e){return this.mO=t?{easing:t,durationMs:e}:void 0,this.In.Sn(),this},e.prototype.setFillStyle=function(t){return this.wO="function"==typeof t?t(this.wO):t,this.Ik&&(this.Ik.Br(this.wO),this.In.Sn()),this},e.prototype.getFillStyle=function(){return this.wO},e.prototype.setStrokeStyle=function(t){return this.MO="function"==typeof t?t(this.MO):t,this.Ik&&(this.Ik.Dr(this.MO),this.In.Sn()),this},e.prototype.getStrokeStyle=function(){return this.MO},e.prototype.setPointFillStyle=function(t){return this.CO="function"==typeof t?t(this.CO):t,this.xw&&(this.xw.Br(this.CO),this.In.Sn()),this},e.prototype.getPointFillStyle=function(){return this.CO},e.prototype.setPointSize=function(t){return this.gw=t,this.xw&&this.xw.tt(t),this},e.prototype.getPointSize=function(){return this.gw},e.prototype.getPointShape=function(){return this.Sw},e.prototype.setPointRotation=function(t){return this.ph=t,this.xw&&this.xw.Ze(t),this.In.Sn(),this},e.prototype.getPointRotation=function(){return this.ph},e.prototype.Pr=function(){if(t.prototype.Pr.call(this),!this.Hi){for(var e=new Array(this.VS.length),i=this.chart.getOriginValue(),n=0;n<this.VS.length;n+=1){var r=this.pf.get(this.VS[n].tag);e[n]=void 0!==r?this.SO(this.VS[n].tag,i+this.bO*(r-i)):this.SO(this.VS[n].tag,i)}Re(e),e.length>=3&&(this.Ik||(this.Ik=this.In.Bc(this.scale,cs.Simple).Dr(this.MO).Br(this.wO).cn(this.getHighlight()),this.vn(this.Ik)),this.Ik.ga(e),this.xw||(this.xw=this.In.ig(this.scale).tt(this.gw).ea(this.Sw).Ze(this.ph).Br(this.CO).cn(this.getHighlight()),this.vn(this.xw)),this.xw.zt().aa(e))}},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.wO,stroke:this.MO})},e.prototype.On=function(){return this.wn||this.Sw},e.prototype._O=function(){for(var t=0;t<this.Ki.length;t+=1)He(this.Ki[t],this.$i,!1,{fill:this.wO,stroke:this.MO})},e.prototype.zr=function(t,e){return t.cn(e),this.In.Sn(),this},e.prototype.setVisible=function(t){var e,i;return this.Hm=t,this.pO(t,this.chart.getAnimationsEnabled()&&void 0!==this.mO,{easing:null===(e=this.mO)||void 0===e?void 0:e.easing,durationMs:null===(i=this.mO)||void 0===i?void 0:i.durationMs}),this},e}(Ef),Fv=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Iv=function(t,e){var i=Math.PI/2-2*t*Math.PI/e;return i>=0?i:i+2*Math.PI},Ov=function(t){return Li(t.vO.te())},Bv=function(t){return Li(t.te())},zv=function(t,e,i,n){return t.ff(0).Lr(i).sf(90).Yr(-270).cf(e===bv.Circle?void 0:n.length)},Lv={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},Rv={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},Vv=function(){Rv.alignmentX=0,Rv.alignmentY=0,Rv.paddingX=0,Rv.paddingY=0},Nv=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("spiderChart bg",0),r,i.fn.$i.spiderChartBackgroundFillStyle,i.fn.$i.spiderChartBackgroundStrokeStyle,i.fn.$i.spiderChartTitleFont,i.fn.$i.spiderChartTitleFillStyle,a)||this;u.xh=M(20,20,20,20),u.axisScale=wt.d1({scale1DConstructor:An,dimension:"x"}).q(0,1),u.VS=[],u.TO=[],u.kO=[],u.OO=Lr.expansion,u.FO=!0,u.IO=wv,u.jO=Mv,u.Bu=!0,u.DO=bv.Normal,u.BO=4,u.EO=u.$i.spiderChartWebStyle,u.PO=u.$i.spiderChartScaleLabelFillStyle,u.LO=u.$i.spiderChartScaleLabelFont,u.zO=5,u.VO=u.$i.spiderChartAxisLabelFillStyle,u.NO=u.$i.spiderChartAxisLabelFont,u.RO=5,u.GO=u.$i.spiderChartAxisStrokeStyle,u.UO=u.$i.spiderChartAxisNibStrokeStyle,u.ad=10,u.WO=M(),u.hasAxis=function(t){return u.VS.reduce((function(e,i){return e||i.tag===t}),!1)},u.formatValue=function(t){return u.axisScale.Ii(t,mn.Numeric)},u.YO=function(){var t=u.VS.map(Ov).concat(u.kO.map(Bv));return ki(t)},u.XO=function(){return u.HO.Fl(u.GA).setMouseInteractions(!1)},u.ZO=function(t){return t.dispose()},u.QO=function(){return u.iA.zo(u.GA).setMouseInteractions(!1)},u.KO=function(t){return t.dispose()},u.JO=function(t){return u.formatValue(u.axisScale.getInnerStart()+t*(u.axisScale.getInnerEnd()-u.axisScale.getInnerStart()))},u.qO=function(t,e){var i,n,r=function(){void 0!==u.$O&&u.$O.finish(),i=S(u.axisScale.getInnerStart(),u.axisScale.getInnerEnd()),n=u.OO,u.OO=void 0},o=function(e,n,r,o,s){var a=y(r.x-n.x,n.y-r.y),l=u.VS.findIndex((function(e){return e===t}));if(l>=0&&void 0!==i){var h=Iv(l,u.VS.length),c=y(Math.cos(h),Math.sin(h)),f=a.x*c.x+a.y*c.y,p=Wi(Zi(t.lO.Oi(),t.lO.Ti())),d=i.min+(i.max-i.min)*Math.max(1+f/p,.01);u.axisScale.q(i.min,d),Ie(s),u.fn.Sn()}},s=function(){if(i=void 0,void 0!==n)if(u.fe){var t=S(u.axisScale.getInnerStart(),u.axisScale.getInnerEnd()),e=u.tF(),r=n;if(void 0!==e){var o=r.start(t.min,t.max,e.min,e.max),s=r.end(t.min,t.max,e.min,e.max);u.$O=u.zy.fn.Qo(300,at.ease)([[0,1]],(function(e){var i=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(e,1)[0];u.axisScale.q(t.min+i*(o-t.min),t.max+i*(s-t.max))})),u.$O.onAnimationEnd((function(){u.$O=void 0,u.OO=r}))}else u.OO=n}else u.OO=n;n=void 0};e.setMouseEnterEventHandler(u.iF).setMouseLeaveEventHandler(u.nF).setMouseDragStartEventHandler(r).setMouseDragEventHandler((function(t,e,i,n,r){return o(0,y(e.clientX,e.clientY),n,0,e)})).setMouseDragStopEventHandler(s);var a=Gn(new jn.Drag((function(t,e,i){u.iF(t),r(),Ie(i)}),o,(function(t,e,i,n){u.nF(t),s(),Ie(n)})));return e.setTouchStartEventHandler(a.onTouchStart).setTouchMoveEventHandler(a.onTouchMove).setTouchEndEventHandler(a.onTouchEnd)},u.rF=function(t){u.FO&&!u.hasAxis(t)&&u.addAxis(t)},u.SO=function(t,e){var i,n;try{for(var r=_v(u.VS),o=r.next();!o.done;o=r.next()){var s=o.value;if(s.tag===t){var a=Math.max(Math.min((e-u.axisScale.getInnerStart())/(u.axisScale.getInnerEnd()-u.axisScale.getInnerStart()),1),0);return Bi(s.lO.Oi(),s.lO.Ti(),a)}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}},u.xO=function(t){var e,i;if(0!==u.VS.length){var n,r=Zi(u.translateCoordinate(t,u.coordsRelative),u.VS[0].lO.Oi()),o=Math.atan2(r.y,r.x),s=Ai;try{for(var a=_v(u.VS),l=a.next();!l.done;l=a.next()){var h=l.value,c=Zi(h.lO.Ti(),h.lO.Oi()),f=Math.atan2(c.y,c.x),p=Math.abs(o-f);p<s&&(n=h,s=p)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return n}},u.iF=function(t){u.Bu&&(t.Ur(u.UO),u.fn.Sn())},u.nF=function(t){t.Ur(u.UO),u.fn.Sn()},u.fn.Rs(Nu.Rv),u.ZT=i.zS("spiderChart series bg",0),u.HO=i.bb("spiderChart web shapes",0),u.eF=i.bb("spiderChart axis bg",1),u.gx=i.bb("spiderChart plotting",2),u.iA=i.bb("spiderChart fg",3),u.cO=u.rn.JA().gn(u.$i.effectsText),u.pe.vo("Spider Chart"),u.ug=u.ZT.Fl(u.GA).Br(u.$i.spiderChartSeriesBackgroundFillStyle).Dr(gt).sf(90).Yr(-270).ff(0),u.hg=u.ZT.Fl(u.GA).Br(J).Dr(u.$i.spiderChartSeriesBackgroundStrokeStyle).sf(90).Yr(-270).ff(0),t.prototype.sg.call(u,u.ug,u.hg);var l=i.gb(),h=ye(s?s.cursorBuilder:void 0,dh);return u.Sb=Kl(u,l,h.Rm(l,u.uiScale,u.uiScale,ue,u.$i),u,"show-pointed",Uv,(function(){return 0})),u.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),u.im(o,u.GA),u}return Fv(e,t),e.prototype.getSeries=function(){return this.ng},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=dh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.addAxis=function(t){if("string"==typeof t){if(!this.hasAxis(t)){var e=new Tv(this.eF,this.iA,this.GA,this,t,this.axisScale,this.qO,this.cO);this.VS.push(e)}}else t&&this.VS.push(t);return this.cO.dn(this.VS.map((function(t){return t.vO}))),this.fn.Sn(),this},e.prototype.addSeries=function(t){var e=void 0!==(null==t?void 0:t.pointShape)?t.pointShape:Co.Circle,i=void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.ng.length,n=new Dv(this,this.gx,this.GA,e,this.rF,this.VS,this.SO,this.xO,this.eg,this.$i,i,this.fn.rn);return this.ag(n),n},e.prototype.getSeriesCount=function(){return this.ng.length},e.prototype.setWebMode=function(t){return this.DO=t,this.fn.Sn(),this},e.prototype.getWebMode=function(){return this.DO},e.prototype.setWebCount=function(t){return this.BO=t,this.fn.Sn(),this},e.prototype.getWebCount=function(){return this.BO},e.prototype.setWebStyle=function(t){return this.EO="function"==typeof t?t(this.EO):t,this.fn.Sn(),this},e.prototype.getWebStyle=function(){return this.EO},e.prototype.setScaleLabelStyle=function(t){return this.PO="function"==typeof t?t(this.PO):t,this.fn.Sn(),this},e.prototype.getScaleLabelStyle=function(){return this.PO},e.prototype.setScaleLabelFont=function(t){return this.LO="function"==typeof t?t(this.LO):t,this.fn.Sn(),this},e.prototype.getScaleLabelFont=function(){return this.LO},e.prototype.setScaleLabelPadding=function(t){return this.zO=t,this.fn.Sn(),this},e.prototype.getScaleLabelPadding=function(){return this.zO},e.prototype.setScaleLabelStrategy=function(t){return this.IO=t,this.fn.Sn(),this},e.prototype.setScaleLabelFormatter=function(t){return this.formatValue=t,this.fn.Sn(),this},e.prototype.setAxisLabelStyle=function(t){return this.VO="function"==typeof t?t(this.VO):t,this.fn.Sn(),this},e.prototype.getAxisLabelStyle=function(){return this.VO},e.prototype.setAxisLabelFont=function(t){return this.NO="function"==typeof t?t(this.NO):t,this.fn.Sn(),this},e.prototype.getAxisLabelFont=function(){return this.NO},e.prototype.setAxisLabelEffect=function(t){return this.cO.gn(t),this.fn.Sn(),this},e.prototype.getAxisLabelEffect=function(){return this.cO.xn()},e.prototype.setAxisLabelPadding=function(t){return this.RO=t,this.fn.Sn(),this},e.prototype.getAxisLabelPadding=function(){return this.RO},e.prototype.setAxisLabelStrategy=function(t){return this.jO=t,this.fn.Sn(),this},e.prototype.setAxisStyle=function(t){return this.GO="function"==typeof t?t(this.GO):t,this.fn.Sn(),this},e.prototype.getAxisStyle=function(){return this.GO},e.prototype.setNibStyle=function(t){return this.UO="function"==typeof t?t(this.UO):t,this.fn.Sn(),this},e.prototype.getNibStyle=function(){return this.UO},e.prototype.setNibLength=function(t){return this.ad=t,this.fn.Sn(),this},e.prototype.getNibLength=function(){return this.ad},e.prototype.setAutoAxis=function(t){return this.FO=t,this},e.prototype.getAutoAxis=function(){return this.FO},e.prototype.setMouseInteractions=function(t){return this.Bu=t,this},e.prototype.getMouseInteractions=function(){return this.Bu},e.prototype.setAxisScrollStrategy=function(t){return this.OO=t,this.fn.Sn(),this},e.prototype.getAxisScrollStrategy=function(){return this.OO},e.prototype.setAxisInterval=function(t,e){return void 0===e&&(e=0),this.axisScale.q(e,t),this.fn.Sn(),this},e.prototype.getOriginValue=function(){return this.axisScale.getInnerStart()},e.prototype.getEdgeValue=function(){return this.axisScale.getInnerEnd()},e.prototype.Pr=function(e){var i,n,r,o,s,a;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm);var u,l,h,c,f=this.VS.length,p=jl(this.pe,this.rm),d=y(this.GA.x.getInnerInterval()-(this.xh.left+this.xh.right),this.GA.y.getInnerInterval()-(this.xh.bottom+this.xh.top+p)),v=(void 0===(u=0)&&(u=0),void 0===(l=0)&&(l=0),void 0===(h=0)&&(h=0),void 0===(c=0)&&(c=0),{left:u,top:l,right:h,bottom:c});if(void 0!==this.jO)for(var g=Math.min(d.x,d.y)/2,m=0;m<f;m+=1){var x=Iv(m,f),S=Math.cos(x),A=Math.sin(x),b=this.VS[m].getLabelSize();Vv();var w=this.jO(Rv,m,f,this.VS[m].tag,x,this.RO),C=y(S*g+w.paddingX,A*g+w.paddingY);S>0?v.right=Math.max(v.right,C.x+.5*(1-w.alignmentX)*b.x-g):v.left=Math.max(v.left,-C.x+.5*(w.alignmentX+1)*b.x-g),A>0?v.top=Math.max(v.top,C.y+.5*(1-w.alignmentY)*b.y-g):v.bottom=Math.max(v.bottom,-C.y+.5*(w.alignmentY+1)*b.y-g)}if(this.OO){var P=this.tF();if(void 0!==P){var E=this.OO.start(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),P.min,P.max),T=this.OO.end(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),P.min,P.max);this.axisScale.q(E,T)}}var k=y(this.GA.x.getInnerStart()+(v.left+this.GA.x.getInnerInterval()-v.right)/2,this.GA.y.getInnerStart()+(v.bottom+this.GA.y.getInnerInterval()-v.top)/2),D=Math.min(d.x/2-(v.left+v.right)/2,d.y/2-(v.bottom+v.top)/2);this.WO=M(this.Yt.left+this.xh.left+v.left,this.Yt.top+this.xh.top+p+v.top,this.Yt.right+this.xh.right+v.right,this.Yt.bottom+this.xh.bottom+v.bottom),this.Mb(k,D);try{for(var F=_v(this.ng),_=F.next();!_.done;_=F.next())_.value.Np()}catch(t){i={error:t}}finally{try{_&&!_.done&&(n=F.return)&&n.call(F)}finally{if(i)throw i.error}}try{for(var I=_v(this.ng),O=I.next();!O.done;O=I.next())O.value.Pr()}catch(t){r={error:t}}finally{try{O&&!O.done&&(o=I.return)&&o.call(I)}finally{if(r)throw r.error}}t.prototype.tm.call(this),this.Sb.Pr(!1,this.ng,void 0);try{for(var B=_v(this.ng),z=B.next();!z.done;z=B.next())z.value.Xb()}catch(t){s={error:t}}finally{try{z&&!z.done&&(a=B.return)&&a.call(B)}finally{if(s)throw s.error}}},e.prototype.dispose=function(){return this.ZT.U(),this.HO.U(),this.eF.U(),this.gx.U(),this.iA.U(),this.Sb.U(),t.prototype.dispose.call(this)},e.prototype.getMinimumSize=function(){return y(this.WO.left+this.WO.right+100,this.WO.bottom+this.WO.top+100)},e.prototype.Mb=function(t,e){for(var i,n,r,o,s=this.VS.length,a=[],u=0;u<s;u+=1){var l=Iv(u,s),h=y(t.x+Math.cos(l)*e,t.y+Math.sin(l)*e);a.push(h)}zv(this.ug,this.DO,t,a),zv(this.hg,this.DO,t,a),this.ug.uf(e),this.hg.uf(e),function(t,e,i,n,r,o,s,a){for(var u=t.length,l=o.length,h=e>0&&l>1,c=0;c<Math.max(e,u);c+=1)if(h&&c<e){c>=u&&t.push(s());var f=t[c];zv(f,i,n,o);var p=r*((c+1)/e);f.uf(p)}else c<t.length&&a(t[c]);t.length=h?e:0}(this.TO,this.BO,this.DO,t,e,a,this.XO,this.ZO);try{for(var c=_v(this.TO),f=c.next();!f.done;f=c.next())f.value.Br(J).Dr(this.EO)}catch(t){i={error:t}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}for(u=0;u<s;u+=1){var p=this.VS[u],d=Iv(u,s);Vv();var v=void 0!==this.jO?this.jO(Rv,u,s,this.VS[u].tag,d,this.RO):void 0;p.Mb(t,a,u,d,e,this.DO,v)}!function(t,e,i,n,r,o,s,a,u,l){var h=r.length,c=t.length,f=0;if(void 0!==e)for(var p=0;p<h;p+=1)for(var d=r[p].tag,v=Iv(p,h),g=0;g<i+ +(0===p);g+=1){Lv.alignmentX=0,Lv.alignmentY=0,Lv.paddingX=0,Lv.paddingY=0;var m=e(Lv,p,h,d,v,g,i,n);if(void 0!==m){f>=c&&t.push(a());var x=t[f];f+=1;var S=(i-g)/i,A=Bi(o,s[p],S);x.Lr(Hi(A,y(m.paddingX,m.paddingY))).Lh(m.alignmentX).Vh(m.alignmentY).vo(l(S))}}for(var b=f;b<c;b+=1)u(t[b]);t.length=f}(this.kO,this.IO,this.BO,this.zO,this.VS,t,a,this.QO,this.KO,this.JO);try{for(var g=_v(this.kO),m=g.next();!m.done;m=g.next())m.value.Br(this.PO).He(this.LO)}catch(t){r={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}},e.prototype.tF=function(){var t,e,i,n,r,o,s=this.getSeriesCount()>1;try{for(var a=_v(this.VS),u=a.next();!u.done;u=a.next()){var l=u.value;try{for(var h=(i=void 0,_v(this.ng)),c=h.next();!c.done;c=h.next()){var f=c.value.getValue(l.tag,s);void 0!==f&&(r=void 0===r?f:Math.min(r,f),o=void 0===o?f:Math.max(o,f))}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=h.return)&&n.call(h)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(void 0!==r&&void 0!==o)return S(r,o)},e}(Pc),Uv=function(t,e,i){return ql(e,[[e.series],[e.axis],[{text:t.formatValue(e.value),font:{weight:"bold"}}]])},Yv=function(t,e){var i=Math.floor(99999/e),n=Math.floor(99999/e),r=Math.floor(99998/e),o=Math.floor(99998/e),s=Math.floor(99999/(e+1)),a=Math.floor(89999/(e+1)),u=510001+e*a,l=0;return{oF:function(){var e=t.sF("dashboard ui",u+l);return l+=1,e},uF:function(){return t.sF("dashboard legend",51e4)},hF:function(e){var u=1+e*i,l=100001+e*n,h=200002+e*r,c=300002+e*o,f=400001+e*s,p=510001+e*a,d=0;return{fn:t,nm:function(e,i){var n=u+i;return t.sF(e,n)},zS:function(e,i){var n=l+i;return t.sF(e,n)},KT:function(e,i){var n=h+i;return t.sF(e,n)},bb:function(e,i){var n=c+i;return t.sF(e,n)},LS:function(e,i,n){var r=c+i;return t.aF(e,r,n)},sm:function(e,i){var n=f+i;return t.sF(e,n)},Yy:function(e){var i=p+d,n=t.sF(e,i);return d+=1,n},Hy:function(){return t.sF("panel legend",500002+e)},gb:function(){return t.sF("panel cursor",600001+e)}}}}},Gv=function(){function t(t){this.D=new r.a,this.S=t}return t.prototype.M=function(t){return this.S=t,this.D.emit("set",t),this},t.prototype.C=function(){return this.S},t.prototype.N=function(t){return this.D.on("set",t)},t.prototype.G=function(t){return this.D.off(t,"set")},t}(),jv={ce:!1,le:0,ve:!1,Ae:0,de:!1,ye:0,me:0,ue:Lr.fitting},Wv=function(){return(Wv=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Xv=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hv=function(t){if(!t||"object"!==a(t)||null===t)return!1;var e=t.type;return!(!e||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(e))},Zv=function(t,e,i,n){return{x:qv(t.x,e.x,i.x,n),y:Kv(t.y,e.y,i.y,n)}},Qv=function(t,e,i,n){return{position:qv(t.position,e.x,i.x,n),high:Kv(t.high,e.y,i.y,n),low:Kv(t.low,e.y,i.y,n)}},qv=function(t,e,i,n){var r=he(t,e,e+i);return n[0].x+n[1].x*(r-e)/i},Kv=function(t,e,i,n){var r=he(t,e,e+i);return n[0].y+n[1].y*(r-e)/i},Jv=function(t,e,i,n,r,o,s,a){var u,l;try{for(var h=Xv(t),c=h.next();!c.done;c=h.next()){var f=c.value;"point"===f.type&&$v(f,e,i,r,o,s,a),"axis-band"===f.type&&tg(f,i,r,o,s,a),"constant-line"===f.type&&eg(f,i,n,r,o,s,a)}}catch(t){u={error:t}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(u)throw u.error}}},$v=function(t,e,i,n,r,o,s){var u,l,h,c,f=t.value,p=t.fillStyle,d=t.shape,y=t.size,v=t.rotation,g={x:NaN,y:NaN};if("start"===f&&(g=e[0]),"end"===f&&(g=e[e.length-1]),"min"===f){g=e[0];try{for(var m=Xv(e),x=m.next();!x.done;x=m.next()){var S=x.value;g=g.y<S.y?g:S}}catch(t){u={error:t}}finally{try{x&&!x.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}}if("max"===f){g=e[0];try{for(var A=Xv(e),b=A.next();!b.done;b=A.next())S=b.value,g=g.y>S.y?g:S}catch(t){h={error:t}}finally{try{b&&!b.done&&(c=A.return)&&c.call(A)}finally{if(h)throw h.error}}}("object"!==a(f)||function(t,e){var i=e[0],n=e[1],r=t.x,o=t.y;return i.x<=r&&r<=i.x+n.x&&i.y<=o&&o<=i.y+n.y}(g=Zv(f,i,n,r),r))&&o.pointSet.add().zt().ea(void 0!==d?d:Co.Circle).Ze(v||0).tt(y||5).Br(p||s.sparkPointChartFillStyle).aa(g)},tg=function(t,e,i,n,r,o){var s=t.axis,a=t.start,u=t.end,l=t.fillStyle,h=t.strokeStyle,c=y(bi,Ai),f=y(bi,Ai);"x"===s&&(c=Zv({x:a,y:bi},e,i,n),f=Zv({x:u,y:Ai},e,i,n)),"y"===s&&(c=Zv({x:bi,y:a},e,i,n),f=Zv({x:Ai,y:u},e,i,n));var p=n[0],d=n[1],v=he(c.x,p.x,p.x+d.x),g=he(c.y,p.y,p.y+d.y),m=he(f.x,p.x,p.x+d.x),x=he(f.y,p.y,p.y+d.y);r.rect.add().da(v).Aa(g).tt(y(m-v,x-g)).Br(l||o.sparkChartBandFillStyle).Dr(h||o.sparkChartBandStrokeStyle).Dr(gt)},eg=function(t,e,i,n,r,o,s){var a=t.axis,u=t.value,l=t.strokeStyle,h=u||0,c=e.y,f=i.y,p=e.x,d=i.x,v=[];if("y"===a&&c<=h&&h<=f){var g=Zv(y(p,h),{x:p,y:c},n,r),m=Zv(y(d,h),{x:p,y:c},n,r);v.push([g,m])}if("x"===a&&p<=h&&h<=d){var x=Zv(y(h,c),{x:p,y:c},n,r),S=Zv(y(h,f),{x:p,y:c},n,r);v.push([x,S])}v.length>0&&o.line.add().Ur(l||s.sparkChartConstantLineStrokeStyle).Xr(v[0][0]).Yr(v[0][1])},ig=function(t,e,i,n,r,o){var s,a,u=t.data,l=t.fillStyle,h=t.strokeStyle,c=t.threshold,f=t.winFillStyle,p=t.lossFillStyle,d=t.barSize||1,y=t.gap||1,v=t.winLoss,g=c||0,m=y/d*1,x=Ai,S=bi;if(v)x=-1,S=1;else try{for(var A=Xv(u),b=A.next();!b.done;b=A.next()){var M=b.value;x=Math.min(x,M),S=Math.max(S,M)}}catch(t){s={error:t}}finally{try{b&&!b.done&&(a=A.return)&&a.call(A)}finally{if(s)throw s.error}}var w={x:0,y:v?-1:Math.min(0,x)},C={x:1*u.length+(u.length-1)*m,y:v?2:Math.max(S,1e-5)};u.map((function(t,e){var n={x:1*(e+1)+e*m,y:v?t>=g?1:0:t},r=Zv({x:1*e+e*m,y:v?t>=g?0:-1:0},w,C,i),o=Zv(n,w,C,i);return{value:t,position:r,width:o.x-r.x,height:o.y-r.y}})).forEach((function(t){var i;e.rect.add().cn(o).Lr(t.position).ma(t.height).ya(t.width).Br((i=t.value,v?(i>=g?f:p)||n.sparkBarChartFillStyle:l||n.sparkBarChartFillStyle)).Dr(h||n.sparkBarChartStrokeStyle)}))},ng=function(t,e,i,n,r,o){var s,a,u=t.data,l=t.fillStyle,h=t.strokeStyle,c=t.markers,f=u.length;f>1e4&&r.Xs&&ne.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var p=Ai,d=bi,y=Ai,v=bi,m=0;m<f;m+=1){var x=u[m];p=Math.min(p,x.x),d=Math.max(d,x.x),y=Math.min(y,x.y),v=Math.max(v,x.y)}var S={x:d-p,y:v-y},A=[],b=[];try{for(var M=Xv(u),w=M.next();!w.done;w=M.next()){var C=w.value,P=g(C.x,C.y,y);A.push(Qv(P,{x:p,y:y},S,i)),b.push(Zv(C,{x:p,y:y},S,i))}}catch(t){s={error:t}}finally{try{w&&!w.done&&(a=M.return)&&a.call(M)}finally{if(s)throw s.error}}e.junction.add().cn(o).zt().aa(A).Br(l||n.sparkAreaChartFillStyle),e.lineSet.add().cn(o).zt().aa(b).Ur(h||n.sparkAreaChartStrokeStyle),c&&Jv(c,b,{x:p,y:y},{x:d,y:v},S,i,e,n)},rg=function(t,e,i,n,r,o){var s=t.data,u=t.strokeStyle,l=s.map((function(t){return"number"==typeof t?t:t.value})),h=s.map((function(t){return"object"===a(t)?t.fillStyle:void 0})),c=l.reduce((function(t,e){return t+e}),0),f=Zv(y(50,50),{x:0,y:0},{x:100,y:100},i),p=i[1],d=p.x<=p.y?p.x/2:p.y/2,v=90;l.forEach((function(t,i){var r=t/c*360;e.arc.add().cn(o).Lr(f).uf(d).ff(0).sf(v).Yr(v+r).Br(h[i]||Ke(n.sparkPieChartFillStyle,i)).Dr(u||n.sparkPieChartStrokeStyle),v+=r}))},og=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){t[t.UpToDown=0]="UpToDown",t[t.LeftToRight=1]="LeftToRight"}(Cv||(Cv={})),function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t[t.Both=2]="Both"}(Pv||(Pv={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(Ev||(Ev={}));var sg,ag=function(t){function e(e,i,n,r,o){var s=t.call(this)||this;return s.Pn=!1,s.gM={x:0,y:0,height:20,width:20},s.fF={x:10,y:10},s.In=e,s.cF=o,s.lF=new za(e,i,n,ue,r).setMouseInteractions(!0),s.vF=e.Bc(i,cs.Simple).Br(r.dataGridScrollBarButtonArrowFillStyle).Dr(r.dataGridScrollBarButtonArrowStrokeStyle).setMouseInteractions(!1),s.$f(s),s.lF.onMouseEnter((function(t){return t.setHighlight(1)})),s.lF.onMouseLeave((function(t){return t.setHighlight(0)})),s}return og(e,t),e.prototype.dF=function(){switch(this.cF){case Ev.Up:this.vF.ga([{x:this.gM.x,y:this.gM.y+this.fF.y/2},{x:this.gM.x+this.fF.x/2,y:this.gM.y-this.fF.y/2},{x:this.gM.x-this.fF.x/2,y:this.gM.y-this.fF.y/2}]);break;case Ev.Down:this.vF.ga([{x:this.gM.x-this.fF.x/2,y:this.gM.y+this.fF.y/2},{x:this.gM.x+this.fF.x/2,y:this.gM.y+this.fF.y/2},{x:this.gM.x,y:this.gM.y-this.fF.y/2}]);break;case Ev.Left:this.vF.ga([{x:this.gM.x-this.fF.x/2,y:this.gM.y},{x:this.gM.x+this.fF.x/2,y:this.gM.y+this.fF.y/2},{x:this.gM.x+this.fF.x/2,y:this.gM.y-this.fF.y/2}]);break;case Ev.Right:this.vF.ga([{x:this.gM.x-this.fF.x/2,y:this.gM.y+this.fF.y/2},{x:this.gM.x+this.fF.x/2,y:this.gM.y},{x:this.gM.x-this.fF.x/2,y:this.gM.y-this.fF.y/2}])}},e.prototype.Lr=function(t){return this.gM.x=t.x,this.gM.y=t.y,this},e.prototype.Bh=function(){return y(this.gM.x,this.gM.y)},e.prototype.tt=function(t){return this.gM.height=t.x,this.gM.width=t.y,this},e.prototype.oi=function(){return{x:this.gM.height,y:this.gM.width}},e.prototype.onMouseDown=function(t){return this.lF.onMouseDown(t)},e.prototype.onMouseUp=function(t){return this.lF.onMouseUp(t)},e.prototype.setFillStyle=function(t){return this.lF.setFillStyle(t),this},e.prototype.getFillStyle=function(){return this.lF.getFillStyle()},e.prototype.setStrokeStyle=function(t){return this.lF.setStrokeStyle(t),this},e.prototype.getStrokeStyle=function(){return this.lF.getStrokeStyle()},e.prototype.Pr=function(){return this.lF.Pr(),this.dF(),this},e.prototype.En=function(){return this.lF.setSize(y(this.gM.height,this.gM.width)).setPosition(y(this.gM.x,this.gM.y)),this},e.prototype.setVisible=function(t){return this.lF.setVisible(t),this.vF.setVisible(t),this},e.prototype.dispose=function(){return this.lF.dispose(),this.vF.dispose(),this},e.prototype.setMouseInteractions=function(t){return this.lF.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.lF.getMouseInteractions()},e.prototype.onHighlight=function(t){return this.D.on("highlight",t)},e.prototype.offHighlight=function(t){return this.D.off(t)},e.prototype.getHighlight=function(){return this.lF.getHighlight()},e.prototype.setHighlight=function(t){return this.lF.setHighlight(ri(t)),this.D.emit("highlight",this,Boolean(t)),this.In.Sn(),this},e}(bs),ug=function(t,e){return Math.min(Math.max(t,e.getInnerStart()),e.getInnerEnd())},lg=function(){function t(t,e,i,n,o,s,a){var u=this;this.Il={x:0,y:0},this.gM={x:0,y:0,height:0,width:0},this.D=new r.a,this.AF={min:y(0,0),max:y(0,0)},this.yF=!1,this.mF=!1,this.bF={x:0,y:0},this.ic=void 0,this.pF=y(0,0),this.gF={x:0,y:0},this.SF=0,this.xF=15,this.wF=function(t,e){u.yF=!0,u.iA.Sn();var i=u.MF.getDraggingMode();u.ic=u.iA.fn.ds(i===Zt.notDraggable?Kn.Restricted:i===Zt.draggable?Kn.Move:i===Zt.onlyHorizontal?Kn.Horizontal:Kn.Vertical),u.CF&&clearInterval(u.CF)},this._F=function(){u.yF=!1,u.iA.Sn(),u.iA.fn.As(u.ic)},this.TF=function(t){return u.mF=!0,u.bF=Pt(u.iA.fn.Vr(t.x,t.y),u.iA.fn.vt,u.scale),!0},this.kF=function(t,e){return u.OF(e),u.CF=setInterval((function(){return u.OF(e)}),300),!0},this.FF=function(){return clearInterval(u.CF),!0},this.IF=function(t,e){var i=u.MF.getDraggingMode();if(i!==Zt.notDraggable){var n=e||i,r=Pt(u.iA.fn.Vr(t.x,t.y),u.iA.fn.vt,u.scale),o=y(n!==Zt.onlyVertical?ug(r.x,u.scale.x):u.gM.x,n!==Zt.onlyHorizontal?ug(r.y,u.scale.y):u.gM.y),s=y(o.x-u.bF.x,o.y-u.bF.y),a=y(u.MF.getPosition().x+s.x,u.MF.getPosition().y+s.y),l=u.jF(a),h={x:Math.abs(u.pF.x-l.x),y:Math.abs(u.pF.y-l.y)};return u.DF(h),u.gF.y>s.y&&(u.bF=r),u.Pr(),!0}return!1},this.BF=function(t,e){u.mF=!1,Ie(e),u.iA.Sn()},this.iA=t,this.zy=e,this.scale=n,this.contentScale=o,this.EF=a,this.PF=new ag(t,i,n,s,a===Cv.UpToDown?Ev.Up:Ev.Left).setStrokeStyle(s.dataGridScrollBarButtonStrokeStyle).setFillStyle(s.dataGridScrollBarButtonFillStyle),this.LF=new ag(t,i,n,s,a===Cv.UpToDown?Ev.Down:Ev.Right).setStrokeStyle(s.dataGridScrollBarButtonStrokeStyle).setFillStyle(s.dataGridScrollBarButtonFillStyle),this.MF=new za(t,i,n,ue,s).setFillStyle(s.dataGridScrollBarFillStyle).setStrokeStyle(s.dataGridScrollBarStrokeStyle).setMouseInteractions(!0).setDraggingMode(a===Cv.UpToDown?Zt.onlyVertical:a===Cv.LeftToRight?Zt.onlyHorizontal:Zt.notDraggable),this.zF=new za(e,i,n,ue,s).setFillStyle(s.dataGridScrollBarBackgroundFillStyle).setStrokeStyle(s.dataGridScrollBarBackgroundStrokeStyle).setMouseInteractions(!0),this.MF.onMouseEnter(this.wF),this.MF.onMouseLeave(this._F),this.MF.onMouseDragStart((function(t,e){return u.TF(y(e.clientX,e.clientY))&&Ie(e)})),this.MF.onMouseDrag((function(t,e){return u.IF(y(e.clientX,e.clientY))&&Ie(e)})),this.MF.onMouseDragStop(this.BF),this.MF.onTouchStart((function(t,e){return u.TF(y(e.clientX,e.clientY))&&Ie(e)})),this.MF.onTouchMove((function(t,e){return u.IF(y(e.clientX,e.clientY))&&Ie(e)})),this.MF.onTouchEnd(this.BF),this.PF.onMouseDown((function(t,e){return u.kF(t,e)&&Ie(e)})),this.LF.onMouseDown((function(t,e){return u.kF(t,e)&&Ie(e)})),this.PF.onMouseUp((function(t,e){return u.FF()&&Ie(e)})),this.LF.onMouseUp((function(t,e){return u.FF()&&Ie(e)})),this.zF.onMouseWheel((function(t,e){return u.VF(e)})),this.MF.onMouseWheel((function(t,e){return u.VF(e)})),this.zF.onMouseDown((function(t,e){return u.kF(t,e)&&Ie(e)})),this.zF.onMouseUp((function(t,e){return u.FF()&&Ie(e)}))}return t.prototype.NF=function(t){return this.gM=t,this},t.prototype.ya=function(t){return this.gM.width=t,this},t.prototype.RF=function(){return this.gM.width},t.prototype.GF=function(t){return this.pF=t,this},t.prototype.UF=function(t){return this.Il=t,this},t.prototype.WF=function(){return this.Il},t.prototype.YF=function(t){return this.xF=t,this},t.prototype.XF=function(){return this.EF},t.prototype.HF=function(t){var e;switch(this.EF){case Cv.UpToDown:return(e=t>0?Math.min(this.pF.y-this.AF.max.y,this.gF.y+t):Math.max(0,this.gF.y+t))!==this.gF.y&&(this.DF({x:0,y:e}),this.Pr(),!0);case Cv.LeftToRight:return(e=Math.min(this.AF.max.x-this.pF.x,this.gF.x+t))!==this.gF.x&&(this.DF({y:0,x:e}),this.Pr(),!0);default:return!1}},t.prototype.ZF=function(t){var e;switch(this.EF){case Cv.UpToDown:return(e=Math.max(0,this.gF.y-t))!==this.gF.y&&(this.DF({x:0,y:e}),this.Pr(),!0);case Cv.LeftToRight:return(e=t>0?Math.max(0,this.gF.x-t):Math.min(this.AF.max.x-this.pF.x,this.gF.x-t))!==this.gF.x&&(this.DF({x:e,y:0}),this.Pr(),!0);default:return!0}},t.prototype.QF=function(t){switch(this.EF){case Cv.UpToDown:return this.D.on("scrollY",t);case Cv.LeftToRight:return this.D.on("scrollX",t)}return this.D.on("scrollY",t)},t.prototype.jF=function(t){switch(this.EF){case Cv.UpToDown:if(t.y>this.AF.min.y)return y(t.x,this.AF.min.y);if(t.y<this.AF.max.y)return y(t.x,this.AF.max.y);break;case Cv.LeftToRight:if(t.x<this.AF.min.x)return y(this.AF.min.x,t.y);if(t.x>this.AF.max.x)return y(this.AF.max.x,t.y)}return t},t.prototype.VF=function(t){t.deltaY>0&&this.KF()&&Ie(t),t.deltaY<0&&this.JF()&&Ie(t)},t.prototype.OF=function(t){var e,i=Pt(this.iA.fn.Vr(t.clientX,t.clientY),this.iA.fn.vt,this.scale),n=this.MF.getPosition(),r=this.MF.getSize();this.qF(i,n,r)?clearInterval(this.CF):(((e=this.EF===Cv.UpToDown?y(0,i.y-n.y>0?this.xF:-this.xF):y(n.x-i.x>0?this.xF:-this.xF,0)).x>0||e.y>0)&&this.$F(0!==e.x?Math.abs(e.x):Math.abs(e.y)),(e.x<0||e.y<0)&&this.tI(0!==e.x?Math.abs(e.x):Math.abs(e.y)))},t.prototype.qF=function(t,e,i){return this.EF===Cv.UpToDown?t.y<e.y+i.y/2&&t.y>e.y-i.y/2:t.x>e.x-i.x/2&&t.x<e.x+i.x/2},t.prototype.iI=function(t){this.AF=t},t.prototype.$F=function(t){switch(this.EF){case Cv.UpToDown:return(e=Math.max(0,this.gF.y-t))!==this.gF.y&&(this.DF({x:0,y:e}),this.Pr(),!0);case Cv.LeftToRight:var e;return(e=Math.max(0,this.gF.x-t))!==this.gF.x&&(this.DF({x:e,y:0}),this.Pr(),!0);default:return!1}},t.prototype.tI=function(t){switch(this.EF){case Cv.UpToDown:var e=void 0;return(e=this.Il.x>this.gM.height?Math.min(this.pF.y-this.AF.max.y,this.gF.y+t):0)!==this.gF.y&&(this.DF({x:0,y:e}),this.Pr(),!0);case Cv.LeftToRight:return(e=Math.min(this.AF.max.x-this.pF.x,this.gF.x+t))!==this.gF.x&&(this.DF({y:0,x:e}),this.Pr(),!0);default:return!1}},t.prototype.JF=function(){return this.$F(this.xF)},t.prototype.KF=function(){return this.tI(this.xF)},t.prototype.DF=function(t){var e;if(t.x!==this.gF.x||t.y!==this.gF.y)switch(this.gF=t,this.EF){case Cv.UpToDown:e=this.gF.y*this.SF*this.contentScale.Ri().y,this.D.emit("scrollY",Pv.Vertical,e),this.iA.fn.Sn();break;case Cv.LeftToRight:e=this.gF.x*this.SF*this.contentScale.Ri().x,this.D.emit("scrollX",Pv.Horizontal,e)}},t.prototype.setVisible=function(t){return this.PF.setVisible(t),this.LF.setVisible(t),this.zF.setVisible(t),this.MF.setVisible(t),this},t.prototype.dispose=function(){return this.PF.dispose(),this.LF.dispose(),this.zF.dispose(),this.MF.dispose(),this.CF&&clearInterval(this.CF),this},t.prototype.En=function(){switch(this.nI(),this.rI(),this.EF){case Cv.UpToDown:this.PF.Lr({x:this.gM.x,y:this.gM.y+this.gM.height-this.PF.oi().x/2}).tt(y(this.gM.width,this.gM.width)).En(),this.LF.Lr({x:this.gM.x,y:this.gM.y+10}).tt(y(this.gM.width,this.gM.width)).En(),this.zF.setSize({x:this.gM.width,y:this.gM.height-2*this.PF.oi().x}).setPosition({x:this.gM.x,y:this.gM.y+this.LF.oi().y+this.zF.getSize().y/2}),this.MF.setSize(y(this.gM.width,this.eI())),this.pF={x:this.gM.x,y:this.PF.Bh().y-this.PF.oi().y/2-this.MF.getSize().y/2},this.iI({min:{x:this.gM.x,y:this.PF.Bh().y-this.PF.oi().y/2-this.MF.getSize().y/2},max:{x:this.gM.x,y:this.LF.Bh().y+this.LF.oi().x/2+this.MF.getSize().y/2}});break;case Cv.LeftToRight:this.PF.Lr({x:this.gM.x,y:this.gM.y}).tt(y(this.gM.height,this.gM.height)).En(),this.LF.Lr({x:this.gM.x+this.gM.width-this.LF.oi().x,y:this.gM.y}).tt(y(this.gM.height,this.gM.height)).En(),this.zF.setSize({y:this.gM.height,x:this.gM.width-2*this.PF.oi().y}).setPosition({x:this.gM.x+this.PF.oi().x/2+this.zF.getSize().x/2,y:this.gM.y}),this.MF.setSize(y(this.eI(),this.gM.height)),this.pF={x:this.PF.Bh().x+this.PF.oi().x/2+this.MF.getSize().x/2,y:this.gM.y},this.iI({min:{x:this.PF.Bh().x+this.PF.oi().x/2+this.MF.getSize().x/2,y:this.gM.y},max:{x:this.LF.Bh().x-this.LF.oi().x/2-this.MF.getSize().x/2,y:this.gM.y}})}return this.oI(),this},t.prototype.nI=function(){switch(this.EF){case Cv.UpToDown:this.sI()||this.setVisible(!1),this.sI()&&this.setVisible(!0);break;case Cv.LeftToRight:this.uI()||this.setVisible(!1),this.uI()&&this.setVisible(!0)}},t.prototype.rI=function(){switch(this.EF){case Cv.UpToDown:this.sI()||this.DF({x:0,y:0});break;case Cv.LeftToRight:this.uI()||this.DF({x:0,y:0})}},t.prototype.sI=function(){return this.Il.x>this.gM.height},t.prototype.uI=function(){return this.Il.y>this.gM.width},t.prototype.eI=function(){switch(this.EF){case Cv.UpToDown:return this.gM.height*(this.gM.height-2*this.PF.oi().x)/this.Il.x;case Cv.LeftToRight:return this.gM.width*(this.gM.width-2*this.PF.oi().y)/this.Il.y;default:return 0}},t.prototype.oI=function(){switch(this.EF){case Cv.UpToDown:this.SF=(this.Il.x-this.gM.height)/(this.AF.min.y-this.AF.max.y);break;case Cv.LeftToRight:this.SF=(this.Il.y-this.gM.width)/(this.AF.max.x-this.AF.min.x)}},t.prototype.Pr=function(){switch(this.PF.Pr(),this.LF.Pr(),this.zF.Pr(),this.EF){case Cv.UpToDown:this.MF.setPosition({x:this.gM.x,y:this.PF.Bh().y-this.PF.oi().y/2-this.MF.getSize().y/2-this.gF.y}).Pr();break;case Cv.LeftToRight:this.MF.setPosition({y:this.gM.y,x:this.PF.Bh().x+this.PF.oi().x/2+this.MF.getSize().x/2+this.gF.x}).Pr()}return this},t}(),hg=function(){function t(t,e,i,n,r,o,s){var a=this;switch(this.iA=t,this.zy=e,this.scale=n,this.contentScale=r,s){case Pv.Vertical:this.hI=this.aI(i,o,Cv.UpToDown);break;case Pv.Horizontal:this.fI=this.aI(i,o,Cv.LeftToRight);break;case Pv.Both:this.hI=this.aI(i,o,Cv.UpToDown),this.fI=this.aI(i,o,Cv.LeftToRight)}this.cI=Gn(new jn.Drag(void 0,(function(t,e,i,n,r){var o,s;0!==n.x&&(null===(o=a.fI)||void 0===o?void 0:o.ZF(n.x))&&Ie(r),0!==n.y&&(null===(s=a.hI)||void 0===s?void 0:s.HF(n.y))&&Ie(r)})))}return t.prototype.aI=function(t,e,i){return new lg(this.iA,this.zy,t,this.scale,this.contentScale,e,i)},t.prototype.RF=function(){return 20},t.prototype.UF=function(t){var e,i;return null===(e=this.hI)||void 0===e||e.UF(t),null===(i=this.fI)||void 0===i||i.UF(t),this},t.prototype.lI=function(t){var e;return null===(e=this.fI)||void 0===e||e.YF(t),this},t.prototype.vI=function(t){var e;return null===(e=this.hI)||void 0===e||e.YF(t),this},t.prototype.dI=function(t){var e=this.hI;return e&&e.VF(t),this},t.prototype.AI=function(t){return this.cI.onTouchStart(this,t),this},t.prototype.yI=function(t){return this.cI.onTouchMove(this,t),this},t.prototype.mI=function(t){return this.cI.onTouchEnd(this,t),this},t.prototype.onScroll=function(t){var e,i;return null===(e=this.fI)||void 0===e||e.QF(t),null===(i=this.hI)||void 0===i||i.QF(t),this},t.prototype.dispose=function(){var t,e;return null===(t=this.hI)||void 0===t||t.dispose(),null===(e=this.fI)||void 0===e||e.dispose(),this},t.prototype.Pr=function(){var t,e;return null===(t=this.hI)||void 0===t||t.Pr(),null===(e=this.fI)||void 0===e||e.Pr(),this},t.prototype.En=function(){var t,e,i,n,r=this.scale.x,o=this.scale.y;return null===(t=this.hI)||void 0===t||t.NF({x:r.getInnerEnd()-10,y:o.getInnerStart()+20,height:o.getInnerEnd()-20,width:20}),null===(e=this.fI)||void 0===e||e.NF({x:r.getInnerStart()+10,y:o.getInnerStart()+10,height:20,width:r.getInnerEnd()-20}),null===(i=this.hI)||void 0===i||i.En(),null===(n=this.fI)||void 0===n||n.En(),this},t}(),cg=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fg=function(){return(fg=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dg=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,i.nm("dataGrid bg",0),r,i.fn.$i.dataGridBackgroundFillStyle,i.fn.$i.dataGridBackgroundStrokeStyle,i.fn.$i.dataGridTitleFont,i.fn.$i.dataGridTitleFillStyle,s)||this;return a.bI=[],a.pI=[],a.gI=[],a.SI=new Map,a.xI=!0,a.wI=!0,a.MI=!0,a.CI=!0,a._I=!0,a.TI=!0,a.kI=!0,a.OI=!0,a.FI=!0,a.II=!0,a.jI=!0,a.DI=!0,a.BI=!0,a.EI=!0,a.LI=!0,a.zI=!0,a.VI=new Set,a.NI=new Set,a.RI=!0,a.GI=!0,a.UI=function(t,e){t.borders=void 0===e?mg:fg(fg({},t.borders),e),a.WI(t),a.DI=!0,a.fn.Sn()},a.WI=function(t){t.borders&&(!1===t.borders.top&&a.YI(t.column,t.row-1,(function(t){t.borders=t.borders?fg(fg({},null==t?void 0:t.borders),{bottom:!1}):fg(fg({},a.XI),{bottom:!1})})),!1===t.borders.bottom&&a.YI(t.column,t.row+1,(function(t){t.borders=t.borders?fg(fg({},t.borders),{top:!1}):fg(fg({},a.XI),{top:!1})})),!1===t.borders.left&&a.YI(t.column-1,t.row,(function(t){t.borders=t.borders?fg(fg({},t.borders),{right:!1}):fg(fg({},a.XI),{right:!1})})),!1===t.borders.right&&a.YI(t.column+1,t.row,(function(t){t.borders=t.borders?fg(fg({},t.borders),{left:!1}):fg(fg({},a.XI),{left:!1})})),!0===t.borders.top&&a.YI(t.column,t.row-1,(function(t){t.borders=t.borders?fg(fg({},null==t?void 0:t.borders),{bottom:!0}):fg(fg({},a.XI),{bottom:!0})})),!0===t.borders.bottom&&a.YI(t.column,t.row+1,(function(t){t.borders=t.borders?fg(fg({},t.borders),{top:!0}):fg(fg({},a.XI),{top:!0})})),!0===t.borders.left&&a.YI(t.column-1,t.row,(function(t){t.borders=t.borders?fg(fg({},t.borders),{right:!0}):fg(fg({},a.XI),{right:!0})})),!0===t.borders.right&&a.YI(t.column+1,t.row,(function(t){t.borders=t.borders?fg(fg({},t.borders),{left:!0}):fg(fg({},a.XI),{left:!0})})))},a.HI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseEnter,i,e)},a.ZI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseLeave,i,e)},a.QI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseClick,i,e)},a.KI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseDoubleClick,i,e)},a.JI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseDown,i,e)},a.qI=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseUp,i,e)},a.$I=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseMove,i,e)},a.tj=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseDrag,i,e)},a.ij=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseDragStart,i,e)},a.nj=function(t,e){var i=a.SI.get(t);i&&a.D.emit(yg.cellMouseDragStop,i,e)},a.rj=function(t,e){var i=a.SI.get(t);i&&(a.D.emit(yg.cellMouseWheel,i,e),!e.defaultPrevented&&a.RI&&a.ej.dI(e))},a.oj=function(t,e){var i=a.SI.get(t);i&&(a.D.emit(yg.cellTouchStart,i,e),!e.defaultPrevented&&a.GI&&a.ej.AI(e))},a.sj=function(t,e){var i=a.SI.get(t);i&&(a.D.emit(yg.cellTouchMove,i,e),!e.defaultPrevented&&a.GI&&a.ej.yI(e))},a.uj=function(t,e){var i=a.SI.get(t);i&&(a.D.emit(yg.cellTouchEnd,i,e),!e.defaultPrevented&&a.GI&&a.ej.mI(e))},a.fn.Rs(Nu.Dv),a.pe.vo("Data Grid"),a.hj=n.d2({scaleXYConstructor:Cn}),a.hj.x.EA=jv,a.aj=n.d2({scaleXYConstructor:Cn}),a.fj={x:0,y:0},a.cj=a.$i.dataGridTextFont,a.lj=a.$i.dataGridTextFillStyle,a.XI={top:!0,bottom:!0,left:!0,right:!0},a.vj=a.$i.dataGridCellBackgroundFillStyle,a.dj=a.$i.dataGridBorderStrokeStyle,a.Aj="left-center",a.yj={left:5,right:5,bottom:5,top:5},a.mj=i.zS("dataGrid grid bg",0),a.bj=i.zS("dataGrid cell bg",1),a.pj=i.bb("dataGrid cell content",0),a.gj=i.bb("dataGrid scrollbar bg",1),a.Sj=i.bb("dataGrid scrollbar fg",2),a.ej=a.xj(),a.onBackgroundMouseWheel((function(t,e){a.RI&&a.ej.dI(e)})),a.onBackgroundTouchStart((function(t,e){a.GI&&a.ej.AI(e)})),a.onBackgroundTouchMove((function(t,e){a.GI&&a.ej.yI(e)})),a.onBackgroundTouchEnd((function(t,e){a.GI&&a.ej.mI(e)})),a.wj=a.mj.Er(a.hj).Br(a.$i.dataGridBackgroundFillStyle).Dr(gt).setMouseInteractions(!1),a.Mj=a.pj.py(a.hj).setMouseInteractions(!1),a.Cj=new qh((function(){return a.bj.Er(a.hj).setMouseInteractions(!0).setMouseEnterEventHandler(a.HI).setMouseLeaveEventHandler(a.ZI).setMouseClickEventHandler(a.QI).setMouseDoubleClickEventHandler(a.KI).setMouseDownEventHandler(a.JI).setMouseUpEventHandler(a.qI).setMouseMoveEventHandler(a.$I).setMouseDragEventHandler(a.tj).setMouseDragStartEventHandler(a.ij).setMouseDragStopEventHandler(a.nj).setMouseWheelEventHandler(a.rj).setTouchStartEventHandler(a.oj).setTouchMoveEventHandler(a.sj).setTouchEndEventHandler(a.uj)})),a._j=new qh((function(){return a.pj.Er(a.hj).setMouseInteractions(!1)})),a.Tj=new qh((function(){return a.pj.zo(a.hj).setMouseInteractions(!1)})),a.kj=new qh((function(){return a.pj.Ib(a.hj,{},[Lh.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setMouseInteractions(!1)})),a.Oj=new qh((function(){return a.pj.Wr(a.hj).setMouseInteractions(!1)})),a.Fj=new qh((function(){return a.pj.ig(a.hj).setMouseInteractions(!1)})),a.Ij=new qh((function(){return a.pj.Er(a.hj).setMouseInteractions(!1)})),a.jj=new qh((function(){return a.pj.nC(a.hj).setMouseInteractions(!1)})),a.Dj=new qh((function(){return a.pj.Fl(a.hj).setMouseInteractions(!1)})),a.im(o,a.uiScale),a.onResize((function(){a.xI=!0,a.fn.Sn(),a.hj.tt(a.GA.oi()),a.aj.tt(a.GA.oi())})),a.Bj=a.rn.JA([a.wj]),a}return cg(e,t),e.prototype.getMinimumSize=function(){return{x:200,y:200}},e.prototype.setAnimationsEnabled=function(t){return this},e.prototype.Tv=function(){return[]},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.mj.U(),this.bj.U(),this.pj.U(),this.gj.U(),this.Sj.U(),Vl(this.hj),Vl(this.aj),this.ej.dispose(),this.Tj.Qb(),this.Cj.Qb(),this._j.Qb(),this.kj.Qb(),this.Oj.Qb(),this.Fj.Qb(),this.Ij.Qb(),this.jj.Qb(),this.Dj.Qb(),this},e.prototype.K=function(){return t.prototype.K.call(this),this.hj.K(),this.aj.K(),this},e.prototype.J=function(){return t.prototype.J.call(this),this.hj.J(),this.aj.J(),this},e.prototype.setBackgroundEffect=function(t){return this.Bj.gn(t),this.fn.Sn(),this},e.prototype.getBackgroundEffect=function(){return this.Bj.xn()},e.prototype.setInteractionScrollOnWheel=function(t){return this.RI=t,this},e.prototype.getInteractionScrollOnWheel=function(){return this.RI},e.prototype.setInteractionPanOnTouch=function(t){return this.GI=t,this},e.prototype.getInteractionPanOnTouch=function(){return this.GI},e.prototype.onCellMouseEnter=function(t){return this.D.on(yg.cellMouseEnter,t)},e.prototype.offCellMouseEnter=function(t){return this.D.off(t)},e.prototype.onCellMouseLeave=function(t){return this.D.on(yg.cellMouseLeave,t)},e.prototype.offCellMouseLeave=function(t){return this.D.off(t)},e.prototype.onCellMouseClick=function(t){return this.D.on(yg.cellMouseClick,t)},e.prototype.offCellMouseClick=function(t){return this.D.off(t)},e.prototype.onCellMouseDoubleClick=function(t){return this.D.on(yg.cellMouseDoubleClick,t)},e.prototype.offCellMouseDoubleClick=function(t){return this.D.off(t)},e.prototype.onCellMouseDown=function(t){return this.D.on(yg.cellMouseDown,t)},e.prototype.offCellMouseDown=function(t){return this.D.off(t)},e.prototype.onCellMouseUp=function(t){return this.D.on(yg.cellMouseUp,t)},e.prototype.offCellMouseUp=function(t){return this.D.off(t)},e.prototype.onCellMouseMove=function(t){return this.D.on(yg.cellMouseMove,t)},e.prototype.offCellMouseMove=function(t){return this.D.off(t)},e.prototype.onCellMouseDrag=function(t){return this.D.on(yg.cellMouseDrag,t)},e.prototype.offCellMouseDrag=function(t){return this.D.off(t)},e.prototype.onCellMouseDragStart=function(t){return this.D.on(yg.cellMouseDragStart,t)},e.prototype.offCellMouseDragStart=function(t){return this.D.off(t)},e.prototype.onCellMouseDragStop=function(t){return this.D.on(yg.cellMouseDragStop,t)},e.prototype.offCellMouseDragStop=function(t){return this.D.off(t)},e.prototype.onCellMouseWheel=function(t){return this.D.on(yg.cellMouseWheel,t)},e.prototype.offCellMouseWheel=function(t){return this.D.off(t)},e.prototype.onCellTouchStart=function(t){return this.D.on(yg.cellTouchStart,t)},e.prototype.offCellTouchStart=function(t){return this.D.off(t)},e.prototype.onCellTouchMove=function(t){return this.D.on(yg.cellTouchMove,t)},e.prototype.offCellTouchMove=function(t){return this.D.off(t)},e.prototype.onCellTouchEnd=function(t){return this.D.on(yg.cellTouchEnd,t)},e.prototype.offCellTouchEnd=function(t){return this.D.off(t)},e.prototype.setGridBackgroundFillStyle=function(t){return this.wj.Br(t),this.fn.Sn(),this},e.prototype.getGridBackgroundFillStyle=function(){return this.wj.We()},e.prototype.setCellContent=function(t,e,i,n,r){var o,s;if("number"==typeof i&&void 0!==n&&void 0!==r){for(var a=i,u=n,l=r,h=[],c=t;c<t+a;c+=1)for(var f=e;f<e+u;f+=1){var p=this.YI(c,f);p&&h.push(p)}h=ii(h);var d={highlight:0};try{for(var y=pg(h),v=y.next();!v.done;v=y.next()){var g=v.value,m=this.bI.indexOf(g);m<0||(d=fg(fg({},d),{highlight:g.highlight,textFont:g.textFont,textFillStyle:g.textFillStyle,contentAlignment:g.contentAlignment,borders:g.borders,padding:g.padding,backgroundFillStyle:g.backgroundFillStyle}),this.bI.splice(m,1))}}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}var x=fg(fg({},d),{column:t,row:e,columnSpan:a,rowSpan:u,content:l});this.bI.push(x),this.CI=!0,"string"==typeof x.content||"number"==typeof x.content?this.wI=!0:this.MI=!0,this.fn.Sn()}else this.Ej(t,e,i);return this},e.prototype.setColumnContent=function(t,e){var i=e.length;if(0===i)return this;for(var n=0;n<i;n+=1){var r=e[n];this.Ej(t,n,r)}return this},e.prototype.setRowContent=function(t,e){var i=e.length;if(0===i)return this;for(var n=0;n<i;n+=1){var r=e[n];this.Ej(n,t,r)}return this},e.prototype.setTableContent=function(t){var e=t.length;if(0===e)return this;var i=t[0].length;if(0===i)return this;for(var n=0;n<i;n+=1)for(var r=0;r<e;r+=1){var o=t[r][n];this.Ej(n,r,o)}return this},e.prototype.setColumnWidth=function(t,e){var i=this.pI.find((function(e){return e.column===t}));return i||(i={column:t,min:void 0,max:void 0},this.pI.push(i)),"object"===a(e)?(i.min=e.min,i.max=e.max):void 0===e?this.pI.splice(this.pI.indexOf(i),1):(i.min=e,i.max=e),this.TI=!0,this.fn.Sn(),this},e.prototype.setRowHeight=function(t,e){var i=this.gI.find((function(e){return e.row===t}));return i||(i={row:t,min:void 0,max:void 0},this.gI.push(i)),"object"===a(e)?(i.min=e.min,i.max=e.max):void 0===e?this.gI.splice(this.gI.indexOf(i),1):(i.min=e,i.max=e),this.TI=!0,this.fn.Sn(),this},e.prototype.setColumnPaddings=function(t,e){var i=this;return"number"==typeof e&&(e=w(e,e,e,e)),this.Pj(t,(function(t){return i.Lj(t,e)})),this},e.prototype.setRowPaddings=function(t,e){var i=this;return"number"==typeof e&&(e=w(e,e,e,e)),this.zj(t,(function(t){return i.Lj(t,e)})),this},e.prototype.setCellPadding=function(t,e,i){var n=this;return"number"==typeof i&&(i=w(i,i,i,i)),this.YI(t,e,(function(t){return n.Lj(t,i)})),this},e.prototype.setCellsPaddings=function(t){var e=this;return"number"==typeof t&&(t=w(t,t,t,t)),this.yj=fg(fg({},this.yj),t),this.Vj((function(t){return e.Lj(t,e.yj)})),this},e.prototype.setCellBorders=function(t,e,i){var n=this;return this.YI(t,e,(function(t){return n.UI(t,i)})),this},e.prototype.setRowBorders=function(t,e){var i=this;return this.zj(t,(function(t){return i.UI(t,e)})),this},e.prototype.setColumnBorders=function(t,e){var i=this;return this.Pj(t,(function(t){return i.UI(t,e)})),this},e.prototype.setCellsBorders=function(t){var e=this;return this.XI=void 0===t?mg:t,this.Vj((function(t){return e.UI(t,e.XI)})),this},e.prototype.setCellsBorderStrokeStyle=function(t){return this.dj="function"==typeof t?t(this.dj):t,this.EI=!0,this.fn.Sn(),this},e.prototype.setColumnTextFillStyle=function(t,e){var i=this;return this.Pj(t,(function(t){return i.Nj(t,e)})),this},e.prototype.setRowTextFillStyle=function(t,e){var i=this;return this.zj(t,(function(t){return i.Nj(t,e)})),this},e.prototype.setCellTextFillStyle=function(t,e,i){var n=this;return this.YI(t,e,(function(t){return n.Nj(t,i)})),this},e.prototype.setCellsTextFillStyle=function(t){var e=this;return this.lj="function"==typeof t?t(this.lj):t,this.Vj((function(t){return e.Nj(t,e.lj)})),this},e.prototype.setColumnTextFont=function(t,e){var i=this;return this.Pj(t,(function(t){return i.Rj(t,e)})),this},e.prototype.setRowTextFont=function(t,e){var i=this;return this.zj(t,(function(t){return i.Rj(t,e)})),this},e.prototype.setCellTextFont=function(t,e,i){var n=this;return this.YI(t,e,(function(t){return n.Rj(t,i)})),this},e.prototype.setCellsTextFont=function(t){var e=this;return this.cj="function"==typeof t?t(this.cj):t,this.Vj((function(t){return e.Rj(t,e.cj)})),this},e.prototype.setColumnContentAlignment=function(t,e){var i=this;return this.Pj(t,(function(t){return i.Gj(t,e)})),this},e.prototype.setRowContentAlignment=function(t,e){var i=this;return this.zj(t,(function(t){return i.Gj(t,e)})),this},e.prototype.setCellContentAlignment=function(t,e,i){var n=this;return this.YI(t,e,(function(t){return n.Gj(t,i)})),this},e.prototype.setCellsContentAlignment=function(t){var e=this;return this.Aj=t,this.Vj((function(t){return e.Gj(t,e.Aj)})),this},e.prototype.setCellBackgroundFillStyle=function(t,e,i){var n=this;return this.YI(t,e,(function(t){return n.Uj(t,i)})),this},e.prototype.setColumnBackgroundFillStyle=function(t,e){var i=this;return this.Pj(t,(function(t){return i.Uj(t,e)})),this},e.prototype.setRowBackgroundFillStyle=function(t,e){var i=this;return this.zj(t,(function(t){return i.Uj(t,e)})),this},e.prototype.setCellsBackgroundFillStyle=function(t){var e=this;return this.vj="function"==typeof t?t(this.vj):t,this.Vj((function(t){return e.Uj(t,e.vj)})),this},e.prototype.setCellHighlight=function(t,e,i){return this.YI(t,e,(function(t){t.highlight=ri(i)})),this.BI=!0,this.fn.Sn(),this},e.prototype.setColumnHighlight=function(t,e){var i=ri(e);return this.Pj(t,(function(t){t.highlight=i})),this.BI=!0,this.fn.Sn(),this},e.prototype.setRowHighlight=function(t,e){var i=ri(e);return this.zj(t,(function(t){t.highlight=i})),this.BI=!0,this.fn.Sn(),this},e.prototype.removeCell=function(t,e){var i=this;return this.YI(t,e,(function(t){return i.bI.splice(i.bI.indexOf(t),1)})),this._I=!0,this.fn.Sn(),this},e.prototype.removeRow=function(t){var e=this;return this.zj(t,(function(t){return e.bI.splice(e.bI.indexOf(t),1)})),this.bI.filter((function(e){return e.row>t})).forEach((function(t){t.row-=1})),this._I=!0,this.fn.Sn(),this},e.prototype.removeColumn=function(t){var e=this;return this.Pj(t,(function(t){return e.bI.splice(e.bI.indexOf(t),1)})),this.bI.filter((function(e){return e.column>t})).forEach((function(t){t.column-=1})),this._I=!0,this.fn.Sn(),this},e.prototype.removeCells=function(){return this.bI.splice(0),this._I=!0,this.fn.Sn(),this},e.prototype.getColumnMax=function(){return 0===this.bI.length?0:this.bI.reduce((function(t,e){return Math.max(t,e.column+e.columnSpan-1)}),0)},e.prototype.getRowMax=function(){return 0===this.bI.length?0:this.bI.reduce((function(t,e){return Math.max(t,e.row+e.rowSpan-1)}),0)},e.prototype.Pr=function(e){var i=this;t.prototype.Pr.call(this,e),Wl(this.pe,this.rm),t.prototype.tm.call(this);var n=Math.round(this.dj.V()),r=n/2,o=this.wI||this.MI||this.CI||this._I||this.TI||this.kI||this.jI||this.DI||this.EI||this.zI;if(o){this.bI.forEach((function(t){i.NI.add(t.column)})),this.bI.forEach((function(t){i.VI.add(t.row)}));var s=this.Tj.Hb(),a=this.Wj(r,s);s.finishPlot();var u=this.Yj(this.NI.size,a),l=this.Xj(this.VI.size,a),h=u.reduce(Di,0)+n,c=l.reduce(Di,0)+n,f=new Array(u.length+1).fill(0).map((function(t,e){return u.reduce((function(t,i,n){return t+(n<e?i:0)}),0)})),p=new Array(l.length+1).fill(0).map((function(t,e){return l.reduce((function(t,i,n){return t+(n<e?i:0)}),0)}));if(this.Hj){var d=this.Hj.columnWidths.every((function(t,e){return t===u[e]})),y=this.Hj.rowHeights.every((function(t,e){return t===l[e]}));d&&y&&(o=!1)}this.Hj={columnWidths:u,rowHeights:l,dataGridWidth:h,dataGridHeight:c,columnWidthsCumulative:f,rowHeightsCumulative:p,cellsContentSizes:a}}var v=o||this.MI||this.CI||this._I||this.OI||this.FI||this.II||this.DI||this.BI||this.EI||this.xI||this.zI;if((v||this.LI)&&this.Hj){var g=this.GA.getInnerIntervalPixels(),m=jl(this.pe,this.rm),x=[this.xh.left+r,this.xh.right+r],S=[this.xh.bottom+r,this.xh.top+m+r],A={x:g.x-x[0]-x[1],y:g.y-S[0]-S[1]},b=[this.xh.left,this.xh.right],M=[this.xh.bottom,this.xh.top+m],w={x:Math.round(g.x-b[0]-b[1]),y:Math.round(g.y-M[0]-M[1])},C={x:Math.ceil(r),y:Math.floor(w.y-r)};this.aj.Ei(x).Pi(S).Li(0,A.x).zi(0,A.y),this.ej.UF({x:this.Hj.dataGridHeight,y:this.Hj.dataGridWidth}).En().Pr();var P={x:Math.round(this.fj.x),y:Math.round(Math.min(0,this.fj.y))};this.hj.Ei(b).Pi(M).Li(P.x,w.x+P.x).zi(P.y,w.y+P.y),this.wj.Lr({x:C.x,y:C.y});var E={x:this.hj.x.ii(),y:this.hj.y.ii()+this.ej.RF(),width:this.hj.x.ri()+n-this.ej.RF(),height:this.hj.y.ri()+n};this.pj.OS(E),this.bj.OS(E),this.mj.OS(E);var T=this.Hj,k=[{x:this.hj.x.getInnerStart(),y:this.hj.y.getInnerStart()},{x:this.hj.x.getInnerEnd(),y:this.hj.y.getInnerStart()},{x:this.hj.x.getInnerEnd(),y:this.hj.y.getInnerEnd()},{x:this.hj.x.getInnerStart(),y:this.hj.y.getInnerEnd()}];T.cellsContentSizes.forEach((function(t){var e,i={x:C.x+T.columnWidthsCumulative[t.cell.column],y:C.y-T.rowHeightsCumulative[t.cell.row+t.cell.rowSpan]},n={x:i.x+T.columnWidths[t.cell.column],y:i.y+T.rowHeights[t.cell.row]},r=Ei([i,{x:n.x,y:i.y},n,{x:i.x,y:n.y}],k);null===(e=t.text)||void 0===e||e.setVisible(r)})),v&&this.Zj(C,this.Hj,n)}this.xI=!1,this.wI=!1,this.MI=!1,this.CI=!1,this._I=!1,this.TI=!1,this.kI=!1,this.OI=!1,this.FI=!1,this.II=!1,this.jI=!1,this.DI=!1,this.BI=!1,this.EI=!1,this.LI=!1,this.zI=!1},e.prototype.Wj=function(t,e){var i,n,r=this,o=[],s={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};try{for(var a=pg(this.bI),u=a.next();!u.done;u=a.next()){var l=u.value,h=l.content,c=fg(fg({},this.yj),l.padding),f={x:0,y:0},p=void 0,d=void 0,y=void 0;if("string"==typeof h||"number"==typeof h){var v=String(h);f=(p=e.add()).vo(v).He(l.textFont||this.cj).En().Tl()}if(Hv(h)&&(d=h,f={x:200,y:50}),xa(h)){var g=this.fn.Qj(h);g.Kj()?f=(y=h).oi():g.Jj((function(){r.zI=!0,r.fn.Sn()}))}if(p||d||y){c.top=Math.round(c.top),c.left=Math.round(c.left),c.right=Math.round(c.right),c.bottom=Math.round(c.bottom);var m={x:Math.round(f.x+c.left+c.right+s.left+s.right),y:Math.round(f.y+c.top+c.bottom+s.top+s.bottom)};o.push({cell:l,contentSize:m,text:p,sparkChart:d,icon:y,cellPadding:c,cellMargin:s})}}}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},e.prototype.Zj=function(t,e,i){var n,r,o,s,a=e.dataGridWidth,u=e.dataGridHeight,l=e.cellsContentSizes,h=e.columnWidths,c=e.columnWidthsCumulative,f=e.rowHeights,p=e.rowHeightsCumulative,d={x:a-i,y:-u+i};this.wj.tt(d),this.Mj.Ur(this.dj),this.SI.clear();var y={cellBackground:this.Cj.Hb(),cellIconRect:this._j.Hb(),lineSet:this.kj.Hb(),line:this.Oj.Hb(),pointSet:this.Fj.Hb(),rect:this.Ij.Hb(),junction:this.jj.Hb(),arc:this.Dj.Hb()},v=[],g=function(e){var n=e.cell,r=e.text,o=e.sparkChart,s=e.icon,a=e.cellPadding,u=e.cellMargin,l={column:n.column,row:n.row},d={x:t.x+c[n.column],y:t.y-p[n.row+n.rowSpan]},g=d.x+u.left,x=d.y+u.bottom,S={x:g+a.left,y:x+a.bottom},A={x:new Array(n.columnSpan).fill(0).reduce((function(t,e,i){return t+h[n.column+i]}),0),y:new Array(n.rowSpan).fill(0).reduce((function(t,e,i){return t+f[n.row+i]}),0)},b=A.x-u.left-u.right,M=A.y-u.top-u.bottom,w={x:b-a.left-a.right,y:M-a.top-a.bottom};if(r){var C=gg(S,w,n.contentAlignment||m.Aj);r.Lr(C[0]).Rh({x:C[1],y:C[2]}).Br(m.qj(n.textFillStyle||m.lj,n.content,m.lj)).cn(n.highlight)}var P=m.qj(n.backgroundFillStyle||m.vj,n.content);if(P!==J){var E=y.cellBackground.add();E.Lr(d).tt(A).Br(P).Dr(gt).cn(n.highlight),m.SI.set(E,l)}var T=n.borders||m.XI;if(T&&vg(d,A,T,i,v),o){var k=S,D=w;!function(t,e,i,n,r,o,s,a){var u=t.type;if(0!==t.data.length){var l=[n,r];"spark-line"===u&&function(t,e,i,n,r,o){var s=t.strokeStyle,a=t.data,u=t.markers,l=a.length;l>1e4&&r.Xs&&ne.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");for(var h=Ai,c=bi,f=Ai,p=bi,d=0;d<l;d+=1){var y=a[d];h=Math.min(h,y.x),c=Math.max(c,y.x),f=Math.min(f,y.y),p=Math.max(p,y.y)}var v={x:c-h,y:p-f},g=a.map((function(t){return Zv(t,{x:h,y:f},v,i)}));e.lineSet.add().cn(o).Ur(s||n.sparkLineChartStrokeStyle).zt().aa(g),u&&Jv(u,g,{x:h,y:f},{x:c,y:p},v,i,e,n)}(t,e,l,o,s,a),"spark-bar"===u&&ig(Wv(Wv({},t),{winLoss:!1}),e,l,o,0,a),"spark-win-loss"===u&&ig(Wv(Wv({},t),{winLoss:!0}),e,l,o,0,a),"spark-area"===u&&ng(t,e,l,o,s,a),"spark-pie"===u&&rg(t,e,l,o,0,a)}}(o,y,m.hj,k,D,m.$i,m.Yd,n.highlight)}if(s){var F=s.oi(),_=gg(S,w,n.contentAlignment||m.Aj);y.cellIconRect.add().Lr({x:_[0].x+F.x*(-.5-_[1]/2),y:_[0].y+F.y*(-.5-_[2]/2)}).tt(F).Br(new la({source:s.Lc,fitMode:ms.Stretch})).Dr(gt).cn(n.highlight)}},m=this;try{for(var x=pg(l),S=x.next();!S.done;S=x.next())g(S.value)}catch(t){n={error:t}}finally{try{S&&!S.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}this.Mj.zt();try{for(var A=pg(v),b=A.next();!b.done;b=A.next()){var M=b.value;this.Mj.Wo().Sy(M[0],M[1])}}catch(t){o={error:t}}finally{try{b&&!b.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}y.cellBackground.finishPlot(),y.cellIconRect.finishPlot(),y.lineSet.finishPlot(),y.line.finishPlot(),y.pointSet.finishPlot(),y.rect.finishPlot(),y.junction.finishPlot(),y.arc.finishPlot()},e.prototype.Yj=function(t,e){var i,n,r=new Array(t).fill(0),o=function(t){var i=e.filter((function(e){return t>=e.cell.column&&t+1<=e.cell.column+e.cell.columnSpan})).reduce((function(t,e){var i=e.contentSize.x/e.cell.columnSpan;return Math.max(t,i)}),0),n=s.pI.find((function(e){return e.column===t})),o=n?he(i,void 0!==n.min?n.min:bi,void 0!==n.max?n.max:Ai):i;r[t]=o},s=this;try{for(var a=pg(this.NI.values()),u=a.next();!u.done;u=a.next())o(u.value)}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return r},e.prototype.Xj=function(t,e){var i,n,r=new Array(t).fill(0),o=function(t){var i=e.filter((function(e){return t>=e.cell.row&&t+1<=e.cell.row+e.cell.rowSpan})).reduce((function(t,e){var i=e.contentSize.y/e.cell.rowSpan;return Math.max(t,i)}),0),n=s.gI.find((function(e){return e.row===t})),o=n?he(i,void 0!==n.min?n.min:bi,void 0!==n.max?n.max:Ai):i;r[t]=o},s=this;try{for(var a=pg(this.VI.values()),u=a.next();!u.done;u=a.next())o(u.value)}catch(t){i={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return r},e.prototype.qj=function(t,e,i){if(st(t)){try{var n=Number(e);return new et({color:t.getPalette().getColors(n)})}catch(t){}return i||J}return t},e.prototype.Nj=function(t,e){t.textFillStyle="function"==typeof e?e(t.textFillStyle||this.lj):e,this.II=!0,this.fn.Sn()},e.prototype.Rj=function(t,e){t.textFont="function"==typeof e?e(t.textFont||this.cj):e,this.jI=!0,this.fn.Sn()},e.prototype.Uj=function(t,e){t.backgroundFillStyle="function"==typeof e?e(t.backgroundFillStyle||this.vj):e,this.FI=!0,this.fn.Sn()},e.prototype.Gj=function(t,e){t.contentAlignment=e,this.OI=!0,this.fn.Sn()},e.prototype.Lj=function(t,e){t.padding=fg(fg({},t.padding),e),this.kI=!0,this.fn.Sn()},e.prototype.Ej=function(t,e,i){var n=this.YI(t,e);n?n.content=i:(n={column:t,row:e,columnSpan:1,rowSpan:1,content:i,highlight:0},this.bI.push(n),this.CI=!0),"string"==typeof n.content||"number"==typeof n.content?this.wI=!0:this.MI=!0,this.fn.Sn()},e.prototype.Vj=function(t){this.bI.forEach((function(e){return t(e)}))},e.prototype.YI=function(t,e,i){var n=this.bI.find((function(i){return t>=i.column&&t+1<=i.column+i.columnSpan&&e>=i.row&&e+1<=i.row+i.rowSpan}));return n&&i&&i(n),n},e.prototype.Pj=function(t,e){var i,n,r=this.bI.filter((function(e){return t>=e.column&&t+1<=e.column+e.columnSpan}));try{for(var o=pg(r),s=o.next();!s.done;s=o.next()){var a=s.value;a&&e(a)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}},e.prototype.zj=function(t,e){var i,n,r=this.bI.filter((function(e){return t>=e.row&&t+1<=e.row+e.rowSpan}));try{for(var o=pg(r),s=o.next();!s.done;s=o.next()){var a=s.value;a&&e(a)}}catch(t){i={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}},e.prototype.xj=function(){var t=this;return new hg(this.Sj,this.gj,this.aj,this.aj,this.hj,this.$i,Pv.Both).onScroll((function(e,i){t.Hj&&(e===Pv.Vertical&&(t.fj.y=-i),e===Pv.Horizontal&&(t.fj.x=i),t.LI=!0,t.fn.Sn())})).lI(50).vI(12)},e}(Gl),yg={cellMouseEnter:"cellMouseEnter",cellMouseLeave:"cellMouseLeave",cellMouseClick:"cellMouseClick",cellMouseDoubleClick:"cellMouseDoubleClick",cellMouseDown:"cellMouseDown",cellMouseUp:"cellMouseUp",cellMouseMove:"cellMouseMove",cellMouseDrag:"cellMouseDrag",cellMouseDragStart:"cellMouseDragStart",cellMouseDragStop:"cellMouseDragStop",cellMouseWheel:"cellMouseWheel",cellTouchStart:"cellTouchStart",cellTouchMove:"cellTouchMove",cellTouchEnd:"cellTouchEnd"};!function(t){t.Center="center",t.RightCenter="right-center",t.LeftCenter="left-center",t.RightTop="right-top",t.LeftTop="left-top",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.CenterTop="center-top",t.CenterBottom="center-bottom"}(sg||(sg={}));var vg=function(t,e,i,n,r){var o={x:t.x,y:t.y},s={x:t.x,y:t.y+e.y},a={x:t.x+e.x,y:t.y},u={x:t.x+e.x,y:t.y+e.y};i.top&&r.push([s,u]),i.bottom&&r.push([o,a]),i.left&&r.push([o,s]),i.right&&r.push([a,u])},gg=function(t,e,i){var n=t.x,r=t.x+e.x,o=t.x+e.x/2,s=t.y+e.y,a=t.y,u=t.y+e.y/2;switch(i){case"left-center":return[y(n,u),-1,0];case"right-center":return[y(r,u),1,0];case"center":return[y(o,u),0,0];case"left-bottom":return[y(n,a),-1,-1];case"right-bottom":return[y(r,a),1,-1];case"center-bottom":return[y(o,a),0,-1];case"left-top":return[y(n,s),-1,1];case"right-top":return[y(r,s),1,1];case"center-top":return[y(o,s),0,1]}return si(0,"Unidentified DataGrid cell content alignment option: ".concat(i))},mg={top:!1,bottom:!1,left:!1,right:!1},xg=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sg=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,{To:function(){},_o:function(){},Oo:function(){}},r,i,n,{numeric:i.xAxisNumericTicks,datetime:i.xAxisDateTimeTicks,time:i.xAxisTimeTicks},{type:"linear"})||this;return a.chart=e,a.rn=s,a.In=o,a.xe=o.zo(e.$j).He(a.$i.barChartCategoryAxisTitleFont||a.$i.xAxisTitleFont).Br(a.$i.barChartCategoryAxisTitleFillStyle||a.$i.xAxisTitleFillStyle),a.setTitleRotation(a.chart.jn.getWidth({x:0,y:-90})),a.Ke=a.rn.JA([a.xe]).gn(i.effectsText),a.tD=o.Wr(e.$j).Ur(i.barChartCategoryAxisStrokeStyle||i.xAxisStrokeStyle),a}return xg(e,t),e.prototype.setThickness=function(t){return"number"==typeof t?(this.ny=t,this.ey=t):"object"===a(t)&&(this.ny=t.min,this.ey=t.max),this.chart.fn.Sn(),this},e.prototype.getThickness=function(){return{min:this.ny,max:this.ey}},e.prototype.setStrokeStyle=function(t){return this.tD.Ur(t),this.chart.fn.Sn(),this},e.prototype.getStrokeStyle=function(){return this.tD.vf()},e.prototype.En=function(){if(!this.Zi)return{hy:0,ly:0,yv:he(0,void 0!==this.ny?this.ny:0,void 0!==this.ey?this.ey:Ai)};var t=this.tD.vf().V()/2,e=this.chart.jn.getHeight(this.xe.En().Tl());return{hy:t,ly:e,yv:t+e}},e.prototype.Pr=function(t,e,i,n){var r=this.getInterval(),o=this.chart.valueAxis.getInterval();this.tD.Xr(this.chart.jn.toPoint(r.start,o.start)).Yr(this.chart.jn.toPoint(r.end,o.start)).setVisible(this.Zi),this.xe.Lr(this.chart.jn.toPoint(.5*(r.start+r.end),this.chart.valueAxis.vt.Ai(o.start,-(t.hy+n.labelMarginBeforeCategoryAxisPixels)))).Rh(this.chart.jn.toPoint(0,1)).setVisible(this.Zi)},e.prototype.setMouseInteractions=function(t){return this},e.prototype.yo=function(t,e){return new io(e,t,this.In,this.chart.$j)},e.prototype.mo=function(t,e){return{}},e.prototype.Io=function(t,e){return e},e.prototype.Do=function(t,e,i){return{min:t,max:e}},e}(eo),Ag=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mg=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,{To:function(){var t;if(e.iD){if("positive"===e.nD||"bipolar"===e.nD){if("after-bar"===(null===(t=e.rD)||void 0===t?void 0:t.position)){var i=u.vt.ri();return u.vt.Ai(e.iD.max,Math.min(u.chart.jn.getHeight(u.chart.eD())+e.rD.labelMargin,.3*i))}return e.iD.max}return e.oD?he(-1,-1e-6,e.iD.max):0}},_o:function(){var t;if(e.iD){if("negative"===e.nD||"bipolar"===e.nD){if("after-bar"===(null===(t=e.rD)||void 0===t?void 0:t.position)){var i=u.vt.ri();return u.vt.Ai(e.iD.min,-Math.min(u.chart.jn.getHeight(u.chart.eD())+e.rD.labelMargin,.3*i))}return e.iD.min}return e.oD?he(1,1e-6,e.iD.min):0}},Oo:function(){}},r,i,n,{numeric:i.barChartValueAxisTicks||i.yAxisNumericTicks,datetime:i.yAxisDateTimeTicks,time:i.yAxisTimeTicks},a)||this;return u.chart=e,u.rn=s,u.In=o,u.xe=o.zo(e.$j).He(u.$i.barChartValueAxisTitleFont||u.$i.yAxisTitleFont).Br(u.$i.barChartValueAxisTitleFillStyle||u.$i.yAxisTitleFillStyle),u.setTitleRotation(u.chart.jn.getHeight({x:0,y:-90})),u.Ke=u.rn.JA([u.xe]).gn(i.effectsText),u.tD=o.Wr(e.$j).Ur(i.barChartValueAxisStrokeStyle||u.$i.yAxisStrokeStyle),u}return Ag(e,t),e.prototype.setThickness=function(t){return"number"==typeof t?(this.ny=t,this.ey=t):"object"===a(t)&&(this.ny=t.min,this.ey=t.max),this.chart.fn.Sn(),this},e.prototype.getThickness=function(){return{min:this.ny,max:this.ey}},e.prototype.setStrokeStyle=function(t){return this.tD.Ur(t),this.chart.fn.Sn(),this},e.prototype.getStrokeStyle=function(){return this.tD.vf()},e.prototype.setTickStrategy=function(e,i){return t.prototype.ze.call(this,e,i)},e.prototype.En=function(t){var e,i,n,r;if(!this.Zi)return this.Je(),{hy:0,ly:0,yv:he(0,void 0!==this.ny?this.ny:0,void 0!==this.ey?this.ey:Ai)};var o=this.chart.jn.getWidth(this.chart.$j).ri(),s=this.vt.ri();this.oo({physicalAxisSize:s,oppositeAxisSize:o,plotLines:t});var a=0;try{for(var u=bg(this.oe.values()),l=u.next();!l.done;l=u.next()){var h=l.value;try{for(var c=(n=void 0,bg(h.values())),f=c.next();!f.done;f=c.next()){var p=f.value,d=p.Oe.Ao,y=this.chart.jn.getWidth(p.ie.Tl()),v=d.getTickLength()+d.getTickPadding()+y;a=Math.max(a,v)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}var g=a+this.tD.vf().V()/2,m=this.chart.jn.getWidth(this.xe.En().Tl());return{hy:g,ly:m,yv:he(g+m,void 0!==this.ny?this.ny:0,void 0!==this.ey?this.ey:Ai)}},e.prototype.Pr=function(t){var e=this.getInterval();this.tD.Xr(this.chart.jn.toPoint(-.5,this.Ve)).Yr(this.chart.jn.toPoint(-.5,this.Ne)).setVisible(this.Zi);var i="logarithmic"===this.Pe.type?Math.sqrt(e.start+e.end):.5*(e.start+e.end),n=this.chart.jn.toPoint(this.chart.categoryAxis.vt.Ai(-.5,t.hy*this.chart.jn.sD),i),r=this.chart.jn.toPoint(this.chart.jn.uD,0);this.xe.Lr(n).Rh(r).setVisible(this.Zi)},e.prototype.setMouseInteractions=function(t){return this},e.prototype.yo=function(t,e){return new io(e,t,this.In,this.chart.$j)},e.prototype.mo=function(t,e){var i=t.Oe.Ao,n=this.chart.jn.toPoint(-.5,t.S),r=this.chart.$j.Ai(n,this.chart.jn.toPoint(i.getTickLength()*this.chart.jn.sD,0)),o=this.chart.$j.Ai(n,this.chart.jn.toPoint(i.gridStrokeLength*e.oppositeAxisSize*-this.chart.jn.sD,0)),s=this.chart.$j.Ai(r,this.chart.jn.toPoint(i.getTickPadding()*this.chart.jn.sD,0));t.ie.Lr(s).Rh(this.chart.jn.toPoint(this.chart.jn.uD,i.getLabelAlignment())).Ze(i.getLabelRotation()),i.tickStyle!==gt&&0!==i.tickLength&&e.plotLines.add({positions:[n,r]},{lineStyle:i.tickStyle}),i.gridStrokeStyle!==gt&&i.gridStrokeLength>0&&e.plotLines.add({positions:[n,o]},{lineStyle:i.gridStrokeStyle})},e.prototype.Io=function(t,e){return"linear"===this.Pe.type?Bn(t,e,this.vt):zn(t,e,this.vt)},e.prototype.Do=function(t,e,i){return{min:t,max:e}},e}(eo),wg=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Cg=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,r)||this;return u.Ru=pi(),u.S=0,u.hD=!1,u.chart=e,u.chart=e,u.category=o,u.subCategory=s,u.Mn=o,u.Or=Ke(n.barChartBarFillStyle||n.rectangleSeriesFillStyle,a),u.Fr=Ke(n.barChartBarStrokeStyle||n.rectangleSeriesStrokeStyle,a),u.onVisibleStateChanged((function(){u.chart.aD()})),u.onDispose((function(){u.chart.aD(),u.chart.fD.delete(u.category),u.chart.cD.delete(u)})),u}return wg(e,t),e.prototype.Ji=function(t,e){var i=this.chart.fn.ju(e);return{cursorPosition:{pointMarker:{x:i.engineX,y:i.engineY},pointMarkerScale:this.chart.fn.vt,resultTable:{x:i.engineX,y:i.engineY},resultTableScale:this.chart.fn.vt},category:this.category,subCategory:this.subCategory,bar:this,value:this.getValue()}},e.prototype.setValue=function(t){return this.hD=!0,this.S=t,this.chart.aD(),this.chart.fn.Sn(),this.chart.fD.delete(this.category),this.chart.cD.delete(this),this},e.prototype.getValue=function(){return this.S},Object.defineProperty(e.prototype,"value",{get:function(){return this.S},enumerable:!1,configurable:!0}),e.prototype.setFillStyle=function(t){return this.Or="function"==typeof t?t(this.Or):t,this.chart.aD(),this},e.prototype.getFillStyle=function(){return this.Or},e.prototype.setStrokeStyle=function(t){return this.Fr="function"==typeof t?t(this.Fr):t,this.chart.aD(),this},e.prototype.getStrokeStyle=function(){return this.Fr},e.prototype.kp=function(){return this.Ip},e.prototype.setEffect=function(t){return this.chart.setBarsEffect(t),this},e.prototype.styleLegendEntry=function(t,e){void 0===e&&(e=!1),He(t,this.$i,e,{fill:this.Or})},e}(Ef),Pg=function(t){return!!(t&&"object"===a(t)&&"iCategory"in t&&"number"==typeof t.iCategory&&"value"in t&&"number"==typeof t.value)},Eg=function(t,e,i){var n=t.ov.filter((function(t){return void 0!==t})),r=n.map((function(t){return i(t.sizePixels)})).reduce((function(t,e){return Math.max(t,e)}),1),o=Math.ceil(r/(e/n.length));return o<=1?n:n.filter((function(t,e){return e%o==0}))},Tg=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kg=function(){return(kg=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Dg=function(t){function e(e,i,n,r,o,s,a){var u,l,h=this;(h=t.call(this,e,i,n,i.nm("barChart bg",0),r,i.fn.$i.barChartBackgroundFillStyle||i.fn.$i.chartXYBackgroundFillStyle,i.fn.$i.barChartBackgroundStrokeStyle||i.fn.$i.chartXYBackgroundStrokeStyle,i.fn.$i.barChartTitleFont||i.fn.$i.chartXYTitleFont,i.fn.$i.barChartTitleFillStyle||i.fn.$i.chartXYTitleFillStyle,s)||this).coordsBars="barChart",h.lD=_g.Descending,h.vD=h.$i.barChartCategoryLabels,h.rD=h.$i.barChartValueLabelsAfterBars,h.dD=!1,h.dM=ci(),h.fD=new Map,h.cD=new Map,h.nD="positive",h.AD="columns",h.yD=!0,h.mD=new Map,h.bD={speed:1},h.Jm={speed:1},h.pD=.08,h.vs=function(t,e,i,n,r){h.$j.tt(n,r)},h.fn.Rs(Nu.zv),h.jn="horizontal"===(null==a?void 0:a.type)?Og:Ig,h.pe.vo("Bar Chart"),h.gD=i.bb("barChart plotting 1",0),h.SD=i.bb("barChart plotting 2",1),h.oD="logarithmic"===(null===(u=null==a?void 0:a.valueAxis)||void 0===u?void 0:u.type),h.oD?"horizontal"===h.jn.xD?(l=n.d1({scale1DConstructor:An,dimension:"y"}),h.$j=(new Pn).Bi(n.d1({scale1DConstructor:cn,dimension:"x"}),l)):(l=n.d1({scale1DConstructor:An,dimension:"x"}),h.$j=(new Pn).Bi(l,n.d1({scale1DConstructor:cn,dimension:"y"}))):(h.$j=n.d2({scaleXYConstructor:Cn}),l=h.jn.getWidth(h.$j)),h.wD=h.rn.JA(),h.mM=new Qh((function(){return h.dM.xt(h.gD.vp(h.$j).$u(0))}),(function(t,e,i){return t.Br(i.fillStyle).Dr(i.strokeStyle),e.map((function(e){var i=e.existingMember||t.Wo();return i.ga(e.vertices),h.dM.Lt(i,e.bar),e.bar.yn([i]),i}))}),(function(){h.dM.zt()}),(function(t){h.wD.dn(t)})),h.ug=h.zy.Er(h.$j).Br(h.$i.barChartSeriesBackgroundFillStyle||J).Dr(gt),h.hg=h.zy.Er(h.$j).Br(J).Dr(h.$i.barChartSeriesBackgroundStrokeStyle||gt).setMouseInteractions(!1),t.prototype.sg.call(h,h.ug,h.hg),h.categoryAxis=new Sg(h,h.$i,!1!==(null==a?void 0:a.animationsEnabled),l,h.SD,h.rn);var c=On(null==a?void 0:a.valueAxis);h.valueAxis=new Mg(h,h.$i,!1!==(null==a?void 0:a.animationsEnabled),h.jn.getHeight(h.$j),h.SD,h.rn,c.type),h.MD=new qh((function(){return h.SD.zo(h.$j).Lo(fi).Po(fi).$u(1)})),h.CD=new Qh((function(){return h.zy.py(h.$j).setMouseInteractions(!1)}),(function(t,e,i){return t.Ur(i.lineStyle),e.map((function(e){var i=e.positions;return(e.existingMember||t.Wo()).Sy(i[0],i[1])}))}));var f=i.gb(),p=ye(a?a.cursorBuilder:void 0,yh);return h.Sb=Kl(h,f,p.Rm(f,h.uiScale,h.uiScale,ue,h.$i),h,"show-pointed",Bg,(function(){return 0})),h.onResize(h.vs),h.im(o,h.$j),h.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),h}return Tg(e,t),e.prototype.getSeries=function(){return this.ng},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=yh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.setBarsMargin=function(t){return this.pD=he(t,0,.49),this.dD=!0,this.fn.Sn(),this},e.prototype.getBarsMargin=function(){return this.pD},e.prototype.setBarsEffect=function(t){return this.wD.gn(t),this.fn.Sn(),this},e.prototype.getBarsEffect=function(){return this.wD.xn()},e.prototype.setData=function(t){var e,i,n;if(Array.isArray(t))n=[],t.forEach((function(t,e){"string"==typeof t?n.push({category:t}):"number"==typeof t?n.push({category:"Category ".concat(e+1),value:t}):"object"===a(t)&&n.push(t)}));else{n=[];var r=Object.keys(t);try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=o.next();!s.done;s=o.next()){var u=s.value,l=t[u];n.push({category:u,value:"number"==typeof l?l:void 0})}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}return this._D("columns",n),this},e.prototype.setDataStacked=function(t,e){var i=[];return e.forEach((function(e){var n=e.subCategory;e.values.forEach((function(e,r){var o=t[r];i.push({category:o,subCategory:n,value:e})}))})),this._D("stacks",i),this},e.prototype.setDataGrouped=function(t,e){var i=[];return e.forEach((function(e){var n=e.subCategory;e.values.forEach((function(e,r){var o=t[r];i.push({category:o,subCategory:n,value:e})}))})),this._D("groups",i),this},e.prototype._D=function(t,e){var i=this;this.ng.length>0&&this.fn.Rs(Nu.Jv),this.AD=t,this.TD(e);var n=ii(e.map((function(t){return t.category}))),r=n.length,o=ii(e.map((function(t){return t.subCategory}))).filter((function(t){return void 0!==t}));if(e.forEach((function(t){var e=i.ng.find((function(e){return e.category===t.category&&e.subCategory===t.subCategory}));if(!e){var r=n.indexOf(t.category),s=o.includes(t.subCategory)?o.indexOf(t.subCategory):void 0;e=new Cg(i,i.eg,i.$i,i.fn.rn,t.category,t.subCategory,ye(s,r)),i.ag(e),i.mD.set(e,{category:r,valueStart:i.oD?1e-6:0,valueEnd:void 0!==t.value?t.value:0})}void 0!==t.value&&e.setValue(t.value)})),this.ng.slice().forEach((function(t){void 0===e.find((function(e){return e.category===t.category&&e.subCategory===t.subCategory}))&&(t.dispose(),i.mD.delete(t))})),this.categoryAxis.setInterval(this.jn.getWidth({x:{start:-.5,end:r-.5},y:{start:r-.5,end:-.5}})),this.iD=0===this.ng.length?void 0:"stacks"!==t?this.ng.reduce((function(t,e){return{min:Math.min(t.min,e.getValue()),max:Math.max(t.max,e.getValue())}}),{min:Ai,max:bi}):{min:0,max:n.reduce((function(t,i){return Math.max(t,e.reduce((function(t,e){return e.category!==i?t:void 0!==e.value?t+e.value:t}),0))}),0)},this.iD&&(this.nD=this.iD.min>=0?"positive":this.iD.max<=0?"negative":"bipolar",("bipolar"===this.nD||"negative"===this.nD)&&this.oD))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");this.TD(this.ng),this.fD.clear(),this.cD.clear(),this.dD=!0,this.fn.Sn()},e.prototype.setCategoryLabels=function(t){var e="function"==typeof t?this.vD?t(this.vD):this.vD:t;return this.vD=e?kg(kg({},this.$i.barChartCategoryLabels),e):void 0,this.fD.clear(),this.fn.Sn(),this},e.prototype.getCategoryLabels=function(){return this.vD},e.prototype.setValueLabels=function(t){var e,i="function"==typeof t?this.rD?t(this.rD):this.rD:t,n=(null==i?void 0:i.position)||(null===(e=this.rD)||void 0===e?void 0:e.position);return i&&n?"after-bar"===n?this.rD=kg(kg({},this.$i.barChartValueLabelsAfterBars),i):"inside-bar"!==n&&"inside-bar-start"!==n&&"inside-bar-centered"!==n&&"inside-bar-end"!==n||(this.rD=kg(kg({},this.$i.barChartValueLabelsInsideBars),i)):this.rD=void 0,this.cD.clear(),this.fn.Sn(),this},e.prototype.getValueLabels=function(){return this.rD},e.prototype.setLabelFittingEnabled=function(t){return this.yD=t,this.fn.Sn(),this},e.prototype.getLabelFittingEnabled=function(){return this.yD},e.prototype.getBar=function(t,e){if(("groups"===this.AD||"stacks"===this.AD)&&void 0===e)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");var i=this.ng.find((function(i){return i.category===t&&(void 0===e||e===i.subCategory)}));if(!i)throw new Error('BarChart.getBar() no such bar: "'.concat(t,'" ').concat(e?'"'.concat(e,'"'):""));return i},e.prototype.getBars=function(){return this.ng},e.prototype.setSorting=function(t){return this.lD=t,this.TD(this.ng),this.fn.Sn(),this},e.prototype.getSorting=function(){return this.lD},e.prototype.setAnimationCategoryPosition=function(t,e){return void 0===e&&(e=1),this.bD=t?{speed:e}:void 0,this.fn.Sn(),this},e.prototype.setAnimationValues=function(t,e){return void 0===e&&(e=1),this.Jm=t?{speed:e}:void 0,this.fn.Sn(),this},e.prototype.translateCoordinate=function(e,i,n){if(n&&Fn(e)&&Dn(i))return t.prototype.translateCoordinate.call(this,e,i,n);var r,o=i;if(kn(e))r=this.fn.ju(e);else if(Fn(e))r={engineX:(s=Pt(e,this.GA,this.fn.vt)).x,engineY:s.y};else{if(!Pg(e))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");var s;r={engineX:(s=Pt(this.jn.toPoint(e.iCategory,e.value),this.$j,this.fn.vt)).x,engineY:s.y}}if(Tn(o))return this.fn.Du(r);if("barChart"===o){var a=Pt({x:r.engineX,y:r.engineY},this.fn.vt,this.$j);return{iCategory:this.jn.getWidth(a),value:this.jn.getHeight(a)}}if(Dn(o))return Pt({x:r.engineX,y:r.engineY},this.fn.vt,this.GA);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")},e.prototype.Tv=function(){var t=this;if("columns"===this.AD)return this.ng;var e=ii(ni(this.ng.map((function(t){return t.subCategory}))));return ni(e.map((function(e){var i,n,r=t.ng.filter((function(t){return t.subCategory===e})),o=r[0];if(o)return n=!1,(i=r).forEach((function(t){return t.onHighlight((function(e,r){n||(n=!0,i.forEach((function(e){return t!==e?e.setHighlight(r):void 0})),n=!1)}))})),i.forEach((function(t){return t.onDispose((function(){var e=i.indexOf(t);e>=0&&i.splice(e,1)}))})),{attach:function(t,i){return oi(t,r,{toggleVisibilityOnClick:!0,label:e,style:o.getFillStyle()}),this}}})))},e.prototype.Pr=function(e){var i,n,r=this;t.prototype.Pr.call(this,e);var o,s=this.MD.Hb(),a=this.CD.Hb(),u=this.ng.filter((function(t){return t.getVisible()&&t.hD})),l=ii(u.map((function(t){return t.category}))),h=ii(ni(u.map((function(t){return t.subCategory})))),c=5e-4*e*((null===(i=this.bD)||void 0===i?void 0:i.speed)||0),f=.003*e*((null===(n=this.bD)||void 0===n?void 0:n.speed)||0),p=this.valueAxis.vt,d=p instanceof An?function(t,e){var i;return Bn(t,e,p,(null===(i=r.Jm)||void 0===i?void 0:i.speed)||0)}:function(t,e){var i;return zn(t,e,p,(null===(i=r.Jm)||void 0===i?void 0:i.speed)||0)};"columns"===this.AD?o=u.map((function(t){return{bar:t,position:{category:l.indexOf(t.category),valueStart:r.oD?1e-6:0,valueEnd:t.value}}})):"groups"===this.AD?o=u.map((function(t){var e=l.indexOf(t.category),i=h.indexOf(t.subCategory),n=1/(h.length+2*(h.length+1)*r.pD),o=r.pD*n;return{bar:t,position:{category:e+(i-(h.length-1)/2)*(n+o),valueStart:r.oD?1e-6:0,valueEnd:t.value}}})):(o=[],l.forEach((function(t,e){var i=u.filter((function(e){return e.category===t})),n=r.oD?1e-6:0;i.forEach((function(e,i){o.push({bar:e,position:{category:l.indexOf(t),valueStart:n,valueEnd:n+e.value}}),n+=e.value}))}))),o.forEach((function(t){var e,i,n=t.bar,o=t.position,s=r.mD.get(n);void 0===s&&(s=o);var a=o.valueStart;if(r.bD&&s.category!==o.category){var u=Math.sign(o.category-s.category);e=s.category+c*u+f*(o.category-s.category),u!==Math.sign(o.category-e)&&(e=o.category)}else e=o.category;r.Jm&&s.valueEnd!==o.valueEnd?(u=Math.sign(o.valueEnd-s.valueEnd),i=d(s.valueEnd,o.valueEnd),u!==Math.sign(o.valueEnd-i)&&(i=o.valueEnd)):i=o.valueEnd,r.mD.set(n,{category:e,valueStart:a,valueEnd:i}),e===o.category&&i===o.valueEnd||r.fn.Sn(!0),e===s.category&&i===s.valueEnd||(r.dD=!0)})),Wl(this.pe,this.rm);var y=u.length>0;this.categoryAxis.Fo(),this.valueAxis.Fo();var v=this.categoryAxis.setVisible(y).En(),g=this.valueAxis.setVisible(y).En(a),m=(y?this.kD(l,u,s,a):{labelMarginBeforeCategoryAxisPixels:0}).labelMarginBeforeCategoryAxisPixels;this.categoryAxis.Pr(v,s,a,{labelMarginBeforeCategoryAxisPixels:m}),this.valueAxis.Pr(g);var x=this.categoryAxis.getThickness(),S=he(v.yv+m,void 0!==x.min?x.min:0,void 0!==x.max?x.max:Ai),A={x:Math.min(this.$j.x.getInnerStart(),this.$j.x.getInnerEnd()),y:Math.min(this.$j.y.getInnerStart(),this.$j.y.getInnerEnd())},b=Math.max(this.$j.x.getInnerStart(),this.$j.x.getInnerEnd()),M=Math.max(this.$j.y.getInnerStart(),this.$j.y.getInnerEnd()),w={x:b-A.x,y:M-A.y};this.ug.Lr(A),this.ug.tt(w),this.hg.Lr(A),this.hg.tt(w),t.prototype.tm.call(this),this.Sb.Pr(!1,this.ng,void 0);var C=jl(this.pe,this.rm);if(this.$j.Pi([this.Yt.bottom+this.xh.bottom+("vertical"===this.jn.xD?S:0),this.Yt.top+this.xh.top+C+("horizontal"===this.jn.xD?g.yv:0)]),this.$j.Ei([this.Yt.left+this.xh.left+this.jn.getHeight({x:S,y:g.yv}),this.Yt.right+this.xh.right]),this.gD.OS({x:this.$j.x.ii(),y:this.$j.y.ii(),width:this.$j.x.ri(),height:this.$j.y.ri()}),this.By&&this.By(),this.dD){var P=this.mM.Hb(),E="groups"===this.AD?1/(h.length+2*(h.length+1)*this.pD):1-2*this.pD;u.forEach((function(t){var e=r.mD.get(t);if(void 0!==e){var i=e.category-.5*E,n=e.category+.5*E,o=[r.jn.toPoint(i,e.valueStart),r.jn.toPoint(i,e.valueEnd),r.jn.toPoint(n,e.valueEnd),r.jn.toPoint(n,e.valueStart)];P.add({Ru:t.Ru,vertices:o,bar:t},{fillStyle:t.Or,strokeStyle:t.Fr})}})),P.finishPlot()}s.finishPlot(),a.finishPlot(),this.dD=!1},e.prototype.setAnimationsEnabled=function(e){return t.prototype.setAnimationsEnabled.call(this,e),this.setAnimationCategoryPosition(e),this.setAnimationValues(e),this.valueAxis.setAnimationsEnabled(e),this.categoryAxis.setAnimationsEnabled(e),this},e.prototype.dispose=function(){return this.SD.U(),this.gD.U(),this.Sb.U(),t.prototype.dispose.call(this)},e.prototype.TD=function(t){var e=this.lD;e&&t.sort((function(i,n){return e({category:i.category,value:t.reduce((function(t,e){return t+(e.category===i.category&&e.value||0)}),0)},{category:n.category,value:t.reduce((function(t,e){return t+(e.category===n.category&&e.value||0)}),0)})}))},e.prototype.kD=function(t,e,i,n){var r=this,o=0,s=this.vD,a=this.rD,u=this.valueAxis.getInterval(),l=this.jn.getWidth({x:this.$j.x.ri(),y:this.$j.y.ri()});if(s&&s.labelFillStyle!==J){var h=s.tickLength+s.labelMargin,c=this.jn.toPoint(0,1),f={ov:t.map((function(t,i){var n=e.reduce((function(e,i){return i.category!==t?e:e+i.value}),0),o=s.formatter(t,n);if(o){var a=i;if(void 0!==a)return{text:o,position:r.jn.toPoint(a,r.valueAxis.vt.Ai(u.start,-h)),alignment:c,rotation:s.labelRotation,sizePixels:r.OD(t,n)}}})),bc:s.labelFont,vt:this.$j},p=f?this.yD?Eg(f,l,this.jn.getWidth):f.ov:[];p.forEach((function(t){t&&i.add().vo(t.text).Lr(t.position).Rh(t.alignment).Ze(t.rotation).Br(s.labelFillStyle).He(s.labelFont)})),s.tickStyle!==gt&&0!==s.tickLength&&p.forEach((function(t){if(t){var e=r.jn.getWidth(t.position);n.add({positions:[r.jn.toPoint(e,r.valueAxis.vt.getInnerStart()),r.jn.toPoint(e,r.valueAxis.vt.Ai(u.start,-s.tickLength))]},{lineStyle:s.tickStyle})}})),o=p.reduce((function(t,e){return e?Math.max(t,r.jn.getHeight(e.sizePixels)):t}),0)+s.tickLength+s.labelMargin}if(a&&a.labelFillStyle!==J){var d=void 0;"after-bar"===a.position?d={ov:e.map((function(t,e){var i=a.formatter(t,t.category,t.value);if(i){var n=r.mD.get(t);if(void 0!==n)return{text:i,position:r.jn.toPoint(n.category,r.valueAxis.vt.Ai(n.valueEnd,a.labelMargin*Math.sign(n.valueEnd))),alignment:r.jn.toPoint(0,-1*Math.sign(n.valueEnd)),rotation:a.labelRotation,sizePixels:r.FD(t)}}})),bc:a.labelFont,vt:this.$j}:"inside-bar"!==a.position&&"inside-bar-start"!==a.position&&"inside-bar-centered"!==a.position&&"inside-bar-end"!==a.position||(d={ov:e.map((function(t,e){var i=a.formatter(t,t.category,t.value);if(i){var n=r.mD.get(t);if(void 0!==n){var o="bipolar"===r.nD?Math.sign(n.valueEnd):"negative"===r.nD?-1:1,s=r.jn.toPoint(0,"inside-bar"===a.position||"inside-bar-end"===a.position?1*o:"inside-bar-centered"===a.position?0:-1*o);return{text:i,position:r.jn.toPoint(n.category,"inside-bar"===a.position||"inside-bar-end"===a.position?r.valueAxis.vt.Ai(n.valueEnd,-a.labelMargin*o):"inside-bar-centered"===a.position?(n.valueStart+n.valueEnd)/2:r.valueAxis.vt.Ai(n.valueStart,a.labelMargin*o)),alignment:s,rotation:a.labelRotation,sizePixels:r.FD(t)}}}})),bc:a.labelFont,vt:this.$j}),d&&(d?this.yD?Eg(d,l,this.jn.getWidth):d.ov:[]).forEach((function(t){t&&i.add().vo(t.text).Lr(t.position).Rh(t.alignment).Ze(t.rotation).Br(a.labelFillStyle).He(a.labelFont).setMouseInteractions(!1)}))}return{labelMarginBeforeCategoryAxisPixels:o}},e.prototype.OD=function(t,e){if(!this.vD||this.vD.labelFillStyle===J)return{x:0,y:0};var i=this.fD.get(t);if(i)return i;var n=this.vD.formatter(t,e),r=this.fn.Ay.vy(n,this.vD.labelFont,this.vD.labelRotation);return r.isEstimate?this.fn.Sn(!0):this.fD.set(t,r),r},e.prototype.FD=function(t){if(!this.rD||this.rD.labelFillStyle===J)return{x:0,y:0};var e=this.cD.get(t);if(e)return e;var i=this.fn.Ay.vy(this.rD.formatter(t,t.category,t.value),this.rD.labelFont,this.rD.labelRotation);return i.isEstimate?this.fn.Sn(!0):this.cD.set(t,i),i},e.prototype.eD=function(){var t=this;return this.ng.reduce((function(e,i){var n=t.FD(i);return{x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)}}),{x:0,y:0})},e.prototype.aD=function(){this.dD=!0,this.fn.Sn()},e.prototype.getMinimumSize=function(){return{x:200,y:200}},e}(Pc),Fg={Horizontal:"horizontal",Vertical:"vertical"},_g={Disabled:void 0,None:void 0,Ascending:function(t,e){return t.value-e.value},Descending:function(t,e){return e.value-t.value},Alphabetical:function(t,e){return t.category.localeCompare(e.category)}},Ig=kg(kg({},Zu),{xD:"vertical",sD:-1,uD:1}),Og=kg(kg({},Qu),{xD:"horizontal",sD:1,uD:-1}),Bg=function(t,e,i){var n=[[e.bar]],r=t.valueAxis.getTitle();return r&&n.push([r]),e.subCategory?n.push([e.subCategory,"",{text:In(t.valueAxis.formatValue(e.bar.getValue()),t.valueAxis),font:{weight:"bold"}}]):n.push({text:In(t.valueAxis.formatValue(e.bar.getValue()),t.valueAxis),font:{weight:"bold"}}),n},zg=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Lg=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Rg=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Vg=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("gaugeChart bg",0),r,i.fn.$i.gaugeChartBackgroundFillStyle,i.fn.$i.gaugeChartBackgroundStrokeStyle,i.fn.$i.gaugeChartTitleFont,i.fn.$i.gaugeChartTitleFillStyle,s)||this;return u.Qa=u.$i.gaugeChartStartAngle,u.Ka=u.$i.gaugeChartEndAngle,u.ID={start:0,end:100},u.S=0,u.jD=[],u.DD=u.$i.gaugeChartBarThickness,u.BD=u.$i.gaugeChartValueIndicatorThickness,u.ED=u.$i.gaugeChartNeedleLength,u.PD=u.$i.gaugeChartNeedleThickness,u.LD=u.$i.gaugeChartNeedleFillStyle,u.zD=u.$i.gaugeChartNeedleStrokeStyle,u.VD=u.$i.gaugeChartRoundedEdges,u.ND=!0,u.RD=!0,u.GD=!0,u.UD=[],u.WD=[],u.YD=!0,u.XD=!0,u.Ym=u.S,u.HD=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},u.ZD=u.$i.gaugeChartBarGradient,u.QD=function(t){return Number.isInteger(t)?t.toString():t.toFixed(2)},u.KD=u.$i.gaugeChartTickFont,u.JD=u.$i.gaugeChartValueLabelFont,u.qD=u.$i.gaugeChartValueLabelFillStyle,u.$D=u.$i.gaugeChartUnitLabelFont,u.tB=u.$i.gaugeChartUnitLabelFillStyle,u.iB=u.$i.gaugeChartTickFillStyle,u.nB=u.$i.gaugeChartBarColor,u.rB=u.$i.gaugeChartGlowColor,u.eB=u.$i.gaugeChartGlowColor.getA(),u.oB=1,u.sB=1,u.uB=u.$i.gaugeChartNeedleAlignment,u.hB=!1,u.aB=u.$i.gaugeChartGapBetweenBarAndValueIndicators,u.fB=u.$i.gaugeChartBarStrokeStyle,u.cB=!1,u.fn.Rs(Nu.Nv),u.pe.vo("Gauge Chart"),u.im(o,u.GA),u.setAnimationsEnabled(!1!==(null==a?void 0:a.animationsEnabled)),u.lB=u.nB,u.vB=u.rB,u.dB=k(0,0,0,0),u.AB=u.rn.JA(),u.yB=u.rn.JA().gn(u.$i.effectsText),u.mB=u.zy.Bc(u.GA).Dr(u.fB).setMouseInteractions(!1),u.bB=u.zy.Fl(u.GA).sf(0).Yr(360).ff(0).Dr(gt).setMouseInteractions(!1),u.pB=u.om.Wr(u.GA).Ur(u.$i.gaugeChartNeedleStrokeStyle).setMouseInteractions(!1),u.gB=u.om.Wr(u.GA).Ur(new Hn({thickness:u.PD,fillStyle:u.LD})).setMouseInteractions(!1),u.SB=u.om.zo(u.GA).He(u.JD).Br(u.qD).setMouseInteractions(!1),u.dv=u.om.zo(u.GA).He(u.$D).Br(u.tB).vo("").setMouseInteractions(!1),u.xB=u.zy.zo(u.GA).He(u.KD).Br(u.iB).setMouseInteractions(!1),u.wB=u.zy.zo(u.GA).He(u.KD).Br(u.iB).setMouseInteractions(!1),u.AB.dn([u.mB]),u.yB.dn([u.SB,u.dv,u.xB,u.wB]),u.MB(),u.onResize((function(){u.hB=!0})),u}return zg(e,t),e.prototype.MB=function(){var t=this;this.gB.Ur((function(e){return e.setThickness(t.PD)})),this.pB.Ur((function(e){return e.setThickness(2*t.zD.getThickness()+t.PD)}))},e.prototype.setAnimationsEnabled=function(t){return this.fe=t,this.XD=t,this.YD=t,this},e.prototype.setInterval=function(t,e){return this.ID={start:t,end:e},this.hB=!0,this.fn.Sn(),this},e.prototype.getInterval=function(){return this.ID},e.prototype.setTickFillStyle=function(t){return this.iB="function"==typeof t?t(this.iB):t,this.WD.forEach((function(e){e.start.Br(t),e.end.Br(t)})),this.xB.Br(t),this.wB.Br(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getTickFillStyle=function(){return this.iB},e.prototype.setTickFont=function(t){return this.KD="function"==typeof t?t(this.KD):t,this.WD.forEach((function(e){e.start.He(t),e.end.He(t)})),this.xB.He(t),this.wB.He(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getTickFont=function(){return this.KD},e.prototype.setTickFormatter=function(t){return this.HD=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getTickFormatter=function(){return this.HD},e.prototype.setValueLabelFillStyle=function(t){return this.qD="function"==typeof t?t(this.qD):t,this.SB.Br(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getValueLabelFillStyle=function(){return this.SB.We()},e.prototype.setValueLabelFont=function(t){return this.JD="function"==typeof t?t(this.JD):t,this.SB.He(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getValueLabelFont=function(){return this.SB.Xe()},e.prototype.setValueFormatter=function(t){return this.QD="string"==typeof t?function(e){return t}:t,this.hB=!0,this.fn.Sn(),this},e.prototype.getValueLabel=function(){return this.SB.wo()||this.QD},e.prototype.setUnitLabelFillStyle=function(t){return this.tB="function"==typeof t?t(this.tB):t,this.dv.Br(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getUnitLabelFillStyle=function(){return this.dv.We()},e.prototype.setUnitLabelFont=function(t){return this.$D="function"==typeof t?t(this.$D):t,this.dv.He(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getUnitLabelFont=function(){return this.dv.Xe()},e.prototype.setUnitLabel=function(t){return this.dv.vo(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getUnitLabel=function(){return this.dv.wo()},e.prototype.setNeedleFillStyle=function(t){return this.LD="function"==typeof t?t(this.LD):t,this.gB.Ur((function(e){return e.setFillStyle(t)})),this.hB=!0,this.fn.Sn(),this},e.prototype.getNeedleFillStyle=function(){return this.gB.vf().getFillStyle()},e.prototype.setNeedleThickness=function(t){return this.PD=t,this.MB(),this.hB=!0,this.fn.Sn(),this},e.prototype.getNeedleThickness=function(){return this.PD},e.prototype.setNeedleStrokeStyle=function(t){return this.zD="function"==typeof t?t(this.zD):t,this.pB.Ur(t),this.MB(),this.hB=!0,this.fn.Sn(),this},e.prototype.getNeedleStrokeStyle=function(){return this.pB.vf()},e.prototype.setNeedleLength=function(t){return this.ED=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getNeedleLength=function(){return this.ED},e.prototype.setBarColor=function(t){return this.nB=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getBarColor=function(){return this.lB},e.prototype.setBarGradient=function(t){return this.ZD=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getBarGradient=function(){return this.ZD},e.prototype.setBarStrokeStyle=function(t){return this.fB="function"==typeof t?t(this.fB):t,this.mB.Dr(t),this.hB=!0,this.fn.Sn(),this},e.prototype.getBarStrokeStyle=function(){return this.mB.fu()},e.prototype.setBarThickness=function(t){return this.DD=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getBarThickness=function(){return this.DD},e.prototype.setAngleInterval=function(t,e){return Math.abs(t-e)>360&&(e=t<e?t+360:t-360),this.Qa=t,this.Ka=e,this.hB=!0,this.fn.Sn(),this},e.prototype.getAngleInterval=function(){return{start:this.Qa,end:this.Ka}},e.prototype.setValue=function(t){return this.cB&&this.fn.Rs(Nu.Jv),this.cB=!0,this.S=t,this.YD||(this.Ym=this.S),this.hB=!0,this.fn.Sn(),this},e.prototype.getValue=function(){return this.S},e.prototype.setValueAnimation=function(t,e){return void 0===e&&(e=1),this.YD=t,this.oB=Math.max(0,e),this.hB=!0,this.fn.Sn(),this},e.prototype.setColorAnimation=function(t,e){return void 0===e&&(e=1),this.XD=t,this.sB=Math.max(0,e),this.hB=!0,this.fn.Sn(),this},e.prototype.setRoundedEdges=function(t){return this.VD=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getRoundedEdges=function(){return this.VD},e.prototype.setValueIndicators=function(t){var e=this;return this.jD=t,this.UD.forEach((function(t){t.dispose()})),this.UD.length=0,this.WD.forEach((function(t){t.start.dispose(),t.end.dispose()})),this.WD.length=0,this.jD.forEach((function(t){var i=e.zy.Bc(e.GA).Dr(gt).Br(new et({color:t.color})).setMouseInteractions(!1);e.UD.push(i);var n=e.zy.zo(e.GA).He(e.KD).Br(e.iB).setMouseInteractions(!1),r=e.zy.zo(e.GA).He(e.KD).Br(e.iB).setMouseInteractions(!1);e.WD.push({start:n,end:r})})),this.AB.dn(Rg([this.mB],Lg(this.UD),!1)),this.yB.dn(Rg([this.SB,this.dv,this.xB,this.wB],Lg(this.WD.map((function(t){return[t.start,t.end]})).flat()),!1)),this.hB=!0,this.fn.Sn(),this},e.prototype.getValueIndicators=function(){return this.jD},e.prototype.setValueIndicatorThickness=function(t){return this.BD=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getValueIndicatorThickness=function(){return this.BD},e.prototype.setAutomaticBarColoring=function(t){return this.GD=!!t,this.hB=!0,this.fn.Sn(),this},e.prototype.getAutomaticBarColoring=function(){return this.GD},e.prototype.setGlowColor=function(t){return void 0===t?(this.ND=!1,this.vB=void 0):"object"===a(t)&&"auto"in t?(this.RD=t.auto,t.auto&&(this.vB=void 0),void 0!==t.alpha&&(this.eB=t.alpha),this.ND=!0):(this.vB=t,this.eB=t.getA(),this.RD=!1,this.ND=!0),this.hB=!0,this.fn.Sn(),this},e.prototype.getAutomaticGlowColoring=function(){return this.RD},e.prototype.setNeedleAlignment=function(t){return this.uB=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getNeedleAlignment=function(){return this.uB},e.prototype.setGapBetweenBarAndValueIndicators=function(t){return this.aB=t,this.hB=!0,this.fn.Sn(),this},e.prototype.getGapBetweenBarAndValueIndicators=function(){return this.aB},e.prototype.setBarEffect=function(t){return this.AB.gn(t),this.fn.Sn(),this},e.prototype.getBarEffect=function(){return this.AB.xn()},e.prototype.setLabelEffect=function(t){return this.yB.gn(t),this.fn.Sn(),this},e.prototype.getLabelEffect=function(){return this.yB.xn()},e.prototype.Pr=function(e){var i,n=this;if(t.prototype.Pr.call(this,e),Wl(this.pe,this.rm),t.prototype.tm.call(this),this.Ym!==this.S){if(this.YD){var r=5e-4*e,o=.003*e,s=Math.sign(this.S-this.Ym);this.Ym=this.Ym+r*s+o*this.oB*(this.S-this.Ym),s!==Math.sign(this.S-this.Ym)?this.Ym=this.S:this.fn.Sn(!0)}else this.Ym=this.S;this.hB=!0}var a=this.jD.find((function(t){return n.Ym>=t.start&&n.Ym<=t.end}));if(this.lB=this.GD&&a?a.color:this.nB,this.XD){if(this.dB!==this.lB){var u=this.dB.getR(),l=this.dB.getG(),c=this.dB.getB(),f=this.lB.getR(),p=this.lB.getG(),d=this.lB.getB(),y=Math.sign(f-u),v=Math.sign(p-l),g=Math.sign(d-c);r=.005*e,o=.003*e,this.dB=k(u+r*y+o*this.sB*(f-u),l+r*v+o*this.sB*(p-l),c+r*g+o*this.sB*(d-c));var m=Math.abs(f-this.dB.getR()),x=Math.abs(p-this.dB.getG()),S=Math.abs(d-this.dB.getB());m<1&&x<1&&S<1?this.dB=this.lB:this.fn.Sn(!0),this.hB=!0}}else this.dB=this.lB;if(this.hB){var A=Ai,b=bi,M=Ai,w=bi;if(new Array(100).fill(0).forEach((function(t,e,i){var r=n.Qa+e/i.length*(n.Ka-n.Qa),o=Math.sin(r*Math.PI/180),s=Math.cos(r*Math.PI/180);o<A&&(A=o),o>b&&(b=o),s<M&&(M=s),s>w&&(w=s)})),this.ZD?this.mB.Br(new ft({stops:[{offset:0,color:D("#000000")},{offset:1,color:this.dB}],position:{x:.5,y:.5}})):this.mB.Br(new et({color:this.dB})),this.ND){var C=this.RD&&a?this.dB:null!==(i=this.vB)&&void 0!==i?i:this.rB;this.bB.Br(new ft({stops:[{offset:0,color:C.setA(this.eB)},{offset:1,color:C.setA(0)}],position:{x:.5,y:.5},extent:h.farthestSide}))}else this.bB.Br(J);var P=this.HD(this.ID.start),E=this.HD(this.ID.end),T=0,F=0,_=this.fn.Ay.vy(P,this.xB.Xe(),this.xB.Qe()),I=this.fn.Ay.vy(E,this.wB.Xe(),this.wB.Qe());_.x>T&&(T=_.x),_.y>F&&(F=_.y),I.x>T&&(T=I.x),I.y>F&&(F=I.y),this.WD.forEach((function(t,e){if(!(e>=n.jD.length)){var i=n.jD[e],r=n.HD(i.start),o=n.HD(i.end),s=n.fn.Ay.vy(r,t.start.Xe(),t.start.Qe()),a=n.fn.Ay.vy(o,t.end.Xe(),t.end.Qe());s.x>T&&(T=s.x),s.y>F&&(F=s.y),a.x>T&&(T=a.x),a.y>F&&(F=a.y)}}));var O=this.jD.length>0?this.BD:0,B=this.GA.getInnerIntervalPixels(),z=jl(this.pe,this.rm),L={x:B.x,y:B.y-z},R={x:.5*L.x,y:.5*L.y},V=O+2*this.aB+this.DD/2,N=T+V,U=F+V,Y=U+z,G=B.y-(Y+U),j=B.x-(N+N),W=.5*Math.max(this.DD/2,G<j?G:j),X=.5*W,H=(A+b)*X,Z=(M+w)*X,Q={x:R.x-Z,y:R.y-H},q={x:R.x-.5*Z,y:R.y-.5*H};this.bB.Lr(R).uf(.5*Math.min(L.x,B.y)),this.SB.Lr(q).vo(this.QD(this.Ym)),this.dv.Lr({x:q.x,y:q.y-this.SB.Tl().y-this.dv.Tl().y/4});var K=Yg(this.ID,this.Qa,this.Ka,this.Ym,Q,W+this.uB*(this.ED/2+this.DD/2)),$=K.angle*(Math.PI/180),tt=.5*this.ED,it=Math.cos($),nt=Math.sin($);this.gB.Xr({x:K.x+tt*it,y:K.y+tt*nt}).Yr({x:K.x-tt*it,y:K.y-tt*nt}),this.pB.Xr({x:K.x+tt*it,y:K.y+tt*nt}).Yr({x:K.x-tt*it,y:K.y-tt*nt});var rt=Ng(Q,W,this.Qa,this.Ka,this.DD,this.VD);this.mB.ga(rt).Xu({min:{x:Q.x-W,y:Q.y-W},max:{x:Q.x+W,y:Q.y+W}});var ot=Q.y+W,st=Q.y-W,at=Q.x+W,ut=Q.x-W,lt=Lg(this.ID.start<this.ID.end?[this.ID.start,this.ID.end]:[this.ID.end,this.ID.start],2),ht=lt[0],ct=lt[1],pt=W+.5*this.DD+O/2+this.aB,dt=pt+O/2;this.jD.forEach((function(t,e){var i,r,o=t.start>=ht&&t.end<=ct;n.UD[e].setVisible(o),n.WD[e].start.setVisible(o),n.WD[e].end.setVisible(o);var s=Yg(n.ID,n.Qa,n.Ka,t.start,Q,dt),a=Yg(n.ID,n.Qa,n.Ka,t.end,Q,dt),u=Ng(Q,pt,s.angle,a.angle,n.BD,n.VD);n.UD[e].ga(u);var l=n.ID.start===t.start||n.ID.end===t.start,h=n.ID.start===t.end||n.ID.end===t.end||n.jD.some((function(e){return e.start===t.end&&e!==t}));n.WD[e].start.Lr({x:s.x,y:s.y}).Rh({x:Math.min(1,Math.max(-1,2*(s.x-at)/(ut-at)-1)),y:Math.min(1,Math.max(-1,2*(s.y-ot)/(st-ot)-1))}).vo(null!==(i=t.startLabel)&&void 0!==i?i:l?"":n.HD(t.start)),n.WD[e].end.Lr({x:a.x,y:a.y}).Rh({x:Math.min(1,Math.max(-1,2*(a.x-at)/(ut-at)-1)),y:Math.min(1,Math.max(-1,2*(a.y-ot)/(st-ot)-1))}).vo(null!==(r=t.endLabel)&&void 0!==r?r:h?"":n.HD(t.end))}));var yt=this.jD.some((function(t){return t.start<t.end?n.ID.start>=t.start&&n.ID.start<=t.end:n.ID.start<=t.start&&n.ID.start>=t.end})),vt=Yg(this.ID,this.Qa,this.Ka,this.ID.start,Q,yt?dt:pt-this.aB);this.xB.Lr({x:vt.x,y:vt.y}).Rh({x:Math.min(1,Math.max(-1,2*(vt.x-at)/(ut-at)-1)),y:Math.min(1,Math.max(-1,2*(vt.y-ot)/(st-ot)-1))}).vo(P);var gt=this.jD.some((function(t){return t.start<t.end?n.ID.end>=t.start&&n.ID.end<=t.end:n.ID.end<=t.start&&n.ID.end>=t.end})),mt=Yg(this.ID,this.Qa,this.Ka,this.ID.end,Q,gt?dt:pt-this.aB);this.wB.Lr({x:mt.x,y:mt.y}).Rh({x:Math.min(1,Math.max(-1,2*(mt.x-at)/(ut-at)-1)),y:Math.min(1,Math.max(-1,2*(mt.y-ot)/(st-ot)-1))}).vo(E),this.hB=!1}},e.prototype.getMinimumSize=function(){return{x:150,y:150}},e.prototype.Tv=function(){return[this]},e.prototype.attach=function(t,e,i){return void 0===i&&(i=!1),t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),t.setMouseInteractions(!1),He(t,this.$i,i,{fill:new et({color:this.getBarColor()})}),this},e}(Gl),Ng=function(t,e,i,n,r,o){void 0===o&&(o=!0);var s=[],a=.5*r,u=i>n,l=Math.sign(i-n),h=-1*l;if(o){var c=a/(2*Math.PI*e)*360+.1;i+=c*h,n+=c*l}else i+=.1*h,n+=.1*l;var f=Ug(t,e+a,i,n,u);if(s.push.apply(s,Rg([],Lg(f),!1)),o){var p,d={x:t.x+e*Math.cos(n*(Math.PI/180)),y:t.y+e*Math.sin(n*(Math.PI/180))};p=i>n?Ug(d,a,n+180,n+360,u):Ug(d,a,n-180,n-360,u),s.push.apply(s,Rg([],Lg(p),!1))}var y,v=Ug(t,e-a,n,i,!u);(s.push.apply(s,Rg([],Lg(v),!1)),o)&&(d={x:t.x+e*Math.cos(i*(Math.PI/180)),y:t.y+e*Math.sin(i*(Math.PI/180))},y=i>n?Ug(d,a,i-180,i-360,u):Ug(d,a,i+180,i+360,u),s.push.apply(s,Rg([],Lg(y),!1)));return s},Ug=function(t,e,i,n,r){var o;i<n&&(o=Lg([n,i],2),i=o[0],n=o[1]);for(var s=[],a=r?-1:1,u=r?function(t){return t>n}:function(t){return t<i},l=r?i:n;u(l);l+=a){var h=l*(Math.PI/180),c=t.x+e*Math.cos(h),f=t.y+e*Math.sin(h);s.push({x:c,y:f})}var p=(r?n:i)*(Math.PI/180),d=t.x+e*Math.cos(p),y=t.y+e*Math.sin(p);return s.push({x:d,y:y}),s},Yg=function(t,e,i,n,r,o){var s=Lg(t.start<t.end?[t.start,t.end]:[t.end,t.start],2),a=s[0],u=s[1],l=Math.max(a,Math.min(u,n)),h=t.start<t.end?i-e:e-i,c=t.start<t.end?e+(l-t.start)/(t.end-t.start)*h:e-(l-t.start)/(t.end-t.start)*h,f=c*(Math.PI/180);return{x:r.x+o*Math.cos(f),y:r.y+o*Math.sin(f),angle:Math.round(c)}},Gg=function(){return(Gg=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},jg=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wg=function(t,e){return e?t.x:t.y},Xg=function(t,e,i,n,r,o){for(var s=e.length,a=Math.sign(n),u=[],l=e.reduce((function(t,e){return t+e})),h=1;h<=s-1;h+=1)u.push(Wg(r,o)*e.slice(0,h).reduce((function(t,e){return t+e}),0)/l);var c=u.map((function(t){return 0})),f=u[i-1]+n,p=function(e){var n=t.filter((function(t){return function(t,e,i,n){return 1===e&&n===(i?t.columnIndex:t.rowIndex)||-1===e&&n===(i?t.columnIndex+t.columnSpan:t.rowIndex+t.rowSpan)}(t,a,o,e)})).reduce((function(t,e){return Math.max(t,Wg(e.panel.getMinimumSize()||{x:0,y:0},o))}),20),s=u[e-1];return 1===a&&f>Wg(r,o)-n||-1===a&&f<0+n?(c.fill(0),"break"):e!==i&&(1===a?s>f:s<f)?"break":(c[e-1]=f-s,void(f+=n*a))};for(h=i;h>0&&h<s&&"break"!==p(h);h+=a);var d=c.map((function(t,e){return u[e]+t})),y=d.map((function(t,e){return(t-(e>0?d[e-1]:0))/Wg(r,o)}));return y.push(1-y.reduce((function(t,e){return t+e}),0)),y},Hg=function(){function t(t,e,i,n,o){var s=this;this.coordsRelative="relative",this.coordsClient="client",this.Hi=!1,this.bI=new Array,this.D=new r.a,this.CB=[],this.Iy=[],this._B=void 0,this.TB=!0,this.kB=!0,this.OB=!0,this.Ey=!1,this.FB=!0,this.IB=function(){s.FB=!0,s.fn.Sn()},this.jB=[],this.onInViewChange=function(t){return s.D.on("inViewChange",t)},this.offInViewChange=function(t){return s.D.off(t,"inViewChange")},this.DB=function(t){for(var e=0;e<s.bI.length;e+=1)if(s.bI[e].panel===t){s.bI.splice(e,1),s.TB=!0,s.fn.Sn();break}},this.BB=function(t){var e=s.CB.indexOf(t);e>=0&&s.CB.splice(e,1)},this.Ny=function(t){var e=s.Iy.indexOf(t);e>=0&&s.Iy.splice(e,1)},this.EB=function(t,e,i,n,r){if(s.PB(e,i,n,r)){var o={panel:t,columnIndex:e,rowIndex:i,columnSpan:n,rowSpan:r};return s.bI.push(o),s.LB(o),s.TB=!0,t}throw new Wt("Out of dashboard range.")},this.zB=e.numberOfRows,this.VB=e.numberOfColumns,this.Yd=t,this.NB=e,this.RB=n;var a=this.VB*this.zB;this.GB={x:new Gv(new Array(this.VB).fill(1)),y:new Gv(new Array(this.zB).fill(1))},this.$i=i.$i,this.UB=this.$i.dashboardSplitterStyle,this.fe=!1!==(null==e?void 0:e.animationsEnabled),this.WB=Yv(i,a),this.YB=i.sF("dashboard splitters",500001),this.Bw=function(){return s.WB.oF()},this.Xy=this.WB.uF(),this.rn=i.rn.en(this,{XB:{}}),this.rn.XB.gn(this.$i.effectsDashboardSplitters);var u=i.oi();this.uiScale=wt.d2({scaleXYConstructor:Cn}).Li(0,100).zi(0,100).tt(u),this.GA=wt.d2({scaleXYConstructor:Cn}).Li(0,this.uiScale.x.getCellSize()).zi(0,this.uiScale.y.getCellSize()).tt(u),this.HB=i.ZB.bind(i),this.QB=i.KB.bind(i),this.JB=i.qB.bind(i),this.$B=i.tE.bind(i),this.ou=i.ou.bind(i),this.uu=i.uu.bind(i),this.engine=i.Gy,this.fn=i.Uy,i._u((function(){return s.IB()})),i.Sn();var l=i.Ou((function(t){s.Ey=t,s.D.emit("inViewChange",s,t)}));this.Jy=i.Fu.bind(i,l),this.iE(),this.setAnimationsEnabled(this.fe);var h,c={on:(h=this.D).on.bind(h,"resize"),off:h.off.bind(h)};this.createChartXY=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new ly(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,e,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createSpiderChart=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Nv(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,e,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPolarChart=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Yy(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,e,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPieChart=function(t){var e=Zg(t,s.NB,s.fe),i=e&&e.type?e.type:Nh;return s.EB(new i(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createGaugeChart=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Vg(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createFunnelChart=function(t){var e=Zg(t,s.NB,s.fe),i=e&&e.type?e.type:nv;return s.EB(new i(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPyramidChart=function(t){var e=Zg(t,s.NB,s.fe),i=t&&t.type?t.type:xv;return s.EB(new i(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createUIPanel=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Nl(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createLegendBoxPanel=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Kc(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createZoomBandChart=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new Sy(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,e,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createMapChart=function(t){var e=Zg(t,s.NB,s.fe);return s.EB(new uf(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,e,c),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createChart3D=function(t){var e=Zg(t,s.NB,s.fe),i=new Hc(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e);return s.EB(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createDataGrid=function(t){var e=Zg(t,s.NB,s.fe),i=new dg(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c);return s.EB(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createBarChart=function(t){var e=Zg(t,s.NB,s.fe),i=new Dg(s.Yd,s.WB.hF(s.nE(t.columnIndex,t.rowIndex)),s.rE(e,s.GB),s.DB,o,c,e);return s.EB(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)}}return t.prototype.nE=function(t,e){return t+e*this.VB},t.prototype.rE=function(t,e){var i=this;return{d1:function(n){return new n.scale1DConstructor("x"===n.dimension?t.columnIndex:t.rowIndex,"x"===n.dimension?t.columnSpan:t.rowSpan,"x"===n.dimension?i.VB:i.zB,"x"===n.dimension?e.x:e.y)},d2:function(n){return(new n.scaleXYConstructor).ht({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:i.VB,y:i.zB},e)},d3:function(){return new At({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:i.VB,y:i.zB},e)}}},t.prototype.setWidth=function(t){return t instanceof Array||(t=[t,t]),this.HB(t[0]),this.QB(t[1]),this},t.prototype.setHeight=function(t){return t instanceof Array||(t=[t,t]),this.JB(t[0]),this.$B(t[1]),this},t.prototype.getWidth=function(){return this.ou()},t.prototype.getHeight=function(){return this.uu()},t.prototype.setBackgroundFillStyle=function(t){return this.engine.setBackgroundFillStyle(t),this.YB.Sn(),this},t.prototype.getBackgroundFillStyle=function(){return this.engine.getBackgroundFillStyle()},t.prototype.setBackgroundStrokeStyle=function(t){return this.engine.setBackgroundStrokeStyle(t),this.YB.Sn(),this},t.prototype.getBackgroundStrokeStyle=function(){return this.engine.getBackgroundStrokeStyle()},t.prototype.getTheme=function(){return this.$i},t.prototype.setSplitterStyle=function(t){var e=this.UB;return this.UB="function"==typeof t?t(this.UB):t,this.eE(e),this},t.prototype.getSplitterStyle=function(){return this.UB},t.prototype.setSplitterEffect=function(t){return this.rn.XB.gn(t),this.fn.Sn(),this},t.prototype.getSplitterEffect=function(){return this.rn.XB.xn()},t.prototype.setAnimationHighlight=function(t){var e=this;return this.OB=t,this.jB.forEach((function(i){return e.fn.an._n(i.line,t)})),this},t.prototype.getAnimationHighlight=function(){return this.OB},t.prototype.eE=function(t){var e,i;try{for(var n=jg(this.jB),r=n.next();!r.done;r=n.next())r.value.line.Ur(this.UB)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}this.iE()},t.prototype.setColumnWidth=function(t,e){var i=this.GB.x.C();return t>=0&&t<i.length&&(i[t]=e,this.GB.x.M(i)),this.IB(),this},t.prototype.getColumnWidth=function(t){var e=this.GB.x.C();if(t>=e.length)throw new Wt("Column index is out of dashboard range.");return e[t]},t.prototype.setRowHeight=function(t,e){var i=this.GB.y.C();return t>=0&&t<i.length&&(i[Math.abs(i.length-1-t)]=e,this.GB.y.M(i)),this.IB(),this},t.prototype.getRowHeight=function(t){var e=this.GB.y.C();if(t>=e.length)throw new Wt("Row index is out of dashboard range.");return e[Math.abs(e.length-1-t)]},t.prototype.getSizePixels=function(){return this.GA.getInnerIntervalPixels()},t.prototype.onResize=function(t){return this.D.on("resize",t)},t.prototype.offResize=function(t){return this.D.off(t,"resize")},t.prototype.oE=function(t,e,i){var n,r;if(i&&Math.abs(t.x)>0)this.sE(e,t.x);else{if(i||!(Math.abs(t.y)>0))return;this.uE(e,t.y)}try{for(var o=jg(this.bI),s=o.next();!s.done;s=o.next())s.value.panel.J()}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.IB()},t.prototype.uE=function(t,e){var i=Xg(this.bI,this.GB.y.C(),t,e,this.GA.oi(),!1);this.GB.y.M(i),this.IB()},t.prototype.sE=function(t,e){var i=Xg(this.bI,this.GB.x.C(),t,e,this.GA.oi(),!0);this.GB.x.M(i),this.IB()},t.prototype.hE=function(){var t=this;this.jB.forEach((function(t){return t.line.dispose()})),this.jB.length=0;for(var e=function(e){for(var n=function(n){if(void 0!==i.bI.find((function(t){return _i(n,t.rowIndex,t.rowIndex+t.rowSpan-1)&&(e===t.columnIndex||e===t.columnIndex+t.columnSpan)}))){var r=Gn(new jn.Drag((function(){t.aE(e)}),(function(i,n,r,o,s){t.oE(o,e,!0),Ie(s)}),(function(){t.fE(e)}))),o=i.YB.Wr(i.GA).Ur(i.UB).setMouseEnterEventHandler((function(){t.aE(e)})).setMouseLeaveEventHandler((function(){t.fE(e)})).setMouseDragEventHandler((function(i,n,r,o,s){t.oE(s,e,!0),Ie(n)})).setTouchStartEventHandler(r.onTouchStart).setTouchMoveEventHandler(r.onTouchMove).setTouchEndEventHandler(r.onTouchEnd);i.fn.an.hn(o,(function(t){return o.cn(t)}),{animationEnabled:i.OB}),i.jB.push({row:n,column:e,line:o,alignment:"vertical"})}},r=0;r<=i.zB-1;r+=1)n(r)},i=this,n=1;n<=this.VB-1;n+=1)e(n);for(var r=function(e){for(var i=function(i){if(void 0!==o.bI.find((function(t){return _i(i,t.columnIndex,t.columnIndex+t.columnSpan-1)&&(e===t.rowIndex||e===t.rowIndex+t.rowSpan)}))){var n=Gn(new jn.Drag((function(){t.cE(e)}),(function(i,n,r,o,s){t.oE(o,e,!1),Ie(s)}),(function(){t.lE(e)}))),r=o.YB.Wr(o.GA).Ur(o.UB).setMouseEnterEventHandler((function(){t.cE(e)})).setMouseLeaveEventHandler((function(){t.lE(e)})).setMouseDragEventHandler((function(i,n,r,o,s){t.oE(s,e,!1),Ie(n)})).setTouchStartEventHandler(n.onTouchStart).setTouchMoveEventHandler(n.onTouchMove).setTouchEndEventHandler(n.onTouchEnd);o.fn.an.hn(r,(function(t){return r.cn(t)}),{animationEnabled:o.OB}),o.jB.push({row:e,column:i,line:r,alignment:"horizontal"})}},n=0;n<=o.VB-1;n+=1)i(n)},o=this,s=1;s<=this.zB-1;s+=1)r(s);this.rn.XB.dn(this.jB.map((function(t){return t.line})))},t.prototype.vE=function(){var t=this.GA.oi(),e=this.GB.x.C(),i=e.reduce((function(t,e){return t+e})),n=this.GB.y.C(),r=n.reduce((function(t,e){return t+e}));this.jB.forEach((function(o){if("vertical"===o.alignment){var s=y(t.x*e.slice(0,o.column).reduce((function(t,e){return t+e}),0)/i,t.y*n.slice(0,o.row).reduce((function(t,e){return t+e}),0)/r),a=y(s.x,t.y*n.slice(0,o.row+1).reduce((function(t,e){return t+e}),0)/r);o.line.Xr(s).Yr(a)}else s=y(t.x*e.slice(0,o.column).reduce((function(t,e){return t+e}),0)/i,t.y*n.slice(0,o.row).reduce((function(t,e){return t+e}),0)/r),a=y(t.x*e.slice(0,o.column+1).reduce((function(t,e){return t+e}),0)/i,s.y),o.line.Xr(s).Yr(a)}))},t.prototype.aE=function(t){var e=this;this.jB.forEach((function(i){"vertical"===i.alignment&&i.column===t&&(e.fn.an.Cn(i.line,1),e.YB.dE(i.line))})),this._B=this.engine.setMouseStyle(Kn.ResizeColumn),this.fn.Sn()},t.prototype.cE=function(t){var e=this;this.jB.forEach((function(i){"horizontal"===i.alignment&&i.row===t&&(e.fn.an.Cn(i.line,1),e.YB.dE(i.line))})),this._B=this.engine.setMouseStyle(Kn.ResizeRow),this.fn.Sn()},t.prototype.fE=function(t){var e=this;this.jB.forEach((function(i){"vertical"===i.alignment&&i.column===t&&e.fn.an.Cn(i.line,0)})),this.engine.restoreMouseStyle(this._B),this.fn.Sn()},t.prototype.lE=function(t){var e=this;this.jB.forEach((function(i){"horizontal"===i.alignment&&i.row===t&&e.fn.an.Cn(i.line,0)})),this.engine.restoreMouseStyle(this._B),this.fn.Sn()},t.prototype.setAnimationsEnabled=function(t){return this.fe=t,this.getCells().filter((function(t){return t.panel instanceof Gl})).forEach((function(e){return e.panel.setAnimationsEnabled(t)})),this.setAnimationHighlight(this.fe),this},t.prototype.getAnimationsEnabled=function(){return this.fe},t.prototype.getCells=function(){return this.bI.slice()},t.prototype.dispose=function(){return this.Hi||(this.Jy&&this.Jy(),this.bI.slice().forEach((function(t){return t.panel.dispose()})),this.CB.slice().forEach((function(t){return t.dispose()})),this.Iy.slice().forEach((function(t){return t.dispose()})),this.Hi=!0,this.RB(),this.D.emit("dispose",this)),this},t.prototype.isDisposed=function(){return this.Hi},t.prototype.onDispose=function(t){return this.D.on("dispose",t)},t.prototype.offDispose=function(t){return this.D.off(t,"dispose")},t.prototype.getIsInView=function(){return this.Ey},t.prototype.saveToFile=function(t,e,i){return Il(this.engine,t,e,i),this},t.prototype.AE=function(t){var e,i;if(this.FB){var n=this.fn.vt.oi(),r=n.x,o=n.y;this.uiScale.tt(r,o),this.GA.tt(r,o);var s=this.uiScale.getInnerIntervalPixels();this.GA.Li(0,s.x).zi(0,s.y),this.D.emit("resize",this,s.x,s.y,r,o),this.kB=!0}this.TB&&(this.hE(),this.TB=!1,this.kB=!0),this.kB&&(this.vE(),this.kB=!1);try{for(var a=jg(this.bI),u=a.next();!u.done;u=a.next())u.value.panel.Pr(t)}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}return this.CB.forEach((function(t){return t.En()})),this.CB.forEach((function(t){return t.Pr()})),this.Iy.forEach((function(t){return t.En()})),this.Iy.forEach((function(t){return t.Pr()})),this.FB=!1,this},t.prototype.K=function(){var t,e;try{for(var i=jg(this.bI),n=i.next();!n.done;n=i.next())n.value.panel.K()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.GA.x.K(),this.GA.y.K(),this.uiScale.x.K(),this.uiScale.y.K(),this},t.prototype.J=function(){var t,e;try{for(var i=jg(this.bI),n=i.next();!n.done;n=i.next())n.value.panel.J()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.GA.x.J(),this.GA.y.J(),this.uiScale.x.J(),this.uiScale.y.J(),this},t.prototype.translateCoordinate=function(t,e,i){return zl(t,e,i,this.GA,this.fn)},t.prototype.addUIElement=function(t,e){void 0===t&&(t=au),void 0===e&&(e=this.uiScale),e=Bl(e,this.GA);var i=Ol(t,this.Bw(),this.uiScale,e,this.BB,this.$i);return this.CB.push(i),i},t.prototype.addLegendBox=function(t,e){void 0===t&&(t=Tu),void 0===e&&(e=this.uiScale),e=Bl(e,this.GA);var i=Ol(t,this.Xy,this.uiScale,e,this.Ny,this.$i);return i.setDraggingMode(Zt.notDraggable),this.Iy.push(i),i},t.prototype.getLegendBoxes=function(){return this.Iy},t.prototype.PB=function(t,e,i,n){return e>=0&&t>=0&&e+n<=this.zB&&t+i<=this.VB},t.prototype.LB=function(t){var e=this.UB,i=e===gt?0:e.getThickness()/2,n={left:t.columnIndex>0?i:0,top:t.rowIndex<this.zB-1?i:0,right:t.columnIndex<this.VB-1?i:0,bottom:t.rowIndex>0?i:0};t.panel.Po(n)},t.prototype.iE=function(){var t,e;this.uiScale.x.ti([0,0]),this.uiScale.y.ti([0,0]),this.GA.x.ti([0,0]),this.GA.y.ti([0,0]);try{for(var i=jg(this.bI),n=i.next();!n.done;n=i.next()){var r=n.value;this.LB(r)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.fn.Sn()},t}(),Zg=function(t,e,i){var n,r,o=Gg(Gg({},t),{columnSpan:t.columnSpan||1,rowSpan:t.rowSpan||1,animationsEnabled:void 0!==t.animationsEnabled?t.animationsEnabled:i});return o.rowIndex=(n=o.rowIndex,r=o.rowSpan,e.numberOfRows-(n+r)),o},Qg={XY:Ld,Spider:dh,BarChart:yh,Map:xh,Polar:mh,D3:Wc},qg={Angola:{name:"Angola",ISO_A3:"AGO"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Gabon:{name:"Gabon",ISO_A3:"GAB"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Namibia:{name:"Namibia",ISO_A3:"NAM"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Oman:{name:"Oman",ISO_A3:"OMN"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},Somalia:{name:"Somalia",ISO_A3:"SOM"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"}},Kg={Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Armenia:{name:"Armenia",ISO_A3:"ARM"},Australia:{name:"Australia",ISO_A3:"AUS"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},China:{name:"China",ISO_A3:"CHN"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},India:{name:"India",ISO_A3:"IND"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Israel:{name:"Israel",ISO_A3:"ISR"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Nepal:{name:"Nepal",ISO_A3:"NPL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Philippines:{name:"Philippines",ISO_A3:"PHL"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Palestine:{name:"Palestine",ISO_A3:"PSE"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Russia:{name:"Russia",ISO_A3:"RUS"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Singapore:{name:"Singapore",ISO_A3:"SGP"},Syria:{name:"Syria",ISO_A3:"SYR"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Yemen:{name:"Yemen",ISO_A3:"YEM"}},Jg={"New South Wales":{name:"New South Wales"},Victoria:{name:"Victoria"},Queensland:{name:"Queensland"},"South Australia":{name:"South Australia"},"Western Australia":{name:"Western Australia"},Tasmania:{name:"Tasmania"},"Northern Territory":{name:"Northern Territory"},"Australian Capital Territory":{name:"Australian Capital Territory"},"Other Territories":{name:"Other Territories"}},$g={"British Columbia":{name:"British Columbia"},Quebec:{name:"Quebec"},Nunavut:{name:"Nunavut"},"Prince Edward Island":{name:"Prince Edward Island"},Saskatchewan:{name:"Saskatchewan"},Yukon:{name:"Yukon"},Manitoba:{name:"Manitoba"},Ontario:{name:"Ontario"},"New Brunswick":{name:"New Brunswick"},"Northwest Territories":{name:"Northwest Territories"},Alberta:{name:"Alberta"},"Newfoundland and Labrador":{name:"Newfoundland and Labrador"},"Nova Scotia":{name:"Nova Scotia"}},tm={Albania:{name:"Albania",ISO_A3:"ALB"},Austria:{name:"Austria",ISO_A3:"AUT"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Denmark:{name:"Denmark",ISO_A3:"DNK"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Finland:{name:"Finland",ISO_A3:"FIN"},France:{name:"France",ISO_A3:"FRA"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Greece:{name:"Greece",ISO_A3:"GRC"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Italy:{name:"Italy",ISO_A3:"ITA"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Malta:{name:"Malta",ISO_A3:"MLT"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Poland:{name:"Poland",ISO_A3:"POL"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Romania:{name:"Romania",ISO_A3:"ROU"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Russia:{name:"Russia",ISO_A3:"RUS"},Turkey:{name:"Turkey",ISO_A3:"TUR"}},em={Aruba:{name:"Aruba",ISO_A3:"ABW"},Afghanistan:{name:"Afghanistan",ISO_A3:"AFG"},Angola:{name:"Angola",ISO_A3:"AGO"},Anguilla:{name:"Anguilla",ISO_A3:"AIA"},Albania:{name:"Albania",ISO_A3:"ALB"},Aland:{name:"Aland",ISO_A3:"ALA"},Andorra:{name:"Andorra",ISO_A3:"AND"},"United Arab Emirates":{name:"United Arab Emirates",ISO_A3:"ARE"},Argentina:{name:"Argentina",ISO_A3:"ARG"},Armenia:{name:"Armenia",ISO_A3:"ARM"},"American Samoa":{name:"American Samoa",ISO_A3:"ASM"},Antarctica:{name:"Antarctica",ISO_A3:"ATA"},"French Southern and Antarctic Lands":{name:"French Southern and Antarctic Lands",ISO_A3:"ATF"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},Australia:{name:"Australia",ISO_A3:"AUS"},Austria:{name:"Austria",ISO_A3:"AUT"},Azerbaijan:{name:"Azerbaijan",ISO_A3:"AZE"},Burundi:{name:"Burundi",ISO_A3:"BDI"},Belgium:{name:"Belgium",ISO_A3:"BEL"},Benin:{name:"Benin",ISO_A3:"BEN"},"Burkina Faso":{name:"Burkina Faso",ISO_A3:"BFA"},Bangladesh:{name:"Bangladesh",ISO_A3:"BGD"},Bulgaria:{name:"Bulgaria",ISO_A3:"BGR"},Bahrain:{name:"Bahrain",ISO_A3:"BHR"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},"Bosnia and Herzegovina":{name:"Bosnia and Herzegovina",ISO_A3:"BIH"},Belarus:{name:"Belarus",ISO_A3:"BLR"},Belize:{name:"Belize",ISO_A3:"BLZ"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Brunei:{name:"Brunei",ISO_A3:"BRN"},Bhutan:{name:"Bhutan",ISO_A3:"BTN"},Botswana:{name:"Botswana",ISO_A3:"BWA"},"Central African Republic":{name:"Central African Republic",ISO_A3:"CAF"},Canada:{name:"Canada",ISO_A3:"CAN"},Switzerland:{name:"Switzerland",ISO_A3:"CHE"},Chile:{name:"Chile",ISO_A3:"CHL"},China:{name:"China",ISO_A3:"CHN"},"Ivory Coast":{name:"Ivory Coast",ISO_A3:"CIV"},Cameroon:{name:"Cameroon",ISO_A3:"CMR"},"Cyprus No Mans Area":{name:"Cyprus No Mans Area",ISO_A3:"-99"},"Democratic Republic of the Congo":{name:"Democratic Republic of the Congo",ISO_A3:"COD"},"Republic of Congo":{name:"Republic of Congo",ISO_A3:"COG"},"Cook Islands":{name:"Cook Islands",ISO_A3:"COK"},Colombia:{name:"Colombia",ISO_A3:"COL"},Comoros:{name:"Comoros",ISO_A3:"COM"},"Cape Verde":{name:"Cape Verde",ISO_A3:"CPV"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Curaçao":{name:"Curaçao",ISO_A3:"CUW"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},"Northern Cyprus":{name:"Northern Cyprus",ISO_A3:"-99"},Cyprus:{name:"Cyprus",ISO_A3:"CYP"},"Czech Republic":{name:"Czech Republic",ISO_A3:"CZE"},Germany:{name:"Germany",ISO_A3:"DEU"},Djibouti:{name:"Djibouti",ISO_A3:"DJI"},Dominica:{name:"Dominica",ISO_A3:"DMA"},Denmark:{name:"Denmark",ISO_A3:"DNK"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Algeria:{name:"Algeria",ISO_A3:"DZA"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},Egypt:{name:"Egypt",ISO_A3:"EGY"},Eritrea:{name:"Eritrea",ISO_A3:"ERI"},"Dhekelia Sovereign Base Area":{name:"Dhekelia Sovereign Base Area",ISO_A3:"-99"},Spain:{name:"Spain",ISO_A3:"ESP"},Estonia:{name:"Estonia",ISO_A3:"EST"},Ethiopia:{name:"Ethiopia",ISO_A3:"ETH"},Finland:{name:"Finland",ISO_A3:"FIN"},Fiji:{name:"Fiji",ISO_A3:"FJI"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},France:{name:"France",ISO_A3:"FRA"},"Faroe Islands":{name:"Faroe Islands",ISO_A3:"FRO"},"Federated States of Micronesia":{name:"Federated States of Micronesia",ISO_A3:"FSM"},Gabon:{name:"Gabon",ISO_A3:"GAB"},"United Kingdom":{name:"United Kingdom",ISO_A3:"GBR"},Georgia:{name:"Georgia",ISO_A3:"GEO"},Guernsey:{name:"Guernsey",ISO_A3:"GGY"},Ghana:{name:"Ghana",ISO_A3:"GHA"},Guinea:{name:"Guinea",ISO_A3:"GIN"},Gambia:{name:"Gambia",ISO_A3:"GMB"},"Guinea Bissau":{name:"Guinea Bissau",ISO_A3:"GNB"},"Equatorial Guinea":{name:"Equatorial Guinea",ISO_A3:"GNQ"},Greece:{name:"Greece",ISO_A3:"GRC"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},Guam:{name:"Guam",ISO_A3:"GUM"},Guyana:{name:"Guyana",ISO_A3:"GUY"},"Hong Kong S.A.R.":{name:"Hong Kong S.A.R.",ISO_A3:"HKG"},"Heard Island and McDonald Islands":{name:"Heard Island and McDonald Islands",ISO_A3:"HMD"},Honduras:{name:"Honduras",ISO_A3:"HND"},Croatia:{name:"Croatia",ISO_A3:"HRV"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Hungary:{name:"Hungary",ISO_A3:"HUN"},Indonesia:{name:"Indonesia",ISO_A3:"IDN"},"Isle of Man":{name:"Isle of Man",ISO_A3:"IMN"},India:{name:"India",ISO_A3:"IND"},"Indian Ocean Territories":{name:"Indian Ocean Territories",ISO_A3:"-99"},"British Indian Ocean Territory":{name:"British Indian Ocean Territory",ISO_A3:"IOT"},Ireland:{name:"Ireland",ISO_A3:"IRL"},Iran:{name:"Iran",ISO_A3:"IRN"},Iraq:{name:"Iraq",ISO_A3:"IRQ"},Iceland:{name:"Iceland",ISO_A3:"ISL"},Israel:{name:"Israel",ISO_A3:"ISR"},Italy:{name:"Italy",ISO_A3:"ITA"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},Jersey:{name:"Jersey",ISO_A3:"JEY"},Jordan:{name:"Jordan",ISO_A3:"JOR"},Japan:{name:"Japan",ISO_A3:"JPN"},"Baykonur Cosmodrome":{name:"Baykonur Cosmodrome",ISO_A3:"-99"},"Siachen Glacier":{name:"Siachen Glacier",ISO_A3:"-99"},Kazakhstan:{name:"Kazakhstan",ISO_A3:"KAZ"},Kenya:{name:"Kenya",ISO_A3:"KEN"},Kyrgyzstan:{name:"Kyrgyzstan",ISO_A3:"KGZ"},Cambodia:{name:"Cambodia",ISO_A3:"KHM"},Kiribati:{name:"Kiribati",ISO_A3:"KIR"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"South Korea":{name:"South Korea",ISO_A3:"KOR"},Kosovo:{name:"Kosovo",ISO_A3:"-99"},Kuwait:{name:"Kuwait",ISO_A3:"KWT"},Laos:{name:"Laos",ISO_A3:"LAO"},Lebanon:{name:"Lebanon",ISO_A3:"LBN"},Liberia:{name:"Liberia",ISO_A3:"LBR"},Libya:{name:"Libya",ISO_A3:"LBY"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},Liechtenstein:{name:"Liechtenstein",ISO_A3:"LIE"},"Sri Lanka":{name:"Sri Lanka",ISO_A3:"LKA"},Lesotho:{name:"Lesotho",ISO_A3:"LSO"},Lithuania:{name:"Lithuania",ISO_A3:"LTU"},Luxembourg:{name:"Luxembourg",ISO_A3:"LUX"},Latvia:{name:"Latvia",ISO_A3:"LVA"},"Macao S.A.R":{name:"Macao S.A.R",ISO_A3:"MAC"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Morocco:{name:"Morocco",ISO_A3:"MAR"},Moldova:{name:"Moldova",ISO_A3:"MDA"},Madagascar:{name:"Madagascar",ISO_A3:"MDG"},Maldives:{name:"Maldives",ISO_A3:"MDV"},Mexico:{name:"Mexico",ISO_A3:"MEX"},"Marshall Islands":{name:"Marshall Islands",ISO_A3:"MHL"},Macedonia:{name:"Macedonia",ISO_A3:"MKD"},Mali:{name:"Mali",ISO_A3:"MLI"},Malta:{name:"Malta",ISO_A3:"MLT"},Myanmar:{name:"Myanmar",ISO_A3:"MMR"},Montenegro:{name:"Montenegro",ISO_A3:"MNE"},Mongolia:{name:"Mongolia",ISO_A3:"MNG"},"Northern Mariana Islands":{name:"Northern Mariana Islands",ISO_A3:"MNP"},Mozambique:{name:"Mozambique",ISO_A3:"MOZ"},Mauritania:{name:"Mauritania",ISO_A3:"MRT"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},Mauritius:{name:"Mauritius",ISO_A3:"MUS"},Malawi:{name:"Malawi",ISO_A3:"MWI"},Malaysia:{name:"Malaysia",ISO_A3:"MYS"},Namibia:{name:"Namibia",ISO_A3:"NAM"},"New Caledonia":{name:"New Caledonia",ISO_A3:"NCL"},Niger:{name:"Niger",ISO_A3:"NER"},Nigeria:{name:"Nigeria",ISO_A3:"NGA"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Niue:{name:"Niue",ISO_A3:"NIU"},Netherlands:{name:"Netherlands",ISO_A3:"NLD"},Norway:{name:"Norway",ISO_A3:"NOR"},Nepal:{name:"Nepal",ISO_A3:"NPL"},"New Zealand":{name:"New Zealand",ISO_A3:"NZL"},Oman:{name:"Oman",ISO_A3:"OMN"},Pakistan:{name:"Pakistan",ISO_A3:"PAK"},Panama:{name:"Panama",ISO_A3:"PAN"},"Pitcairn Islands":{name:"Pitcairn Islands",ISO_A3:"PCN"},Peru:{name:"Peru",ISO_A3:"PER"},"Spratly Islands":{name:"Spratly Islands",ISO_A3:"-99"},Philippines:{name:"Philippines",ISO_A3:"PHL"},Palau:{name:"Palau",ISO_A3:"PLW"},"Papua New Guinea":{name:"Papua New Guinea",ISO_A3:"PNG"},Poland:{name:"Poland",ISO_A3:"POL"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"North Korea":{name:"North Korea",ISO_A3:"PRK"},Portugal:{name:"Portugal",ISO_A3:"PRT"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Palestine:{name:"Palestine",ISO_A3:"PSE"},"French Polynesia":{name:"French Polynesia",ISO_A3:"PYF"},Qatar:{name:"Qatar",ISO_A3:"QAT"},Romania:{name:"Romania",ISO_A3:"ROU"},Russia:{name:"Russia",ISO_A3:"RUS"},Rwanda:{name:"Rwanda",ISO_A3:"RWA"},"Western Sahara":{name:"Western Sahara",ISO_A3:"ESH"},"Saudi Arabia":{name:"Saudi Arabia",ISO_A3:"SAU"},Sudan:{name:"Sudan",ISO_A3:"SDN"},"South Sudan":{name:"South Sudan",ISO_A3:"SSD"},Senegal:{name:"Senegal",ISO_A3:"SEN"},Singapore:{name:"Singapore",ISO_A3:"SGP"},"South Georgia and South Sandwich Islands":{name:"South Georgia and South Sandwich Islands",ISO_A3:"SGS"},"Saint Helena":{name:"Saint Helena",ISO_A3:"SHN"},"Solomon Islands":{name:"Solomon Islands",ISO_A3:"SLB"},"Sierra Leone":{name:"Sierra Leone",ISO_A3:"SLE"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Somalia:{name:"Somalia",ISO_A3:"SOM"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Republic of Serbia":{name:"Republic of Serbia",ISO_A3:"SRB"},"Sao Tome and Principe":{name:"Sao Tome and Principe",ISO_A3:"STP"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Slovakia:{name:"Slovakia",ISO_A3:"SVK"},Slovenia:{name:"Slovenia",ISO_A3:"SVN"},Sweden:{name:"Sweden",ISO_A3:"SWE"},Swaziland:{name:"Swaziland",ISO_A3:"SWZ"},Seychelles:{name:"Seychelles",ISO_A3:"SYC"},Syria:{name:"Syria",ISO_A3:"SYR"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},Chad:{name:"Chad",ISO_A3:"TCD"},Togo:{name:"Togo",ISO_A3:"TGO"},Thailand:{name:"Thailand",ISO_A3:"THA"},Tajikistan:{name:"Tajikistan",ISO_A3:"TJK"},Turkmenistan:{name:"Turkmenistan",ISO_A3:"TKM"},"East Timor":{name:"East Timor",ISO_A3:"TLS"},Tonga:{name:"Tonga",ISO_A3:"TON"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},Tunisia:{name:"Tunisia",ISO_A3:"TUN"},Turkey:{name:"Turkey",ISO_A3:"TUR"},Tuvalu:{name:"Tuvalu",ISO_A3:"TUV"},Taiwan:{name:"Taiwan",ISO_A3:"TWN"},"United Republic of Tanzania":{name:"United Republic of Tanzania",ISO_A3:"TZA"},Uganda:{name:"Uganda",ISO_A3:"UGA"},Ukraine:{name:"Ukraine",ISO_A3:"UKR"},"United States Minor Outlying Islands":{name:"United States Minor Outlying Islands",ISO_A3:"UMI"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"US Naval Base Guantanamo Bay":{name:"US Naval Base Guantanamo Bay",ISO_A3:"-99"},Uzbekistan:{name:"Uzbekistan",ISO_A3:"UZB"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"},Vietnam:{name:"Vietnam",ISO_A3:"VNM"},Vanuatu:{name:"Vanuatu",ISO_A3:"VUT"},"Wallis and Futuna":{name:"Wallis and Futuna",ISO_A3:"WLF"},"Akrotiri Sovereign Base Area":{name:"Akrotiri Sovereign Base Area",ISO_A3:"-99"},Samoa:{name:"Samoa",ISO_A3:"WSM"},Yemen:{name:"Yemen",ISO_A3:"YEM"},"South Africa":{name:"South Africa",ISO_A3:"ZAF"},Zambia:{name:"Zambia",ISO_A3:"ZMB"},Zimbabwe:{name:"Zimbabwe",ISO_A3:"ZWE"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"}},im={Alabama:{name:"Alabama"},Alaska:{name:"Alaska"},Arizona:{name:"Arizona"},Arkansas:{name:"Arkansas"},California:{name:"California"},Colorado:{name:"Colorado"},Connecticut:{name:"Connecticut"},Delaware:{name:"Delaware"},"District of Columbia":{name:"District of Columbia"},Florida:{name:"Florida"},Georgia:{name:"Georgia"},Hawaii:{name:"Hawaii"},Idaho:{name:"Idaho"},Illinois:{name:"Illinois"},Indiana:{name:"Indiana"},Iowa:{name:"Iowa"},Kansas:{name:"Kansas"},Kentucky:{name:"Kentucky"},Louisiana:{name:"Louisiana"},Maine:{name:"Maine"},Maryland:{name:"Maryland"},Massachusetts:{name:"Massachusetts"},Michigan:{name:"Michigan"},Minnesota:{name:"Minnesota"},Mississippi:{name:"Mississippi"},Missouri:{name:"Missouri"},Montana:{name:"Montana"},Nebraska:{name:"Nebraska"},Nevada:{name:"Nevada"},"New Hampshire":{name:"New Hampshire"},"New Jersey":{name:"New Jersey"},"New Mexico":{name:"New Mexico"},"New York":{name:"New York"},"North Carolina":{name:"North Carolina"},"North Dakota":{name:"North Dakota"},Ohio:{name:"Ohio"},Oklahoma:{name:"Oklahoma"},Oregon:{name:"Oregon"},Pennsylvania:{name:"Pennsylvania"},"Rhode Island":{name:"Rhode Island"},"South Carolina":{name:"South Carolina"},"South Dakota":{name:"South Dakota"},Tennessee:{name:"Tennessee"},Texas:{name:"Texas"},Utah:{name:"Utah"},Vermont:{name:"Vermont"},Virginia:{name:"Virginia"},Washington:{name:"Washington"},"West Virginia":{name:"West Virginia"},Wisconsin:{name:"Wisconsin"},Wyoming:{name:"Wyoming"}},nm={Anguilla:{name:"Anguilla",ISO_A3:"AIA"},"Antigua and Barbuda":{name:"Antigua and Barbuda",ISO_A3:"ATG"},"The Bahamas":{name:"The Bahamas",ISO_A3:"BHS"},Bermuda:{name:"Bermuda",ISO_A3:"BMU"},Barbados:{name:"Barbados",ISO_A3:"BRB"},Canada:{name:"Canada",ISO_A3:"CAN"},Cuba:{name:"Cuba",ISO_A3:"CUB"},"Cayman Islands":{name:"Cayman Islands",ISO_A3:"CYM"},Dominica:{name:"Dominica",ISO_A3:"DMA"},"Dominican Republic":{name:"Dominican Republic",ISO_A3:"DOM"},Grenada:{name:"Grenada",ISO_A3:"GRD"},Greenland:{name:"Greenland",ISO_A3:"GRL"},Haiti:{name:"Haiti",ISO_A3:"HTI"},Jamaica:{name:"Jamaica",ISO_A3:"JAM"},"Saint Kitts and Nevis":{name:"Saint Kitts and Nevis",ISO_A3:"KNA"},"Saint Lucia":{name:"Saint Lucia",ISO_A3:"LCA"},"Saint Martin":{name:"Saint Martin",ISO_A3:"MAF"},Mexico:{name:"Mexico",ISO_A3:"MEX"},Montserrat:{name:"Montserrat",ISO_A3:"MSR"},"Puerto Rico":{name:"Puerto Rico",ISO_A3:"PRI"},"Saint Pierre and Miquelon":{name:"Saint Pierre and Miquelon",ISO_A3:"SPM"},"Turks and Caicos Islands":{name:"Turks and Caicos Islands",ISO_A3:"TCA"},"Trinidad and Tobago":{name:"Trinidad and Tobago",ISO_A3:"TTO"},"United States of America":{name:"United States of America",ISO_A3:"USA"},"Saint Vincent and the Grenadines":{name:"Saint Vincent and the Grenadines",ISO_A3:"VCT"},"British Virgin Islands":{name:"British Virgin Islands",ISO_A3:"VGB"},"United States Virgin Islands":{name:"United States Virgin Islands",ISO_A3:"VIR"}},rm={Argentina:{name:"Argentina",ISO_A3:"ARG"},Bolivia:{name:"Bolivia",ISO_A3:"BOL"},Brazil:{name:"Brazil",ISO_A3:"BRA"},Chile:{name:"Chile",ISO_A3:"CHL"},Colombia:{name:"Colombia",ISO_A3:"COL"},"Costa Rica":{name:"Costa Rica",ISO_A3:"CRI"},Ecuador:{name:"Ecuador",ISO_A3:"ECU"},"Falkland Islands":{name:"Falkland Islands",ISO_A3:"FLK"},Guyana:{name:"Guyana",ISO_A3:"GUY"},Nicaragua:{name:"Nicaragua",ISO_A3:"NIC"},Panama:{name:"Panama",ISO_A3:"PAN"},Peru:{name:"Peru",ISO_A3:"PER"},Paraguay:{name:"Paraguay",ISO_A3:"PRY"},Suriname:{name:"Suriname",ISO_A3:"SUR"},Uruguay:{name:"Uruguay",ISO_A3:"URY"},Venezuela:{name:"Venezuela",ISO_A3:"VEN"},"French Guyana":{name:"French Guyana",ISO_A3:"GUF"},Guatemala:{name:"Guatemala",ISO_A3:"GTM"},"El Salvador":{name:"El Salvador",ISO_A3:"SLV"},Honduras:{name:"Honduras",ISO_A3:"HND"}},om={World:em,USA:im,NorthAmerica:nm,SouthAmerica:rm,Canada:$g,Europe:tm,Asia:Kg,Africa:qg,Australia:Jg},sm=function(){return(sm=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},am=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},um=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},lm=function(t,e){return Math.abs(t)+Math.abs(e)};function hm(t,e){var i,n=t.reduce(lm,0),r=(i=t,Math.max.apply(Math,um([],am(i.map((function(t){return t}))),!1))),o=function(t){return Math.min.apply(Math,um([],am(t.map((function(t){return t}))),!1))}(t);return Math.max(Math.pow(e,2)*r/Math.pow(n,2),Math.pow(n,2)/(Math.pow(e,2)*o))}var cm=function(t){var e=t.height,i=t.width;return e>i?{value:i,vertical:!1}:{value:e,vertical:!0}},fm=function(t){var e=t.data,i=t.dimensions,n=i.x,r=i.y,o=i.width,s=i.height,a=e.map((function(t){return t.value})).reduce(lm,0),u=e.map((function(t){return t.animatedValue})).reduce(lm,0),l=e.map((function(t){return t.animatedValue*s*o/u})),h=l.reduce((function(t,e){return t+e}),0),c=l.map((function(t){return t/h*100})),f=l.filter((function(t,e){return c[e]})),p={children:[],id:0,parentID:-1,name:"Main Rectangle",value:a,animatedValue:u,x:n,y:r,width:o,height:s,nodeIndex:-1,userNode:{name:"Main Rectangle",value:a}};if(1===e.length){var d=sm(sm({},e[0]),{x:i.x,y:i.y,width:i.width,height:i.height,userNode:sm(sm({},e[0].userNode),{value:e[0].value})});p.children.push(d)}else dm(f,cm(p).value,e,p);return p.children},pm=function(t,e,i,n,r){var o=t.reduce(lm,0)/e;t.forEach((function(t,e){var s=Math.abs(t)/o,a=r.x,u=r.y,l=r.children,h=n[l.length],c=sm(sm({},h),{x:a,y:u,width:i?o:s,height:i?s:o,userNode:sm(sm({},h.userNode),{value:h.value})});i?r.y-=s:r.x+=s,l.push(c)})),i?(r.x+=o,r.y+=e,r.width-=o):(r.x-=e,r.y-=o,r.height-=o)},dm=function(t,e,i,n){for(var r=[{children:t,width:e,row:[]}];r.length>0;){var o=r.pop();if(o){for(var s=o.children,a=o.width,u=o.row,l=0,h=um([],am(u),!1);l<s.length;){var c=um(um([],am(h),!1),[s[l]],!1),f=hm(h,a),p=hm(c,a);if(!(0===h.length||f>p)){pm(h,a,cm(n).vertical,i,n),r.push({children:s.slice(l),width:cm(n).value,row:[]});break}h.push(s[l]),l+=1}l===s.length&&pm(h,a,cm(n).vertical,i,n)}}},ym=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vm=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},gm=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},mm=function(t){function e(e,i,n,r,o,s,a){var u=t.call(this,e,i,n,i.nm("treeMapChart bg",0),r,i.fn.$i.treeMapChartBackgroundFillStyle||i.fn.$i.chartXYSeriesBackgroundFillStyle,i.fn.$i.treeMapChartBackgroundStrokeStyle||i.fn.$i.chartXYBackgroundStrokeStyle,i.fn.$i.treeMapChartTitleFont||i.fn.$i.chartXYTitleFont,i.fn.$i.treeMapChartTitleFillStyle||i.fn.$i.chartXYTitleFillStyle,a)||this;if(u.yE=new Map,u.mE=[],u.bE={},u.pE=b([]),u.Jm={speed:1},u.gE=Ai,u.SE=!0,u.xE="Go Back",u.wE=[],u.ME=u.$i.treeMapChartPathLabelFillStyle||u.$i.uiTextFillStyle,u.CE=u.$i.treeMapChartPathLabelFont||u.$i.uiTextFont,u._E=u.$i.treeMapChartLabelHeaderFillStyle||u.$i.uiTextFillStyle,u.TE=u.$i.treeMapChartLabelHeaderFont||u.$i.uiTextFont,u.kE=u.$i.treeMapChartLabelFillStyle||u.$i.uiTextFillStyle,u.OE=u.$i.treeMapChartLabelFont||u.$i.uiTextFont,u.Yi=!0,u.nx=!0,u.FE=!1,u.IE=u.$i.treeMapChartParentColor||R,u.jE=u.$i.treeMapChartNodeStrokeStyle||u.$i.uiBackgroundStrokeStyle,u.onNodeMouseEnter=function(t){return u.D.on("mouseEnter",t)},u.onNodeMouseLeave=function(t){return u.D.on("mouseLeave",t)},u.onNodeMouseClick=function(t){return u.D.on("mouseClick",t)},u.onNodeMouseDoubleClick=function(t){return u.D.on("mouseDoubleClick",t)},u.onNodeMouseDown=function(t){return u.D.on("mouseDown",t)},u.onNodeMouseUp=function(t){return u.D.on("mouseUp",t)},u.onNodeMouseMove=function(t){return u.D.on("mouseMove",t)},u.offNodeMouseEnter=function(t){return u.D.off(t,"mouseEnter")},u.offNodeMouseLeave=function(t){return u.D.off(t,"mouseLeave")},u.offNodeMouseClick=function(t){return u.D.off(t,"mouseClick")},u.offNodeMouseDoubleClick=function(t){return u.D.off(t,"mouseDoubleClick")},u.offNodeMouseDown=function(t){return u.D.off(t,"mouseDown")},u.offNodeMouseUp=function(t){return u.D.off(t,"mouseUp")},u.offNodeMouseMove=function(t){return u.D.off(t,"mouseMove")},u.offNodeMouseDragStart=function(t){return u.D.off(t,"mouseDragStart")},u.offNodeMouseDrag=function(t){return u.D.off(t,"mouseDrag")},u.offNodeMouseDragStop=function(t){return u.D.off(t,"mouseDragStop")},u.offNodeMouseWheel=function(t){return u.D.off(t,"mouseWheel")},u.ux=function(t,e,i,n,r){u.fn.Sn(),u.FE=!0},u.wt=function(t,e){var i=u.DE(e);i&&(u.kx=u.BE(i,t),u.nx&&u.fn.an.Cn(e,!0),u.SE&&u.engine.setMouseStyle(Kn.Point),u.D.emit("mouseEnter",u,t,u.kx),u.fn.Sn())},u.Mt=function(t,e){u.DE(e)&&(u.kx=void 0,u.nx&&u.fn.an.Cn(e,!1),u.engine.setMouseStyle(Kn.Default),u.D.emit("mouseLeave",u,t,u.kx),u.fn.Sn())},u.Ot=function(t,e){var i=u.DE(e);i&&(u.kx=u.BE(i,t),u.nx&&u.fn.an.Cn(e,!0),u.SE&&u.engine.setMouseStyle(Kn.Point),u.D.emit("mouseEnter",u,t,u.kx),u.fn.Sn())},u.Ct=function(t,e){var i=u.DE(e);if(i){if(u.SE){var n=(null==i?void 0:i.children.length)?i:i.parentID?u.bE[i.parentID]:void 0;n&&(u.pE.M([n]),u.kx=void 0,u.D.emit("viewChange",u.pE.C()),u.FE=!0),t&&Ie(t)}u.D.emit("mouseClick",u,t,u.BE(i,t)),u.fn.Sn()}},u._t=function(t,e){var i=u.DE(e);i&&u.D.emit("mouseDoubleClick",u,t,u.BE(i,t))},u.Tt=function(t,e){var i=u.DE(e);i&&u.D.emit("mouseDown",u,t,u.BE(i,t))},u.kt=function(t,e){var i=u.DE(e);i&&u.D.emit("mouseUp",u,t,u.BE(i,t))},u.It=function(t,e,i){var n=u.DE(i);n&&u.D.emit("mouseDragStart",u,t,e,u.BE(n,t))},u.Ft=function(t,e,i,n,r){var o=u.DE(r);o&&u.D.emit("mouseDrag",u,t,e,i,n,u.BE(o,t))},u.jt=function(t,e,i,n){var r=u.DE(n);r&&u.D.emit("mouseDragStop",u,t,e,i,u.BE(r,t))},u.Dt=function(t,e){var i=u.DE(e);i&&u.D.emit("mouseWheel",u,t,u.BE(i,t))},u.Bt=function(t,e){var i=u.DE(e);i&&(u.kx=u.BE(i,t),u.nx&&u.fn.an.Cn(e,!0),u.D.emit("touchStart",u,t,u.kx),u.fn.Sn(),Ie(t))},u.Et=function(t,e){var i=u.DE(e);i&&(u.kx=u.BE(i,t),u.nx&&u.fn.an.Cn(e,!0),u.D.emit("touchMove",u,t,u.kx),u.fn.Sn(),Ie(t))},u.Pt=function(t,e){var i=u.DE(e);if(i){if(u.kx=void 0,u.SE){var n=(null==i?void 0:i.children.length)?i:i.parentID?u.bE[i.parentID]:void 0;n&&(u.pE.M([n]),u.D.emit("viewChange",u.pE.C()),u.FE=!0),t&&Ie(t)}u.nx&&u.fn.an.Cn(e,!1),u.D.emit("touchEnd",u,t,u.kx),u.fn.Sn(),Ie(t)}},u.EE=function(t){var e=u.bE[u.wE[t].id]?[u.bE[u.wE[t].id]]:u.mE;u.pE.M(e),u.D.emit("viewChange",e),u.FE=!0,u.fn.Sn()},u.$i.treeMapChartNodeColors)u.PE=u.$i.treeMapChartNodeColors;else{var l=u.$i.pointSeriesFillStyle,h=function(t){return it(t)?t.getColor():R};u.PE="function"==typeof l?new Array(5).fill(0).map((function(t,e){return h(l(e))})):[h(l)]}u.fn.Rs(Nu.td),u.mb=i.zS("TreeMapChart plotting",0),u.pb=i.zS("TreeMap UI plotting",1),u.onResize(u.ux),u.pe.vo("TreeMap Chart");var c=i.gb(),f=ye(s?s.cursorBuilder:void 0,gh);return u.Sb=Kl(u,c,f.Rm(c,u.uiScale,u.uiScale,ue,u.$i),void 0,"show-pointed",xm,(function(){return 0})),u.LE=u.rn.JA(),u.im(o,u.uiScale),u.xx=u.mb.vp(u.GA).Br(new nt).Dr(u.jE),u.zE=u.fn.an.Uo(u,{animationEnabled:!1!==(null==s?void 0:s.animationsEnabled)}),u.VE=new qh((function(){return u.pb.zo(u.GA).setMouseInteractions(!1)})),u.NE=new qh((function(){return u.pb.zo(u.uiScale)})),u.xx.setMouseInteractions(u.Yi).setMouseEnterEventHandler((function(t,e,i){return u.wt(e,i)})).setMouseLeaveEventHandler((function(t,e,i){return u.Mt(e,i)})).setMouseClickEventHandler((function(t,e,i){return u.Ct(e,i)})).setMouseDoubleClickEventHandler((function(t,e,i){return u._t(e,i)})).setMouseDownEventHandler((function(t,e,i){return u.Tt(e,i)})).setMouseUpEventHandler((function(t,e,i){return u.kt(e,i)})).setMouseMoveEventHandler((function(t,e,i){return u.Ot(e,i)})).setMouseDragStartEventHandler((function(t,e,i,n){return u.It(e,i,n)})).setMouseDragEventHandler((function(t,e,i,n,r,o){return u.Ft(e,i,n,r,o)})).setMouseDragStopEventHandler((function(t,e,i,n,r){return u.jt(e,i,n,r)})).setMouseWheelEventHandler((function(t,e,i){return u.Dt(e,i)})).setTouchStartEventHandler((function(t,e,i){return u.Bt(e,i)})).setTouchMoveEventHandler((function(t,e,i){return u.Et(e,i)})).setTouchEndEventHandler((function(t,e,i){return u.Pt(e,i)})),u.setAnimationsEnabled(!1!==(null==s?void 0:s.animationsEnabled)),u}return ym(e,t),e.prototype.setData=function(t){var e=this;t=Array.isArray(t)?t.slice():[t];var i,n=(0,(i=0,{RE:function(t){for(var e,n=t.map((function(t,e){return{node:t,parent:null}})),r=[],o=function(){var t=n.pop();if(!t)return"continue";var o=t.node,s=t.parent,a={id:i+=1,parentID:null==s?void 0:s.id,name:o.name,value:Number(o.value)||0,animatedValue:Number(o.value)||0,children:[],nodeIndex:s?s.nodeIndex:-1,userNode:o};s?s.children.push(a):r.push(a),null===(e=o.children)||void 0===e||e.forEach((function(t){n.push({node:t,parent:a})}))};n.length>0;)o();r.forEach((function t(e){e.children.forEach(t),e.children.length>0&&(e.value+=e.children.reduce((function(t,e){return t+e.value}),0),e.animatedValue+=e.children.reduce((function(t,e){return t+e.animatedValue}),0),e.children.sort((function(t,e){return e.animatedValue-t.animatedValue})))}));var s=1===t.length?r[0].children:r;return s.sort((function(t,e){return e.animatedValue-t.animatedValue})),s.forEach((function(t,e){t.nodeIndex=e,function e(i){i.children.forEach((function(i){i.nodeIndex=t.nodeIndex,e(i)}))}(t)})),r}}).RE)(t);return n.forEach((function(t){var i=e.bE[t.id];i&&e.GE(t,i)})),this.kx=void 0,this.pE.M(n),this.mE=n,this.bE=this.UE(n),this.FE=!0,this.fn.Sn(),this},e.prototype.setAnimationValues=function(t,e){return void 0===e&&(e=1),this.Jm=t?{speed:e}:void 0,this.fn.Sn(),this},e.prototype.setInitPathButtonText=function(t){return this.xE=t,this.FE=!0,this.fn.Sn(),this},e.prototype.setDisplayedLevelsCount=function(t){return this.gE=t,this.FE=!0,this.fn.Sn(),this},e.prototype.setDrillDownEnabled=function(t){return this.SE=t,this.FE=!0,this.fn.Sn(),this},e.prototype.setDrillDownNode=function(t){var e,i;if(this.kx=void 0,void 0===t)this.pE.M(this.mE);else for(var n=gm([],vm(this.mE),!1);n.length>0;){var r=n.pop();if(r){if(void 0!==r.value&&r.userNode===t||r.parentID&&Array.isArray(t)&&(null===(i=null===(e=this.bE[r.parentID])||void 0===e?void 0:e.userNode)||void 0===i?void 0:i.children)===t){var o=r.children.length?r:r.parentID?this.bE[r.parentID]:this.mE[0];this.pE.M([o]);break}if(r.children)for(var s=r.children.length-1;s>=0;s-=1)n.push(r.children[s])}}return this.D.emit("viewChange",this.pE.C()),this.FE=!0,this.fn.Sn(),this},e.prototype.setNodeColoring=function(t){return t instanceof Array?(this.xx.Br(new nt),this.PE=t):this.xx.Br(t),this.FE=!0,this.fn.Sn(),this},e.prototype.setParentNodeColor=function(t){return this.IE=t,this.FE=!0,this.fn.Sn(),this},e.prototype.setPathLabelFillStyle=function(t){return this.ME="function"==typeof t?t(this.ME):t,this.FE=!0,this.fn.Sn(),this},e.prototype.getPathLabelFillStyle=function(){return this.ME},e.prototype.setPathLabelFont=function(t){return lo(t)?this.CE=t:this.CE=t(this.CE),this.FE=!0,this.fn.Sn(),this},e.prototype.getPathLabelFont=function(){return this.CE},e.prototype.setHeaderFont=function(t){return lo(t)?this.TE=t:this.TE=t(this.TE),this.FE=!0,this.fn.Sn(),this},e.prototype.getHeaderFont=function(){return this.TE},e.prototype.setHeaderFillStyle=function(t){return this._E="function"==typeof t?t(this._E):t,this.FE=!0,this.fn.Sn(),this},e.prototype.getHeaderFillStyle=function(){return this._E},e.prototype.setLabelFont=function(t){return lo(t)?this.OE=t:this.OE=t(this.OE),this.FE=!0,this.fn.Sn(),this},e.prototype.getLabelFont=function(){return this.OE},e.prototype.setLabelFillStyle=function(t){return this.kE="function"==typeof t?t(this.kE):t,this.FE=!0,this.fn.Sn(),this},e.prototype.getLabelFillStyle=function(){return this.kE},e.prototype.setNodeBorderStyle=function(t){return this.xx.Dr(t),this.FE=!0,this.fn.Sn(),this},e.prototype.getNodeBorderStyle=function(){return this.xx.fu()},e.prototype.setNodeEffect=function(t){return this.LE.gn(t),this.fn.Sn(),this},e.prototype.getNodeEffect=function(){return this.LE.xn()},e.prototype.setCursor=function(t){return this.Sb.setCursor(t),this},e.prototype.getCursor=function(){return this.Sb.getCursor()},e.prototype.setCursorMode=function(t){return this.Sb.setCursorMode(t),this},e.prototype.getCursorMode=function(){return this.Sb.getCursorMode()},e.prototype.setCustomCursor=function(t){var e=this;return this.Sb.setCustomCursor(t?function(i,n,r){return t(e,i,n,r)}:void 0),this},e.prototype.onCursorTargetChanged=function(t){var e=this;return this.Sb.onCursorTargetChanged((function(i,n,r){return t(e,i,n,r)}))},e.prototype.offCursorTargetChanged=function(t){this.Sb.offCursorTargetChanged(t)},e.prototype.setCursorFormatting=function(t){return this.Sb.setCursorFormatting(t),this},e.prototype.getCursorFormatting=function(){return this.Sb.getCursorFormatting()},e.prototype.addCursor=function(t){void 0===t&&(t=gh);var e=this.Wy(),i=t.Rm(e,this.uiScale,this.uiScale,this.Vy(e),this.$i);return this.qy(i),i},e.prototype.onNodeMouseDragStart=function(t){return this.D.on("mouseDragStart",t)},e.prototype.onNodeMouseDrag=function(t){return this.D.on("mouseDrag",t)},e.prototype.onNodeMouseDragStop=function(t){return this.D.on("mouseDragStop",t)},e.prototype.onNodeMouseWheel=function(t){return this.D.on("mouseWheel",t)},e.prototype.onNodeTouchStart=function(t){return this.D.on("touchStart",t)},e.prototype.onNodeTouchMove=function(t){return this.D.on("touchMove",t)},e.prototype.onNodeTouchEnd=function(t){return this.D.on("touchEnd",t)},e.prototype.onViewChange=function(t){return this.D.on("viewChange",t)},e.prototype.offNodeTouchStart=function(t){return this.D.off(t,"touchStart")},e.prototype.offNodeTouchMove=function(t){return this.D.off(t,"touchMove")},e.prototype.offNodeTouchEnd=function(t){return this.D.off(t,"touchEnd")},e.prototype.offViewChange=function(t){return this.D.off(t,"viewChange")},e.prototype.setMouseInteractions=function(t){return this.Yi=t,this.xx.setMouseInteractions(t),this},e.prototype.getMouseInteractions=function(){return this.Yi},e.prototype.setAnimationHighlight=function(t){return this.zE.Xo(t),this},e.prototype.getAnimationHighlight=function(){return this.zE.Ho()},e.prototype.setHighlightOnHover=function(t){return this.nx=t,this},e.prototype.getHighlightOnHover=function(){return this.nx},e.prototype.BE=function(t,e){var i=this.fn.ju(e);return{cursorPosition:{pointMarker:{x:i.engineX,y:i.engineY},pointMarkerScale:this.fn.vt,resultTable:{x:i.engineX,y:i.engineY},resultTableScale:this.fn.vt},name:t.name,value:t.value,node:t.userNode}},e.prototype.getMinimumSize=function(){},e.prototype.Tv=function(){return[this]},e.prototype.Pr=function(e){var i=this;t.prototype.Pr.call(this,e),t.prototype.tm.call(this),Wl(this.pe,this.rm);var n=jl(this.pe,this.rm);if(this.FE&&this.pE.C().length){this.xx.zt(),this.yE.clear(),this.zE.Yo(),this.fe&&this.WE(e);var r=fm({data:this.pE.C(),dimensions:{x:0+this.xh.left,y:this.GA.y.getInnerEnd()-n-this.xh.top,width:this.GA.x.getInnerEnd()-this.xh.right-this.xh.left,height:this.GA.y.getInnerEnd()-n-this.xh.top-this.xh.bottom}}),o=this.VE.Hb();this.YE(r,o),o.finishPlot(),this.XE(),this.mE!==this.pE.C()&&this.mE.length>1&&this.wE.unshift({name:this.xE,id:0});var s=0,a=this.NE.Hb(),u=this.CE;this.wE.forEach((function(t,e){var n=a.add(),r=i.fn.Ay.vy(t.name,u,0);n.vo("← ".concat(t.name)).He(u).Lr({x:0,y:100}).Rh({x:-1,y:1}).Po({left:i.xh.left+s,top:i.xh.top,right:0,bottom:0}).Br(i.ME).setMouseClickEventHandler((function(t){return i.EE(e)})).setMouseEnterEventHandler((function(){return i.engine.setMouseStyle(Kn.Point)})).setMouseLeaveEventHandler((function(){return i.engine.setMouseStyle(Kn.Default)})),s+=r.x+25})),a.finishPlot(),this.pE.C().every((function(t){return t.value===t.animatedValue}))?this.FE=!1:this.fn.Sn(!0)}return this.Sb.Pr(!1,[],void 0,{explicitTarget:this.kx}),this},e.prototype.dispose=function(){return this.pb.U(),this.mb.U(),this.Sb.U(),this.xx.dispose(),this.yE.clear(),this.VE.Qb(),this.NE.Qb(),t.prototype.dispose.call(this)},e.prototype.K=function(){return t.prototype.K.call(this),this},e.prototype.J=function(){return t.prototype.J.call(this),this},e.prototype.pv=function(){return Ze(this.xx.We())},e.prototype.attach=function(t,e,i){return void 0===i&&(i=!1),t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),He(t,this.$i,i,{}),this},e.prototype.YE=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=0);for(var r=t.map((function(t,e){return{node:t,isChild:i,visibleDepth:n}})),o=function(){var t=r.pop();if(!t)return"continue";var i=t.node,n=t.visibleDepth,o=t.opacity,a=i.x,u=i.y,l=i.height,h=i.width,c=i.children,f=i.animatedValue,p=i.name,d=i.nodeIndex,y=s.PE,v=0===n&&1===s.pE.C().length?s.IE:y[d%y.length],g=[{x:a,y:u},{x:a,y:u-l},{x:h+a,y:u-l},{x:h+a,y:u}],m=s.xx.Wo().ga(g).HE(v.setA(o||250)).Tx(f);s.yE.set(m,i),s.zE.Wo(m,(function(t){return m.cn(t)}));var x=a+5,S=u+25+5,A=Math.max(l-25-5,0),b=Math.max(h-5-5,0);if(c&&c.length&&n<s.gE&&b>15&&A>15)for(var M=fm({data:c,dimensions:{x:b>0?x:a,y:A>0?u-25:S,width:b,height:A}}),w=0;w<M.length;w+=1){var C=(250-(c.length>7?50:150))/(c.length-1),P=1===i.id&&1===s.mE.length||s.mE===s.pE.C()?250:o?o/(n+1):250-w*C;r.push({node:M[w],isChild:!0,visibleDepth:n+1,opacity:P})}var E=0===n&&1===s.pE.C().length?s._E:s.kE,T=0===n?s.TE:s.OE,k=s.ZE(p,h-25,T),D=s.fn.Ay.vy(k,T,0),F=e.add();h-25>D.x&&l>25?F.vo(k).Lr({x:a+5,y:u-2.5}).Rh({x:-1,y:1}).Br(E).He(T):F.vo("")},s=this;r.length>0;)o()},e.prototype.UE=function(t){for(var e={},i=gm([],vm(t),!1);i.length>0;){var n=i.pop();n&&(e[n.id]=n,n.children&&i.push.apply(i,gm([],vm(n.children),!1)))}return e},e.prototype.DE=function(t){if(!this.FE&&t)return this.yE.get(t)},e.prototype.XE=function(){this.wE=[];for(var t=this.pE.C()[0].id,e=this.bE[t].parentID;e;)this.wE.push({name:this.bE[e].name,id:e}),e=this.bE[e].parentID;return this.wE.reverse()},e.prototype.ZE=function(t,e,i){var n=this.fn.Ay.vy(t,i,0).x;if(n<=e)return t;for(var r=t.split(" "),o=t;r.length>1&&n>e;)r.pop(),o="".concat(r.join(" "),"..."),n=this.fn.Ay.vy(o,i,0).x;if(n>e){var s=r[0];for(o="".concat(s,"..."),n=this.fn.Ay.vy(o,i,0).x;o.length>3&&n>e;)o="".concat(o.substring(0,o.length-4),"..."),n=this.fn.Ay.vy(o,i,0).x}return o.length<=3&&n>e?"":o},e.prototype.WE=function(t){for(var e,i=gm([],vm(this.mE),!1);i.length>0;){var n=i.pop();if(n){var r=n.value-n.animatedValue;if(Math.abs(r)<.0015*n.value||void 0===this.Jm)n.animatedValue=n.value;else{var o=r/250*((null===(e=this.Jm)||void 0===e?void 0:e.speed)||1)*t;n.animatedValue+=o,(r>0&&n.animatedValue>n.value||r<0&&n.animatedValue<n.value)&&(n.animatedValue=n.value)}n.children&&n.children.length>0&&i.push.apply(i,gm([],vm(n.children),!1))}}},e.prototype.GE=function(t,e){for(var i=[{current:t,previous:e}],n=function(){var t=i.pop();if(!t)return"continue";var e=t.current,n=t.previous;e.animatedValue=r.fe?n.animatedValue:e.value,n.nodeIndex<0?e.nodeIndex=0:e.nodeIndex=n.nodeIndex;var o=new Map(n.children.map((function(t){return[t.id,t]})));e.children.forEach((function(t,e){var r=o.get(t.id);i.push({current:t,previous:r||n})}))},r=this;i.length>0;)n()},e}(Gl),xm=function(t,e,i){return[[e.name],[{text:e.value.toString(),font:{weight:"bold"}}]]},Sm=function(){return(Sm=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Am=function(){return(Am=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},bm=function(t,e){var i,n,r,o,s,a,u,l,h,c,f,p,d,y,v,g,m,x,S,A,b,M,w,C,P,E,T,F,_,I,O,B,z,L,R,V,N,U,Y,G,j,W,X,H,Z,Q,q,K,$,tt,it,nt,rt,ot,st,at,ut,lt,ht,ct,ft,pt,yt,vt,mt,xt,St,At,bt,Mt,wt,Ct=(n=new et({color:(i=t).uiStrokeColorContrastHigh}),r=new et({color:i.uiStrokeColorContrastMedium}),o=new et({color:i.uiStrokeColorContrastLow}),a=(s=new uo({family:i.fontFamily,weight:"normal",style:"normal"})).setSize(18*i.fontScaler),u=s.setSize(16*i.fontScaler),l=s.setSize(14*i.fontScaler),h=s.setSize(10*i.fontScaler),c=s.withMutations((function(t){return t.set("size",14*i.fontScaler).set("weight","bold")})),f=s.setSize(13*i.fontScaler),p=new Hn({thickness:2,fillStyle:o}),d=new et({color:i.dataHighlightOverlayColor}),y=new Hn({thickness:2,fillStyle:i.legendBackgroundBorderFillStyle}),v=i.dataColorPalette.map((function(t){return new et({color:t.stroke})})),g=function(t){return v[t%v.length]},m=v.map((function(t){return new Hn({thickness:2,fillStyle:t})})),x=function(t){return m[t%m.length]},S=i.dataColorPalette.map((function(t){return new et({color:t.border})})).map((function(t){return new Hn({thickness:2,fillStyle:t})})),A=function(t){return S[t%S.length]},b=i.dataColorPalette.map((function(t){var e=t.area;return new dt({angle:0,stops:[{offset:0,color:e.setA(0)},{offset:.8,color:e}]})})),M=function(t){return b[t%b.length]},w=i.dataColorPaletteInverted.map((function(t){var e=t.area;return new dt({angle:180,stops:[{offset:0,color:e.setA(0)},{offset:.8,color:e}]})})),C=function(t){return w[t%w.length]},P=i.dataColorPalette.map((function(t){var e=t.area;return new dt({angle:180,stops:[{color:je(e,k(255,255,255,e.getA()),.3),offset:0},{color:e,offset:.5},{color:je(e,k(0,0,0,e.getA()),.3),offset:1}]})})),E=function(t){return P[t%P.length]},T=i.dataColorPaletteInverted.map((function(t){return new et({color:t.border})})).map((function(t){return new Hn({thickness:2,fillStyle:t})})),F=function(t){return T[t%T.length]},_=new et({color:i.dataColorPositive}),I=new et({color:i.dataColorNegative}),O=new Hn({thickness:1,fillStyle:new et({color:i.dataStrokeColorContrastHigh.setA(50)})}),B=new Hn({thickness:2,fillStyle:i.axisLineFillStyle}),z=gt,L=new et({color:k(0,0,0,1)}),R=new Hn({thickness:1,fillStyle:i.axisGridMajorFillStyle}),V=gt,N=l,U=i.axisLabelMajorFillStyle,Y=new Hn({thickness:1,fillStyle:i.axisGridMajorFillStyle}),G=new Hn({thickness:1,fillStyle:i.axisTickMajorFillStyle}),j=l,W=i.axisLabelMajorFillStyle,X=new Hn({thickness:1,fillStyle:i.axisGridMinorFillStyle}),H=new Hn({thickness:1,fillStyle:i.axisTickMinorFillStyle}),Z=h,Q=i.axisLabelMinorFillStyle,q=tl,K=new Ju({gridStrokeStyle:R,tickStyle:V,tickLength:50,tickPadding:-14,labelFont:N,labelFillStyle:U}),$=new Ju({gridStrokeStyle:Y,tickStyle:G,tickLength:7,tickPadding:5,labelFont:j,labelFillStyle:W}),tt=new Ju({gridStrokeStyle:X,tickStyle:H,tickLength:4,tickPadding:10,labelFont:Z,labelFillStyle:Q}),it=new Fl({extremeTickStyle:q,majorTickStyle:$,minorTickStyle:tt}),nt=new bl({greatTickStyle:K,majorTickStyle:$,minorTickStyle:tt}),rt=new al({majorTickStyle:$,minorTickStyle:tt}),ot=new et({color:i.dataHighlightOverlayColor}),st=new Hn({thickness:1,fillStyle:r}),at=new Hn({thickness:2,fillStyle:r}),ut=function(t){return new mo.Triangulated({shape:"sphere",size:10,fillStyle:v[t%v.length]})},lt=v[0],ht=i.uiTextFillStyle,ct=i.legendBackgroundFillStyle,ft=new Hn({thickness:1,fillStyle:i.legendBackgroundBorderFillStyle}),pt=Xe(i.legendButtonDefaultColor),yt=Xe(i.isDark?k(70,70,70,255):k(170,170,170,255)),vt=new et({color:i.isDark?k(70,70,70,255):k(170,170,170,255)}),mt=new Hn({thickness:1,fillStyle:n}),xt=new da({thickness:1,fillStyle:i.cursorGridFillStyle,pattern:pa.DashedEqual,patternScale:3}),St=new Hn({thickness:1,fillStyle:i.cursorGridFillStyle}),At=i.zoomBandChartDefocusOverlayFillStyle,bt=new Hn({thickness:2,fillStyle:new et({color:i.zoomBandChartSplitterColor})}),Mt=new et({color:i.uiBackgroundColor}),wt={isDark:i.isDark,effect:i.effect,effectsText:i.effectsText,effectsDashboardSplitters:i.effectsDashboardSplitters,lcjsBackgroundFillStyle:i.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:gt,highlightColorOffset:i.highlightColorOffset,highlightColorOffsetAxisOverlay:i.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new Hn({thickness:4,fillStyle:i.dashboardSplitterFillStyle}),chartXYBackgroundFillStyle:i.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:gt,chartXYTitleFont:a,chartXYTitleFillStyle:i.titleFillStyle,chartXYSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:p,chartXYZoomingRectangleFillStyle:d,chartXYZoomingRectangleStrokeStyle:y,chartXYFittingRectangleFillStyle:d,chartXYFittingRectangleStrokeStyle:y,lineSeriesStrokeStyle:x,pointLineSeriesStrokeStyle:x,pointLineSeriesFillStyle:g,pointSeriesFillStyle:g,ellipseSeriesFillStyle:g,ellipseSeriesStrokeStyle:x,polygonSeriesFillStyle:g,polygonSeriesStrokeStyle:x,rectangleSeriesFillStyle:g,rectangleSeriesStrokeStyle:gt,segmentSeriesStrokeStyle:x,boxSeriesBodyFillStyle:g(0),boxSeriesBodyStrokeStyle:gt,boxSeriesStrokeStyle:new Hn({thickness:1,fillStyle:v[0]}),boxSeriesMedianStrokeStyle:new Hn({thickness:1,fillStyle:new et({color:k(0,0,0)})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:_,ohlcCandleBodyFillStyleNegative:I,ohlcCandleTailStrokeStylePositive:new Hn({thickness:1,fillStyle:new et({color:i.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new Hn({thickness:1,fillStyle:new et({color:i.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new Hn({thickness:2,fillStyle:_}),ohlcBarStrokeStyleNegative:new Hn({thickness:2,fillStyle:I}),heatmapGridSeriesFillStyle:g,heatmapGridSeriesWireframeStyle:O,heatmapScrollingGridSeriesFillStyle:g,heatmapScrollingGridSeriesWireframeStyle:O,areaRangeSeriesFillStyle:M,areaRangeSeriesStrokeStyle:A,areaRangeSeriesFillStyleInverted:C,areaRangeSeriesStrokeStyleInverted:F,areaSeriesBipolarHighFillStyle:M,areaSeriesBipolarHighStrokeStyle:A,areaSeriesBipolarLowFillStyle:C,areaSeriesBipolarLowStrokeStyle:F,areaSeriesPositiveFillStyle:M,areaSeriesPositiveStrokeStyle:A,areaSeriesNegativeFillStyle:C,areaSeriesNegativeStrokeStyle:F,xAxisTitleFont:u,xAxisTitleFillStyle:i.axisTitleFillStyle,xAxisStrokeStyle:B,xAxisNibStyle:z,xAxisOverlayStyle:L,xAxisZoomingBandFillStyle:d,xAxisZoomingBandStrokeStyle:gt,xAxisNumericTicks:it,xAxisDateTimeTicks:nt,xAxisTimeTicks:rt,yAxisTitleFont:u,yAxisTitleFillStyle:i.axisTitleFillStyle,yAxisStrokeStyle:B,yAxisNibStyle:z,yAxisOverlayStyle:L,yAxisZoomingBandFillStyle:d,yAxisZoomingBandStrokeStyle:gt,yAxisNumericTicks:it,yAxisDateTimeTicks:nt,yAxisTimeTicks:rt,bandFillStyle:ot,bandStrokeStyle:st,constantLineStrokeStyle:at,barChartBackgroundFillStyle:i.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:gt,barChartTitleFont:a,barChartTitleFillStyle:i.titleFillStyle,barChartSeriesBackgroundFillStyle:J,barChartSeriesBackgroundStrokeStyle:gt,barChartBarFillStyle:g,barChartBarStrokeStyle:new Hn({thickness:1,fillStyle:o}),barChartValueAxisTitleFont:u,barChartValueAxisTitleFillStyle:i.axisTitleFillStyle,barChartValueAxisStrokeStyle:B,barChartValueAxisTicks:it.setMajorTickStyle((function(t){return t.setGridStrokeStyle(gt)})).setMinorTickStyle((function(t){return t.setGridStrokeStyle(gt)})),barChartCategoryAxisTitleFont:u,barChartCategoryAxisTitleFillStyle:i.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:B,barChartCategoryLabels:{formatter:function(t,e){return t},labelFillStyle:it.majorTickStyle.labelFillStyle,labelFont:it.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,tickStyle:it.majorTickStyle.tickStyle,tickLength:0},barChartValueLabelsAfterBars:{position:"after-bar",formatter:function(t,e,i){return t.chart.valueAxis.formatValue(i)},labelFillStyle:it.majorTickStyle.labelFillStyle,labelFont:it.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:function(t,e,i){return t.chart.valueAxis.formatValue(i)},labelFillStyle:it.majorTickStyle.labelFillStyle,labelFont:it.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},chart3DBackgroundFillStyle:i.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:gt,chart3DTitleFont:a,chart3DTitleFillStyle:i.titleFillStyle,chart3DSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:p,chart3DBoundingBoxStrokeStyle:gt,xAxis3DTitleFont:u,xAxis3DTitleFillStyle:i.axisTitleFillStyle,xAxis3DStrokeStyle:B,xAxis3DNumericTicks:it,xAxis3DDateTimeTicks:nt,xAxis3DTimeTicks:rt,yAxis3DTitleFont:u,yAxis3DTitleFillStyle:i.axisTitleFillStyle,yAxis3DStrokeStyle:B,yAxis3DNumericTicks:it,yAxis3DDateTimeTicks:nt,yAxis3DTimeTicks:rt,zAxis3DTitleFont:u,zAxis3DTitleFillStyle:i.axisTitleFillStyle,zAxis3DStrokeStyle:B,zAxis3DNumericTicks:it,zAxis3DDateTimeTicks:nt,zAxis3DTimeTicks:rt,lineSeries3DStrokeStyle:x,pointLineSeries3DStrokeStyle:x,pointLineSeries3DPointStyle:ut,pointSeries3DPointStyle:ut,pointCloudSeries3DPointStyle:function(t){return new mo.Pixelated({size:5,fillStyle:v[t%v.length]})},surfaceGridSeries3DFillStyle:g,surfaceGridSeries3DWireframeStyle:O,surfaceScrollingGridSeries3DFillStyle:g,surfaceScrollingGridSeries3DWireframeStyle:O,boxSeries3DFillStyle:g,meshModel3DFillStyle:g(0),polarChartBackgroundFillStyle:i.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:gt,polarChartTitleFont:a,polarChartTitleFillStyle:i.titleFillStyle,polarChartSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:p,polarSectorFillStyle:ot,polarSectorStrokeStyle:st,polarAmplitudeAxisTitleFont:u,polarAmplitudeAxisTitleFillStyle:i.axisTitleFillStyle,polarAmplitudeAxisStrokeStyle:B,polarAmplitudeAxisNumericTicks:it,polarAmplitudeAxisDateTimeTicks:nt,polarAmplitudeAxisTimeTicks:rt,polarRadialAxisTitleFont:u,polarRadialAxisTitleFillStyle:i.axisTitleFillStyle,polarRadialAxisStrokeStyle:B,polarRadialAxisTickStyle:$,polarLineSeriesStrokeStyle:x,polarPointLineSeriesFillStyle:g,polarPointLineSeriesStrokeStyle:x,polarPointSeriesFillStyle:g,polarPolygonSeriesFillStyle:E,polarPolygonSeriesStrokeStyle:A,polarAreaSeriesFillStyle:E,polarAreaSeriesStrokeStyle:A,polarHeatmapSeriesFillStyle:g,mapChartBackgroundFillStyle:i.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:gt,mapChartTitleFont:a,mapChartTitleFillStyle:i.titleFillStyle,mapChartFillStyle:lt,mapChartStrokeStyle:new Hn({thickness:1,fillStyle:new et({color:i.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:J,mapChartOutlierRegionStrokeStyle:new Hn({thickness:1,fillStyle:o}),mapChartSeparateRegionFillStyle:ct,mapChartSeparateRegionStrokeStyle:ft,dataGridBackgroundFillStyle:i.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:gt,dataGridTitleFont:a,dataGridTitleFillStyle:i.titleFillStyle,dataGridTextFont:l,dataGridTextFillStyle:lt,dataGridCellBackgroundFillStyle:new et({color:i.uiBackgroundColor}),dataGridBorderStrokeStyle:new Hn({thickness:.4,fillStyle:new et({color:i.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:gt,dataGridScrollBarFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:ft,dataGridScrollBarButtonFillStyle:i.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:ft,dataGridScrollBarButtonArrowFillStyle:pt,dataGridScrollBarButtonArrowStrokeStyle:ft,sparkLineChartStrokeStyle:x(0),sparkPointChartFillStyle:g(0),sparkBarChartFillStyle:g(0),sparkBarChartStrokeStyle:A(0),sparkAreaChartFillStyle:M(0),sparkAreaChartStrokeStyle:A(0),sparkPieChartFillStyle:g,sparkPieChartStrokeStyle:ft,sparkChartBandFillStyle:ot,sparkChartBandStrokeStyle:st,sparkChartConstantLineStrokeStyle:at,spiderChartBackgroundFillStyle:i.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:gt,spiderChartTitleFont:a,spiderChartTitleFillStyle:i.titleFillStyle,spiderChartSeriesBackgroundFillStyle:i.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:p,spiderChartWebStyle:new Hn({thickness:2,fillStyle:o}),spiderChartScaleLabelFillStyle:i.axisLabelMajorFillStyle,spiderChartScaleLabelFont:l,spiderChartAxisLabelFillStyle:i.axisTitleFillStyle,spiderChartAxisLabelFont:u,spiderChartAxisStrokeStyle:new Hn({thickness:2,fillStyle:r}),spiderChartAxisNibStrokeStyle:new Hn({thickness:2,fillStyle:n}),spiderSeriesFillStyle:E,spiderSeriesStrokeStyle:A,spiderSeriesPointFillStyle:g,pieChartBackgroundFillStyle:i.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:gt,pieChartTitleFont:a,pieChartTitleFillStyle:i.titleFillStyle,pieChartSliceFillStylePalette:g,pieChartSliceStrokeStyle:ft,pieChartSliceLabelFont:f,pieChartSliceLabelFillStyle:i.uiTextFillStyle,pieChartConnectorStrokeStyle:mt,funnelChartBackgroundFillStyle:i.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:gt,funnelChartTitleFont:a,funnelChartTitleFillStyle:i.titleFillStyle,funnelChartSliceFillStylePalette:g,funnelChartSliceStrokeStyle:ft,funnelChartSliceLabelFont:f,funnelChartSliceLabelFillStyle:i.uiTextFillStyle,funnelChartConnectorStrokeStyle:mt,pyramidChartBackgroundFillStyle:i.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:gt,pyramidChartTitleFont:a,pyramidChartTitleFillStyle:i.titleFillStyle,pyramidChartSliceFillStylePalette:g,pyramidChartSliceStrokeStyle:ft,pyramidChartSliceLabelFont:f,pyramidChartSliceLabelFillStyle:i.uiTextFillStyle,pyramidChartConnectorStrokeStyle:mt,gaugeChartValueLabelFont:f.setSize(60),gaugeChartUnitLabelFont:f.setSize(40),gaugeChartTickFont:f.setSize(30),gaugeChartBarThickness:40,gaugeChartValueIndicatorThickness:10,gaugeChartRoundedEdges:!0,gaugeChartNeedleLength:40,gaugeChartStartAngle:225,gaugeChartEndAngle:-45,gaugeChartNeedleAlignment:0,gaugeChartGapBetweenBarAndValueIndicators:10,gaugeChartTickFillStyle:i.uiTextFillStyle,gaugeChartBarGradient:!0,gaugeChartBarStrokeStyle:gt,gaugeChartUnitLabelFillStyle:i.uiTextFillStyle,gaugeChartValueLabelFillStyle:i.uiTextFillStyle,gaugeChartBarColor:k(255,255,255),gaugeChartGlowColor:k(255,255,64),gaugeChartNeedleFillStyle:new et({color:k(255,255,255)}),gaugeChartNeedleThickness:10,gaugeChartNeedleStrokeStyle:new Hn({thickness:2,fillStyle:new et({color:k(0,0,0)})}),gaugeChartBackgroundFillStyle:i.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:gt,gaugeChartTitleFont:a,gaugeChartTitleFillStyle:i.titleFillStyle,treeMapChartBackgroundFillStyle:i.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:gt,treeMapChartParentColor:i.treeMapChartParentColor,treeMapChartNodeColors:i.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new Hn({thickness:1,fillStyle:new et({color:D("000")})}),treeMapChartTitleFillStyle:i.titleFillStyle,treeMapChartTitleFont:a,treeMapChartPathLabelFillStyle:ht,treeMapChartPathLabelFont:f,treeMapChartLabelHeaderFillStyle:i.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:a,treeMapChartLabelFillStyle:i.treeMapChartLabelFillStyle,treeMapChartLabelFont:f,uiPanelBackgroundFillStyle:i.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:gt,zoomBandChartDefocusOverlayFillStyle:At,zoomBandChartSplitterStrokeStyle:bt,zoomBandChartKnobFillStyle:i.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:i.zoomBandChartKnobSize,onScreenMenuBackgroundColor:k(254,204,0,.7),uiButtonFillStyle:pt,uiButtonFillStyleHidden:yt,uiButtonStrokeStyle:ft,uiButtonSize:10,uiBackgroundFillStyle:ct,uiBackgroundStrokeStyle:ft,uiTextFillStyle:ht,uiTextFillStyleHidden:vt,uiTextFont:f,legendTitleFillStyle:ht,legendTitleFont:c,cursorTickMarkerXBackgroundFillStyle:ct,cursorTickMarkerXBackgroundStrokeStyle:ft,cursorTickMarkerXTextFillStyle:ht,cursorTickMarkerXTextFont:f,cursorTickMarkerYBackgroundFillStyle:ct,cursorTickMarkerYBackgroundStrokeStyle:ft,cursorTickMarkerYTextFillStyle:ht,cursorTickMarkerYTextFont:f,cursorPointMarkerFillStyle:xt.getFillStyle(),cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:Co.Cross,cursorResultTableFillStyle:ct,cursorResultTableStrokeStyle:ft,cursorResultTableTextFillStyle:ht,cursorResultTableTextFont:f,cursorGridStrokeStyleX:xt,cursorGridStrokeStyleY:xt,cursor3DGridStrokeStyleX:St,cursor3DGridStrokeStyleY:St,cursor3DGridStrokeStyleZ:St,cursor3DTickStrokeStyleX:$.tickStyle,cursor3DTickStrokeStyleY:$.tickStyle,cursor3DTickStrokeStyleZ:$.tickStyle,cursor3DTickLabelFillStyleX:ht,cursor3DTickLabelFillStyleY:ht,cursor3DTickLabelFillStyleZ:ht,cursor3DTickLabelFontX:f,cursor3DTickLabelFontY:f,cursor3DTickLabelFontZ:f,cursor3DTickLabelBackgroundFillStyleX:Mt,cursor3DTickLabelBackgroundFillStyleY:Mt,cursor3DTickLabelBackgroundFillStyleZ:Mt,cursor3DTickLabelBackgroundStrokeStyleX:ft,cursor3DTickLabelBackgroundStrokeStyleY:ft,cursor3DTickLabelBackgroundStrokeStyleZ:ft,cursor3DTickLabelPaddingX:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingY:{left:4,right:4,top:4,bottom:4},cursor3DTickLabelPaddingZ:{left:4,right:4,top:4,bottom:4}},i.overrideThemeProperties&&(wt=Sm(Sm({},wt),i.overrideThemeProperties)),wt),Pt=Am(Am({},e),{header1Font:Ct.xAxisTitleFont,header2Font:Ct.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:Ct.uiTextFont,mainDataColor:t.dataColorPalette[0].stroke});return Am(Am({},Ct),{examples:Pt})},Mm=function(t,e){var i=new Image;i.crossOrigin="*";var n="".concat(t,"/").concat(e);return i.addEventListener("error",(function(e){li(t,n,"Theme resource",{shouldCrash:!1})})),i.src=n,i},wm=function(t,e,i){return function(n){var r=!0===t?e[n%e.length].stroke:je(e[n%e.length].stroke,k(255,255,255),.5);return new ft({stops:[{color:je(r,k(255,255,255),.5*i).setA(100),offset:0},{color:r.setA(100),offset:.5},{color:je(r,k(30,30,30),.5*i).setA(100),offset:1}]})}},Cm=function(t,e,i){return function(n){var r=!0===t?e[n%e.length].stroke:je(e[n%e.length].stroke,k(255,255,255),.2);return new ft({stops:[{color:je(r,k(255,255,255),.2*i),offset:0},{color:r,offset:.5},{color:je(r,k(0,0,0),.2*i),offset:1}]})}},Pm=function(t,e,i){return function(n){var r=!0===t?e[n%e.length].stroke:je(e[n%e.length].stroke,k(255,255,255),.2);return new dt({angle:90,stops:[{color:je(r,k(255,255,255),.5*i),offset:0},{color:r,offset:.35},{color:je(r,k(30,30,30),.5*i),offset:1}]})}},Em=function(t,e,i){return n=function(i){var n=!0===t?e[i%e.length].stroke:je(e[i%e.length].stroke,k(255,255,255),.3);return new dt({angle:90,stops:[{color:je(n,k(255,255,255),.5),offset:0},{color:n,offset:.35},{color:je(n,k(30,30,30),.5),offset:1}]})},r=new Map,function(t){var e=r.get(t);if(e)return e;var i=n(t);return r.set(t,i),i};var n,r},Tm=ai((function(){var t=k(255,255,255),e=new et({color:t}),i=!0,n=new Aa({spread:1,blur:9,offset:{x:0,y:0},color:k(0,0,0,150)}),r=new ft({position:{x:.8,y:.8},extent:h.farthestCorner,shape:l.ellipse,stops:[{offset:0,color:k(50,51,52)},{offset:.5,color:k(14,15,16)},{offset:1,color:k(0,0,0)}]}),o=new et({color:k(45,45,45)}),s=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(120,120,120,100)},{offset:1,color:k(0,0,0,50)}]}),a=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(30,30,30,200)},{offset:1,color:k(0,0,0,255)}]}),u=new et({color:k(255,255,220)}),c=new et({color:k(255,255,166)}),f=new et({color:k(255,255,220)}),p=new et({color:k(255,255,220,130)}),d=new et({color:k(255,255,200)}),y=d,v=y,g=new dt({angle:45,stops:[{offset:0,color:k(230,230,230)},{offset:1,color:k(150,150,150)}]}),m=new et({color:k(220,220,220)}),x=new et({color:k(200,200,200,50)}),S=new et({color:k(200,200,200,150)}),A=new et({color:k(200,200,200,20)}),b=new et({color:k(220,220,220)}),M=new dt({angle:0,stops:[{offset:0,color:k(10,10,10,220)},{offset:1,color:k(30,30,30,220)}]}),w=e,C=k(255,255,200),P=M,E=w,T=k(20,20,20),F=k(0,0,0),_=t,I=k(150,150,150),O=k(50,50,50),B=k(50,50,50),z=k(100,100,100),L=k(200,200,200),R=[k(255,255,91,255),k(255,205,91,255),k(255,155,91,255),k(255,196,188,255),k(255,148,184,255),k(219,148,198,255),k(235,196,224,255),k(169,148,198,255),k(148,226,198,255),k(148,255,176,255),k(180,255,165,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),V=t.setA(20),N=k(176,255,157,255),U=k(255,112,76,255),Y={mapChartFillStyle:new dt({angle:135,stops:[{color:k(255,255,91,255),offset:0},{color:k(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:wm(i,R,.5),pieChartSliceFillStylePalette:Cm(i,R,1),funnelChartSliceFillStylePalette:Pm(i,R,1),pyramidChartSliceFillStylePalette:Pm(i,R,1),rectangleSeriesFillStyle:Em(i,R),gaugeChartBarColor:k(255,255,91,255),gaugeChartGlowColor:k(255,255,91,64)},G=new et({color:k(176,255,157,255)}),j=new et({color:k(255,146,146,255)}),W=new et({color:k(176,255,157,255)}),X=new et({color:k(230,63,63,255)}),H=new et({color:k(176,255,157,120)}),Z=new et({color:k(229,63,63,180)}),Q=new et({color:k(27,37,36,255)}),q=new et({color:k(62,27,27,255)}),K=[k(255,0,0),k(255,255,0),k(0,255,0)],J=[k(10,10,255),k(10,190,255),k(251,255,0),k(255,38,0)],$=[k(255,255,0),k(255,204,0),k(255,128,0),k(255,0,0)],tt=[k(0,0,0),k(167,4,69,255),k(255,0,0),k(252,252,168,255)],it=new ft({stops:[{color:k(61,61,80,100),offset:0},{color:k(44,44,55,30),offset:1}]}),nt=new et({color:k(148,148,198,255)}),rt=H.getColor().setA(255),ot=k(100,100,100),st=[k(255,241,149,200),k(255,230,65,200),k(238,211,32,200),k(238,176,32,200),k(255,159,13,200),k(254,120,37,200),k(253,91,56,200),k(253,75,84,200),k(254,95,124,200),k(227,56,160,200),k(226,53,134,200),k(216,90,166,200),k(254,151,206,200),k(237,151,254,200),k(243,177,255,200),k(233,133,252,200),k(210,101,230,200),k(178,61,200,200),k(193,81,156,200),k(217,95,145,200)];return bm({isDark:i,highlightColorOffset:k(60,60,60,60),highlightColorOffsetAxisOverlay:k(255,255,255,40),effect:n,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:r,dashboardSplitterFillStyle:o,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:a,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:u,axisTitleFillStyle:c,axisLabelMajorFillStyle:f,axisLabelMinorFillStyle:p,uiTitleFillStyle:d,uiTextFillStyle:y,cursorTextFillStyle:v,axisLineFillStyle:g,axisTickMajorFillStyle:m,axisGridMajorFillStyle:x,axisTickMinorFillStyle:S,axisGridMinorFillStyle:A,cursorGridFillStyle:b,legendBackgroundFillStyle:M,legendBackgroundBorderFillStyle:w,legendButtonDefaultColor:C,resultTableBackgroundFillStyle:P,resultTableBackgroundBorderFillStyle:E,uiBackgroundColor:T,uiBackgroundBorderColor:F,uiStrokeColorContrastHigh:_,uiStrokeColorContrastMedium:I,uiStrokeColorContrastLow:O,dataStrokeColorContrastHigh:B,dataStrokeColorContrastMedium:z,dataStrokeColorContrastLow:L,dataColorPalette:R,dataColorPaletteInverted:[{area:k(190,50,50,100),border:k(210,80,80)}],dataHighlightOverlayColor:V,dataColorPositive:N,dataColorNegative:U,zoomBandChartDefocusOverlayFillStyle:new et({color:k(0,0,0,180)}),zoomBandChartSplitterColor:D("#FBFB5A"),zoomBandChartKnobFillStyle:function(t){return new la({source:Mm(t,"zoomBandChart/darkgold-selector.png"),fitMode:ms.Fill})},zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:Y,treeMapChartParentColor:D("#181E21"),treeMapChartNodeColors:st,treeMapChartLabelFillStyle:new et({color:k(33,33,33)}),treeMapChartLabelHeaderFillStyle:new et({color:k(250,250,250)})},{positiveTextFillStyle:G,negativeTextFillStyle:j,positiveFillStyle:W,negativeFillStyle:X,positiveAreaFillStyle:H,negativeAreaFillStyle:Z,positiveBackgroundFillStyle:Q,negativeBackgroundFillStyle:q,badGoodColorPalette:K,coldHotColorPalette:J,intensityColorPalette:$,spectrogramColorPalette:tt,bollingerFillStyle:it,bollingerBorderFillStyle:nt,highlightPointColor:t,highlightDataGridColor:rt,unfocusedDataColor:ot})})),km=ai((function(){var t=k(255,255,255),e=new et({color:t}),i=!0,n=new Aa({spread:0,blur:9,offset:{x:0,y:0},color:k(105,255,236,40)}),r=new et({color:k(2,21,30)}),o=new ft({stops:[{color:k(19,40,66,150),offset:0},{color:k(0,0,0,150),offset:1}]}),s=new et({color:k(0,5,8,150)}),a=e,u=e,l=e,h=new et({color:k(255,255,220,130)}),c=e,f=e,p=f,d=new et({color:k(20,224,250,255)}),y=e,v=new et({color:k(61,94,110,100)}),g=new et({color:k(61,94,110,255)}),m=new et({color:k(61,94,110,40)}),x=e,S=new et({color:k(0,18,23,255)}),A=e,b=t,M=new et({color:k(0,17,22,240)}),w=e,C=k(0,38,48,220),P=k(0,0,0),E=t,T=k(150,150,150),F=k(19,78,93),_=k(50,50,50),I=k(0,36,48),O=k(200,200,200),B=[k(45,253,253,255),k(44,172,247,255),k(46,100,248,255),k(96,84,199,255),k(184,104,245,255),k(98,160,218,255),k(43,238,245,255),k(38,140,206,255),k(112,96,224,255),k(206,157,255,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),z=t.setA(50),L=k(3,217,194,255),R=k(230,63,63,255),V={mapChartFillStyle:new dt({angle:135,stops:[{color:k(118,248,231,255),offset:0},{color:k(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:wm(i,B,1),pieChartSliceFillStylePalette:Cm(i,B,1),funnelChartSliceFillStylePalette:Pm(i,B,1),pyramidChartSliceFillStylePalette:Pm(i,B,1),rectangleSeriesFillStyle:Em(i,B),gaugeChartBarColor:k(3,217,194,255),gaugeChartGlowColor:k(3,217,194,120)},N=new et({color:k(45,253,253,255)}),U=new et({color:k(255,146,146,255)}),Y=new et({color:k(45,253,253,255)}),G=new et({color:k(230,63,63,255)}),j=new et({color:k(1,190,164,120)}),W=new et({color:k(229,63,63,180)}),X=new et({color:k(1,53,57,255)}),H=new et({color:k(62,27,27,255)}),Z=[k(1,104,119,255),k(0,165,144,255),k(0,246,214,255)],Q=[k(0,87,95,255),k(0,125,124,255),k(1,209,182,255),k(0,255,221,255),k(218,112,112,255),k(172,47,47,255)],q=[k(126,255,253,255),k(50,233,230,255),k(0,196,193,255),k(62,138,178,255),k(139,88,191,255),k(162,55,143,255)],K=[k(13,31,52,255),k(101,50,118,255),k(1,142,172,255),k(2,196,170,255),k(0,255,221,255)],J=new ft({stops:[{color:k(122,103,254,70),offset:0},{color:k(178,168,255,10),offset:1}]}),$=new et({color:k(122,103,254,255)}),tt=j.getColor().setA(255),it=k(15,83,83),nt=[k(139,252,252,150),k(60,239,239,150),k(2,201,201,150),k(26,159,159,150),k(15,146,187,150),k(65,168,200,150),k(67,146,207,150),k(64,108,209,150),k(189,64,233,150),k(219,84,238,150),k(192,55,212,150),k(212,98,229,150),k(248,110,211,150),k(251,154,225,150),k(251,154,184,150),k(233,105,144,150),k(255,133,170,150),k(249,110,135,150),k(245,72,101,150),k(210,57,84,150)];return bm({isDark:i,highlightColorOffset:k(60,60,60,60),highlightColorOffsetAxisOverlay:k(255,255,255,40),effect:n,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(t){return new la({source:Mm(t,"themes/turquoiseHexagon.jpg"),fitMode:ms.Fill})},dashboardSplitterFillStyle:r,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:s,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:a,axisTitleFillStyle:u,axisLabelMajorFillStyle:l,axisLabelMinorFillStyle:h,uiTitleFillStyle:c,uiTextFillStyle:f,cursorTextFillStyle:p,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:v,axisTickMinorFillStyle:g,axisGridMinorFillStyle:m,cursorGridFillStyle:x,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:A,legendButtonDefaultColor:b,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:w,uiBackgroundColor:C,uiBackgroundBorderColor:P,uiStrokeColorContrastHigh:E,uiStrokeColorContrastMedium:T,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:_,dataStrokeColorContrastMedium:I,dataStrokeColorContrastLow:O,dataColorPalette:B,dataColorPaletteInverted:[{area:k(170,60,210,100),border:k(210,100,250)}],dataHighlightOverlayColor:z,dataColorPositive:L,dataColorNegative:R,zoomBandChartDefocusOverlayFillStyle:new et({color:k(0,0,0,180)}),zoomBandChartSplitterColor:D("#2BF4F4"),zoomBandChartKnobFillStyle:function(t){return new la({source:Mm(t,"zoomBandChart/turquoise-selector.png"),fitMode:ms.Fill})},zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:V,treeMapChartParentColor:D("#002329"),treeMapChartNodeColors:nt,treeMapChartLabelFillStyle:new et({color:k(33,33,33)}),treeMapChartLabelHeaderFillStyle:new et({color:k(250,250,250)})},{positiveTextFillStyle:N,negativeTextFillStyle:U,positiveFillStyle:Y,negativeFillStyle:G,positiveAreaFillStyle:j,negativeAreaFillStyle:W,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:H,badGoodColorPalette:Z,coldHotColorPalette:Q,intensityColorPalette:q,spectrogramColorPalette:K,bollingerFillStyle:J,bollingerBorderFillStyle:$,highlightPointColor:t,highlightDataGridColor:tt,unfocusedDataColor:it})})),Dm=ai((function(){var t=!1,e=new Aa({spread:0,blur:6,offset:{x:2,y:-2},color:k(0,0,0,30)}),i=new ft({position:{x:.8,y:.8},extent:h.farthestCorner,shape:l.ellipse,stops:[{offset:0,color:k(255,255,255)},{offset:1,color:k(255,255,255)}]}),n=new et({color:k(219,227,233,255)}),r=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(255,255,255,200)},{offset:1,color:k(240,244,246,200)}]}),o=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(255,255,255,255)},{offset:1,color:k(255,255,255,255)}]}),s=new et({color:k(33,43,49)}),a=new et({color:k(33,43,49)}),u=new et({color:k(33,43,49)}),c=new et({color:k(33,43,49,150)}),f=new et({color:k(33,43,49)}),p=f,d=p,y=new dt({angle:45,stops:[{offset:0,color:k(225,225,225)},{offset:1,color:k(225,225,225)}]}),v=new et({color:k(150,150,150,255)}),g=new et({color:k(150,150,150,170)}),m=new et({color:k(150,150,150,150)}),x=new et({color:k(150,150,150,100)}),S=new et({color:k(60,70,80)}),A=new dt({angle:0,stops:[{offset:0,color:k(255,255,255,240)},{offset:1,color:k(255,255,255,240)}]}),b=new et({color:k(168,186,199)}),M=k(255,255,200),w=new et({color:k(255,255,255,240)}),C=new et({color:k(128,146,159,255)}),P=k(255,255,255,255),E=k(168,168,199,255),T=k(168,186,199,255),F=k(168,186,199,255),_=k(168,186,199,255),I=k(168,186,199,255),O=k(100,100,100),B=k(200,200,200),z=[k(28,181,140,255),k(255,132,0,255),k(240,39,39,255),k(86,121,251,255),k(2,181,213,255),k(13,212,158,255),k(22,167,3,255),k(234,103,232,255),k(62,183,179,255),k(140,93,3,255),k(155,158,186,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),L=k(150,150,150,80),R=k(46,182,120,255),V=k(255,66,66,255),N=new Hn({thickness:2,fillStyle:new et({color:k(168,186,199,255)})}),U={mapChartFillStyle:new dt({angle:-45,stops:[{color:k(2,181,213,255),offset:0},{color:k(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:wm(t,z,.8),pieChartSliceFillStylePalette:Cm(t,z,.8),funnelChartSliceFillStylePalette:Pm(t,z,.5),pyramidChartSliceFillStylePalette:Pm(t,z,.5),rectangleSeriesFillStyle:Em(t,z),gaugeChartBarColor:k(46,182,120,255),gaugeChartGlowColor:k(46,182,120,120),chartXYSeriesBackgroundStrokeStyle:N,chart3DSeriesBackgroundStrokeStyle:N,polarChartSeriesBackgroundStrokeStyle:N,spiderChartSeriesBackgroundStrokeStyle:N,dataGridTextFillStyle:new et({color:k(0,88,64,255)})},Y=new et({color:k(4,146,108,255)}),G=new et({color:k(240,39,39,255)}),j=new et({color:k(28,181,140,255)}),W=new et({color:k(230,88,88,255)}),X=new et({color:k(28,181,140,180)}),H=new et({color:k(230,88,88,180)}),Z=new et({color:k(229,243,228)}),Q=new et({color:k(232,225,216)}),q=[k(193,48,48,255),k(240,234,60,255),k(45,191,55,255)],K=[k(10,19,255,255),k(15,191,250,255),k(249,255,2,255),k(253,133,0,255),k(255,24,0,255)],J=[k(50,99,213),k(8,179,77),k(255,246,0),k(255,126,0),k(189,36,30)],$=[k(16,64,176),k(8,179,77),k(255,246,0),k(255,126,0),k(168,6,0)],tt=new et({color:k(185,198,207,255)}),it=new ft({stops:[{color:k(151,190,220,10),offset:0},{color:k(151,190,220,50),offset:1}]}),nt=X.getColor().setA(255),rt=k(150,150,150),ot=[k(255,243,136,125),k(254,237,99,125),k(255,216,109,125),k(255,172,100,125),k(255,133,101,125),k(255,113,142,125),k(230,103,129,125),k(242,126,219,125),k(255,155,235,125),k(255,181,240,125),k(203,143,255,125),k(208,154,255,125),k(171,188,255,125),k(197,209,255,125),k(171,187,255,125),k(84,167,239,125),k(38,196,214,125),k(38,214,196,125),k(69,225,141,125),k(36,191,88,125)];return bm({isDark:t,highlightColorOffset:k(-60,-60,-60,60),highlightColorOffsetAxisOverlay:k(0,0,0,40),effect:e,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:i,dashboardSplitterFillStyle:n,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:o,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:s,axisTitleFillStyle:a,axisLabelMajorFillStyle:u,axisLabelMinorFillStyle:c,uiTitleFillStyle:f,uiTextFillStyle:p,cursorTextFillStyle:d,axisLineFillStyle:y,axisTickMajorFillStyle:v,axisGridMajorFillStyle:g,axisTickMinorFillStyle:m,axisGridMinorFillStyle:x,cursorGridFillStyle:S,legendBackgroundFillStyle:A,legendBackgroundBorderFillStyle:b,legendButtonDefaultColor:M,resultTableBackgroundFillStyle:w,resultTableBackgroundBorderFillStyle:C,uiBackgroundColor:P,uiBackgroundBorderColor:E,uiStrokeColorContrastHigh:T,uiStrokeColorContrastMedium:F,uiStrokeColorContrastLow:_,dataStrokeColorContrastHigh:I,dataStrokeColorContrastMedium:O,dataStrokeColorContrastLow:B,dataColorPalette:z,dataColorPaletteInverted:[{area:k(190,50,50,100),border:k(210,80,80)}],dataHighlightOverlayColor:L,dataColorPositive:R,dataColorNegative:V,zoomBandChartDefocusOverlayFillStyle:new et({color:k(255,255,255,180)}),zoomBandChartSplitterColor:D("#505D65"),zoomBandChartKnobFillStyle:function(t){return new la({source:Mm(t,"zoomBandChart/light-selector.png"),fitMode:ms.Fill})},zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:U,treeMapChartParentColor:D("#D9D9D9"),treeMapChartNodeColors:ot,treeMapChartLabelFillStyle:new et({color:k(0,0,0)}),treeMapChartLabelHeaderFillStyle:new et({color:k(33,33,33)})},{positiveTextFillStyle:Y,negativeTextFillStyle:G,positiveFillStyle:j,negativeFillStyle:W,positiveAreaFillStyle:X,negativeAreaFillStyle:H,positiveBackgroundFillStyle:Z,negativeBackgroundFillStyle:Q,badGoodColorPalette:q,coldHotColorPalette:K,intensityColorPalette:J,spectrogramColorPalette:$,bollingerFillStyle:it,bollingerBorderFillStyle:tt,highlightPointColor:k(0,0,0),highlightDataGridColor:nt,unfocusedDataColor:rt})})),Fm=ai((function(){var t=!1,e=new ft({position:{x:.8,y:.8},extent:h.farthestCorner,shape:l.ellipse,stops:[{offset:0,color:k(255,255,255)},{offset:1,color:k(255,255,255)}]}),i=new et({color:k(214,236,216,255)}),n=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(233,244,231,70)},{offset:1,color:k(233,244,231,200)}]}),r=new ft({position:{x:.5,y:.5},extent:h.farthestCorner,shape:l.circle,stops:[{offset:0,color:k(255,255,255,255)},{offset:1,color:k(255,255,255,255)}]}),o=new et({color:k(1,61,53)}),s=new et({color:k(1,61,53)}),a=new et({color:k(1,61,53)}),u=new et({color:k(1,61,53,150)}),c=new et({color:k(1,61,53)}),f=c,p=f,d=new dt({angle:45,stops:[{offset:0,color:k(225,225,225)},{offset:1,color:k(225,225,225)}]}),y=new et({color:k(188,211,186,255)}),v=new et({color:k(188,211,186,150)}),g=new et({color:k(188,211,186,50)}),m=new et({color:k(188,211,186,50)}),x=new et({color:k(104,148,111,255)}),S=new dt({angle:0,stops:[{offset:0,color:k(255,255,255,240)},{offset:1,color:k(255,255,255,240)}]}),A=new et({color:k(104,148,111)}),b=k(255,255,200),M=new et({color:k(255,255,255,240)}),w=new et({color:k(104,148,111,255)}),C=k(255,255,255,255),P=k(179,201,183,255),E=k(188,211,186,255),T=k(188,211,186,255),F=k(188,211,186,255),_=k(188,211,186,255),I=k(100,100,100),O=k(200,200,200),B=[k(138,195,142,255),k(193,161,114,255),k(178,99,99,255),k(142,156,210,255),k(154,209,219,255),k(164,212,199,255),k(104,156,97,255),k(196,147,195,255),k(92,190,187,255),k(126,100,51,255),k(136,138,157,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),z=k(150,150,150,80),L=k(46,182,84,255),R=k(232,96,96,255),V=new Hn({thickness:2,fillStyle:new et({color:k(188,211,186,255)})}),N={mapChartFillStyle:new dt({angle:-45,stops:[{color:k(118,160,121,255),offset:0},{color:k(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:wm(t,B,.8),pieChartSliceFillStylePalette:Cm(t,B,.8),pyramidChartSliceFillStylePalette:Pm(t,B,.5),funnelChartSliceFillStylePalette:Pm(t,B,.5),rectangleSeriesFillStyle:Em(t,B),gaugeChartBarColor:k(46,182,84,255),gaugeChartGlowColor:k(46,182,84,120),chartXYSeriesBackgroundStrokeStyle:V,chart3DSeriesBackgroundStrokeStyle:V,polarChartSeriesBackgroundStrokeStyle:V,spiderChartSeriesBackgroundStrokeStyle:V,dataGridTextFillStyle:new et({color:k(77,66,21,255)})},U=new et({color:k(93,151,97,255)}),Y=new et({color:k(178,99,99,255)}),G=new et({color:k(138,195,142,255)}),j=new et({color:k(178,99,99,255)}),W=new et({color:k(138,195,142,180)}),X=new et({color:k(178,99,99,180)}),H=new et({color:k(224,240,237)}),Z=new et({color:k(251,227,227)}),Q=[k(178,99,99,255),k(215,224,111,255),k(80,186,88,255)],q=[k(62,64,142,255),k(66,131,77,255),k(250,250,135,255),k(202,161,78,255),k(179,53,53,255)],K=[k(64,86,138),k(123,192,205),k(255,252,149),k(220,155,92),k(184,78,74)],J=[k(64,86,138),k(123,192,205),k(255,252,149),k(220,155,92),k(132,60,57)],$=new et({color:k(185,198,207,255)}),tt=new ft({stops:[{color:k(151,190,220,10),offset:0},{color:k(151,190,220,50),offset:1}]}),it=W.getColor().setA(255),nt=k(150,150,150),rt=[k(242,239,210,150),k(243,238,183,150),k(210,222,136,150),k(204,217,148,150),k(157,190,124,150),k(143,178,72,150),k(198,147,88,150),k(216,148,71,150),k(229,142,103,150),k(225,174,152,150),k(219,149,203,150),k(216,188,209,150),k(109,198,189,150),k(172,206,202,150),k(164,223,217,150),k(174,215,233,150),k(203,225,235,150),k(220,227,243,150),k(207,213,227,150),k(171,182,209,150)];return bm({isDark:t,highlightColorOffset:k(-60,-60,-60,60),highlightColorOffsetAxisOverlay:k(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:e,dashboardSplitterFillStyle:i,panelBackgroundFillStyle:n,seriesBackgroundFillStyle:r,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:o,axisTitleFillStyle:s,axisLabelMajorFillStyle:a,axisLabelMinorFillStyle:u,uiTitleFillStyle:c,uiTextFillStyle:f,cursorTextFillStyle:p,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:v,axisTickMinorFillStyle:g,axisGridMinorFillStyle:m,cursorGridFillStyle:x,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:A,legendButtonDefaultColor:b,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:w,uiBackgroundColor:C,uiBackgroundBorderColor:P,uiStrokeColorContrastHigh:E,uiStrokeColorContrastMedium:T,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:_,dataStrokeColorContrastMedium:I,dataStrokeColorContrastLow:O,dataColorPalette:B,dataColorPaletteInverted:[{area:k(210,70,70,100),border:k(200,110,110)}],dataHighlightOverlayColor:z,dataColorPositive:L,dataColorNegative:R,zoomBandChartDefocusOverlayFillStyle:new et({color:k(255,255,255,180)}),zoomBandChartSplitterColor:D("#446A40"),zoomBandChartKnobFillStyle:function(t){return new la({source:Mm(t,"zoomBandChart/lightnature-selector.png"),fitMode:ms.Fill})},zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:N,treeMapChartParentColor:D("#EFF7EE"),treeMapChartNodeColors:rt,treeMapChartLabelFillStyle:new et({color:k(0,0,0)}),treeMapChartLabelHeaderFillStyle:new et({color:k(33,33,33)})},{positiveTextFillStyle:U,negativeTextFillStyle:Y,positiveFillStyle:G,negativeFillStyle:j,positiveAreaFillStyle:W,negativeAreaFillStyle:X,positiveBackgroundFillStyle:H,negativeBackgroundFillStyle:Z,badGoodColorPalette:Q,coldHotColorPalette:q,intensityColorPalette:K,spectrogramColorPalette:J,bollingerFillStyle:tt,bollingerBorderFillStyle:$,highlightPointColor:k(0,0,0),highlightDataGridColor:it,unfocusedDataColor:nt})})),_m=ai((function(){var t=k(255,255,255),e=new et({color:t}),i=!0,n=new Aa({spread:1,blur:9,offset:{x:0,y:0},color:k(255,255,255,30)}),r=new et({color:k(6,15,36)}),o=new ft({stops:[{color:k(46,13,87,50),offset:0},{color:k(0,0,0,150),offset:1}]}),s=new et({color:k(0,5,8,150)}),a=e,u=e,l=e,h=new et({color:k(255,255,220,130)}),c=e,f=e,p=f,d=new dt({angle:45,stops:[{offset:0,color:k(241,133,255,255)},{offset:1,color:k(115,207,238,255)}]}),y=e,v=new et({color:k(61,94,110,100)}),g=new et({color:k(61,94,110,255)}),m=new et({color:k(61,94,110,40)}),x=e,S=new et({color:k(0,18,23,255)}),A=e,b=k(115,207,238,255),M=new et({color:k(0,17,22,240)}),w=e,C=k(0,38,48,255),P=k(0,0,0),E=t,T=k(150,150,150),F=k(19,57,93),_=k(50,50,50),I=k(0,17,48),O=k(200,200,200),B=[k(20,211,237,255),k(98,147,252,255),k(164,73,250,255),k(129,117,253,255),k(95,134,252,255),k(22,133,212,255),k(35,200,242,255),k(104,121,233,255),k(137,69,232,255),k(70,72,241,255)].map((function(t){return{stroke:t,border:t,area:t.setA(180)}})),z=t.setA(50),L=k(3,217,194,255),R=k(243,21,110,255),V={mapChartFillStyle:new dt({angle:135,stops:[{color:k(118,248,231,255),offset:0},{color:k(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:wm(i,B,.5),pieChartSliceFillStylePalette:Cm(i,B,2),funnelChartSliceFillStylePalette:Pm(i,B,1),pyramidChartSliceFillStylePalette:Pm(i,B,1),rectangleSeriesFillStyle:Em(i,B),gaugeChartBarColor:k(3,217,194,255),gaugeChartGlowColor:k(3,217,194,150)},N=new et({color:k(20,211,237,255)}),U=new et({color:k(253,145,178,255)}),Y=new et({color:k(20,211,237,255)}),G=new et({color:k(239,68,121,255)}),j=new et({color:k(20,211,237,120)}),W=new et({color:k(239,68,121,180)}),X=new et({color:k(1,53,57,255)}),H=new et({color:k(94,19,42,255)}),Z=[k(174,51,132,255),k(204,107,218,255),k(189,215,253,255)],Q=[k(0,63,95,255),k(0,149,255,255),k(0,225,255,255),k(255,154,254,255),k(204,98,170,255),k(139,39,84,255)],q=[k(197,241,255,255),k(70,210,255,255),k(0,164,217,255),k(90,99,222,255),k(138,75,192,255),k(151,27,162,255)],K=[k(13,31,52,255),k(129,54,130,255),k(131,108,176,255),k(7,162,213,255),k(26,247,255,255)],J=new ft({stops:[{color:k(219,42,235,60),offset:0},{color:k(237,73,252,10),offset:1}]}),$=new et({color:k(237,73,252,255)}),tt=j.getColor().setA(255),it=k(8,70,100),nt=[k(149,230,255,150),k(93,213,243,150),k(20,189,223,150),k(5,151,181,150),k(2,138,198,150),k(2,113,198,150),k(97,148,236,150),k(93,111,230,150),k(151,120,223,150),k(128,87,227,150),k(153,52,230,150),k(179,92,245,150),k(248,110,211,150),k(255,155,228,150),k(251,88,207,150),k(255,0,162,150),k(214,73,177,150),k(209,71,159,150),k(238,101,169,150),k(210,57,134,150)];return bm({isDark:i,highlightColorOffset:k(60,60,60,60),highlightColorOffsetAxisOverlay:k(255,255,255,40),effect:n,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:function(t){return new la({source:Mm(t,"themes/cyberSpace.jpg"),fitMode:ms.Fill})},dashboardSplitterFillStyle:r,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:s,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:a,axisTitleFillStyle:u,axisLabelMajorFillStyle:l,axisLabelMinorFillStyle:h,uiTitleFillStyle:c,uiTextFillStyle:f,cursorTextFillStyle:p,axisLineFillStyle:d,axisTickMajorFillStyle:y,axisGridMajorFillStyle:v,axisTickMinorFillStyle:g,axisGridMinorFillStyle:m,cursorGridFillStyle:x,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:A,legendButtonDefaultColor:b,resultTableBackgroundFillStyle:M,resultTableBackgroundBorderFillStyle:w,uiBackgroundColor:C,uiBackgroundBorderColor:P,uiStrokeColorContrastHigh:E,uiStrokeColorContrastMedium:T,uiStrokeColorContrastLow:F,dataStrokeColorContrastHigh:_,dataStrokeColorContrastMedium:I,dataStrokeColorContrastLow:O,dataColorPalette:B,dataColorPaletteInverted:[{area:k(41,130,255,100),border:k(45,110,240)}],dataHighlightOverlayColor:z,dataColorPositive:L,dataColorNegative:R,zoomBandChartDefocusOverlayFillStyle:new et({color:k(0,0,0,180)}),zoomBandChartSplitterColor:D("#DB77FF"),zoomBandChartKnobFillStyle:function(t){return new la({source:Mm(t,"zoomBandChart/cyberspace-selector.png"),fitMode:ms.Fill})},zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:V,treeMapChartParentColor:D("#1E1E3B"),treeMapChartNodeColors:nt,treeMapChartLabelFillStyle:new et({color:k(33,33,33)}),treeMapChartLabelHeaderFillStyle:new et({color:k(250,250,250)})},{positiveTextFillStyle:N,negativeTextFillStyle:U,positiveFillStyle:Y,negativeFillStyle:G,positiveAreaFillStyle:j,negativeAreaFillStyle:W,positiveBackgroundFillStyle:X,negativeBackgroundFillStyle:H,badGoodColorPalette:Z,coldHotColorPalette:Q,intensityColorPalette:q,spectrogramColorPalette:K,bollingerFillStyle:J,bollingerBorderFillStyle:$,highlightPointColor:t,highlightDataGridColor:tt,unfocusedDataColor:it})})),Im={};Object.defineProperty(Im,"darkGold",{get:Tm,enumerable:!0}),Object.defineProperty(Im,"turquoiseHexagon",{get:km,enumerable:!0}),Object.defineProperty(Im,"light",{get:Dm,enumerable:!0}),Object.defineProperty(Im,"lightNature",{get:Fm,enumerable:!0}),Object.defineProperty(Im,"cyberSpace",{get:_m,enumerable:!0});var Om,Bm=Im,zm=Bm.darkGold,Lm=function(){return(Lm=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Rm=function(t){return Lm(Lm({},t),{effect:void 0})},Vm=function(t,e){void 0===e&&(e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC");var i,n=0,r=0,o=[],s=function(t){var e=new ne.Image;e.src=t,e.onload=function(){o.forEach((function(t){var i,o=new la({source:e,fitMode:ms.Stretch});null===(i=t.vv)||void 0===i||i.Br(o),n=e.width,r=e.height,c(t)}))}};s(e);var a,u=t.Gs((function(t){return s(t)}));if(new ne.Image instanceof ne.HTMLImageElement)(l=new ne.Image).src=e,a=new la({source:l,fitMode:ms.Stretch});else if(ne.lcjs_setup){var l;(l=new ne.Image).src=e;var h=ne.lcjs_setup(l.naturalWidth,l.naturalHeight);h.getContext("2d").drawImage(l,0,0),a=new la({source:h,fitMode:ms.Stretch})}else a=new et({color:D("#f00")});var c=function(t){if(t.vv){var e=t.vt.Ai({x:t.vt.x.getInnerEnd(),y:t.vt.y.getInnerStart()},{x:-(3+n),y:3}),o=t.vt.Ai({x:t.vt.x.getInnerEnd(),y:t.vt.y.getInnerStart()},{x:-3,y:3+r}),s={x:o.x-e.x,y:o.y-e.y};t.vv.Lr(e).tt(s)}i&&i.Sn()};return i=t.sF("logo",Number.MAX_SAFE_INTEGER),function(e){var n={vt:e};return function(e){e.vv&&e.vv.dispose(),i&&(e.vv=i.Er(e.vt).Br(a).setMouseInteractions(!0).Dr(gt).setMouseEnterEventHandler((function(){t.ds(Kn.Point)})).setMouseLeaveEventHandler((function(){t.ds(Kn.None)})).setMouseClickEventHandler(Nm).setTouchEndEventHandler(Nm),c(e))}(n),o.push(n),{En:function(){return c(n)},U:function(){return function(e){e.vv&&(e.vv.dispose(),e.vv=void 0);var i=o.indexOf(e);i>=0&&o.splice(i,1),o.length<=0&&t.Us(u)}(n)}}}},Nm=function(){return ne.open("https://lightningchart.com/lightningchart-js/")},Um=function(){function t(){this.QE=this.QF.bind(this),ne.addEventListener("scroll",this.QE,{passive:!0})}return t.prototype.U=function(){this.QE&&ne.removeEventListener("scroll",this.QE),this.QE=void 0},t}(),Ym=function(t,e){this.Sh=t,this.Z=e,this.KE=!0,this.JE=null,this.qE=null},Gm=function(){function t(t){this.$E=!1,this.tP=1,this.iP=t,this.nP={Sh:y(0,0),Z:y(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),KE:!0,JE:null,qE:null},this.rP=y(64,64),this.eP=new Uint8ClampedArray(this.rP.x*this.rP.y*this.tP)}return t.prototype.oP=function(t,e){if(!t.KE)return null;if(t.JE&&t.qE){var i=this.oP(t.JE,e);return null!==i?i:this.oP(t.qE,e)}var n,r,o=v(t.Z.x,t.Z.y);if(t.Sh.x+t.Z.x>=Number.MAX_SAFE_INTEGER&&(o.x=this.rP.x-t.Sh.x-1),t.Sh.y+t.Z.y>=Number.MAX_SAFE_INTEGER&&(o.y=this.rP.y-t.Sh.y-1),t.Z.x===e.x&&t.Z.y===e.y)return t.KE=!1,t;if(o.x<e.x||o.y<e.y)return null;var s=o.x-e.x,a=o.y-e.y,u=s<a;return 0===s&&0===a&&(u=!(t.Z.x>t.Z.y)),u?(n=new Ym(Hi(t.Sh,{x:0,y:1}),y(t.Z.x,e.y)),r=new Ym(Hi(t.Sh,{x:0,y:e.y+1}),y(t.Z.x,t.Z.y-1-e.y))):(n=new Ym(Hi(t.Sh,{x:1,y:0}),y(e.x,t.Z.y)),r=new Ym(Hi(t.Sh,{x:e.x+1,y:0}),y(t.Z.x-1-e.x,t.Z.y))),t.JE=n,t.qE=r,this.oP(t.JE,e)},t.prototype.sP=function(t,e){var i={uP:!1,Sh:null},n=this.oP(this.nP,e);if(null===n)for(;null===n&&this.rP.x<this.iP&&this.rP.y<this.iP;){if(!this.hP(y(2*this.rP.x,2*this.rP.y)))return this.$E=!0,null;i.uP=!0,n=this.oP(this.nP,e)}if(null===n)return this.$E=!0,null;for(var r=0;r<e.y;r+=1)for(var o=0;o<e.x;o+=1){var s=n.Sh.y+r,a=n.Sh.x+o;this.eP[s*this.tP*this.rP.x+a*this.tP+0]=t[r*this.tP*e.x+o*this.tP+0]}return i.Sh=n.Sh,i},t.prototype.hP=function(t){if(t.x>this.iP||t.y>this.iP)return!1;for(var e=new Uint8ClampedArray(t.x*t.y*this.tP),i=0;i<this.rP.y;i+=1)for(var n=0;n<this.rP.x;n+=1)e[i*t.x*this.tP+n*this.tP+0]=this.eP[i*this.rP.x*this.tP+n*this.tP+0];return this.rP=t,this.eP=e,!0},t}(),jm=function(){return(jm=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Wm=function(){function t(t){this.aP=new Map,this.iP=t,this.aP.set(this.aP.size,new Gm(this.iP))}return t.prototype.fP=function(t){return this.aP.get(t)},t.prototype.sP=function(t,e){for(var i=-1,n=Array.from(this.aP.values()),r=0;r<n.length;r+=1){var o=n[r];if(!o)break;if(!o.$E){i=r;break}}-1===i&&(i=this.aP.size,this.aP.set(this.aP.size,new Gm(this.iP)));var s=this.aP.get(i);if(!s)return null;var a=s.sP(t,e);if(!a&&s.$E){var u=this.aP.size,l=new Gm(this.iP);this.aP.set(u,l),i=u,a=l.sP(t,e)}return a?jm({cP:i},a):null},t}();!function(t){t[t.Fail=0]="Fail",t[t.Success=1]="Success",t[t.Resize=2]="Resize"}(Om||(Om={}));var Xm=Qe("font-texture"),Hm=function(){function t(t){this.lP=new Map,this.vP=new Map,this.Ru=Xm(),this.dP=t,this.AP=new Wm(this.dP.yP||4096)}return t.prototype.mP=function(){var t=this;return this.vP.forEach((function(e){t.dP.bP(e)})),this.vP.clear(),this},t.prototype.pP=function(t,e){var i=this.lP.get(e);if(i)return i.get(t)},t.prototype.gP=function(t,e,i){var n=this.lP.get(e);if(n||(n=new Map,this.lP.set(e,n)),n.has(t.glyph))return Om.Success;var r=this.AP.sP(i,t.size);if(!r||!r.Sh)return Om.Fail;r.uP&&this.SP();var o=this.AP.fP(r.cP);if(!o)return Om.Fail;var s=this.vP.get(r.cP);if(!s){var a=this.dP.gl.createTexture();if(!a)throw new qt("Failed to create texture for font!");s=a,this.vP.set(r.cP,a)}var u=r.Sh,l=o.rP.x,h=o.rP.y,c=-t.offsetX,f=t.baseline-t.size.y,p=-t.offsetX+t.size.x,d=t.baseline,y=u.x/l,v=(u.y+t.size.y)/h,g=(u.x+t.size.x)/l,m=u.y/h,x=[y,v,g,v,y,m,y,m,g,v,g,m],S=[c,f,p,f,c,d,c,d,p,f,p,d],A={origin:u,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:S,texCoords:x,packerId:r.cP,texture:s};n.set(t.glyph,A);var b=this.dP.gl;return b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),b.bindTexture(b.TEXTURE_2D,s),b.texImage2D(b.TEXTURE_2D,0,b.LUMINANCE,o.rP.x,o.rP.y,0,b.LUMINANCE,b.UNSIGNED_BYTE,this.dP.xP?o.eP:new Uint8Array(o.eP)),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.bindTexture(b.TEXTURE_2D,null),r.uP?Om.Resize:Om.Success},t.prototype.SP=function(){var t=this;this.lP.forEach((function(e){e.forEach((function(i,n){var r=t.AP.fP(i.packerId);if(r){var o=i.origin,s=r.rP.x,a=r.rP.y,u=o.x/s,l=(o.y+i.size.y)/a,h=(o.x+i.size.x)/s,c=o.y/a,f=[u,l,h,l,u,c,u,c,h,l,h,c];i.texCoords=f,e.set(n,i)}}))}))},t}(),Zm=function(t){if(t instanceof Cn||t instanceof Ly)return t.wi()?"linear-highPrecision":"linear";if(t instanceof Pn){var e={};return t.x instanceof cn&&(e.x={base:t.x.di()}),t.y instanceof cn&&(e.y={base:t.y.di()}),["logarithmic",e]}return"linear"},Qm=function(t){var e=Object.keys(t),i={};return e.forEach((function(e){var n=t[e],r=!1;i[e]=function(t){if(!t)return r;var e=n();return r=e,e}})),i},qm=function(t,e,i){return"value"===t.getLookUpProperty()?i:"x"===t.getLookUpProperty()?{min:e.At(),max:e.yt()}:"y"===t.getLookUpProperty()?{min:e.bt(),max:e.St()}:"z"===t.getLookUpProperty()?{min:e.Gp(),max:e.Rp()}:void 0},Km=function(t){return!(!t||"value"!==t.lookUpProperty||!t.lut.percentageValues)},Jm=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},$m=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},tx=function(t){return function(e,i){return i%2?e:e+t}},ex=function(){function t(t){this.wP=new Map,this.MP=Qe("font"),this.CP=new Map,this._P=new Set,this.dP=t}return t.prototype.mP=function(t){var e=this;return void 0===t&&(t=!1),(t||0===this._P.size)&&(this.wP.forEach((function(t,i){t.mP(),e.wP.delete(i)})),this._P.clear()),this},t.prototype.TP=function(t){this._P.add(t)},t.prototype.kP=function(t){this._P.delete(t)},t.prototype.OP=function(t,e,i,n){for(var r=ne.devicePixelRatio,o=Ao(e,r),s="".concat(n?"dark":"light"," - ").concat(o.id),a=this.CP.get(s),u=this.wP.get(a),l=0,h=0,c=0,f=t.split(""),p=e.size,d=.45*e.size*r,y=Math.round(1*e.size),v=!1,g=0;g<f.length;g+=1){var m=f[g],x=u&&u.pP(m,p);x?(""!==m.trim()&&(h=Math.max(h,x.baseline),l=Math.min(l,x.baseline-(x.size.y-1))),c+=x.advanceX):(""!==m.trim()&&(h=Math.max(h,0),l=Math.min(l,0-(y-1))),c+=d,v=!0)}var S=function(t,e,i){if(0===i||360===i||180===i||i%180==0)return{x:t,y:e};if(90===i||-90===i||(i+90)%180==0)return{x:e,y:t};var n=i*Math.PI/180,r=Math.cos(n),o=Math.sin(n);return{x:Math.abs(t*r)+Math.abs(e*o),y:Math.abs(t*o)+Math.abs(e*r)}}(c/r,(h-l+1)/r,i);return{x:S.x,y:S.y,isEstimate:v}},t.prototype.FP=function(t,e,i){var n,r,o="".concat(i?"dark":"light"," - ").concat(e.id),s=this.CP.get(o);s||(s=this.MP(),this.wP.set(s,new Hm(this.dP)),this.CP.set(o,s));var a=this.wP.get(s);if(!a)throw new qt("Failed to get font texture!");for(var u,l=0,h=0,c=t.split(""),f=new Map,p=0,d=e.properties.size,v=0;v<c.length;v+=1){var g=c[v],m=Math.ceil(p),x=a.pP(g,d);if(!x){var A=this.dP.IP(g,e.properties,e.dpr,i);if(!A)continue;var b=a.gP(A[1],d,A[0]);if(b===Om.Resize){this._P.forEach((function(t){t.dh.o=!0})),v=-1,p=0,h=0,l=0,f.clear(),this.dP.fn.Sn(!0);continue}if(b===Om.Fail)throw new qt("Failed to create glyph");if(!(x=a.pP(g,d)))throw new qt("Failed to get glyph after creation")}if(""!==g.trim()){var M=f.get(x.texture);M||(M={vertices:[],texCoords:[]},f.set(x.texture,M)),(n=M.vertices).push.apply(n,$m([],Jm(x.vertices.map(tx(m))),!1)),(r=M.texCoords).push.apply(r,$m([],Jm(x.texCoords),!1)),h=Math.max(h,x.baseline),l=Math.min(l,x.baseline-(x.size.y-1))}p+=x.advanceX}u=p;var w=S(y(0,l),y(u,h)),C=[];return f.forEach((function(t,e){C.push({texCoords:new Float32Array(t.texCoords),vertices:new Float32Array(t.vertices),texture:e})})),[C,w]},t}(),ix=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nx=function(){function t(t){this.modifiers=[],this.modifiers=t}return t.prototype.build=function(t){var e,i,n=this.modifiers.filter((function(t){return rx(t)}));try{for(var r=ix(n),o=r.next();!o.done;o=r.next())t=(0,o.value)(t)}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}var s=ii(this.modifiers.filter((function(t){return ox(t)})));return"".concat(s.map((function(t){return t.jP})).join("\n"),"\n").concat(t)},t}(),rx=function(t){return"function"==typeof t},ox=function(t){return t&&"object"===a(t)&&"DP"in t},sx=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var i,n;t=t.reverse();try{for(var r=ix(t),o=r.next();!o.done;o=r.next()){var s=o.value;"string"==typeof s&&(s=(s=s.includes("{")||s.endsWith(";")?s:"".concat(s,";")).trim(),e=e.replace("void main(void)","".concat(s,"\nvoid main(void)")))}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return e}},ax=function(t){return function(e){return t=t.endsWith(";")?t:"".concat(t,";"),e.replace(t,"")}},ux=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var i=t.filter((function(t){return t})),n=0;n<i.length;n+=1)i[n]=i[n].endsWith(";")?i[n]:"".concat(i[n],";"),i[n]=i[n].startsWith("\t")?i[n]:"\t".concat(i[n]);var r=i.join("\n");return e.replace("void main(void) {\n","void main(void) {\n".concat(r,"\n"))}},lx=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(i){for(var n=0;n<e.length;n+=1)e[n]=e[n].endsWith(";")?e[n]:"".concat(e[n],";"),e[n]=e[n].startsWith("\t")?e[n]:"\t".concat(e[n]);var r=e.join("\n"),o=new RegExp("(.*".concat(t,".*)")),s=i.replace(o,"".concat(r,"\n$1"));return e.forEach((function(e){if(!s.includes(e))throw new Error("ShaderBefore misusage (not found: \n".concat(e,"\nmatch: \n").concat(t,"\nresult: \n").concat(s,"\n)"))})),s}},hx=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(i){for(var n=e.filter((function(t){return"string"==typeof t})),r=0;r<n.length;r+=1)n[r]=n[r].endsWith(";")?n[r]:"".concat(n[r],";"),n[r]=n[r].startsWith("\t")?n[r]:"\t".concat(n[r]);var o=n.join("\n"),s=i.lastIndexOf(t),a=i.substring(s),u=a.indexOf("\n"),l=a.substring(u),h="".concat(i.substring(0,s+u),"\n").concat(o).concat(l);return n.forEach((function(e){if(!h.includes(e))throw new Error('ShaderAfter misusage (not found: "'.concat(e,'", match: "').concat(t,'", result: "').concat(h,'")'))})),h}},cx=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var i,n;try{for(var r=ix(t),o=r.next();!o.done;o=r.next()){var s=o.value;if("string"==typeof s){s=(s=(s=s.endsWith(";")?s:"".concat(s,";")).trim()).startsWith("\t")?s:"\t".concat(s);var a=e.lastIndexOf("}");e="".concat(e.substring(0,a-1),"\n").concat(s,"\n}")}}}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return e}},fx=function(t,e){return function(i){var n,r;if(t.includes("uniform")||t.includes("attribute")){var o=t.endsWith(";")?t:"".concat(t,";");i=sx(o)(i),n=t.split(" ")[2].replace(";","")}else n=t;if(e.includes(" ")){var s=e.endsWith(";")?e:"".concat(e,";");i=sx(s)(i),r=e.split(" ")[2].replace(";","")}else r=e;var a="\t".concat(r," = ").concat(n,";");return cx(a)(i)}},px=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var i,n;t=t.reverse();try{for(var r=ix(t),o=r.next();!o.done;o=r.next())e=o.value+e}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return e}},dx={roundUnsigned:{DP:"roundUnsigned",jP:"float roundUnsigned(float number) {\n  return floor(number + 0.5);\n}"},linearStep:{DP:"linearStep",jP:"float linearStep(float step0, float step1, float step) {\n  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);\n}"},decodeUbyteRGBAEncodedFloat:{DP:"decodeUbyteRGBAEncodedFloat",jP:"\n      // Denormalize 8-bit color channels to integers in the range 0 to 255.\n      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {\n        ivec4 bytes = ivec4(inputFloats * 255.0);\n        return (\n          littleEndian\n          ? bytes.abgr\n          : bytes\n        );\n      }\n      \n      // Break the four bytes down into an array of 32 bits.\n      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {\n        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {\n          float acc = float(bytes[channelIndex]);\n          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {\n            float powerOfTwo = exp2(float(indexInByte));\n            bool bit = acc >= powerOfTwo;\n            bits[channelIndex * 8 + (7 - indexInByte)] = bit;\n            acc = mod(acc, powerOfTwo);\n          }\n        }\n      }\n      \n      // Compute the exponent of the 32-bit float.\n      float getExponent(bool bits[32]) {\n        const int startIndex = 1;\n        const int bitStringLength = 8;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        float acc = 0.0;\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Compute the mantissa of the 32-bit float.\n      float getMantissa(bool bits[32], bool subnormal) {\n        const int startIndex = 9;\n        const int bitStringLength = 23;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        // Leading/implicit/hidden bit convention:\n        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.\n        float acc = float(!subnormal) * exp2(float(bitStringLength));\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Parse the float from its 32 bits.\n      float bitsToFloat(bool bits[32]) {\n        float signBit = float(bits[0]) * -2.0 + 1.0;\n        float exponent = getExponent(bits);\n        bool subnormal = abs(exponent - 0.0) < 0.01;\n        float mantissa = getMantissa(bits, subnormal);\n        float exponentBias = 127.0;\n        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);\n      }\n      \n      // Decode a 32-bit float from the RGBA color channels of a texel.\n      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {\n        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);\n        bool bits[32];\n        bytesToBits(rgbaBytes, bits);\n        return bitsToFloat(bits);\n      }\n      "},texelFetchWithFallback:{webgl2:{DP:"texelFetchWithFallback",jP:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{DP:"texelFetchWithFallback",jP:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},texelFetchUnsignedWithFallback:{webgl2:{DP:"texelFetchUnsignedWithFallback",jP:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{DP:"texelFetchUnsignedWithFallback",jP:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},modulus:{DP:"modulus",jP:"int modulus(int a, int b) {\n  return (a)-((a)/(b))*(b);\n}"},computeScreenSpaceWireframe:{DP:"computeScreenSpaceWireframe",jP:"#extension GL_OES_standard_derivatives : enable\nfloat computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {\n  vec3 dist = fwidth(barycentric);\n  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);\n  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);\n}"}},yx=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},vx=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},gx=function(t,e){for(var i=e.steps,n=i.length-1,r=[sx("uniform vec4 uFallbackColor")],o=[],s=[],a=0;a<e.steps.length;a+=1)o.push("uniform float uLUTValue".concat(a)),s.push("uniform vec4 uLUTColor".concat(a));return r.push(sx.apply(void 0,vx(vx([],yx(o),!1),yx(s),!1)),e.percentageValues&&sx("uniform float uMinValue","uniform float uMaxValue")),e.interpolate?r.push(hx.apply(void 0,vx(vx(["".concat("colorFragment"," ="),"vec4 colorLookup = uLUTColor0","float value = ".concat(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (value <= ".concat("-340282346638528859811704183484516925440.0",") {\n                    colorLookup = uFallbackColor;\n                }"),"if (value >= uLUTValue".concat(n,") {\n                    colorLookup = uLUTColor").concat(n,";\n                }")],yx(i.slice(0,-1).map((function(t,e){return"if (value >= uLUTValue".concat(e," && value <= uLUTValue").concat(e+1,") {\ncolorLookup = uLUTColor").concat(e," + vec4(uLUTColor").concat(e+1,".r -  uLUTColor").concat(e,".r, uLUTColor").concat(e+1,".g -  uLUTColor").concat(e,".g, uLUTColor").concat(e+1,".b -  uLUTColor").concat(e,".b, uLUTColor").concat(e+1,".a -  uLUTColor").concat(e,".a) * (value - uLUTValue").concat(e,")/(uLUTValue").concat(e+1," - uLUTValue").concat(e,");} ")}))),!1),["".concat("colorFragment"," = colorLookup")],!1))):r.push(hx("".concat("colorFragment"," ="),"vec4 colorLookup = vec4(uLUTValue0)","float value = ".concat(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (".concat(t," <= ").concat("-340282346638528859811704183484516925440.0",") {\n                    colorLookup = uFallbackColor;\n                } else if (").concat(t," < uLUTValue0) { colorLookup = uLUTColor0;} ").concat(i.slice().reverse().map((function(t){var e=i.indexOf(t);return"else if (value >= uLUTValue".concat(e,") { colorLookup = uLUTColor").concat(e,";} ")})).join("")),"".concat("colorFragment"," = colorLookup"))),r},mx=[sx("uniform sampler2D ".concat("uMaskTexture")),sx("varying vec2 vMaskTextureCoord"),hx("".concat("antiAliasFactor"," ="),"vec4 maskTextureSample = texture2D(".concat("uMaskTexture",", vMaskTextureCoord)"),"".concat("antiAliasFactor"," = maskTextureSample.r"))],xx=[sx("uniform sampler2D ".concat("uMaskTexture")),sx("varying vec2 vMaskTextureCoord"),hx("".concat("antiAliasFactor"," ="),"vec4 maskTextureSample = texture2D(".concat("uMaskTexture",", vMaskTextureCoord)"),"".concat("antiAliasFactor"," = maskTextureSample.a"))],Sx=[sx("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),hx("".concat("colorFragment"," ="),"float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = ".concat("colorFragment",".rgb"),"vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","".concat("colorFragment"," = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, ").concat("colorFragment",".a)"))],Ax=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bx=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mx=function(t,e){var i,n,r=t.map((function(i){return i.apply(t,e)})),o=r.map((function(t){return t.idVertex})).filter((function(t){return void 0!==t})).sort().join(" "),s=r.map((function(t){return t.idFragment})).filter((function(t){return void 0!==t})).sort().join(" "),a="vert: ".concat(o," frag: ").concat(s),u=!1,l=!1,h=[],c=[],f=[];if(r.forEach((function(t){var e,r,o,s;if(t.defaultVertexShader&&(u||(i=t.defaultVertexShader)),t.vertexShader){if(i&&u&&i!==t.vertexShader)throw new wx("Conflicting vertex shader templates ".concat(i," vs ").concat(t.vertexShader),a,t);i=t.vertexShader,u=!0}if(t.vertexShaderModifiers)try{for(var p=bx(t.vertexShaderModifiers),d=p.next();!d.done;d=p.next())void 0!==(g=d.value)&&!1!==g&&h.push(g)}catch(t){e={error:t}}finally{try{d&&!d.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}if(t.defaultFragmentShader&&(l||(n=t.defaultFragmentShader)),t.fragmentShader){if(n&&l&&n!==t.fragmentShader)throw new wx("Conflicting fragment shader templates ".concat(n," vs ").concat(t.fragmentShader),a,t);n=t.fragmentShader,l=!0}if(t.fragmentShaderModifiers)try{for(var y=bx(t.fragmentShaderModifiers),v=y.next();!v.done;v=y.next()){var g;void 0!==(g=v.value)&&!1!==g&&c.push(g)}}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}t.hints&&t.hints.forEach((function(t){t&&f.push(t)}))})),!!t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.EP}))&&("webgl1"===e?h.push(sx("attribute float aInstanceID"),ux("int iInstance = int(aInstanceID)")):h.push(ux("int iInstance = gl_InstanceID"))),!!t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.PP}))&&("webgl1"===e?h.push(sx("attribute float aVertexID"),ux("int iVertex = int(aVertexID)")):h.push(ux("int iVertex = gl_VertexID"))),!i)throw new wx("No vertex shader template defined",a);if(!n)throw new wx("Fragment shader not defined",a);return{id:a,vertexShader:{id:o,template:i,modifiers:h},fragmentShader:{id:s,template:n,modifiers:c},hints:f}},wx=function(t){function e(e,i,n){return t.call(this,"Dynamic shader generation error\n(id: ".concat(i,")\n ").concat(n?"when applying feature: ".concat(n.idVertex?"vert: ".concat(n.idVertex):""," ").concat(n.idFragment?"frag: ".concat(n.idFragment):""):""," | ").concat(e))||this}return Ax(e,t),e}(Error),Cx=function(){for(var t,e,i,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s="";try{for(var u=bx(r),l=u.next();!l.done;l=u.next()){var h=l.value;if("object"===a(h))for(var c=[{prefix:"",obj:h}];c.length>0;){var f=c.shift(),p=f.prefix,d=f.obj;s+="".concat(p,":");var y=Object.keys(d).sort();try{for(var v=(i=void 0,bx(y)),g=v.next();!g.done;g=v.next()){var m=g.value,x=d[m];"object"===a(x)&&x.__proto__===Object.prototype||Array.isArray(x)?c.push({prefix:m,obj:x}):s+="".concat(m,"=").concat(String(x),",")}}catch(t){i={error:t}}finally{try{g&&!g.done&&(n=v.return)&&n.call(v)}finally{if(i)throw i.error}}}else s+="".concat(String(h),",")}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return s},Px=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Ex=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Tx=function(t){return void 0!==t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.LP}))},kx=function(t){return void 0!==t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.zP}))},Dx=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=[],o=e?"vec3":"vec2",s=t.axisWorldTranslation,a=t.scaling,u=t.translation,l=t.offset,h=t.flipXY,c=t.flipXZ,f=t.splitPosAttribute,p=t.normalSource,d=[];if("attribute"===p&&r.push(sx("attribute vec3 ".concat("aNormal")),ux("vec3 ".concat("normal"," = ").concat("aNormal"))),"linear-highPrecision"!==s?i.forEach((function(t){void 0!==t.attributeNameAxisCoord&&void 0!==t.variableNameAxisCoord&&(!0!==f?r.push(ux("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.attributeNameAxisCoord))):r.push(ux("".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y, ").concat(t.attributeNameAxisCoord,"Z)"):"vec2(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y)")))))})):i.forEach((function(e){!0!==t.splitPosAttribute?r.push(ux("".concat(o," ").concat(e.variableNameAxisCoord,"_highpart = ").concat(e.attributeNameAxisCoord,"_highpart")),ux("".concat(o," ").concat(e.variableNameAxisCoord,"_lowpart = ").concat(e.attributeNameAxisCoord,"_lowpart"))):r.push(ux("".concat(o," ").concat(e.variableNameAxisCoord,"_highpart = vec2(").concat(e.attributeNameAxisCoord,"_highpartX, ").concat(e.attributeNameAxisCoord,"_highpartY)")),ux("".concat(o," ").concat(e.variableNameAxisCoord,"_lowpart = vec2(").concat(e.attributeNameAxisCoord,"_lowpartX, ").concat(e.attributeNameAxisCoord,"_lowpartY)")))})),l&&l.rotation){var y=l.rotation.dataType,v="uniform"===y?"u":"a";if("attribute-deg"===y){r.push(sx("attribute float aRotDeg"),sx("uniform float uBaseRotDeg"));var g="c".concat("Rot"),m="aInstanceGeo";r.push(ux("vec2 ".concat(g," = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))"),"vec2 ".concat("rotatedGeo"," = vec2(").concat(m,".x * ").concat(g,".y + ").concat(m,".y * ").concat(g,".x, ").concat(m,".y * ").concat(g,".y - ").concat(m,".x * ").concat(g,".x)")))}else g="".concat(v).concat("Rot"),r.push(sx("".concat(y," vec2 ").concat(g))),m="aInstanceGeo",r.push(ux("vec2 ".concat("rotatedGeo"," = vec2(").concat(m,".x * ").concat(g,".y + ").concat(m,".y * ").concat(g,".x, ").concat(m,".y * ").concat(g,".y - ").concat(m,".x * ").concat(g,".x)")))}if(l&&r.push(sx("attribute ".concat(o," ").concat("aInstanceGeo"))),!0===h){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");i.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x, ").concat(t.variableNameAxisCoord,".z)"):"vec2(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(!0===c){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");i.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat("vec3(".concat(t.variableNameAxisCoord,".z, ").concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(a){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");var x="attribute"===a.dataType?"a":"u",S="".concat(x,"Scaling"),A=e?"vec3":"vec2";r.push(sx("".concat(a.dataType," ").concat(A," ").concat(S))),i.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," * ").concat(S))}))}if(u&&"axis"===u.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");var b="attribute"===u.dataType?"a":"u",M="".concat(b,"TranslationAxis"),w=e?"vec3":"vec2";r.push(sx("".concat(u.dataType," ").concat(w," ").concat(M))),i.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(M))}))}if(l&&"axis"===l.sizeUnit){if("linear-highPrecision"===s)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");var C="attribute"===l.dataType?"a":"u",P="".concat(C,"OffsetAxis"),E=!0===l.symmetric?"float":o;r.push(sx("".concat(l.dataType," ").concat(E," ").concat(P)));var T=l.halved?" * 0.5":"",k=(m=l.rotation?"rotatedGeo":"aInstanceGeo","offsetGeometry");d.push("".concat(o," ").concat(k," = ").concat(P," * ").concat(m).concat(T," * sign(uScale)")),e&&"gpu-calculate"===p&&d.push("".concat(o," ").concat("normal"," = ").concat(m)),i.forEach((function(t){d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(k))}))}if(void 0===s||"linear"===s)r.push(sx("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"))),i.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord," - uDisp) / uScale"))}));else if("linear-highPrecision"===s)r.push(sx("uniform ".concat(o," uDisp"),"uniform ".concat(o," uScale"),"uniform ".concat(o," uScaleStart_highpart"),"uniform ".concat(o," uScaleStart_lowpart"))),i.forEach((function(t){d.push("".concat(o," ").concat(t.variableNameAxisCoord,"_hprecision = (").concat(t.variableNameAxisCoord,"_highpart - uScaleStart_highpart) + (").concat(t.variableNameAxisCoord,"_lowpart - uScaleStart_lowpart)"),"".concat(o," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord,"_hprecision - uDisp) / uScale"),"".concat(o," ").concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord,"_highpart + ").concat(t.variableNameAxisCoord,"_lowpart"))}));else if("matrix"===s)r.push(sx("uniform mat3 uMatrix")),i.forEach((function(t){d.push("vec2 ".concat(t.variableNameWorldCoord," = (uMatrix * vec3(").concat(t.variableNameAxisCoord,", 1.0)).xy"))}));else if("matrix4"===s)r.push(sx("uniform mat4 uMatrix")),i.forEach((function(t){d.push("vec4 ".concat(t.variableNameWorldCoord," = uMatrix * ").concat(t.attributeNameAxisCoord))}));else if("logarithmic"===s[0]){r.push(sx("uniform ".concat(o," uScaleStart"),"uniform ".concat(o," uScaleStartLog"),"uniform ".concat(o," uScaleInterval"),"uniform ".concat(o," uScaleIntervalLog"),"uniform ".concat(o," uViewportStart"),"uniform ".concat(o," uViewportSize")));var D=e?["x","y","z"]:["x","y"],F=[];D.forEach((function(t){var e=s[1][t];if(void 0!==e){var i=e.base;if("e"===i)return;var n=pn(i),r="cLog".concat(i),o="float ".concat(r," = 1.0 / log(").concat(n.toFixed(1),")");F.includes(o)||F.push(o)}})),r.push(sx.apply(void 0,Ex([],Px(F),!1))),i.forEach((function(t,e){var i="".concat(e),n=[];D.forEach((function(e){var r=e.toUpperCase(),o=s[1][e];if(void 0===o)d.push("float posPercent".concat(r).concat(i," = (").concat(t.variableNameAxisCoord,".").concat(e," - uScaleStart.").concat(e,") / uScaleInterval.").concat(e));else{var a=o.base,u="e"===a;d.push("float posLog".concat(r).concat(i," = log(").concat(t.variableNameAxisCoord,".").concat(e,")").concat(u?"":" * cLog".concat(a)),"float posPercent".concat(r).concat(i," = (posLog").concat(r).concat(i," - uScaleStartLog.").concat(e,") / uScaleIntervalLog.").concat(e))}n.push("posPercent".concat(r).concat(i))})),d.push("".concat(o," ").concat(t.variableNameWorldCoord," = uViewportStart + ").concat(o,"(").concat(n.join(", "),") * uViewportSize"))}))}if(l&&"px"===l.sizeUnit){r.push(sx("uniform vec2 ".concat("uRatioPxClip")));var _="vec2(0.0, 0.0)";l.useAlignment&&(r.push(sx("uniform vec2 ".concat("uOffsetAlignment"))),_="uOffsetAlignment"),C="attribute"===l.dataType?"a":"u",P="".concat(C,"OffsetPixels"),E=!0===l.symmetric?"float":o,r.push(sx("".concat(l.dataType," ").concat(E," ").concat(P))),T=l.halved?" * 0.5":"",m=l.rotation?"rotatedGeo":"aInstanceGeo";var I="(".concat(m," + ").concat(_,") * ").concat(P).concat(T," * ").concat("uRatioPxClip");i.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(I))}))}if(l&&"scale"===l.sizeUnit){r.push(sx("uniform vec2 ".concat("uRatioPxClip"))),r.push(sx("uniform vec2 ".concat("uSizePixels"))),_="vec2(0.0, 0.0)",l.useAlignment&&(r.push(sx("uniform vec2 ".concat("uOffsetAlignment"))),_="uOffsetAlignment"),P="".concat("uniform"===l.dataType?"u":"a","OffsetScale"),r.push(sx("".concat(l.dataType," float ").concat(P))),m=l.rotation?"rotatedGeo":"aInstanceGeo";var O="(".concat(m," + ").concat(_,") * ").concat(P," * ").concat("uSizePixels"," * ").concat("uRatioPxClip");i.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(O))}))}if(l&&"wu"===l.sizeUnit){C="attribute"===l.dataType?"a":"u",P="".concat(C,"OffsetWU"),E=!0===l.symmetric?"float":o,r.push(sx("".concat(l.dataType," ").concat(E," ").concat(P))),T=l.halved?" * 0.5":"",m=l.rotation?"rotatedGeo":"aInstanceGeo";var B="offsetGeometry";d.push("".concat(o," ").concat(B," = ").concat(P," * ").concat(m).concat(T)),e&&"gpu-calculate"===p&&d.push("".concat(o," ").concat("normal"," = normalize(").concat(B,")")),i.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(B))}))}if(l&&"nwu"===l.sizeUnit){r.push(sx("uniform float ".concat("uRatioNwuWu"))),C="attribute"===l.dataType?"a":"u",P="".concat(C,"OffsetNWU"),E=!0===l.symmetric?"float":o,r.push(sx("".concat(l.dataType," ").concat(E," ").concat(P))),T=l.halved?" * 0.5":"",m=l.rotation?"rotatedGeo":"aInstanceGeo";var z="offsetGeometry";d.push("".concat(o," ").concat(z," = ").concat(P," * ").concat(m).concat(T)),e&&"gpu-calculate"===p&&d.push("".concat(o," ").concat("normal"," = normalize(").concat(z,")")),i.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(z," * ").concat("uRatioNwuWu"))}))}return t.snapToNearestPixel&&(r.push(sx("uniform vec2 uViewportSizePx")),i.forEach((function(t){d.push("".concat(t.variableNameWorldCoord," = 2.0 * floor(((").concat(t.variableNameWorldCoord," + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0"))}))),r.push(lx.apply(void 0,Ex(["gl_Position ="],Px(d),!1))),r},Fx=function(t,e,i,n){var r=[],o=t.axisWorldTranslation,s=e?"vec3":"vec2";if("linear"===o)r.push(hx(i,"".concat(s," ").concat(n," = ").concat(i," * uScale + uDisp")));else if("linear-highPrecision"===o)r.push(hx(i,"".concat(s," ").concat(n," = ").concat(i," * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart")));else{if("matrix"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("matrix4"===o)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("logarithmic"!==o[0])throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");var a=e?["x","y","z"]:["x","y"],u=["".concat(s," ").concat(i,"_percent = (").concat(i," - uViewportStart) / uViewportSize")];a.forEach((function(t){var e=t.toUpperCase(),n=o[1][t];if(void 0===n)u.push("float pos".concat(e,"Back = ").concat(i,"_percent.").concat(t," * uScaleInterval.").concat(t," + uScaleStart.").concat(t));else{var r=n.base,s="e"===r?"1.0":"cLog".concat(r);u.push("float pos".concat(e,"Back = pow(2.71828, (").concat(i,"_percent.").concat(t," * uScaleIntervalLog.").concat(t," + uScaleStartLog.").concat(t,") / ").concat(s,")"))}})),u.push("".concat(s," ").concat(n," = ").concat(s,"(posXBack, posYBack").concat(e?", posZBack":"",")")),r.push(hx.apply(void 0,Ex([i],Px(u),!1)))}return r},_x=function(t){return function(t){return void 0!==t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.VP}))}(t)?[ax("attribute vec4 aColor"),ax("vColor = aColor"),sx("attribute vec4 aColorA"),sx("attribute vec4 aColorB"),cx("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[]},Ix=function(t){return function(t){return void 0!==t.find((function(t){var e;return null===(e=t.BP)||void 0===e?void 0:e.NP}))}(t)?[ax("attribute float aLookupValue"),ax("vLookupValue = aLookupValue"),sx("attribute float aLookupValueA"),sx("attribute float aLookupValueB"),cx("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[]},Ox=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Bx=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},zx={"2D":{idFeature:"2D",apply:function(t){return{idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"}}},"2DCompose":{idFeature:"2DCompose",apply:function(t){return{idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"}}},"3D":{idFeature:"3D",BP:{LP:!0},apply:function(t){return{idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"}}},PointSize:function(t){return{idFeature:"PointSize",apply:function(e){var i="uniform"===t?"u":"a";return{idVertex:"SizePrimitive:".concat(Cx(t)),idFragment:void 0,vertexShaderModifiers:[sx("".concat(t," float ").concat(i,"PointSize"),"uniform float uDevicePixelRatio"),cx("gl_PointSize = ".concat(i,"PointSize * uDevicePixelRatio"))]}}}},Color:function(t){var e=t&&t.dataType,i=t&&t.maskTextureText,n=t&&t.maskTexture,r=t&&t.overrideOpacity;return{idFeature:"Color",BP:{zP:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,NP:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0,VP:"attribute"===t.dataType||void 0},apply:function(o,s){var a,u="Color:".concat(Cx(t)),l=[],h="FragmentShader",c=[];if("uniform"===e)c.push.apply(c,Bx(Bx([sx("uniform vec4 uColor"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = uColor"))],Ox(i?mx:[]),!1),Ox(n?xx:[]),!1));else if("attribute"===e)a="colorAttribute",l.push(fx("attribute vec4 aColor","varying vec4 vColor")),c.push.apply(c,Bx(Bx([sx("varying vec4 vColor"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = vColor"))],Ox(i?mx:[]),!1),Ox(n?xx:[]),!1));else if("texture"===e)a="colorTexCoord",l.push(fx("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),c.push.apply(c,Bx(Bx([sx("varying vec2 vTextureCoord"),sx("uniform sampler2D ".concat("uColorTexture")),sx("uniform vec4 uColor"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = texture2D(").concat("uColorTexture",", vTextureCoord)"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {\n                        ".concat("colorFragment"," = uColor;\n                    }"))],Ox(i?mx:[]),!1),Ox(n?xx:[]),!1));else if("texture-coord-calc-gpu"===e)a="colorTexCoord",h="Empty",l.push(sx("attribute vec2 aTextureCoord"),sx("varying vec2 vTextureCoord"),cx("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),c.push(sx("varying vec2 vTextureCoord"),sx("uniform sampler2D ".concat("uColorTexture")),ux("vec4 ".concat("colorFragment"," = texture2D(").concat("uColorTexture",", vTextureCoord)"),"gl_FragColor = ".concat("colorFragment",";")));else if(Array.isArray(e)&&"image"===e[0])a="colorTexCoord",l.push(fx("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),e[1].fitMode===ms.Tile?c.push(sx("uniform sampler2D ".concat("uColorTexture")),sx("varying vec2 vTextureCoord"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = texture2D(").concat("uColorTexture",", vTextureCoord);"))):c.push(sx("uniform sampler2D ".concat("uColorTexture")),sx("varying vec2 vTextureCoord"),sx("uniform vec4 uColor"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = texture2D(").concat("uColorTexture",", vTextureCoord);"),"if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){\n                                ".concat("colorFragment"," = uColor;\n                            }")));else if(Array.isArray(e)&&"lookup"===e[0]){var f=e[1];if("value"===f)a="lookup:value",l.push(fx("attribute float aLookupValue","varying float vLookupValue"));else{var p="".concat("posAxis",".").concat(f);a="lookup:".concat(f),l.push(fx(p,"varying float vLookupValue"))}c.push.apply(c,Bx(Bx(Bx([sx("varying float vLookupValue")],Ox(gx("vLookupValue",e[2])),!1),Ox(i?mx:[]),!1),Ox(n?xx:[]),!1))}else if(Array.isArray(e)&&"gradient"===e[0]){var d=e[1],y=d.getColorStops();pt(d)?(u="rgradient".concat(y.length,",").concat(n,",").concat(i),c.push.apply(c,Bx(Bx([sx("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),sx.apply(void 0,Bx([],Ox(ce(y.map((function(t,e){return["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)]})))),!1)),dx.linearStep,hx.apply(void 0,Bx(Bx(["".concat("colorFragment"," ="),"vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))"],Ox(y.map((function(t,e){return e<2?"":"color = mix(color, color_".concat(e,", linearStep(stop_").concat(e-1,", stop_").concat(e,", mixVal));")}))),!1),["".concat("colorFragment"," = color")],!1))],Ox(i?mx:[]),!1),Ox(n?xx:[]),!1))):yt(d)&&(u="lgradient".concat(y.length,",").concat(n,",").concat(i),c.push.apply(c,Bx(Bx([sx("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),sx.apply(void 0,Bx([],Ox(ce(y.map((function(t,e){return["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)]})))),!1)),dx.linearStep,hx.apply(void 0,Bx(Bx(["".concat("colorFragment"," ="),"vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))"],Ox(y.map((function(t,e){return e<2?"":"color = mix(color, color_".concat(e,", linearStep(stop_").concat(e-1,", stop_").concat(e,", magnitude))")}))),!1),["".concat("colorFragment"," = color")],!1))],Ox(i?mx:[]),!1),Ox(n?xx:[]),!1)))}if(i||n){var v="maskTexture";a=a?"".concat(a," ").concat(v):"Color:".concat(v),l.push(fx("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return r&&c.push(sx("uniform float uOpacity"),hx("".concat("colorFragment"," ="),"".concat("colorFragment",".a *= uOpacity"))),{vertexShaderModifiers:l,fragmentShader:h,fragmentShaderModifiers:c,idVertex:a,idFragment:u}}}},ColorShaded3D:function(t){var e,i=t.dataType,n=t.shadingStyle,r=t.wireframe,o="ColorShaded3D:".concat(Cx(t));return{idFeature:"ColorShaded3D",BP:{zP:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,NP:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0},apply:function(t,s){var a=[],u=[];if(a.push("phong"===n&&fx("normal","varying vec3 vNormal"),fx("posWorld","varying vec3 vPosWorld")),"uniform"===i)u.push(sx("uniform vec4 uColorDiffuse"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = uColorDiffuse")));else if("attribute"===i)e="per-vertex-color",a.push(fx("attribute vec4 aColor","varying vec4 vColor")),u.push(sx("varying vec4 vColor"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = vColor")));else if(Array.isArray(i)){var l=i[1];if("value"===l)e="lookup:value",a.push(fx("attribute float aLookupValue","varying float vLookupValue"));else{var h="".concat("posAxis",".").concat(l);e="lookup:".concat(l),a.push(fx(h,"varying float vLookupValue"))}u.push.apply(u,Bx([sx("varying float vLookupValue")],Ox(gx("vLookupValue",i[2])),!1))}if(r){var c="wireframe";e=e?"".concat(e,",").concat(c):c,a.push(fx("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),u.push(sx("varying vec3 vTriangleBary"),sx("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),dx.computeScreenSpaceWireframe,hx("".concat("colorFragment"," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","".concat("colorFragment"," = mix(").concat("colorFragment",", uWireframeColor, edge)")))}return"phong"===n&&u.push.apply(u,Bx([],Ox(Sx),!1)),{idVertex:e,idFragment:o,vertexShaderModifiers:a,fragmentShader:"FragmentShader",fragmentShaderModifiers:u}}}},VertexLocation:function(t){return{idFeature:"VertexLocation",apply:function(e){var i=[],n=Tx(e),r=t.coordType?t.coordType:n?"vec3":"vec2";return"linear-highPrecision"!==t.axisWorldTranslation?!0!==t.splitPosAttribute?i.push(sx("attribute ".concat(r," aPos"))):i.push(sx("attribute float aPosX"),sx("attribute float aPosY"),n&&sx("attribute float aPosZ")):!0===t.splitPosAttribute?i.push(sx("attribute float aPos_highpartX"),sx("attribute float aPos_lowpartX"),sx("attribute float aPos_highpartY"),sx("attribute float aPos_lowpartY")):i.push(sx("attribute ".concat(r," aPos_highpart")),sx("attribute ".concat(r," aPos_lowpart"))),i.push.apply(i,Bx([],Ox(Dx(t,n,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:"vec4"===t.coordType?void 0:"posAxis",variableNameWorldCoord:"posWorld"})),!1)),{idVertex:"VertexLocation:".concat(Cx(t)),idFragment:void 0,vertexShaderModifiers:i}}}},Model3D:function(t){return{idFeature:"Model3D",apply:function(e){var i=[];return i.push.apply(i,Bx(Bx(Bx([sx("attribute vec3 aGeoPos"),sx("uniform mat4 uModelRotation"),sx("uniform mat4 uModelRotationNormals"),sx("uniform vec3 uLocationAxis"),sx("uniform vec3 uModelAlignment"),sx("uniform vec3 uModelScale"),sx("uniform vec3 uModelSize")],Ox(Dx({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"})),!1),[lx("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),"attribute"===t.normalSource&&hx("vec3 ".concat("normal"," =")," ".concat("normal"," = (uModelRotationNormals * vec4(").concat("normal",", 1.0)).xyz;"))],!1),Ox(kx(e)?Fx({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,"posWorld","posAxis"):[]),!1)),{vertexShaderModifiers:i,idVertex:"Model3D:".concat(Cx(t)),idFragment:void 0}}}},LineInstanced2D:function(t){return{idFeature:"LineInstanced2D",apply:function(e){return{idVertex:"LineInstanced2D:".concat(Cx(t)),idFragment:void 0,vertexShaderModifiers:Bx(Bx(Bx(Bx(Bx(Bx(Bx([sx("uniform float uThicknessPixels"),sx("uniform vec2 ".concat("uRatioPxClip"))],Ox("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[sx("attribute vec2 aLocationA"),sx("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[sx("attribute vec2 aLocationA_highpart"),sx("attribute vec2 aLocationB_highpart"),sx("attribute vec2 aLocationA_lowpart"),sx("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[sx("attribute float aLocationAX"),sx("attribute float aLocationAY"),sx("attribute float aLocationBX"),sx("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[sx("attribute float aLocationA_highpartX"),sx("attribute float aLocationA_highpartY"),sx("attribute float aLocationB_highpartX"),sx("attribute float aLocationB_highpartY"),sx("attribute float aLocationA_lowpartX"),sx("attribute float aLocationA_lowpartY"),sx("attribute float aLocationB_lowpartX"),sx("attribute float aLocationB_lowpartY")]:[]),!1),[sx("attribute vec2 aSegmentPosition"),sx("attribute float aSegmentSide")],!1),Ox(Dx(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[t.ensureMinimumSegmentLength&&sx("uniform vec2 uMinSegmentPixelVector"),hx("worldB = ",t.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",t.ensureMinimumSegmentLength&&"if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {\n                        worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;\n                    }","vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 ".concat("posWorld"," = offset + thicknessDirection * uThicknessPixels * ").concat("uRatioPxClip"))],!1),Ox(Ix(e)),!1),Ox(_x(e)),!1),Ox(kx(e)?Fx(t,!1,"posWorld","posAxis"):[]),!1)}}}},Area2D:function(t){return{idFeature:"Area2D",apply:function(e){return{idVertex:"Area2D:".concat(Cx(t)),idFragment:void 0,vertexShaderModifiers:Bx(Bx(Bx(Bx(Bx(Bx(Bx([],Ox("linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[sx("attribute vec2 aLocationA"),sx("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[sx("attribute vec2 aLocationA_highpart"),sx("attribute vec2 aLocationB_highpart"),sx("attribute vec2 aLocationA_lowpart"),sx("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[sx("attribute float aLocationAX"),sx("attribute float aLocationAY"),sx("attribute float aLocationBX"),sx("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[sx("attribute float aLocationA_highpartX"),sx("attribute float aLocationA_highpartY"),sx("attribute float aLocationB_highpartX"),sx("attribute float aLocationB_highpartY"),sx("attribute float aLocationA_lowpartX"),sx("attribute float aLocationA_lowpartY"),sx("attribute float aLocationB_lowpartX"),sx("attribute float aLocationB_lowpartY")]:[]),!1),[sx("attribute float aCurveOrBaseline"),sx("attribute float aSegmentSide")],!1),Ox(Dx(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[hx("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","float baseline = min(posCoord.y, -1.0)","vec2 ".concat("posWorld"," = vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))"))],!1),Ox(Ix(e)),!1),Ox(_x(e)),!1),Ox(kx(e)?Fx(t,!1,"posWorld","posAxis"):[]),!1)}}}},LineInstanced3D:function(t){return{idFeature:"LineInstanced3D",apply:function(e){return{idVertex:"LineInstanced3D:".concat(Cx(t)),idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:Bx(Bx(Bx([sx("uniform float uOffsetWU"),sx("attribute vec3 aLocationA"),sx("attribute vec3 aLocationB"),sx("attribute float aSegmentPosition"),sx("attribute float aPerpendHorizontal"),sx("attribute float aPerpendVertical")],Ox(Dx({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},Tx(e),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"})),!1),[hx("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 ".concat("normal"," = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis"),"vec3 ".concat("posWorld"," = worldA + aSegmentPosition * directionBasis + ").concat("normal"," * uOffsetWU * 0.5"))],!1),Ox(kx(e)?Fx({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,"posWorld","posAxis"):[]),!1)}}}},RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:function(t){return{idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[sx("attribute vec3 aEdge"),sx("uniform float uEdgeRoundness"),hx("".concat("posWorld"," ="),"vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","".concat("posWorld"," = ").concat("posWorld"," + aEdge * edgeRoundAmount"))]}}},ColorGrid2D:function(t){var e=t.flipXY,i=t.intensityTextureType,n=t.littleEndian;return{idFeature:"ColorGrid2D",apply:function(r,o){return{idVertex:void 0,idFragment:"ColorGrid2D:".concat(Cx(t)),fragmentShader:"FragmentShader",fragmentShaderModifiers:Bx([sx("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues"),"ubyte"===i&&dx.decodeUbyteRGBAEncodedFloat,"bilinear"===t.interpolation?ux("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(e?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(e?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===i?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(n,")")),"float intensity01 = ".concat("float"===i?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(n,")")),"float intensity10 = ".concat("float"===i?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(n,")")),"float intensity11 = ".concat("float"===i?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(n,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(e?"lerpFactors.y":"lerpFactors.x",")")):ux("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(e?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = ".concat("float"===i?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(n,")")))],Ox(gx("intensityP",t.lut)),!1)}}}},DrawToNormalTexture:function(t){var e=t.flipXZ,i=t.vertexIdSource,n=t.normalTextureType,r=t.heightmapTextureType,o=t.littleEndian;return{idFeature:"DrawToNormalTexture",apply:function(s,a){var u=[],l=[];return u.push(sx("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","uint"===n?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB","attribute"===i&&"attribute float aVertexID"),void 0!==i&&dx.roundUnsigned,dx.modulus,dx.texelFetchWithFallback[a],"ubyte"===r&&dx.decodeUbyteRGBAEncodedFloat,ux(void 0===i?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec3 posAxis0 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")")," ,\n                            uTileStartLocationAxisXZ.y + iCell.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell1 = iCell + vec2(1.0, 0.0)","vec3 posAxis1 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell1.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell1.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell2 = iCell + vec2(0.0, 1.0)","vec3 posAxis2 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell2.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell2.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell3 = iCell + vec2(1.0, 1.0)","vec3 posAxis3 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell3.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===r?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(o,")"),",\n                            uTileStartLocationAxisXZ.y + iCell3.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))","uint"===n?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),l.push(sx("uint"===n?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),ux("uint"===n?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:"DrawToNormalTexture:".concat(Cx(t)),idFragment:"DrawToNormalTexture:".concat(Cx(t)),vertexShaderModifiers:u,fragmentShaderModifiers:l,fragmentShader:"Empty",hints:["uint"===n&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:function(t){var e=t.fillColor,i=t.interpolation,n=t.flipXZ,r=t.shadingStyle,o=t.wireframe,s=t.normalTextureType,a=t.heightmapTextureType,u=t.intensityTextureType,l=t.littleEndian;return{idFeature:"SurfaceGrid",BP:{EP:!0},apply:function(h,c){var f=[],p=[];return f.push(sx("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture"),dx.modulus,dx.texelFetchWithFallback[c],"ubyte"===a&&dx.decodeUbyteRGBAEncodedFloat,ux("int iSecondary = modulus(iInstance + uBaseInstance, (uTileDimensions.y - 1))","int iPrimary = (iInstance + uBaseInstance) / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = ".concat("float"===a?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(l,")")),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * ".concat(n?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),f.push.apply(f,Bx([],Ox(Dx({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"})),!1)),"phong"===r&&f.push.apply(f,Bx(Bx([fx("posWorld","varying vec3 vPosWorld")],Ox("uint"===s?[dx.texelFetchUnsignedWithFallback[c],cx("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[cx("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")]),!1),[cx("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),sx.apply(void 0,Bx(["varying vec3 vNormal"],Ox("uint"===s?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1))],!1)),p.push(sx("varying vec3 vTriangleBary")),"uniform"===e?p.push(sx("uniform vec4 uColorDiffuse"),hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = uColorDiffuse"))):Array.isArray(e)&&"lookup"===e[0]&&("value"===e[1]?(f.push(fx("".concat("posAxis",".xz"),"varying vec2 vVertexLocationAxisXZ")),p.push.apply(p,Bx([sx("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),"ubyte"===u&&dx.decodeUbyteRGBAEncodedFloat,"bilinear"===i?ux("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(n?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(n?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(n?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(n?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = ".concat("float"===u?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(l,")")),"float intensity01 = ".concat("float"===u?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(l,")")),"float intensity10 = ".concat("float"===u?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(l,")")),"float intensity11 = ".concat("float"===u?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(l,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(n?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(n?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(n?"lerpFactors.y":"lerpFactors.x",")")):ux("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(n?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = sample0.x")],Ox(gx("intensityP",e[2])),!1))):(f.push(fx("".concat("posAxis",".").concat(e[1]),"varying float vLookupValue")),p.push.apply(p,Bx([sx("varying float vLookupValue")],Ox(gx("vLookupValue",e[2])),!1)))),"phong"===r&&p.push.apply(p,Bx([],Ox(Sx),!1)),o&&(f.push(sx("attribute vec3 aTriangleBary"),fx("aTriangleBary","varying vec3 vTriangleBary")),p.push(sx("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),dx.computeScreenSpaceWireframe,hx("".concat("colorFragment"," ="),"float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",e?"if (edge > 0.0) {\n                                    ".concat("colorFragment"," = vec4(mix(").concat("colorFragment",".rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(").concat("colorFragment",".a, uWireframeColor.a));\n                                }"):"if (edge > 0.0) {\n                                    ".concat("colorFragment"," = uWireframeColor;\n                                  } else {\n                                      discard;\n                                  }")))),{idVertex:"SurfaceGrid:".concat(Cx(t)),idFragment:"SurfaceGrid:".concat(Cx(t)),vertexShaderModifiers:f,fragmentShader:"FragmentShader",fragmentShaderModifiers:p}}}},DebugSurfaceGridNormals:function(t){return{idFeature:"DebugSurfaceGridNormals",apply:function(e,i){return{idVertex:"DebugSurfaceGridNormals:".concat(Cx(t)),idFragment:"DebugSurfaceGridNormals:".concat(Cx(t)),vertexShaderModifiers:Bx(Bx(Bx([sx.apply(void 0,Bx(["attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===t.instanceIdSource&&"attribute float aInstanceID"],Ox("uint"===t.normalTextureType?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),!1)),dx.roundUnsigned,dx.modulus,dx.texelFetchWithFallback[i],"ubyte"===t.heightmapTextureType&&dx.decodeUbyteRGBAEncodedFloat,ux.apply(void 0,Bx(Bx([void 0===t.instanceIdSource?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y01 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y10 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y11 = ".concat("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ".concat(t.flipXZ?"vec2(iCell.y, iCell.x)":"iCell",")"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)"],Ox("uint"===t.normalTextureType?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"]),!1),["vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"],!1))],Ox("uint"===t.normalTextureType?[dx.texelFetchUnsignedWithFallback[i]]:[]),!1),Ox(Dx({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"})),!1),[hx("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025","if (aNormalArrow == 0.0) {\n                        posWorld = posArrowStart;\n                    } else if (aNormalArrow == 1.0) {\n                        posWorld = posArrowEnd;\n                    } else if (aNormalArrow == 2.0) {\n                        posWorld = posArrowLeft;\n                    } else if (aNormalArrow == 3.0) {\n                        posWorld = posArrowRight;\n                    }")],!1),fragmentShader:"FragmentShader",fragmentShaderModifiers:[cx("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]}}}},OffsetTowardsCamera:function(){return{idFeature:"OffsetTowardsCamera",apply:function(t){return{idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[sx("uniform vec3 uCameraLoc"),hx("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]}}}},AliasedEdge:{idFeature:"AliasedEdge",apply:function(t){return{idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[sx("attribute float aSegmentInside"),sx("varying float vSegmentInside"),sx("varying float vSegmentSide"),hx("gl_Position = ","\n                vSegmentInside = aSegmentInside;\n                vSegmentSide = aSegmentSide;\n                ")],fragmentShaderModifiers:[px("#extension GL_OES_standard_derivatives : enable"),sx("uniform float uAALimit"),sx("varying float vSegmentInside"),sx("varying float vSegmentSide"),hx("".concat("antiAliasFactor"," = "),"\n                float dist = (uAALimit - vSegmentInside);\n                vec2 ddist = vec2(dFdx(dist), dFdy(dist));\n                float pixelDist = dist / length(ddist);\n                // additional blurring\n                pixelDist *= 0.5;\n\n                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);\n                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){\n                    aa *= 0.5;\n                }\n                ".concat("antiAliasFactor"," = aa;\n                "))]}}},Glow1D:function(t){return{idFeature:"Glow1D",apply:function(){for(var e=Math.round(t.spreadPx),i=Math.round(t.blurPx),n=e+i,r=t.firstPass,o=[],s=-n;s<=n;s+=1){var a=Math.abs(s);o.push(r?{x:s.toFixed(1),y:"0.0",distPx:a.toFixed(1)}:{x:"0.0",y:s.toFixed(1),distPx:a.toFixed(1)})}return{idVertex:"Glow1D:".concat(Cx(t)),idFragment:"Glow1D:".concat(Cx(t)),vertexShaderModifiers:[fx("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[sx("uniform sampler2D uTexture"),sx("varying vec2 vTextureCoord"),sx("uniform vec2 uTextureSize"),r&&sx("uniform vec2 uOffsetPx"),!r&&sx("uniform sampler2D uTextureFirstGlowPass"),!r&&sx("uniform vec4 uGlowColor"),hx.apply(void 0,Bx(Bx(Bx(["".concat("antiAliasFactor"," ="),"vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize"],Ox(r?[]:["float inverseIntensity =\n                        0.25 * texture2D(uTexture, vTextureCoord).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, 0.0)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, 0.0)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, -oneTexel.y)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, -oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, -oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, oneTexel.y)).a","".concat("antiAliasFactor"," *= 1.0 - (inverseIntensity * inverseIntensity)"),"if (".concat("antiAliasFactor"," <= 0.0) { discard; }")]),!1),["float distancePx = 255.0","vec2 sample_tx = vec2(0.0)"],!1),Ox(r?Bx(Bx(["vec2 texCoordOffset = vTextureCoord - uOffsetPx * oneTexel"],Ox(o.map((function(t,e){return["sample_tx = texCoordOffset + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (distancePx > ".concat(t.distPx," && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ").concat(t.distPx,"; }")]})).flat()),!1),["".concat("colorFragment"," = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)")],!1):Bx(Bx(["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0"],Ox(o.map((function(t,e){return["sample_tx = vTextureCoord + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {\n                                            sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);\n                                            horizontal_dist = sample_horizontal.r * 255.0;\n                                          }","if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)","distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ".concat(t.y," * ").concat(t.y,", 0.5))")]})).flat()),!1),["if (distancePx > ".concat(n.toFixed(1),") { discard; }"),"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)","if (distancePx > ".concat(e.toFixed(1),") {\n                                        float lerpAmount = (distancePx - ").concat(e.toFixed(1),") / ").concat((i+1).toFixed(1),";\n                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));\n                                    } else {\n                                        pixelGlowColor = uGlowColor;\n                                    }"),"".concat("colorFragment"," = pixelGlowColor")],!1)),!1))]}}}},MousePicking:function(t){var e=!!(null==t?void 0:t.customMousePickingIdInput),i=!e&&!!(null==t?void 0:t.useVertexId),n=!e&&!!(null==t?void 0:t.useAttribute),r=!e&&!i&&!n;return{idFeature:"MousePicking",BP:{EP:r,PP:i},apply:function(o,s){var a="webgl2"===s?"flat":"",u="webgl2"===s?"int":"float";return{idVertex:"MousePicking:".concat(Cx(t)),idFragment:"MousePicking:".concat(Cx(t)),vertexShaderModifiers:Bx(Bx(Bx([],Ox(r?[sx("".concat(a," varying ").concat(u," vPickingIdOffset")),cx("vPickingIdOffset = ".concat(u,"(iInstance)"))]:[]),!1),Ox(i?[sx("".concat(a," varying ").concat(u," vPickingIdOffset")),cx("vPickingIdOffset = ".concat(u,"(iVertex)"))]:[]),!1),Ox(n?[sx("attribute float aPickingIdOffset","".concat(a," varying ").concat(u," vPickingIdOffset")),cx("vPickingIdOffset = ".concat(u,"(aPickingIdOffset)"))]:[]),!1),fragmentShaderModifiers:Bx(Bx([sx("uniform int uFirstId")],Ox(e?[]:[sx("".concat(a," varying ").concat(u," vPickingIdOffset")),ux("int ".concat("mousePickingIdOffset"," = ").concat("int"===u?"vPickingIdOffset":"int(floor(vPickingIdOffset + 0.5))"))]),!1),[hx("".concat("colorFragment"," ="),"int remainder = ".concat("mousePickingIdOffset"," + uFirstId"),"int r = remainder / 16777216","remainder -= r * 16777216","int g = remainder / 65536","remainder -= g * 65536","int b = remainder / 256","remainder -= b * 256","int a = remainder","".concat("colorFragment"," = vec4(float(r) / 255.0, float(g) / 255.0, float(b) / 255.0, float(a) / 255.0)")),function(t){return t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ".concat("antiAliasFactor",")"),"if (".concat("antiAliasFactor"," <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")).replace("if (fragColorEnd.a <= 0.0) { discard; }","")}],!1)}}}},AttributeHighlight:{idFeature:"AttributeHighlight",apply:function(t){return{idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[fx("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[function(t){return t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")}]}}},StippleTexture:{idFeature:"StippleTexture",apply:function(t,e){return{idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[sx("attribute vec2 aLengthSoFar"),sx("varying float vLengthSoFar"),sx("uniform vec2 uStippleCount"),cx("\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[sx("uniform sampler2D uStippleTexture"),sx("uniform float uStippleScale"),sx("varying float vLengthSoFar"),"webgl1"===e&&sx("uniform float uStippleTextureWidthLimiter"),hx("".concat("antiAliasFactor"," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat("antiAliasFactor"," *= stippleAA;\n                    if (").concat("antiAliasFactor"," <= 0.0) { discard; }"))]}}},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:function(t,e){return{idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[sx("attribute vec2 aLengthSoFarA"),sx("attribute vec2 aLengthSoFarB"),sx("varying float vLengthSoFar"),sx("uniform vec2 uStippleCount"),cx("\n                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[sx("uniform sampler2D uStippleTexture"),sx("uniform float uStippleScale"),sx("varying float vLengthSoFar"),"webgl1"===e&&sx("uniform float uStippleTextureWidthLimiter"),hx("".concat("antiAliasFactor"," = "),"\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    ").concat("antiAliasFactor"," *= stippleAA;\n                    if (").concat("antiAliasFactor"," <= 0.0) { discard; }"))]}}},PolarHeatmap:function(t){return{idFeature:"PolarHeatmap",apply:function(e,i){var n="dataType"in t,r="interpolation"in t?t:void 0,o=r?r.flipXY:void 0,s="bilinear"===(null==r?void 0:r.interpolation),a=null==r?void 0:r.intensityTextureType,u=null==r?void 0:r.littleEndian;return{idVertex:void 0,idFragment:"PolarHeatmap:".concat(Cx(t)),vertexShaderModifiers:[],fragmentShaderModifiers:Bx([sx("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",r&&"uniform sampler2D uTileIntensityValues",n&&"uniform vec4 uColor"),dx.texelFetchWithFallback[i],"ubyte"===a&&dx.decodeUbyteRGBAEncodedFloat,ux("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep"),r&&hx("iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",o&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",o&&"cellStart = ivec2(cellStart.y, cellStart.x)",o&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)"),n&&hx("".concat("colorFragment"," ="),"".concat("colorFragment"," = uColor")),r&&hx("cellEnd","vec2 tileDimensions = ".concat(o?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),s&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",s&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",s&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",s&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",s&&"float intensity00 = ".concat("float"===a?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(u,")")),s&&"float intensity01 = ".concat("float"===a?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(u,")")),s&&"float intensity10 = ".concat("float"===a?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(u,")")),s&&"float intensity11 = ".concat("float"===a?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(u,")")),s&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",s&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",s&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",s&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!s&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!s&&"float intensityP = ".concat("float"===a?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(u,")")))],Ox(r?gx("intensityP",r.lut):[]),!1)}}}}},Lx={"2D":"\nvoid main(void) {\n    gl_Position = vec4(posWorld, 0.0, 1.0 );\n}\n","2DMatrix":"\nvoid main(void) {\n    gl_Position = posWorld;\n}\n","3D":"\nuniform mat4 uViewProjectionMatrix;\nvoid main(void) {\n    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);\n}\n"},Rx={FragmentShader:"\nuniform float uIsHighlighted;\nuniform vec4 uHighlightColorOffset;\nuniform float uRenderEffectMask;\nvoid main(void) {\n    vec4 ".concat("colorFragment"," = vec4(0.0, 0.0, 0.0, 0.0);\n    float ").concat("antiAliasFactor"," = 1.0;\n    vec4 fragColorEnd = ").concat("colorFragment",";\n    if (fragColorEnd.a <= 0.0) { discard; }\n    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));\n    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);\n    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * ").concat("antiAliasFactor",");\n}\n"),Empty:"\nvoid main(void) {\n}\n"},Vx=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Nx=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},Ux=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},Yx=function(){function t(t,e,i,n,r){if(this.id=t,this.shader=i,this.gl=n,this.info=r,!e||!i)throw new Kt("Could not find ".concat(this.RP()," ").concat(this.GP()," shader source code."));this.gl.shaderSource(i,e),this.gl.compileShader(i)}return Object.defineProperty(t.prototype,"src",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.RP=function(){return this.id.toString()},t.prototype.GP=function(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"},t}(),Gx=function(t){function e(e,i,n,r){return t.call(this,e,i,n.createShader(n.VERTEX_SHADER),n,r)||this}return Vx(e,t),e}(Yx),jx=function(t){function e(e,i,n,r){return t.call(this,e,i,n.createShader(n.FRAGMENT_SHADER),n,r)||this}return Vx(e,t),e}(Yx),Wx=function(){function t(t,e,i,n){this.UP=new Map,this.WP=new Map,this.YP=i,this.XP=i.createProgram(),this.HP="".concat(t.RP()," vertex"),this.ZP="".concat(e.RP()," fragment"),i.attachShader(this.XP,t.shader),i.attachShader(this.XP,e.shader),i.bindAttribLocation(this.XP,0,"aPos"),i.linkProgram(this.XP),i.deleteShader(t.shader),i.deleteShader(e.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(e.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=e.info.removedVariableNames}return Object.defineProperty(t.prototype,"vertexShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fragmentShaderSrc",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.QP=function(t){return $e(0,(function(){return ti()}))},t.prototype.KP=function(t){var e=this.JP(t);if(void 0===e)throw this.QP("Could not get ".concat(t," uniform from ").concat(this.HP," and ").concat(this.ZP," shaders."));return e},t.prototype.JP=function(t){var e=this.UP.get(t);if(e)return e;var i=this.YP.getUniformLocation(this.XP,t);return i?(this.UP.set(t,i),i):void 0},t.prototype.qP=function(t){var e=this.$P(t);if(void 0===e)throw this.QP("Could not get ".concat(t," attribute from ").concat(this.HP," and ").concat(this.ZP," shaders."));return e},t.prototype.$P=function(t){var e=this.WP.get(t);if(e||0===e)return e;var i=this.YP.getAttribLocation(this.XP,t);return i>=0?(this.WP.set(t,i),i):void 0},t.prototype.U=function(){this.YP.deleteProgram(this.XP)},t}(),Xx=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,Hx=function(t){var e;try{e=ne.getComputedStyle(t)}catch(t){return null}return e};function Zx(t){for(var e=t.length;e--;)if(i=t[e],void 0,(n=Hx(i))&&("fixed"===n.position||"auto"!==n.zIndex&&"static"!==n.position||function(t){var e=Hx(Kx(t)),i=e?e.display:"auto";return"flex"===i||"inline-flex"===i}(i)||+n.opacity<1||"transform"in n&&"none"!==n.transform||"webkitTransform"in n&&"none"!==n.webkitTransform||"mixBlendMode"in n&&"normal"!==n.mixBlendMode||"filter"in n&&"none"!==n.filter||"webkitFilter"in n&&"none"!==n.webkitFilter||"isolation"in n&&"isolate"===n.isolation||Xx.test(n.willChange)||"touch"===n.webkitOverflowScrolling))return t[e];var i,n;return null}function Qx(t){var e;return t&&Number((null===(e=Hx(t))||void 0===e?void 0:e.zIndex)||0)||0}function qx(t){for(var e=[];t;)e.push(t),t=Kx(t);return e}function Kx(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.host)||t.parentNode}var Jx=function(t){return t&&"resize"in t},$x=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tS=function(){return(tS=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},eS=function(t){function e(e){var i=t.call(this)||this;if(i.tL=new Map,i.iL=new Map,i.nL=new Map,i.rL=!0,i.eL=null,i.oL=null,i.sL=null,i.uL=null,i.hL=0,i.aL=0,i.fL=0,i.cL=!1,i.lL=!0,i.Hi=!1,i.vL=Qe("chart-engine-".concat((new Date).getTime()).concat(Math.trunc(1e6*Math.random()).toString())),i.Z={x:100,y:100},i.dL=function(){i.AL&&clearTimeout(i.AL),i.AL=setTimeout((function(){return i.yL()}),12)},i.mL=function(t){var e=t.intersectionRatio>0,n=t.target.getAttribute("data-lcjs-engine-id");if(n){var r=i.tL.get(n);if(r){var o=r.bL();r.pL(e),e?i.iL.set(n,r):i.iL.delete(n),o!==e&&r.Sn()}}},i.gL=function(t,e,n,r,o){var s=o[0],a=i.gl;if(a.bindFramebuffer(null==a?void 0:a.FRAMEBUFFER,null),a.useProgram(i.oL.XP),a.clear(a.COLOR_BUFFER_BIT),s.us.getBoundingClientRect()){var u=s.SL();a.viewport(0,0,u.x,u.y),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.xL),a.uniform1i(i.hL,0),a.uniformMatrix4fv(i.aL,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),a.bindBuffer(a.ARRAY_BUFFER,i.sL),a.enableVertexAttribArray(0),a.vertexAttribPointer(i.fL,2,a.FLOAT,!1,0,0),a.drawArrays(a.TRIANGLES,0,6),a.bindFramebuffer(a.FRAMEBUFFER,null),s.wL&&(s.wL.clearRect(0,0,s.wL.canvas.width,s.wL.canvas.height),s.wL.drawImage(i.ML,0,i.ML.height-u.y,u.x,u.y,0,0,s.wL.canvas.width,s.wL.canvas.height))}},i.CL=function(t,e,n,r,o){var s=i.gl;s.bindFramebuffer(null==s?void 0:s.FRAMEBUFFER,null),s.useProgram(i.oL.XP),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(n){var o=n.us.getBoundingClientRect();if(o){var a=o.right-o.left,u=o.bottom-o.top,l=o.left,h=r-o.bottom;s.viewport(l*i._L-t*i._L,h*i._L+e*i._L,a*i._L,u*i._L)}s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,n.xL),s.uniform1i(i.hL,0),s.uniformMatrix4fv(i.aL,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),s.bindBuffer(s.ARRAY_BUFFER,i.sL),s.enableVertexAttribArray(0),s.vertexAttribPointer(i.fL,2,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,6)})),s.bindFramebuffer(s.FRAMEBUFFER,null)},i.TL=function(t,e,n,r,o){var s=o[0],a=i.gl2.ctx;a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.clear(a.COLOR_BUFFER_BIT);var u=s.SL();a.bindFramebuffer(a.READ_FRAMEBUFFER,s.kL[1]),a.blitFramebuffer(0,0,u.x,u.y,0,i.ML.height-u.y,u.x,i.ML.height,a.COLOR_BUFFER_BIT,a.LINEAR),s.wL&&(s.wL.clearRect(0,0,s.wL.canvas.width,s.wL.canvas.height),s.wL.drawImage(i.ML,0,0)),a.bindFramebuffer(a.FRAMEBUFFER,null)},i.OL=function(t,e,n,r,o){var s=i.gl2.ctx;s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null),s.clear(s.COLOR_BUFFER_BIT),o.forEach((function(n){var o=n.us.getBoundingClientRect();if(o){var a=o.right-o.left,u=o.bottom-o.top,l=o.left,h=r-o.bottom,c=n.SL();s.bindFramebuffer(s.READ_FRAMEBUFFER,n.kL[1]),s.blitFramebuffer(0,0,c.x,c.y,l*i._L-t*i._L,h*i._L+e*i._L,(l-t+a)*i._L,(h+e+u)*i._L,s.COLOR_BUFFER_BIT,s.LINEAR)}})),s.bindFramebuffer(s.FRAMEBUFFER,null)},i.AL=void 0,i.Ws=e,!ne.requestAnimationFrame||!ne.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");var n=1;if(e&&e.FL)n=!0===e.FL?ne.devicePixelRatio||1:e.FL||1;else{var r=ne.document.head.querySelector('meta[name="viewport"]');r&&r.content.includes("width=device-width")&&(n=ne.devicePixelRatio||1)}i._L=n,e.Xs=!0===e.Xs,i.lL=!1!==e.IL,i.jL=!1!==e.DL,i.BL=e.BL||!1;var o=!1;if(e.ML)if("string"==typeof e.ML){var s=ne.document.getElementById(e.ML);if(!s)throw new Error('Canvas "'.concat(e.ML,"\" doesn't exist."));i.ML=s,o=!0}else i.ML=e.ML,o=!0;else i.ML=ne.document.createElement("canvas");var a={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(2!==e.EL&&e.EL){var u=i.ML.getContext("webgl",tS(tS({},a),{antialias:!!e.IL}))||i.ML.getContext("experimental-webgl",tS(tS({},a),{antialias:!!e.IL}));i.gl=u,i.PL=!1}else{var l=i.ML.getContext("webgl2",a);i.gl2={ctx:l},i.gl=l,i.PL=!0}if(!i.gl)throw new qt("No WebGL context available.".concat((null==e?void 0:e.EL)?"\nSelected explicit target: WebGL ".concat(e.EL):""));var h=[];if(i.LL={WEBGL_lose_context:i.gl.getExtension("WEBGL_lose_context")},Object.keys(i.LL).forEach((function(t){null===i.LL[t]&&h.push(t)})),i.PL)i.zL=!0;else{var c={ANGLE_instanced_arrays:i.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:i.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:i.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:i.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:i.gl.getExtension("OES_vertex_array_object")};c.OES_standard_derivatives||(i.rL=!1),Object.keys(c).forEach((function(t){null===c[t]&&h.push(t)}));var f={OES_texture_float:i.gl.getExtension("OES_texture_float")};i.zL=!!f.OES_texture_float,i.gl1={ctx:i.gl,LL:c,optional:f}}var p=h;if(p.length>0&&!1!==e.Xs){var d=ne.document.createElement("div");d.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",d.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";var v=ne.document.createElement("button");v.innerText="X",v.addEventListener("click",(function(){d.parentElement&&d.parentElement.removeChild(d)})),ne.document.body.appendChild(d),d.appendChild(v),ne.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",p.join(", "))}if(i.VL=i.BL?i.NL(i.PL?i.TL.bind(i):i.gL.bind(i)).bind(i):i.RL(i.PL?i.OL.bind(i):i.CL.bind(i)).bind(i),ne.ResizeObserver&&(i.Ks=new ne.ResizeObserver(function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=r.next();!o.done;o=r.next())o.value.target===i.ML&&i.GL()}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}.bind(i)),i.Ks.observe(i.ML)),i.UL=function(t,e){var i=t,n=new Map,r=new Map,o=new Map,s={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},a=function(t,i,n){void 0===n&&(n=[]);var r=[],o=[],s={allAttributeNames:Array.from(t.matchAll(/attribute\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allUniformNames:Array.from(t.matchAll(/uniform\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),allVaryingNames:Array.from(t.matchAll(/varying\s[^\s]*\s(.*);/g)).map((function(t){return t[1]})),removedVariableNames:[]};if(e){var a=t.match(/#extension.*/g);a&&o.push.apply(o,Ux([],Nx(a),!1)),t=t.replace(/#extension.*/g,"")}else if(r.push("#version 300 es"),(t=(t=(t=t.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&r.push("precision highp usampler2D;"),"vertex"===i)t=t.replace(/varying/g,"out");else{t=t.replace(/varying/g,"in");var u=n.find((function(t){return"fragOutput"===t.type}));t=(t=u?"out ".concat(u.fragOutput," fragOutput;\n").concat(t):"out vec4 fragOutput;\n".concat(t)).replace(/gl_FragColor/g,"fragOutput")}return o&&r.push.apply(r,Ux([],Nx(o),!1)),r.push("precision highp float;"),r.push("precision highp int;"),{source:t="".concat(r.join("\n"),"\n").concat(t),info:s}};return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var l,h,c=e?"webgl1":"webgl2";try{var f=ne.performance.now();l=t.filter((function(t){return!1!==t&&void 0!==t})),h=Mx(l,c);var p=o.get(h.id);if(p)return p.vertexShaderSrc,p.fragmentShaderSrc,p;var d=h.vertexShader.id,y=n.get(d);if(y)y.src;else{var v=new nx(h.vertexShader.modifiers).build(Lx[h.vertexShader.template]),g=a(v,"vertex"),m=g.source,x=g.info;y=new Gx(d,m,i,x),n.set(d,y),s.vertexShaders+=1}var S=h.fragmentShader,A=void 0,b=S.id;if(A=r.get(b))A.src;else{var M=Rx[S.template],w=(v=new nx(Ux([],Nx(S.modifiers),!1)).build(M),a(v,"fragment",h.hints));m=w.source,x=w.info,A=new jx(b,m,i,x),r.set(b,A),s.fragmentShaders+=1}var C=new Wx(y,A,i,h);return o.set(h.id,C),s.programs+=1,s.totalMs+=ne.performance.now()-f,C}catch(t){throw $e(0,(function(){var t="Unexpected LightningChart JS rendering error.\nThis can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).";return ne.alert(t),new Error(t)}))}}}(i.gl,!i.PL),i.IP=function(){var t=ne.document.createElement("canvas"),e=t.getContext("2d",{willReadFrequently:!0});if(!e)throw new qt("Failed to get Text canvas rendering context");return e.fillStyle="#fff",function(i,n,r,o){var s="".concat(n.style," ").concat(n.weight," ").concat(n.size*r,"px ").concat(n.family);e.font=s,e.textBaseline="alphabetic",e.textAlign="left";var a=e.measureText(i);if(0!==a.width){var u=void 0!==a.actualBoundingBoxLeft&&void 0!==a.actualBoundingBoxRight?Math.ceil(a.actualBoundingBoxLeft+a.actualBoundingBoxRight):Math.ceil(a.width),l=a.width,h=Math.round(n.size*r),c=void 0!==a.actualBoundingBoxLeft?a.actualBoundingBoxLeft:0;t.width=u>0?u:l,t.height=2*h,e.font=s,e.textBaseline="alphabetic",e.textAlign="left",o?(e.clearRect(0,0,t.width,t.height),e.fillStyle="#fff"):(e.fillStyle="rgba(255,255,255,0)",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000"),e.fillText(i,c,h);for(var f=e.getImageData(0,0,t.width,t.height),p=0,d=0,v=f.width,g=0;g<f.height;g+=1){for(var m=0;m<v;m+=1)if(0!==f.data[g*v*4+4*m+3]){p=g;break}if(0!==p)break}for(g=f.height-1;g>=0;g-=1){for(m=0;m<v;m+=1)if(0!==f.data[g*v*4+4*m+3]){d=g;break}if(0!==d)break}var x=e.canvas.height/2-p,S=d-p+1,A=v,b=new Uint8ClampedArray(A*S*1);for(g=0;g<S;g+=1)for(m=0;m<A;m+=1)b[1*g*A+1*m+0]=f.data[(g+p)*A*4+4*m+3];return[b,{advance:l,offsetX:c,baseline:x,glyph:i,size:y(A,S)}]}}}(),e.WL||(i.BL?i.ML.style.display="none":(i.ML.style.position="absolute",i.ML.style.top="0",i.ML.style.left="0",i.ML.style.right="0",i.ML.style.bottom="0",i.ML.style.width="100%",i.ML.style.height="100%",i.ML.style.boxSizing="content-box",i.ML.style.display="block",i.ML.style.pointerEvents="none")),i.ML.classList.add("lcjs-canvas"),e.YL&&i.ML.setAttribute("data-lcjs-id",e.YL),o||ne.document.body.appendChild(i.ML),ne.IntersectionObserver&&(i.XL=new ne.IntersectionObserver((function(t){for(var e=0;e<t.length;e+=1){var n=t[e];i.mL(n)}}),{threshold:Array.from(Array(100)).map((function(t,e){return e/100}))})),ne.addEventListener("resize",i.dL,{passive:!0}),!i.PL){if(i.oL=i.UL(zx["2DCompose"],zx.Color({dataType:"texture-coord-calc-gpu"}),zx.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!i.oL.XP)throw new qt("Unable to setup composition shader!");var g=i.gl,m=g.getUniformLocation(i.oL.XP,"uColorTexture");if(!m)throw new qt("Unable to setup composition shader! Failed to find uColorTexture");var x=g.getUniformLocation(i.oL.XP,"uMatrix");if(!x)throw new qt("Unable to setup composition shader! Failed to find uMatrix");i.hL=m,i.aL=x,i.fL=g.getAttribLocation(i.oL.XP,"aPos"),i.sL=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,i.sL),g.bufferData(g.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),g.STATIC_DRAW),g.bindBuffer(g.ARRAY_BUFFER,null),i.uL=g.createBuffer(),g.bindBuffer(g.ARRAY_BUFFER,i.uL),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),g.STATIC_DRAW),g.bindBuffer(g.ARRAY_BUFFER,null)}}return $x(e,t),e.prototype.NL=function(t){var e=this;return function(i){e.eL=null;var n=e.gl.canvas,r=Array.from(e.iL.values());e.cL=!1,r.forEach((function(r){var o=r.SL();(e.Z.x<o.x||e.Z.y<o.y)&&(e.Z.x=Math.max(e.Z.x,o.x),e.Z.y=Math.max(e.Z.y,o.y),n instanceof HTMLCanvasElement&&(n.width=e.Z.x,n.height=e.Z.y)),r.Jo&&r.HL(i),t(0,0,0,0,[r])})),e.cL&&e.GL()}},e.prototype.RL=function(t){var e=this;return function(i){e.eL=null,"style"in e.gl.canvas&&!e.Ws.ZL&&(e.gl.canvas.style.transform="translateX(".concat(window.scrollX,"px) translateY(").concat(window.scrollY,"px)"));var n=e.gl.canvas,r=e.ML.clientHeight,o=e.ML.clientWidth,s=0,a=0;if(n instanceof HTMLCanvasElement){n.width===o*e._L&&n.height===r*e._L||(n.width=o*e._L,n.height=r*e._L);var u=n.getBoundingClientRect();s=u.x,a=u.y}var l=Array.from(e.iL.values());e.cL=!1,l.sort((function(t,e){return t.QL()-e.QL()})).forEach((function(t){t.Jo&&t.HL(i)})),t(s,a,o,r,l),e.cL&&e.GL()}},e.prototype.GL=function(t){return Jx(this.gl)||(!this.cL&&t&&(this.cL=!0),this.eL||this.Hi||(this.eL=ne.requestAnimationFrame(this.VL))),this},e.prototype.KL=function(t){var e=this,i=this.vL();return t.us.setAttribute("data-lcjs-engine-id",i),this.tL.set(i,t),t.JL(this.tL.size-1),t.pL(!0),this.iL.set(i,t),this.XL&&this.XL.observe(t.us),this.AL&&clearTimeout(this.AL),this.AL=setTimeout((function(){return e.yL()}),0),this},e.prototype.qL=function(t){var e=t.us.getAttribute("data-lcjs-engine-id");return e?(this.tL.delete(e),this.iL.delete(e),this.XL&&this.XL.unobserve(t.us),t.us.removeAttribute("data-lcjs-engine-id"),this):this},e.prototype.yL=function(){if(this.XL)for(var t=this.XL.takeRecords(),e=0;e<t.length;e+=1){var i=t[e];this.mL(i)}!this.BL&&this.jL&&Array.from(this.tL.values()).sort((function(t,e){
/**
 * stacking-order by Rich Harris
 * https://github.com/Rich-Harris/stacking-order
 *
 * @license MIT
 *
 * Converted to TypeScript and edited to match LCJS requirements.
 */
return function(t,e){if(t===e)return 0;for(var i,n={a:qx(t),b:qx(e)};n.a[n.a.length-1]===n.b[n.b.length-1];)t=n.a.pop(),e=n.b.pop(),i=t;var r=Qx(Zx(n.a)),o=Qx(Zx(n.b));if(r===o&&i)for(var s=i.childNodes,a={a:n.a[n.a.length-1],b:n.b[n.b.length-1]},u=s.length;u--;){var l=s[u];if(l===a.a)return 1;if(l===a.b)return-1}return Math.sign(r-o)}(t.us,e.us)})).forEach((function(t,e){return t.JL(e)}));return this.GL(!0),this},e.prototype.QF=function(){return this.GL(),this},e.prototype.$L=function(){this.Hi||this.tL.forEach((function(t){return t.Gy.layout()}))},e.prototype.U=function(){var e;if(!this.Hi){this.Hi=!0,t.prototype.U.call(this),this.eL&&(ne.cancelAnimationFrame(this.eL),this.eL=null),this.cL=!1,this.Ks&&(this.Ks.disconnect(),this.Ks=void 0),this.XL&&(this.XL.disconnect(),this.XL=void 0),ne.removeEventListener("resize",this.dL),this.dL=void 0,this.tL.forEach((function(t){t.U()})),this.tL.clear(),Array.from(this.nL.values()).forEach((function(t){t.mP(!0)})),this.nL.clear();var i=this.gl;i.deleteBuffer(this.sL),i.deleteBuffer(this.uL),this.ML&&!this.Ws.ML?(this.ML.width=1,this.ML.height=1,null===(e=this.ML.parentElement)||void 0===e||e.removeChild(this.ML),this.ML=void 0):this.ML=void 0,this.UL=void 0,this.IP=void 0,this.VL=function(){},this.LL.WEBGL_lose_context&&this.LL.WEBGL_lose_context.loseContext()}},e}(Um),iS=function(){return(iS=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},nS=function(t,e,i,n){return function(r){var o=iS(iS({theme:zm},i),r),s=t(o),a=e||n?Vm(s,n):void 0,u=new Hg(s.Ws,r,s,s.U.bind(s),a);return s.lu((function(t){return u.AE(t)})).cu((function(){return u.K()})).Sn(),u}},rS=function(t,e){t.lu((function(t){e.Pr(t)})).cu((function(){return e.K()})).Sn()},oS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Nl(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a);return rS(s,u),u}},sS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new ly(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r);return rS(s,u),u}},aS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Nv(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r);return rS(s,u),u}},uS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Yy(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r);return rS(s,u),u}},lS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new(r&&r.type?r.type:Nh)(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},hS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Vg(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},cS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new(r&&r.type?r.type:nv)(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},fS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new(r&&r.type?r.type:xv)(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},pS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new uf(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r,void 0);return rS(s,u),u}},dS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Hc(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},yS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new dg(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0);return rS(s,u),u}},vS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Dg(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,void 0,r);return rS(s,u),u}},gS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new Sy(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r);return rS(s,u),u}},mS=function(t,e,i,n){return function(r){var o=iS(iS(iS({},i),r),{theme:(null==r?void 0:r.theme)||zm}),s=t(o),a=e||n?Vm(s,n):void 0,u=new mm(s.Ws,Yv(s,1).hF(0),wt,s.U.bind(s),a,r);return rS(s,u),u}},xS={translation:function(t,e,i){return[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1]},xRotation:function(t){var e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},yRotation:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},zRotation:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},scaling:function(t,e,i){return[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1]},translate:function(t,e,i,n){return xS.multiply(t,xS.translation(e,i,n))},xRotate:function(t,e){return xS.multiply(t,xS.xRotation(e))},yRotate:function(t,e){return xS.multiply(t,xS.yRotation(e))},zRotate:function(t,e){return xS.multiply(t,xS.zRotation(e))},rotateXYZ:function(t,e){var i=xS.xRotate(t,e.x);return i=xS.yRotate(i,e.y),xS.zRotate(i,e.z)},scale:function(t,e,i,n){return xS.multiply(t,xS.scaling(e,i,n))},multiply:function(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],h=e[8],c=e[9],f=e[10],p=e[11],d=e[12],y=e[13],v=e[14],g=e[15],m=t[0],x=t[1],S=t[2],A=t[3],b=t[4],M=t[5],w=t[6],C=t[7],P=t[8],E=t[9],T=t[10],k=t[11],D=t[12],F=t[13],_=t[14],I=t[15],O=[];return O[0]=i*m+n*b+r*P+o*D,O[1]=i*x+n*M+r*E+o*F,O[2]=i*S+n*w+r*T+o*_,O[3]=i*A+n*C+r*k+o*I,O[4]=s*m+a*b+u*P+l*D,O[5]=s*x+a*M+u*E+l*F,O[6]=s*S+a*w+u*T+l*_,O[7]=s*A+a*C+u*k+l*I,O[8]=h*m+c*b+f*P+p*D,O[9]=h*x+c*M+f*E+p*F,O[10]=h*S+c*w+f*T+p*_,O[11]=h*A+c*C+f*k+p*I,O[12]=d*m+y*b+v*P+g*D,O[13]=d*x+y*M+v*E+g*F,O[14]=d*S+y*w+v*T+g*_,O[15]=d*A+y*C+v*k+g*I,O},inverse:function(t){var e=[],i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],h=t[8],c=t[9],f=t[10],p=t[11],d=t[12],y=t[13],v=t[14],g=t[15],m=f*g,x=v*p,S=u*g,A=v*l,b=u*p,M=f*l,w=r*g,C=v*o,P=r*p,E=f*o,T=r*l,k=u*o,D=h*y,F=d*c,_=s*y,I=d*a,O=s*c,B=h*a,z=i*y,L=d*n,R=i*c,V=h*n,N=i*a,U=s*n,Y=m*a+A*c+b*y-(x*a+S*c+M*y),G=x*n+w*c+E*y-(m*n+C*c+P*y),j=S*n+C*a+T*y-(A*n+w*a+k*y),W=M*n+P*a+k*c-(b*n+E*a+T*c),X=1/(i*Y+s*G+h*j+d*W);return e[0]=X*Y,e[1]=X*G,e[2]=X*j,e[3]=X*W,e[4]=X*(x*s+S*h+M*d-(m*s+A*h+b*d)),e[5]=X*(m*i+C*h+P*d-(x*i+w*h+E*d)),e[6]=X*(A*i+w*s+k*d-(S*i+C*s+T*d)),e[7]=X*(b*i+E*s+T*h-(M*i+P*s+k*h)),e[8]=X*(D*l+I*p+O*g-(F*l+_*p+B*g)),e[9]=X*(F*o+z*p+V*g-(D*o+L*p+R*g)),e[10]=X*(_*o+L*l+N*g-(I*o+z*l+U*g)),e[11]=X*(B*o+R*l+U*p-(O*o+V*l+N*p)),e[12]=X*(_*f+B*v+F*u-(O*v+D*u+I*f)),e[13]=X*(R*v+D*r+L*f-(z*f+V*v+F*r)),e[14]=X*(z*u+U*v+I*r-(N*v+_*r+L*u)),e[15]=X*(N*f+O*r+V*u-(R*u+U*f+B*r)),e},projectionPerspective:function(t,e,i,n){var r=1/Math.tan(t*Math.PI/180/2),o=1/(i-n);return[r/e,0,0,0,0,r,0,0,0,0,(i+n)*o,-1,0,0,i*n*o*2,0]},projectionOrthographic:function(t,e,i,n,r,o){return[2/(e-t),0,0,-(e+t)/(e-t),0,2/(n-i),0,-(n+i)/(n-i),0,0,-2/(o-r),-(o+r)/(o-r),0,0,0,1]}};function SS(t,e,i,n,r,o){var s=e.x.ct(t.max.x),a=e.x.ct(t.min.x),u=e.y.ct(t.max.y),c=e.y.ct(t.min.y),f=s-a,p=u-c;if(f<1){var d=(a+s)/2;a=d-.5,s=d+.5,f=1}if(p<1){var y=(c+u)/2;c=y-.5,u=y+.5,p=1}var v,g,m=f/p,x=f*i.x,S=p*i.y,A=f-x,b=p-S,M=x>A?[A,x]:[x,A],w=S>b?[b,S]:[S,b],C=1,P=1;switch(n){default:case h.closestSide:v=M[0]/f,g=w[0]/p,r===l.circle?(C=E=Math.min(v*m,g),P=E):(C=v*m,P=g);break;case h.farthestSide:v=M[1]/f,g=w[1]/p,r===l.circle?(C=E=Math.max(v*m,g),P=E):(C=v*m,P=g);break;case h.closestCorner:g=w[0]/p,r===l.circle?(v=M[0]/f*m,C=E=Math.sqrt(v*v+g*g),P=E):(v=M[0]/f,C=(E=Math.sqrt(v*v+g*g))*m,P=E);break;case h.farthestCorner:var E;g=w[1]/p,r===l.circle?(v=M[1]/f*m,C=E=Math.sqrt(v*v+g*g),P=E):(v=M[1]/f,C=(E=Math.sqrt(v*v+g*g))*m,P=E)}return{bounds:[a*o,c*o,f*o,p*o],center:[i.x*m,i.y],distance:[Math.max(C,1e-4),Math.max(P,1e-4)],aspectRatio:m}}function AS(t,e,i,n){var r=e.x.ct(t.max.x),o=e.x.ct(t.min.x),s=e.y.ct(t.max.y),a=e.y.ct(t.min.y),u=r-o,l=s-a,h=Math.abs(u*Math.sin(i))+Math.abs(l*Math.cos(i)),c=y(u/2-Math.sin(i)*(h/2),l/2-Math.cos(i)*(h/2)),f=y(u/2+Math.sin(i)*(h/2),l/2+Math.cos(i)*(h/2));return{bounds:[o*n,a*n,u*n,l*n],startPoint:[c.x*n,c.y*n],endPoint:[f.x*n,f.y*n]}}var bS=function(t){this.dP=t},MS=function(){function t(){var t=this;this.tz=new Array,this.iz=function(e){return t.tz.push(e),e},this.nz=this.iz(new Map),this.rz=this.iz(new Map),this.ez=this.iz(new Map),this.oz=this.iz(new Map),this.sz=this.iz(new Map),this.uz=this.iz(new Map),this.hz=this.iz(new Map),this.az=this.iz(new Map)}return t.prototype.fz=function(){this.tz.forEach((function(t){t.forEach((function(t){return t.fz()})),t.clear()}))},t}(),wS=function(t,e,i){return void 0===i&&(i=void 0),function(){t.cz=e,i&&i()}},CS=function(t,e,i,n,r){var o=Math.min(i/t,n/e),s=t*o,a=e*o,u=i/s,l=n/a,h=s/i,c=a/n,f=0,p=1,d=0,y=1;switch(r){case ms.Fill:l<u?(f=0,p=1,d=.5+-h/2,y=.5+h/2):(d=0,y=1,f=.5+-c/2,p=.5+c/2);break;case ms.Fit:l<u?(d=0,y=1,f=.5+-u/2,p=.5+u/2):(f=0,p=1,d=.5+-l/2,y=.5+l/2);break;case ms.Center:var v=i/t,g=n/e;f=.5+-v/2,p=.5+v/2,d=.5+-g/2,y=.5+g/2;break;case ms.Tile:f=0,p=i/t,d=0,y=n/e;break;case ms.Stretch:default:f=0,p=1,d=0,y=1}return new Float32Array([f,y,p,y,p,d,f,d])},PS=function(){function t(t,e){var i=this;if(this.lz=0,this.vz=0,this.dz=!1,this.cz=!1,this.Az=!1,this.yz=!1,this.mz=!1,this.bz=new Set,this.pz=new Set,this.Lc=e,this.YP=t,this.gz=null,this.dz=e instanceof ne.HTMLVideoElement,this.Lc instanceof ne.HTMLImageElement)this.Lc.addEventListener("load",(function(){i.yz=!0,i.Sz()})),this.Lc.addEventListener("error",(function(){i.mz=!0})),this.Lc.complete&&(this.yz=!0,this.Sz());else if(this.Lc instanceof ne.HTMLVideoElement){var n=this;this.Lc.addEventListener("canplay",(function(){n.vz=this.videoHeight,n.lz=this.videoWidth,n.yz=!0,n.Sz()}),!0),this.Lc.addEventListener("play",wS(this,!0,(function(){return i.Sz()}))),this.Lc.addEventListener("playing",wS(this,!0,(function(){return i.Sz()}))),this.Lc.addEventListener("pause",wS(this,!1)),this.Lc.addEventListener("ended",wS(this,!1)),this.Lc.readyState>=1&&(this.lz=this.Lc.videoWidth,this.vz=this.Lc.videoHeight,this.cz=!this.Lc.paused,this.yz=!0,this.Sz())}else this.yz=!0,this.Sz()}return t.prototype.TP=function(t){0===this.pz.size&&this.yz&&this.Sz(),this.pz.add(t)},t.prototype.kP=function(t){this.pz.delete(t),0===this.pz.size&&this.unbindResources()},t.prototype.xz=function(t){this.bz.add(t),this.Az&&(t(),this.wz(t))},t.prototype.wz=function(t){this.bz.delete(t)},t.prototype.Sz=function(){var t=this;if(!this.mz&&!this.Az&&this.yz){var e=this.YP.gl;if(!this.gz&&this.Lc&&e){this.gz=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.gz),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var i=e.RGBA,n=e.RGBA,r=e.UNSIGNED_BYTE,o=this.Lc,s=this.lz>0?this.lz:o.width,a=this.vz>0?this.vz:o.height;e.texImage2D(e.TEXTURE_2D,0,i,n,r,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),this.lz=s,this.vz=a,e.bindTexture(e.TEXTURE_2D,null)}this.Az=!0,this.bz&&this.bz.forEach((function(e){e(),t.wz(e)}))}},t.prototype.En=function(){var t=this.YP.gl;if(!this.mz&&this.Az&&this.gz){var e=t.RGBA,i=t.RGBA,n=t.UNSIGNED_BYTE,r=this.Lc;r&&(t.bindTexture(t.TEXTURE_2D,this.gz),t.texImage2D(t.TEXTURE_2D,0,e,i,n,r))}},t.prototype.Mz=function(){return this.gz},t.prototype.unbindResources=function(){return this.Az&&(this.gz&&(this.YP.bP(this.gz),this.gz=null),this.Az=!1),this},t}(),ES=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),TS=function(t){function e(e,i,n){var r=t.call(this,e.fn,i,n)||this;return r.jp=!0,r.Mp={},r.Op=b(ia),r.In=e,r.vt=e.vt,r}return ES(e,t),e.prototype.Cz=function(){var t;return this.Op.o&&this.Op.C().type!==(null===(t=this._z)||void 0===t?void 0:t.type)},e.prototype.Vp=function(t){return this.jp=t,this},e.prototype.Tz=function(t){return this.Mp=t,this},e}(jo),kS=function(){function t(t){this.iV=[],this.dP=t}return t.prototype.nV=function(t,e){!function(t,e,i,n){var r=t.kz(),o=Math.round(Math.min(i.spread,10)*r),s=Math.round(Math.min(i.blur,10)*r),a={x:Math.round(i.offset.x*r),y:Math.round(i.offset.y*r)},u=t.Oz(),l=t.Fz(),h=t.Iz(),c=t.jz(),f=t.Dz();t.Bz("disabled"),t.Vp(!1),t.Ez(!1);var p=e.Pz(),d=o+s/2;!function(t,e,i,n){var r=t.gl,o=t.kz(),s=t.Lz();t.zz(r.FRAMEBUFFER,n.frameBuffer),r.bindRenderbuffer(r.RENDERBUFFER,n.depthBuffer),r.bindTexture(r.TEXTURE_2D,n.texture),r.clearDepth(1),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT);var a=n.sizeDpr;t.Vz(0,0,a.x,a.y),e.forEach((function(e){var n;if(e instanceof Ho?n=e.Ui||e.In.am():e instanceof TS&&(n=e.In.kS()),n){var r=n.x+i.left,s=n.y+i.bottom,a=Math.max(n.width-(i.left+i.right),0),u=Math.max(n.height-(i.bottom+i.top),0);t.Nz(r*o,s*o,a*o,u*o)}else t.Ez(!1);e.AE(2,0)})),t.zz(r.FRAMEBUFFER,s),r.bindRenderbuffer(r.RENDERBUFFER,null),r.bindTexture(r.TEXTURE_2D,null),t.Ez(!1)}(t,n,{left:d+(a.x<0?-a.x:0),top:d+(a.y>0?a.y:0),right:d+(a.x>0?a.x:0),bottom:d+(a.y<0?-a.y:0)},p);var y=p,v=o+s+5,g=function(t,e,i,n){var r=function(t){for(var e=[],i=function(i){var n=t[i],r=void 0;do{var o=e.findIndex((function(t){return Pi(n,t)}));(r=o>=0?e[o]:void 0)&&(e.splice(o,1),n=Vi(n,r))}while(r);e.push(n)},n=0;n<t.length;n+=1)i(n);return e}(e.map((function(t){var e=t instanceof Ho||t instanceof TS?t.In.Rz(t):Mi;if(ei(e))return Mi;var r={min:{x:Math.max(e.min.x-i.left,0),y:Math.max(e.min.y-i.bottom,0)},max:{x:Math.min(e.max.x+i.right,n.x),y:Math.min(e.max.y+i.top,n.y)}};return r.max.x<=r.min.x||r.max.y<=r.min.y?Mi:r})).filter((function(t){return!ei(t)}))),o=6*r.length,s=new Float32Array(4*o),a=0;return r.forEach((function(t){var e=qi(t.min,n),i=qi(t.max,n),r=e,o=i;s[a+0]=e.x,s[a+1]=e.y,s[a+2]=r.x,s[a+3]=r.y,s[a+4]=i.x,s[a+5]=e.y,s[a+6]=o.x,s[a+7]=r.y,s[a+8]=i.x,s[a+9]=i.y,s[a+10]=o.x,s[a+11]=o.y,s[a+12]=i.x,s[a+13]=i.y,s[a+14]=o.x,s[a+15]=o.y,s[a+16]=e.x,s[a+17]=i.y,s[a+18]=r.x,s[a+19]=o.y,s[a+20]=e.x,s[a+21]=e.y,s[a+22]=r.x,s[a+23]=r.y,a+=24})),{vertexBuffer:t.Gz(s),vertexCount:o}}(t,n,{left:v+(a.x<0?-a.x:0),top:v+(a.y>0?a.y:0),right:v+(a.x>0?a.x:0),bottom:v+(a.y<0?-a.y:0)},e.Uz()),m=e.Pz(p,y),x=t.UL(zx["2D"],zx.Glow1D({spreadPx:o,blurPx:s,firstPass:!0}),zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,e,i,n,r,o){var s=t.gl,a=t.Lz();t.zz(s.FRAMEBUFFER,i.frameBuffer),s.bindRenderbuffer(s.RENDERBUFFER,i.depthBuffer),s.bindTexture(s.TEXTURE_2D,i.texture),s.clearDepth(1),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),t.Vz(0,0,i.sizeDpr.x,i.sizeDpr.y),t.Wz(n,(function(a,u,l,h){return t.TP(n),o&&o(a),t.Qz(a("uIsHighlighted"),0).HE(a("uHighlightColorOffset"),L).Qz(a("uRenderEffectMask"),0).Zz(a("uTexture"),e.texture,0).Xz(h("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).Xz(a("uScale"),i.uniforms.Kz()).Xz(a("uDisp"),i.uniforms.Jz()).Xz(a("uScaling"),[i.size.x,i.size.y]).Xz(a("uTranslationAxis"),[0,0]).Yz(r.vertexBuffer,void 0,{location:u("aPos"),size:2},{location:u("aTextureCoord"),size:2}).Mb(s.TRIANGLES,r.vertexCount,0),!0})),t.zz(s.FRAMEBUFFER,a),s.bindRenderbuffer(s.RENDERBUFFER,null),s.bindTexture(s.TEXTURE_2D,null)}(t,y,m,x,g,(function(e,i,n,r){return t.Xz(e("uOffsetPx"),[a.x,a.y]),!0})),y=m,t.Ez(l),t.qz(f);var S=t.UL(zx["2D"],zx.Glow1D({spreadPx:o,blurPx:s,firstPass:!1}),zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));!function(t,e,i,n,r){var o=t.gl,s={x:t.fn.oi().x,y:t.fn.oi().y};t.Vz(0,0,s.x*t.kz(),s.y*t.kz());var a=wt.d2({scaleXYConstructor:Cn}).tt(s).Li(0,s.x).zi(0,s.y),u=new OS;u.$z(a),t.Wz(i,(function(a,l,h,c){return t.TP(i),r&&r(a),t.Qz(a("uIsHighlighted"),0).HE(a("uHighlightColorOffset"),L).Qz(a("uRenderEffectMask"),0).Zz(a("uTexture"),e.texture,0).Xz(c("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).Xz(a("uScale"),u.Kz()).Xz(a("uDisp"),u.Jz()).Xz(a("uScaling"),[s.x,s.y]).Xz(a("uTranslationAxis"),[0,0]).Yz(n.vertexBuffer,void 0,{location:l("aPos"),size:2},{location:l("aTextureCoord"),size:2}).Mb(o.TRIANGLES,n.vertexCount,0),!0}))}(t,p,S,g,(function(e,n,r,o){return t.Zz(e("uTextureFirstGlowPass"),m.texture,1).HE(e("uGlowColor"),i.color),!0})),t.Vz(u.x,u.y,u.width,u.height),t.Bz(h),t.Vp(c),t.tV(g.vertexBuffer)}(this.dP,this,e,t)},t.prototype.Uz=function(){var t=this.dP.fn.oi();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}},t.prototype.Pz=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.iV,n=this.Uz(),r={x:Math.ceil(n.x*this.dP.kz()),y:Math.ceil(n.y*this.dP.kz())},o=this.dP.gl,s=i.find((function(e){return!t.includes(e)}));if(s)return s.sizeDpr.x===r.x&&s.sizeDpr.y===r.y||(s.size=n,s.sizeDpr=r,o.bindTexture(o.TEXTURE_2D,s.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r.x,r.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindRenderbuffer(o.RENDERBUFFER,s.depthBuffer),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,r.x,r.y),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),s.scale.tt(n).Li(0,n.x).zi(0,n.y),s.uniforms.$z(s.scale)),s;var a=o.createTexture(),u=this.dP.rV(),l=this.dP.eV();o.bindTexture(o.TEXTURE_2D,a),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r.x,r.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var h=this.dP.Lz();this.dP.zz(o.FRAMEBUFFER,u),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a,0),o.bindRenderbuffer(o.RENDERBUFFER,l),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,r.x,r.y),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,l),o.bindTexture(o.TEXTURE_2D,null),this.dP.zz(o.FRAMEBUFFER,h),o.bindRenderbuffer(o.RENDERBUFFER,null);var c=wt.d2({scaleXYConstructor:Cn}).tt(n).Li(0,n.x).zi(0,n.y),f=new OS;f.$z(c);var p={size:n,sizeDpr:r,texture:a,frameBuffer:u,depthBuffer:l,scale:c,uniforms:f};return i.push(p),p},t.prototype.U=function(){var t=this;[this.iV].forEach((function(e){e.forEach((function(e){t.dP.oV(e.depthBuffer),t.dP.sV(e.frameBuffer),t.dP.bP(e.texture)})),e.length=0}))},t}(),DS=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},FS=function(){function t(t,e,i,n,r){void 0===r&&(r=!0);var o,s,a=this;this.uV=new MS,this.hV=new Map,this.aV=new Map,this.fV=[],this.FL=1,this.IS_MACHINE_LITTLE_ENDIAN=(o=new Uint32Array([287454020]),68===(s=new Uint8Array(o.buffer))[0]||17!==s[0]&&(ne.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)),this.jp=!1,this.Xz=function(t,e){var i=DS(e,2),n=i[0],r=i[1];return void 0===t||a.gl.uniform2f(t,n,r),a},this.cV=function(t,e){var i=DS(e,2),n=i[0],r=i[1];return void 0===t||a.gl.uniform2i(t,n,r),a},this.lV=function(t,e){var i=DS(e,4),n=i[0],r=i[1],o=i[2],s=i[3];return void 0===t||a.gl.uniform4f(t,n,r,o,s),a},this.vV=function(t,e){var i=DS(e,3),n=i[0],r=i[1],o=i[2];return void 0===t||a.gl.uniform3f(t,n,r,o),a},this.dV=function(t,e){return void 0===t||a.gl.uniformMatrix3fv(t,!1,e),a},this.AV=function(t,e){return void 0===t||a.gl.uniformMatrix4fv(t,!1,e),a},this.HE=function(t,e){return void 0===t||a.gl.uniform4f(t,e.r,e.g,e.b,e.a),a},this.Qz=function(t,e){return void 0===t||a.gl.uniform1f(t,e),a},this.yV=function(t,e){return a.gl.uniform1i(t,e),a},this.Zz=function(t,e,i){if(void 0===t)return a;if(e){var n=a.gl.TEXTURE0+i;return a.gl.activeTexture(n),a.gl.bindTexture(a.gl.TEXTURE_2D,e),a.gl.uniform1i(t,i),a}throw new qt("Could not bind a texture.")},this.mV=function(t){return function(t,e){e===ms.Tile?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE))}(a.gl,t),a},this.Gz=function(t,e,i,n){void 0===e&&(e=!1),void 0===n&&(n=Float32Array);var r=t.length,o=a.bV(r,i);if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,o),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof n?t:new n(t),e?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),o)return o;throw new qt("Could not create vertex buffer")},this.pV=function(t,e,i,n){void 0===n&&(n=Float32Array);var r=i||a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,r),e&&e.length===t?a.gl.bufferData(a.gl.ARRAY_BUFFER,e instanceof n?e:new n(e),a.gl.STATIC_DRAW):(a.gl.bufferData(a.gl.ARRAY_BUFFER,new n(t),a.gl.STATIC_DRAW),e&&a.gl.bufferSubData(a.gl.ARRAY_BUFFER,0,e instanceof n?e:new n(e))),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),r)return r;throw new qt("Could not create vertex buffer")},this.gV=function(t,e,i,n){void 0===n&&(n=Float32Array),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferSubData(a.gl.ARRAY_BUFFER,e*n.BYTES_PER_ELEMENT,i instanceof n?i:new n(i)),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.SV=function(t,e,i){void 0===i&&(i=!1),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t),a.gl.bufferData(a.gl.ARRAY_BUFFER,e,i?a.gl.DYNAMIC_DRAW:a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null)},this.xV=function(t,e){var i=t.length,n=a.bV(i,e);if(a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,n),a.gl.bufferData(a.gl.ELEMENT_ARRAY_BUFFER,t,a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),n)return n;throw new qt("Could not create index buffer")},this.wV=function(t){var e=a.gl.createBuffer();if(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),a.gl.bufferData(a.gl.ARRAY_BUFFER,t instanceof Float32Array?t:new Float32Array(t),a.gl.STATIC_DRAW),a.gl.bindBuffer(a.gl.ARRAY_BUFFER,null),e)return e;throw new qt("Could not create float buffer")},this.MV=function(t,e){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,2,a.gl.FLOAT,!1,0,0)),a},this.CV=function(t,e){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),a.gl.vertexAttribPointer(t,3,a.gl.FLOAT,!1,0,0),a.gl.enableVertexAttribArray(t)),a},this.Yz=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];a.gl.bindBuffer(a.gl.ARRAY_BUFFER,t);for(var r=i.length,o=0,s=0;s<r;s+=1)o+=i[s].size;for(s=0;s<r;s+=1){var u=i[s].location;void 0!==u&&u>-1&&a.gl.enableVertexAttribArray(u)}var l=0;for(s=0;s<r;s+=1){var h=i[s];void 0!==h.location&&h.location>-1&&a.gl.vertexAttribPointer(h.location,h.size,a.gl.FLOAT,!1,o*Float32Array.BYTES_PER_ELEMENT,l*Float32Array.BYTES_PER_ELEMENT),l+=h.size}if(void 0!==e)for(s=0;s<r;s+=1){var c=i[s].location;void 0!==c&&c>-1&&a._V(c,e)}return a},this.TV=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t.length,n=0;n<i;n+=1){var r=t[n];0!==r&&r>-1&&a.gl.disableVertexAttribArray(r)}return a},this.kV=function(t,e){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),a.gl.enableVertexAttribArray(t),a.gl.vertexAttribPointer(t,4,a.gl.FLOAT,!1,0,0)),a},this.OV=function(t,e,i){return void 0===t||(a.gl.bindBuffer(a.gl.ARRAY_BUFFER,e),a.gl.vertexAttribPointer(t,1,a.gl.FLOAT,!1,0,0),a.gl.enableVertexAttribArray(t),void 0!==i&&a._V(t,i)),a},this.FV=function(t){return a.gl.bindBuffer(a.gl.ELEMENT_ARRAY_BUFFER,t),a},this.IV=null,this.Mb=function(t,e,i){return void 0===i&&(i=0),e>0&&a.gl.drawArrays(t,i,e),a},this.jV=function(t,e,i,n){return void 0===e&&(e=a.gl.TRIANGLES),void 0===i&&(i=0),void 0===n&&(n=a.gl.UNSIGNED_SHORT),t>0&&a.gl.drawElements(e,t,n,i),a},this.DV=function(t,e,i,n){if(n>0&&(a.gl2&&a.gl2.ctx.drawArraysInstanced(t,e,i,n),a.gl1)){if(!a.gl1.LL.ANGLE_instanced_arrays)return ne.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.LL.ANGLE_instanced_arrays.drawArraysInstancedANGLE(t,e,i,n)}return a},this.BV=function(t,e,i,n,r){if(void 0===r&&(r=a.gl.UNSIGNED_SHORT),n>0&&(a.gl2&&a.gl2.ctx.drawElementsInstanced(t,e,r,i,n),a.gl1)){if(!a.gl1.LL.ANGLE_instanced_arrays)return ne.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.LL.ANGLE_instanced_arrays.drawElementsInstancedANGLE(t,e,r,i,n)}return a},this._V=function(t,e){if(t>-1&&(a.gl2&&a.gl2.ctx.vertexAttribDivisor(t,e),a.gl1)){if(!a.gl1.LL.ANGLE_instanced_arrays)return ne.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),a;a.gl1.LL.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(t,e)}return a},this.EV=function(t,e,i,n){void 0===n&&(n=0);var r=a.gl.TEXTURE0+n;a.gl.activeTexture(r);var o=a.Lz();a.zz(a.gl.FRAMEBUFFER,e),a.gl.bindTexture(a.gl.TEXTURE_2D,i),a.gl.framebufferTexture2D(a.gl.FRAMEBUFFER,a.gl.COLOR_ATTACHMENT0,a.gl.TEXTURE_2D,i,0);var s=a.Fz();s&&a.Ez(!1),t(),s&&a.Ez(!0),a.gl.bindTexture(a.gl.TEXTURE_2D,null),a.zz(a.gl.FRAMEBUFFER,o)},this.zt=function(){return a.gl.clear(a.gl.COLOR_BUFFER_BIT|a.gl.DEPTH_BUFFER_BIT),a},this.PV=function(t){return a.gl.clearColor(t.r,t.g,t.b,t.a),a},this.TP=function(t){return a.gl.useProgram(t.XP),a},this.LV=!1,this.zV=[],this.fn=t,this.Yd=e,this.fn=t,this.gl=i.ctx,this.VV=i.antialias,this.NV=!!this.fn.Ns.rL&&i.lineAntialias,this.zL=this.fn.Ns.zL,this.RV=new Map,this.gl1=this.fn.Ns.gl1,this.gl2=this.fn.Ns.gl2,r&&(this.qz(!0),this.GV()),this.LL=this.fn.Ns.LL,this.yP=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.xP=this.UV(),this.UL=this.fn.Ns.UL,this.WV=new zS(this),this.IP=this.fn.Ns.IP,this.YV=new kS(this),this.nL=this.fn.Ns.nL,this.XV=this.Gz([0,0,1,0,1,1,0,1]),this.HV=this.Gz([0,0,1,0,0,1,0,1,1,0,1,1])}return t.prototype.Bz=function(t){return t!==this.ZV&&(this.ZV=t,"disabled"===t?this.gl.disable(this.gl.CULL_FACE):"cull-back"===t?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):"cull-front"===t&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this},t.prototype.Iz=function(){return this.ZV||"disabled"},t.prototype.Vp=function(t){return t!==this.jp&&(this.jp=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this},t.prototype.jz=function(){return this.jp},t.prototype.QV=function(t){return this.FL=t,this},t.prototype.kz=function(){return this.FL},t.prototype.bV=function(t,e){var i;if(e){var n=this.RV.get(e);n&&n.size>=t&&n.size-t<1e6?i=e:this.tV(e)}return i||(i=this.gl.createBuffer(),this.RV.set(i,{size:t})),i},t.prototype.KV=function(t,e,i,n,r,o,s,a){void 0===e&&(e=this.gl.RGBA),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=this.gl.UNSIGNED_BYTE),void 0===a&&(a=e);var u=this.gl.createTexture();if(!u)throw new qt("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,u),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),t&&null===r?this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,e,s,t):r&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,r.x,r.y,0,e,s,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,n?this.gl.NEAREST:this.gl.LINEAR),i?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,n?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),u},t.prototype.bP=function(t){this.gl.deleteTexture(t)},t.prototype.rV=function(){var t=this.gl.createFramebuffer();if(!t)throw new qt("Couldn't reserve Framebuffer.");return t},t.prototype.zz=function(t,e){this.IV=e,this.gl.bindFramebuffer(t,e)},t.prototype.Lz=function(){return this.IV},t.prototype.sV=function(t){this.gl.deleteFramebuffer(t)},t.prototype.eV=function(){var t=this.gl.createRenderbuffer();if(!t)throw new qt("Couldn't reserve Render buffer.");return t},t.prototype.oV=function(t){this.gl.deleteRenderbuffer(t)},t.prototype.Vz=function(t,e,i,n){return this.gl.viewport(t,e,i,n),this.JV&&t===this.JV.x&&e===this.JV.y&&i===this.JV.width&&n===this.JV.height||(this.JV={x:t,y:e,width:i,height:n}),this},t.prototype.Oz=function(){return this.JV||{x:0,y:0,width:0,height:0}},t.prototype.Nz=function(t,e,i,n){return this.Ez(!0),this.gl.scissor(Math.max(t,0),Math.max(e,0),Math.max(i,0),Math.max(n,0)),this},t.prototype.Ez=function(t){return t===this.qV||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.qV=t),this},t.prototype.qz=function(t){return t!==this.LV&&(this.LV=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this},t.prototype.Dz=function(){return this.LV},t.prototype.GV=function(t,e,i,n){return t?(void 0!==t&&void 0!==e&&(void 0!==i&&void 0!==n?this.gl.blendFuncSeparate(t,e,i,n):this.gl.blendFunc(t,e)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)},t.prototype.Fz=function(){return void 0!==this.qV&&this.qV},t.prototype.Wz=function(t,e){var i=new LS(this,t),n=e(i.uniform,i.attribute,i,i.uniformOptional);i.finish(n)},t.prototype.tV=function(t){t&&(this.gl.deleteBuffer(t),this.RV.delete(t))},t.prototype.$V=function(t,e,i){this.Xz(t.uniform("uCenter"),e.center).Xz(t.uniform("uDistance"),e.distance).lV(t.uniform("uBounds"),e.bounds).Qz(t.uniform("uAspect"),e.aspectRatio);var n=i.getColorStops();if(n.length<2)throw new Error("Minimum two color stops required");for(var r=0;r<n.length;r+=1)this.HE(t.uniform("color_".concat(r)),n[r].color).Qz(t.uniform("stop_".concat(r)),n[r].offset);return this},t.prototype.tN=function(t,e,i){this.Xz(t.uniform("uStartPoint"),e.startPoint).Xz(t.uniform("uEndPoint"),e.endPoint).lV(t.uniform("uBounds"),e.bounds);var n=i.getColorStops();if(n.length<2)throw new Error("Minimum two color stops required");for(var r=0;r<n.length;r+=1)this.HE(t.uniform("color_".concat(r)),n[r].color).Qz(t.uniform("stop_".concat(r)),n[r].offset);return this},t.prototype.Xe=function(t){var e=this.nL.get(t);if(!e){var i=new ex(this);return this.nL.set(t,i),i}return e},t.prototype.iN=function(t){var e=this.hV.get(t);if(!e){var i=new PS(this,t);return this.nN(t,i),i}return e},t.prototype.nN=function(t,e){this.hV.set(t,e)},t.prototype.UV=function(){var t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));var i=0===t.getError();return i||!1!==this.Yd.Xs&&ne.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(e),i},t.prototype.rN=function(t,e,i,n){if(i)this.Yz(e,n,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{var r=t.attribute("aPos");this.MV(r,e),void 0!==n&&this._V(r,n)}return this},t.prototype.eN=function(){this.LL.WEBGL_lose_context&&this.LL.WEBGL_lose_context.loseContext()},t.prototype.oN=function(t){if(this.sN&&this.sN.bufferIdsCount>=t)return this.sN.buffer;this.sN&&(this.tV(this.sN.buffer),this.sN=void 0);for(var e=t,i=new Float32Array(e),n=0;n<e;n+=1)i[n]=n;var r=this.Gz(i);return this.sN={buffer:r,bufferIdsCount:e},r},t.prototype.uN=function(){return this.gl2?void 0:"attribute"},t.prototype.hN=function(t,e){if("attribute"===this.uN()){var i=this.oN(e);this.Yz(i,void 0,{location:t.attribute("aVertexID"),size:1})}return this},t.prototype.aN=function(){return this.gl2?void 0:"attribute"},t.prototype.fN=function(t,e){if("attribute"===this.aN()){var i=this.oN(e);this.Yz(i,1,{location:t.attribute("aInstanceID"),size:1})}return this},t.prototype.cN=function(t,e,i,n,r,o,s,a,u){var l=this,h=t.createBuffer();return this.zV.push(h),t.bindFramebuffer(t.FRAMEBUFFER,e),t.bindBuffer(t.PIXEL_PACK_BUFFER,h),t.bufferData(t.PIXEL_PACK_BUFFER,u.byteLength,t.STREAM_READ),t.readPixels(i,n,r,o,s,a,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),IS(t,t.PIXEL_PACK_BUFFER,h,0,u).then((function(){return u})).catch((function(t){throw t})).finally((function(){t.deleteBuffer(h),l.zV.splice(l.zV.indexOf(h),1)}))},t.prototype.lN=function(t,e,i,n,r,o,s,a){var u=this.gl,l=this.Lz();this.zz(u.FRAMEBUFFER,t),u.readPixels(e,i,n,r,o,s,a),this.zz(this.gl.FRAMEBUFFER,l)},t.prototype.vN=function(t){var e,i=this.aV.get(t);if(!i){var n=this.gl.createTexture();if(!n)throw new qt("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,n);for(var r=[],o=255,s=0;s<t.length;s+=1){for(var a=0;a<t[s];a+=1)r.push(o);o=255===o?0:255}var u=r.length;if(!this.gl2&&0!=((e=r.length)&e-1))for(var l=function(t){t-=1;for(var e=1;e<32;e<<=1)t|=t>>1;return t+1}(r.length),h=r.length;h<l;h+=1)r[h]=0;this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,r.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(r)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);var c={dN:n,AN:u,yN:r.length};return this.aV.set(t,c),c}return i},t.prototype.mN=function(t,e,i){var n=t.uniform;this.HE(n("uFallbackColor"),e.getFallbackColor());for(var r=0;r<e.steps.length;r+=1)this.Qz(n("uLUTValue".concat(r)),e.steps[r].value),this.HE(n("uLUTColor".concat(r)),e.steps[r].color);if(e.percentageValues){if(!i)return $e(0,(function(){})),this;this.Qz(n("uMinValue"),i.min),this.Qz(n("uMaxValue"),i.max)}return this},t.prototype.bN=function(t,e,i,n,r,o){var s=this,a=i&&i.getSource()||n&&n.Lc,u=i?i.getFitMode():ms.Stretch,l=function(t){t.texCoordsBuffer=s.Gz(o(t.texture.lz,t.texture.vz,u),!1,t.texCoordsBuffer)};if(a){var h=e;if((!e||a!==e.source)&&a){e&&(e.texture.kP(t),this.tV(e.texCoordsBuffer));var c=this.iN(a);c.TP(t);var f=i?i.getSourceMissingColor():Mr.color;h={texture:c,source:a,texCoordsBuffer:this.Gz([]),sourceMissingTexture:this.KV(new Uint8Array([f.getR(),f.getG(),f.getB(),f.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:function(){h&&a&&(l(h),s.fn.Sn())}},c.xz(h.textureReadyCallback),l(h)}return h&&h.texture.Az&&h.texture.dz&&h.texture.cz&&(h.texture.En(),this.fn.Sn()),r&&h&&h.texture.Az&&l(h),h}e&&this.pN(t,e)},t.prototype.pN=function(t,e){e&&(e.texture.kP(t),e.texture.wz(e.textureReadyCallback),this.bP(e.sourceMissingTexture),this.tV(e.texCoordsBuffer))},t.prototype.gN=function(t,e,i,n){var r=t.uniform,o=t.uniformOptional,s=t.attribute,a=i.vt,u=this.kz();this.Qz(r("uIsHighlighted"),1===e||2===e?0:i.zu).HE(r("uHighlightColorOffset"),1===e||2===e?R:i.Gu).Qz(r("uRenderEffectMask"),2===e?1:0).Xz(o("uRatioPxClip"),[2/this.fn.oi().x,2/this.fn.oi().y]).Qz(o("uDevicePixelRatio"),u),a instanceof Cn||a instanceof Ly?this.Xz(r("uScale"),n.uniforms.Kz()).Xz(r("uDisp"),n.uniforms.Jz()).Xz(o("uScaleStart_highpart"),n.uniforms.SN()).Xz(o("uScaleStart_lowpart"),n.uniforms.xN()):a instanceof Pn&&this.Xz(o("uScaleStart"),n.uniforms.MixedScaleXY.uScaleStart).Xz(o("uScaleStartLog"),n.uniforms.MixedScaleXY.uScaleStartLog).Xz(o("uScaleInterval"),n.uniforms.MixedScaleXY.uScaleInterval).Xz(o("uScaleIntervalLog"),n.uniforms.MixedScaleXY.uScaleIntervalLog).Xz(r("uViewportStart"),n.uniforms.MixedScaleXY.uViewportStart).Xz(r("uViewportSize"),n.uniforms.MixedScaleXY.uViewportSize);var l=!0===n.coordsHighPrecision;if(n.coordsX)if(l){var h=s("aPos_highpartX"),c=s("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.coordsX),this.gl.vertexAttribPointer(h,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(h),this.gl.vertexAttribPointer(c,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(c)}else this.OV(s("aPosX"),n.coordsX);if(n.coordsY&&(l?(h=s("aPos_highpartY"),c=s("aPos_lowpartY"),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.coordsY),this.gl.vertexAttribPointer(h,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(h),this.gl.vertexAttribPointer(c,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(c)):this.OV(s("aPosY"),n.coordsY)),1===e)this.yV(r("uFirstId"),n.idFirst);else{if(n.fillStyleSolid&&this.HE(r("uColor"),n.fillStyleSolid.getColor()),n.fillStylePaletted){if("value"===n.fillStylePaletted.getLookUpProperty()&&null!==n.lookupValueBuffer){if(!n.lookupValueBuffer)return!1;var f=s("aLookupValue");this.OV(f,n.lookupValueBuffer),void 0!==n.lookupValueAttribDivisor&&this._V(f,n.lookupValueAttribDivisor)}this.mN(t,n.fillStylePaletted.lut,n.lookupValueRange)}if(n.fillStyleLinearGradient){if(!n.linearGradientInfo)return!1;this.tN(t,n.linearGradientInfo,n.fillStyleLinearGradient)}if(n.fillStyleRadialGradient){if(!n.radialGradientInfo)return!1;this.$V(t,n.radialGradientInfo,n.fillStyleRadialGradient)}if(n.fillStyleIndividual&&null!==n.colorBuffer){if(!n.colorBuffer)return!1;var p=s("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,n.colorBuffer),this.gl.vertexAttribPointer(p,4,this.gl.UNSIGNED_BYTE,!0,0,0),this.gl.enableVertexAttribArray(p),void 0!==n.colorAttribDivisor&&this._V(p,n.colorAttribDivisor)}if(n.fillStyleImage){if(!n.texturedFillGLInfo)return!1;var d=n.texturedFillGLInfo&&n.texturedFillGLInfo.texture.Mz();this.HE(o("uColor"),n.fillStyleImage.getSurroundingColor()).Zz(r("uColorTexture"),d||n.texturedFillGLInfo.sourceMissingTexture,0).Yz(n.texturedFillGLInfo.texCoordsBuffer,n.texCoordAttribDivisor,{location:s("aTextureCoord"),size:2}).mV(n.fillStyleImage.fitMode)}n.maskTexture&&(d=n.maskTexture&&n.maskTexture.texture.Mz(),this.Zz(r("uMaskTexture"),d||n.maskTexture.sourceMissingTexture,0).Yz(n.maskTexture.texCoordsBuffer,n.maskTextureCoordsAttribDivisor,{location:s("aMaskTextureCoord"),size:2}))}return void 0!==n.useInstanceID&&this.fN(t,n.useInstanceID),void 0!==n.useVertexID&&this.hN(t,n.useVertexID),!0},t.prototype.wN=function(t,e,i){if(t)return AS(i||e.Hu(),e.vt,t.getAngle(!0),this.kz())},t.prototype.MN=function(t,e,i){if(t)return SS(i||e.Hu(),e.vt,t.getPosition(),t.getExtent(),t.getShape(),this.kz())},t}(),_S=function(t,e,i){var n=void 0!==i.flags?i.flags:0,r=void 0!==i.retryTimeout?i.retryTimeout:10;return new Promise((function(i,o){ne.setTimeout((function s(){var a=t.clientWaitSync(e,n,0);return a===t.WAIT_FAILED?o(new Error("WebGL Sync WAIT_FAILED ".concat(t.getError()))):a!==t.TIMEOUT_EXPIRED?i(void 0):void ne.setTimeout(s,r)}),0)}))},IS=function(t,e,i,n,r,o,s){return void 0,void 0,u=function(){var a;return function(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(u){return a=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0),t.flush(),[2,_S(t,a,{retryTimeout:10}).then((function(){return t.deleteSync(a),t.bindBuffer(e,i),t.getBufferSubData(e,n,r,o,s),t.bindBuffer(e,null),r})).catch((function(t){throw t}))]}))},new((a=void 0)||(a=Promise))((function(t,e){function i(t){try{r(u.next(t))}catch(t){e(t)}}function n(t){try{r(u.throw(t))}catch(t){e(t)}}function r(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(t){t(r)}))).then(i,n)}r((u=u.apply(void 0,[])).next())}));var a,u},OS=function(){function t(){}return t.prototype.$z=function(t){if(t instanceof Cn||t instanceof Ly){var e=t.mi();this.CN=e.x.scaling,this._N=-e.x.displacement,this.TN=e.y.scaling,this.kN=-e.y.displacement,this.ON=e.x.highPrecisionOffset,this.FN=e.x.highPrecisionOffset-Math.fround(e.x.highPrecisionOffset),this.IN=e.y.highPrecisionOffset,this.jN=e.y.highPrecisionOffset-Math.fround(e.y.highPrecisionOffset)}else t instanceof Pn&&(this.MixedScaleXY=t.mi());return this},t.prototype.Jz=function(){return[this._N,this.kN]},t.prototype.Kz=function(){return[this.CN,this.TN]},t.prototype.SN=function(){return[this.ON,this.IN]},t.prototype.xN=function(){return[this.FN,this.jN]},t}(),BS=function(){function t(){this.CN=0,this.TN=0,this.DN=0,this._N=0,this.kN=0,this.EN=0}return t.prototype.PN=function(t){return this.CN=t.et(),this._N=t.getInnerStart()+.5*this.CN*t.ot(),this},t.prototype.LN=function(t){return this.TN=t.et(),this.kN=t.getInnerStart()+.5*this.TN*t.ot(),this},t.prototype.zN=function(t){return this.DN=t.et(),this.EN=t.getInnerStart()+.5*this.DN*t.ot(),this},t.prototype.Kz=function(){return[this.CN,this.TN,this.DN]},t.prototype.Jz=function(){return[this._N,this.kN,this.EN]},t.prototype.VN=function(t,e,i,n,r){var o=y(2*(t-i.x)/(i.width-i.x)-1,2*(e-i.y)/(i.height-i.y)-1),s=xS.multiply(n,[o.x,o.y,r,1]);return m(s[0],s[1],s[2])},t}(),zS=function(){function t(t){this.dP=t}return t.prototype.AE=function(t,e,i,n,r,o){void 0===o&&(o=0);var s=this.dP,a=void 0===n;if(!(n=n||s.rV()))throw new qt("Could not bind a framebuffer.");var u=s.Oz(),l=s.Dz();s.qz(!1),s.EV((function(){s.Vz(0,0,i.x,i.y),t()}),n,e,o),a&&s.sV(n),this.dP.PV(r),this.dP.Vz(u.x,u.y,u.width,u.height),s.qz(l)},t}(),LS=function(){function t(t,e){var i=this;this.NN=[],this.RN=[],this.uniform=function(t){var e=i.shader.KP(t);return i.RN.push({name:t,optional:!1}),e},this.uniformOptional=function(t){var e=i.shader.JP(t);return i.RN.push({name:t,optional:!0}),e},this.attribute=function(t){var e=i.shader.qP(t);return i.NN.push({name:t,location:e}),e},this.glUtils=t,this.shader=e}return t.prototype.finish=function(t){var e,i;try{for(var n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.NN),r=n.next();!r.done;r=n.next()){var o=r.value;this.glUtils.TV(o.location),this.glUtils._V(o.location,0)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}},t}(),RS=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),VS=function(){return(VS=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},NS=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r)||this;return s.GN=new Map,s.UN=e,s.WN=i,s.dP=e.YN(),s.XN=o,s.WN=i,s}return RS(e,t),e.prototype.mP=function(){return this},e.prototype.AE=function(t,e){if(!this.XN||0!==t||0===this.GN.size)return{};var i=Array.from(this.GN.values()).map((function(t){return t.HN.filter((function(t){return t.ZN})).map((function(t){return t.tn})).flat().filter((function(t){return void 0!==t})).filter((function(t){return t.getVisible()}))})).flat();if(0===i.length)return{};var n=this.XN;return this.dP.YV.nV(i,n),{}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.En=function(){return this},e.prototype.yt=function(){return 0},e.prototype.At=function(){return 0},e.prototype.St=function(){return 0},e.prototype.bt=function(){return 0},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.en=function(t,e){var i=this,n={HN:[]},r=function(t,e){var i={tn:t||[],ZN:void 0===e||e};n.HN.push(i);var r={dn:function(t){return i.tn=t,r},gn:function(t){return i.ZN=t,r},xn:function(){return i.ZN}};return r},o={};Object.keys(e).forEach((function(t){var i=e[t],n=i.shapes||[],s=void 0===i.themeEffectEnabled||i.themeEffectEnabled,a=r(n,s);o[t]=a}));var s=VS({JA:r},o);this.GN.set(t,n);var a=t.onDispose((function(){i.GN.delete(t),t.offDispose(a)}));return s},e}(Ho);function US(t,e,i,n,r,o){void 0===o&&(o=Math.floor(Math.sqrt(n>r?25*n:25*r)));var s=Array(o+2),a=Math.PI,u=0,l=0,h=e*a/180,c=(i*a/180-h)/o;for(s[u]=y(t.x,t.y),u+=1;u<=o+1;)s[u]=y(t.x+n*Math.cos(h+l*c),t.y+r*Math.sin(h+l*c)),u+=1,l+=1;return[s,o]}var YS,GS=function(t,e,i){return function(t,e,i,n){for(var r,o,s,a,u=[],l=0,h=Xi(e,i/2),c=t[t.length-1],f=0,p=0;p<t.length;p+=1){r=t[p],o=p===t.length-1?t[0]:t[p+1],p>0&&(c=t[p-1]),re(r,c)&&(c=Hi(r,Gi(Xi(Zi(o,r),-1)))),re(r,o)&&(o=Hi(r,Gi(Xi(Zi(c,r),-1))));var d=qi(c,e),v=qi(r,e),g=qi(o,e),m=Gi(Zi(v,d)),x=Gi(Zi(g,v)),S=Hi(m,x),A=y(-S.y,S.x),b=y(-m.y,m.x),M=1/Ji(A,b),w=Wi(A),C=Gi(Zi(m,x)),P=Math.sign(Ji(A,C))||1,E=Qi(A,Xi(h,M)),T=Qi(A,Xi(h,-M));if(w<1||M===1/0){var k={x:0,y:0},D={x:0,y:0},F={x:0,y:0},_={x:0,y:0},I=y(-x.y,x.x),O=Math.sign(Ji(m,A))||P,B=Qi(b,Xi(h,O)),z=Qi(I,Xi(h,O));1===P?(k=B,D=T,F=z,_=T):(k=E,D=B,F=E,_=z);var L=4*Ii(c,r),R=4*Ii(r,o);(M>L||M>R)&&(1===P?(k=B,D=z,F=z,_=B):(k=z,D=B,F=B,_=z));var V=Hi(r,k),N=Hi(r,D),U=Hi(r,F),Y=Hi(r,_);u[l]=V,u[l+=1]=N,u[l+=1]=U,u[l+=1]=Y,l+=1,f=4}else V=Hi(r,E),N=Hi(r,T),u[l]=V,u[l+=1]=N,l+=1,f=2;a=s,s=t[p]}return u[l]=u[0],u[l+=1]=u[1],l+=1,[u,f,[a,s]]}(t,e,i)[0]},jS=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),WS=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},XS=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.KN=Mi,s.JN=Mi,s.qN=Qm({arcStyleSolid:function(){return it(s.Or)&&s.Or},arcStyleRadialGradient:function(){return pt(s.Or)&&s.Or},arcStyleLinearGradient:function(){return yt(s.Or)&&s.Or}}),s.UN=e,s.WN=i,s.dP=e.YN(),s}return jS(e,t),e.prototype.$N=function(t,e){var i,n=0,r=Array(0);if(void 0!==e){for(var o=t.length,s=Array(o+e.length),a=0,u=0;a<o;)s[u]=t[a],s[u+1]=e[a],u+=2,a+=1;r=s,n=this.dP.gl.TRIANGLE_STRIP}else r=t,n=this.dP.gl.TRIANGLE_FAN;var l=Be(r,this.vt.wi());return i=r.length,[r,this.dP.Gz(l),i,n]},e.prototype.tR=function(t,e,i,n){var r=Array(0);if(void 0===e)r=t;else{var o=0,s=0,a=t.length;for(o=0,s=a,r=Array(a+e.length-2),e.reverse();o<a;)r[o]=t[o],r[s]=e[o],s+=1,o+=1}if(1===i||-1===i)return[Be(r,this.vt.wi()),r.length];var u=GS(r,n,i);return[Be(u,this.vt.wi()),u.length]},e.prototype.En=function(){var t,e,i,n,r,o,s=this.oh(),a=this.Bu.C();if(this.sh()){var u=Math.abs(this.ki.C()-this.Ua.C());this.UP.$z(this.vt);var l=this.vt.Vi()||s,h=this.vt.Ri(),c=this.Wa.C(),f=this.Ya.C(),p=WS(US(this.Ah.C(),this.Ua.C(),this.ki.C(),this.Wa.C(),this.Ya.C(),this.Ha.C()),2),d=p[0],v=p[1],g=this.Xa.C(),m=g>0?US(this.Ah.C(),this.Ua.C(),this.ki.C(),this.Wa.C()*g/100,this.Ya.C()*g/100,v)[0]:[this.Ah.C()],x=d.length-1;if(2===x){var A=(d[x-1].x+d[1].x)/2,b=(d[x-1].y+d[1].y)/2;this.Za=y(A,b)}else{var M=Math.floor(x/2);this.Za=y(d[M].x,d[M].y)}this.Qa=d[1];var w=d.length-1;this.Ka=d[w],this.Xa.C()&&(d.shift(),m.shift());var C=!1;(this.Ah.o||this.Ua.o||this.ki.o||this.Wa.o||this.Ya.o||this.Xa.o||this.Ha.o||l)&&(this.JN=S(y(this.Bh().x-c,this.Bh().y-f),y(this.Bh().x+c,this.Bh().y+f)),C=!0,this.Ah.o=!1,this.Ua.o=!1,this.ki.o=!1,this.Wa.o=!1,this.Ya.o=!1,this.Xa.o=!1,this.Ha.o=!1);var P=this.rh();(C||P)&&this.Or!==J&&(this.Xa.C()?(this.iR&&this.dP.tV(this.iR),t=WS(this.$N(d,m),4),this.nR=t[0],this.iR=t[1],this.rR=t[2],this.eR=t[3]):(this.iR&&this.dP.tV(this.iR),e=WS(this.$N(d,void 0),4),this.nR=e[0],this.iR=e[1],this.rR=e[2],this.eR=e[3]),pt(this.Or)?this.oR=SS(this.JN,this.vt,this.Or.getPosition(),this.Or.getExtent(),this.Or.getShape(),this.dP.kz()):yt(this.Or)?this.sR=AS(this.JN,this.vt,this.Or.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0));var E=this.qN.arcStyleSolid(P),T=this.qN.arcStyleLinearGradient(P),k=this.qN.arcStyleRadialGradient(P),D=E||T||k;P&&(this.uR=D?this.dP.UL(zx["2D"],zx.Color({dataType:pt(this.Or)||yt(this.Or)?["gradient",this.Or]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.uh(this.Or));var F=this.Fr;if(Zn(F)&&(C||this.fh(F.getThickness())||l)){this.Xa.C()?360===u?(d.pop(),m.pop(),i=WS(this.tR(d,void 0,F.getThickness(),h),2),this.hR=i[0],this.aR=i[1],this.fR&&this.hR?this.dP.SV(this.fR,this.hR,!0):!this.fR&&this.hR?this.fR=this.dP.Gz(this.hR,!0):this.fR&&!this.hR&&(this.dP.tV(this.fR),this.fR=void 0),n=WS(this.tR(m,void 0,F.getThickness(),h),2),this.cR=n[0],this.lR=n[1],this.vR&&this.cR?this.dP.SV(this.vR,this.cR,!0):!this.vR&&this.cR?this.vR=this.dP.Gz(this.cR,!0):this.vR&&!this.cR&&(this.dP.tV(this.vR),this.vR=void 0)):(r=WS(this.tR(d,m,F.getThickness(),h),2),this.hR=r[0],this.aR=r[1],this.fR&&this.hR?this.dP.SV(this.fR,this.hR,!0):!this.fR&&this.hR?this.fR=this.dP.Gz(this.hR,!0):this.fR&&!this.hR&&(this.dP.tV(this.fR),this.fR=void 0),this.cR&&(this.vR&&this.dP.tV(this.vR),this.vR=void 0,this.lR=0)):(360===u&&(d.shift(),d.pop()),o=WS(this.tR(d,void 0,F.getThickness(),h),2),this.hR=o[0],this.aR=o[1],this.fR&&this.hR?this.dP.SV(this.fR,this.hR,!0):!this.fR&&this.hR?this.fR=this.dP.Gz(this.hR,!0):this.fR&&!this.hR&&(this.dP.tV(this.fR),this.fR=void 0));var _=F.getFillStyle();pt(_)?this.dR=SS(this.JN,this.vt,_.getPosition(),_.getExtent(),_.getShape(),this.dP.kz()):yt(_)?this.AR=AS(this.JN,this.vt,_.getAngle(!0),this.dP.kz()):(this.dR=void 0,this.AR=void 0),this.yR=_===J?void 0:this.dP.UL(zx["2D"],zx.Color({dataType:pt(_)||yt(_)?["gradient",_]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})),this.lh(F)}if(C){var I=1,O=1;Zn(F)&&(I=F.getThickness()*h.x,O=F.getThickness()*h.y),this.KN=S(y(this.JN.min.x-I,this.JN.min.y-O),y(this.JN.max.x+I,this.JN.max.y+O))}this.mR=a&&D?this.mR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.bR=a&&this.Fr!==gt?this.bR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0}return this},e.prototype.AE=function(t,e){var i=this;if(this.sh()){var n=1===t?this.mR:this.uR,r=this.Or,o=this.iR;n&&o&&this.dP.TP(n).Wz(n,(function(n,s,a,u){if(i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(u("uScaleStart_highpart"),i.UP.SN()).Xz(u("uScaleStart_lowpart"),i.UP.xN()).rN(a,o,i.vt.wi(),void 0).Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0),1===t)i.dP.yV(n("uFirstId"),e).fN(a,1);else if(it(r))i.dP.HE(n("uColor"),r.getColor());else if(pt(r)){if(!i.oR)return!1;i.dP.$V(a,i.oR,r)}else if(yt(r)){if(!i.sR)return!1;i.dP.tN(a,i.sR,r)}return i.dP.Mb(i.eR,i.rR),!0}));var s=this.Fr;Zn(s)&&(void 0!==this.fR&&this.pR(t,this.fR,this.aR,s,e),void 0!==this.vR&&this.pR(t,this.vR,this.lR,s,e))}return{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.pR=function(t,e,i,n,r){var o=this,s=1===t?this.bR:this.yR,a=n.getFillStyle();s&&this.dP.TP(s).Wz(s,(function(s,u,l,h){if(o.dP.Xz(s("uScale"),o.UP.Kz()).Xz(s("uDisp"),o.UP.Jz()).rN(l,e,o.vt.wi(),void 0).Qz(s("uIsHighlighted"),1===t||2===t?0:o.zu).HE(s("uHighlightColorOffset"),1===t||2===t?R:o.Gu).Qz(s("uRenderEffectMask"),2===t?1:0),1===t)o.dP.yV(s("uFirstId"),r).fN(l,1);else if(it(a))o.dP.HE(s("uColor"),a.getColor());else if(pt(a)){if(!o.dR)return!1;o.dP.$V(l,o.dR,a)}else if(yt(a)){if(!o.AR)return!1;o.dP.tN(l,o.AR,a)}var c=n.getThickness(),f=-1===c||1===c;return o.dP.Mb(f?o.dP.gl.LINE_LOOP:o.dP.gl.TRIANGLE_STRIP,i),!0}))},e.prototype.mP=function(){return this.gR&&(this.dP.tV(this.gR),this.gR=void 0),this.SR&&(this.dP.tV(this.SR),this.SR=void 0),this.iR&&(this.dP.tV(this.iR),this.iR=void 0),this.fR&&(this.dP.tV(this.fR),this.fR=void 0),this.vR&&(this.dP.tV(this.vR),this.vR=void 0),this.uR=void 0,this.yR=void 0,this.mR=void 0,this.bR=void 0,this},e.prototype.yt=function(){return this.JN.max.x},e.prototype.At=function(){return this.JN.min.x},e.prototype.St=function(){return this.JN.max.y},e.prototype.bt=function(){return this.JN.min.y},e.prototype.xa=function(){return ui(this.Fr)},e.prototype.wa=function(){return ui(this.Fr)},e}(ps),HS=function(){function t(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}return t.prototype.xR=function(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this},t.prototype.wR=function(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this},t.prototype.MR=function(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this},t.prototype.CR=function(t){var e=t.buffer,i=t.position;return e[i]=this.first,e[i+1]=this.second,e[i+2]=this.third,i+=3,t.position=i,t.next&&this.wR(),this},t.prototype._R=function(t){var e=t.buffer,i=t.position;return e[i]=this.first,e[i+1]=this.third,e[i+2]=this.second,e[i+3]=this.third,e[i+4]=this.fourth,e[i+5]=this.second,i+=6,t.position=i,t.next&&this.MR(),this},t.prototype.TR=function(t,e){e.next=!0,6*t>=e.buffer.length&&(e.buffer=Array(6*t));for(var i=0;i<t;i+=1)this._R(e);return this},t.prototype.kR=function(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]},t}(),ZS=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},QS=(void 0===YS&&(YS=0),(new HS).xR(YS)),qS=function(t,e,i,n,r,o,s,a,u,l){return void 0===a&&void 0===s||QS.wR(),o.push(t,e),r.push(QS.first,QS.second,QS.third),a=void 0,s=void 0,r.push(QS.third,QS.fourth,QS.second),u=QS.third,QS.MR(),l&&o.push(i,n),[s,a,u]},KS=function(t,e,i,n,r,o,s,a,u,l,h){void 0===u&&void 0===a||QS.wR(),s.push(t,e),r.push(QS.first,QS.second,QS.third);var c=sn(t,i,e,n);return u=void 0,void 0!==c&&(void 0===u&&(u=c),s.push(u),o.push(QS.third,QS.fourth,QS.fifth),l=QS.fourth),QS.MR(),h&&s.push(i,n),[a,u,l]},JS=function(t,e,i,n,r,o,s,a,u,l){return void 0===s&&void 0===o||QS.wR(),r.push(t,e),n.push(QS.first,QS.second,QS.third),o=i,s=void 0,a=QS.third,l?r.push(i):u=!0,[o,s,a,u]},$S=function(t,e,i,n,r,o,s,a,u,l,h){return 0!==o.length?(void 0===a&&void 0===s||QS.wR(),QS.wR()):u>0&&(QS.wR(),h>0&&(h-=1)),o.push(t),r.push(QS.first,QS.second,QS.third),u=QS.second,s=t,a=void 0,l&&o.push(i,n),[s,a,u,h]},tA=function(t,e){var i,n,r,o,s,a,u,l;void 0===e&&(e=0),QS.xR(e);var h,c,f=ZS(t,2),p=f[0],d=f[1],y=p.length,v=[],g=[],m=[],x=e,S=0,A=p[S],b=d[S],M=p[S],w=d[S],C=!1,P=x>0?M.y!==w.y?2:1:0;if(y>1)for(;S<y-1;){M=A,w=b,A=p[S+=1],b=d[S];var E=S===y-1;M.y>w.y?A.y>b.y?(h=(i=ZS(qS(M,w,A,b,v,m,h,c,x,E),3))[0],c=i[1],x=i[2]):A.y<b.y?(h=(n=ZS(KS(M,w,A,b,v,g,m,h,c,x,E),3))[0],c=n[1],x=n[2]):(h=(r=ZS(JS(M,w,A,v,m,h,c,x,C,E),4))[0],c=r[1],x=r[2],C=r[3]):M.y<w.y?A.y<b.y?(h=(o=ZS(qS(M,w,A,b,g,m,h,c,x,E),3))[0],c=o[1],x=o[2]):A.y>b.y?(h=(s=ZS(KS(M,w,A,b,g,v,m,h,c,x,E),3))[0],c=s[1],x=s[2]):(h=(a=ZS(JS(M,w,A,g,m,h,c,x,C,E),4))[0],c=a[1],x=a[2],C=a[3]):A.y===b.y?(h=M,C&&(m.push(M),C=!1,QS.wR()),0===m.length&&x>0&&P>0&&(P-=1)):A.y>b.y?(h=(u=ZS($S(M,0,A,b,v,m,h,c,x,E,P),4))[0],c=u[1],x=u[2],P=u[3]):(h=(l=ZS($S(M,0,A,b,g,m,h,c,x,E,P),4))[0],c=l[1],x=l[2],P=l[3])}return[m,new Uint16Array(v),new Uint16Array(g),x,P]},eA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),iA=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},nA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.OR=0,s.Wh=Array(),s.FR=0,s.IR=new Uint16Array(0),s.jR=new Uint16Array(0),s.qN=Qm({hightFillSolid:function(){return it(s.Or)&&s.Or},hightFillRadialGradient:function(){return pt(s.Or)&&s.Or},hightFillLinearGradient:function(){return yt(s.Or)&&s.Or},hightFillPaletted:function(){return st(s.Or)&&s.Or},lowFillSolid:function(){return it(s.Fa)&&s.Fa},lowFillRadialGradient:function(){return pt(s.Fa)&&s.Fa},lowFillLinearGradient:function(){return yt(s.Fa)&&s.Fa},lowFillPaletted:function(){return st(s.Fa)&&s.Fa}}),s.UN=e,s.WN=i,s.dP=e.YN(),s}return eA(e,t),e.prototype.En=function(){var t=this.oh(),e=this.Bu.C(),i=this.ta;if(this.sh()){this.UP.$z(this.vt);var n=this.vt instanceof Pn==0,r=n?this.vt.Ri():void 0,o=this.Ba(),s=this.vt.Vi()||t,a=i||this._a.o||s&&"disabled"!==o.type;if(a){if(this.OR=0,this.IR=new Uint16Array(0),this.jR=new Uint16Array(0),this.Wh.length=0,this.FR=0,this.Ta>1){var u=iA(tA([n?o.packager(this.Ma,r,.5):this.Ma,n?o.packager(this.Ca,r,.5):this.Ca]),4),l=u[0],h=u[1],c=u[2],f=u[3];this.OR=f,this.IR=h,this.jR=c,this.Wh=l,this.FR=l.length}this._a.o=!1}if(this.Oa&&this.Jh[0].length>1){var p=iA(this.Jh,2),d=p[0],y=p[1],v=d.length,g=iA(tA([n?o.packager(d,r,.5):d,n?o.packager(y,r,.5):y],this.OR),5),m=(l=g[0],h=g[1],c=g[2],f=g[3],g[4]);this.OR=f;for(var x=l.length,S=m;S<x;S+=1)this.Wh[this.FR]=l[S],this.FR+=1;for(this.IR=an(this.IR,h),this.jR=an(this.jR,c),S=m>0||this.Ta>0?1:m;S<v;S+=1)this.Ma[this.Ta]=d[S],this.Ca[this.Ta]=y[S],this.Ta+=1;this.ka=!0,this.Oa=!1,this.Jh=[]}var A=this.Or,b=this.eh!==A,M=this.qN.hightFillSolid(b),w=this.qN.hightFillRadialGradient(b),C=this.qN.hightFillLinearGradient(b),P=this.qN.hightFillPaletted(b),E=M||w||C||P&&["x","y"].includes(P.getLookUpProperty())&&P,T=this.Fa,k=this.Ra!==T,D=this.qN.lowFillSolid(k),F=this.qN.lowFillRadialGradient(k),_=this.qN.lowFillLinearGradient(k),I=this.qN.lowFillPaletted(k),O=D||F||_||I&&["x","y"].includes(I.getLookUpProperty())&&I;if((b||t)&&(this.DR=E?this.dP.UL(zx["2D"],zx.Color({dataType:C?["gradient",C]:w?["gradient",w]:P?["lookup",P.getLookUpProperty(),P.lut]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),w?this.oR=SS(this.Lu||this.Qh,this.vt,w.getPosition(),w.getExtent(),w.getShape(),this.dP.kz()):C?this.sR=AS(this.Lu||this.Qh,this.vt,C.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),(k||t)&&(this.BR=O?this.dP.UL(zx["2D"],zx.Color({dataType:_?["gradient",_]:F?["gradient",F]:I?["lookup",I.getLookUpProperty(),I.lut]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),F?this.ER=SS(this.Lu||this.Qh,this.vt,F.getPosition(),F.getExtent(),F.getShape(),this.dP.kz()):_?this.PR=AS(this.Lu||this.Qh,this.vt,_.getAngle(!0),this.dP.kz()):(this.ER=void 0,this.PR=void 0),(t||this.ka||a)&&this.ka||a){l=this.Wh;var B=Be(l,this.vt.wi());this.LR=this.dP.Gz(B,!1,this.LR),E&&(this.zR=this.dP.xV(this.IR,this.zR),this.VR=this.IR.length),O&&(this.NR=this.dP.xV(this.jR,this.NR),this.RR=this.jR.length),this.ka=!1}this.mR=e&&(O||E)?this.mR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.uh(this.Or),this.Ga(this.Fa),this.ta=!1}return this},e.prototype.AE=function(t,e){var i=this,n=this.Or,r=this.Fa,o=1===t?this.mR:this.BR;if(o&&this.LR&&this.NR){var s=this.LR,a=this.NR;this.dP.TP(o).Wz(o,(function(n,o,u,l){if(i.dP.rN(u,s,i.vt.wi(),void 0).FV(a).Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0),i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(l("uScaleStart_highpart"),i.UP.SN()).Xz(l("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(l("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(l("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(l("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(l("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(n("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(n("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),1===t)i.dP.yV(n("uFirstId"),e).fN(u,1);else if(it(r))i.dP.HE(n("uColor"),r.getColor());else if(pt(r)){if(!i.ER)return!1;i.dP.$V(u,i.ER,r)}else if(yt(r)){if(!i.PR)return!1;i.dP.tN(u,i.PR,r)}else if(st(r)){var h=qm(r,i,void 0);if(!h&&r.lut.percentageValues)return!1;i.dP.mN(u,r.lut,h)}return i.dP.jV(i.RR),!0}))}var u=1===t?this.mR:this.DR;if(u&&this.LR&&this.zR){var l=this.LR,h=this.zR;this.dP.TP(u).Wz(u,(function(r,o,s,a){if(i.dP.rN(s,l,i.vt.wi(),void 0).FV(h).Qz(r("uIsHighlighted"),1===t||2===t?0:i.zu).HE(r("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(r("uRenderEffectMask"),2===t?1:0),i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(r("uScale"),i.UP.Kz()).Xz(r("uDisp"),i.UP.Jz()).Xz(a("uScaleStart_highpart"),i.UP.SN()).Xz(a("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(a("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(a("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(a("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(a("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(r("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(r("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),1===t)i.dP.yV(r("uFirstId"),e).fN(s,1);else if(it(n))i.dP.HE(r("uColor"),n.getColor());else if(pt(n)){if(!i.oR)return!1;i.dP.$V(s,i.oR,n)}else if(yt(n)){if(!i.sR)return!1;i.dP.tN(s,i.sR,n)}else if(st(n)){var u=qm(n,i,void 0);if(!u&&n.lut.percentageValues)return!1;i.dP.mN(s,n.lut,u)}return i.dP.jV(i.VR),!0}))}return{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.bw=function(t){this.ca()>0&&this.En();var e=iA(this.ra(),2),i=e[0],n=e[1],r=i.length>2&&i[1].x<i[0].x,o=Lo(i,t,Bo.NearestX,this.Ia,this.ja,this.vt,this.fn.vt,this.Qh,"x",r);if(void 0!==o){var s=[i[o],n[o]];if(!Number.isNaN(s[0].y)&&!Number.isNaN(s[1].y))return s}},e.prototype.RM=function(t){this.ca()>0&&this.En();var e=iA(this.ra(),2),i=e[0],n=e[1],r=i.length;if(0!==r){var o=this.Ia?1:0,s=r-(this.ja?2:1),a=i.length>2&&i[1].x<i[0].x,u=Yo(i,Pt(t,this.fn.vt,this.vt),"x",a,o,s);if(u){var l=[Bi(i[u.a],i[u.b],u.lerpAmount),Bi(n[u.a],n[u.b],u.lerpAmount)];if(!Number.isNaN(l[0].y)&&!Number.isNaN(l[1].y))return l}}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.NR&&(this.dP.tV(this.NR),this.NR=void 0),this.zR&&(this.dP.tV(this.zR),this.zR=void 0),this.LR&&(this.dP.tV(this.LR),this.LR=void 0),this},e.prototype.mP=function(){return this.dispose(),this},e}(fs),rA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oA=function(t){function e(e,i){var n=t.call(this,e)||this;n.GR=i;var r=n.UR(),o=r.vertices,s=r.indices,a=r.indicesCount,u=r.drawMode;return n.WR=e.Gz(o),n.YR=e.xV(s),n.XR=a,n.HR=u,n}return rA(e,t),e.prototype.TP=function(t,e){return this.dP.Yz(this.WR,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:e?t.attribute("aSegmentInside"):void 0,size:1}),this.dP.FV(this.YR),this},e.prototype.Mb=function(t,e,i){return this.dP.BV(void 0!==e?e:this.HR,this.XR,i||0,t,this.dP.gl.UNSIGNED_BYTE),this},e.prototype.UR=function(){var t=this,e=[];[1,0].forEach((function(i){for(var n=1===i?.5*Math.PI:1.5*Math.PI,r=0;r<=t.GR;r+=1){var o=n-r*Math.PI/t.GR;e.push(.5*Math.cos(o),.5*Math.sin(o),i,0)}})),e.push(0,0,1,1),e.push(0,0,0,1);for(var i=e.length/4,n=[],r=0;r<this.GR;r+=1)n.push(r,r+1,i-2),n.push(r+i/2-1,r+i/2,i-1);return n.push(0,i-2,i-1),n.push(i-1,i-2,i/2-1),n.push(0,i-3,i-1),n.push(i/2-2,i-2,i/2-1),{vertices:new Float32Array(e),indices:new Uint8Array(n),indicesCount:n.length,verticesCount:i,drawMode:this.dP.gl.TRIANGLES}},e.prototype.fz=function(){this.dP.tV(this.WR),this.dP.tV(this.YR)},e}(bS),sA=function(t,e,i){return void 0===i&&(i=!0),function(t,e){var i=t.uV.oz.get(e);return i||(i=new oA(t,e),t.uV.oz.set(e,i),i)}(t,i?e>=50?8:e>=20?6:e>=7?4:e>=4?3:1===e?1:2:1)},aA={ZR:function(t,e,i,n,r,o){var s=n.attribute,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){var u=s("aLocationA_highpart"),l=s("aLocationA_lowpart"),h=s("aLocationB_highpart"),c=s("aLocationB_lowpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),e._V(u,1),a.enableVertexAttribArray(u),a.vertexAttribPointer(l,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),e._V(l,1),a.enableVertexAttribArray(l),a.vertexAttribPointer(h,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),e._V(h,1),a.enableVertexAttribArray(h),a.vertexAttribPointer(c,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+r+2)*Float32Array.BYTES_PER_ELEMENT),e._V(c,1),a.enableVertexAttribArray(c)}else{var f=s("aLocationA"),p=s("aLocationB");a.vertexAttribPointer(f,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),e._V(f,1),a.enableVertexAttribArray(f),a.vertexAttribPointer(p,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),e._V(p,1),a.enableVertexAttribArray(p)}},QR:function(t,e,i,n,r,o,s){var a=t.gl;a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(n,o,a.FLOAT,!1,o*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),t._V(n,1),a.enableVertexAttribArray(n),a.vertexAttribPointer(r,o,a.FLOAT,!1,o*Float32Array.BYTES_PER_ELEMENT,(s+o)*Float32Array.BYTES_PER_ELEMENT),t._V(r,1),a.enableVertexAttribArray(r)},KR:function(t,e,i,n,r,o){var s=n.attribute,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){var u=s("aLocationA_highpart"),l=s("aLocationA_lowpart"),h=s("aLocationB_highpart"),c=s("aLocationB_lowpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),e._V(u,1),a.enableVertexAttribArray(u),a.vertexAttribPointer(l,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),e._V(l,1),a.enableVertexAttribArray(l),a.vertexAttribPointer(h,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),e._V(h,1),a.enableVertexAttribArray(h),a.vertexAttribPointer(c,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(o+r+2)*Float32Array.BYTES_PER_ELEMENT),e._V(c,1),a.enableVertexAttribArray(c)}else{var f=s("aLocationA"),p=s("aLocationB");a.vertexAttribPointer(f,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),e._V(f,1),a.enableVertexAttribArray(f),a.vertexAttribPointer(p,2,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),e._V(p,1),a.enableVertexAttribArray(p)}},JR:function(t,e,i,n,r,o,s){var a=t.gl;a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(n,o,a.FLOAT,!1,2*o*Float32Array.BYTES_PER_ELEMENT,s*Float32Array.BYTES_PER_ELEMENT),t._V(n,1),a.enableVertexAttribArray(n),a.vertexAttribPointer(r,o,a.FLOAT,!1,2*o*Float32Array.BYTES_PER_ELEMENT,(s+o)*Float32Array.BYTES_PER_ELEMENT),t._V(r,1),a.enableVertexAttribArray(r)},AE:function(t,e,i,n,r,o,s){var a=t.YN(),u=i.uniform,l=i.uniformOptional,h=1/t.Ws.Hs,c=(r?Math.max(o,h):Math.max(o,0))+1;a.Qz(u("uThicknessPixels"),c).Qz(l("uAALimit"),1-(c-1)/c).Xz(u("uRatioPxClip"),[2/t.oi().x,2/t.oi().y]),e.TP(i,n).Mb(s)}},uA={ZR:function(t,e,i,n,r,o){var s=n.attribute,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){var u=s("aPos_highpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(u);var l=s("aPos_lowpart");a.vertexAttribPointer(l,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(l)}else{var h=s("aPos");a.vertexAttribPointer(h,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(h)}},QR:function(t,e,i,n,r,o){var s=t.gl;s.bindBuffer(s.ARRAY_BUFFER,i),s.vertexAttribPointer(n,r,s.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),s.enableVertexAttribArray(n)},KR:function(t,e,i,n,r,o){var s=n.attribute,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){var u=s("aPos_highpart"),l=s("aPos_lowpart");a.vertexAttribPointer(u,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(u),a.vertexAttribPointer(l,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(l)}else{var h=s("aPos");a.vertexAttribPointer(h,2,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(h)}},qR:function(t,e){var i=t.YN();i.Mb(i.gl.LINE_STRIP,e,0)},$R:function(t,e){var i=t.YN();i.Mb(i.gl.LINES,2*e,0)}},lA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.Qh=Mi,s.qN=Qm({lineStyleSolid:function(){return Zn(s.lf)&&s.lf},lineStyleDashed:function(){return ya(s.lf)&&s.lf},strokeFillSolid:function(){var t=s.lf.getFillStyle();return it(t)&&t},strokeFillLinearGradient:function(){var t=s.lf.getFillStyle();return yt(t)&&t},strokeFillRadialGradient:function(){var t=s.lf.getFillStyle();return pt(t)&&t},strokeFillPaletted:function(){var t=s.lf.getFillStyle();return st(t)&&t}}),s.UN=e,s.WN=i,s.dP=e.YN(),s.tG=s.dP.NV,s}return lA(e,t),e.prototype.En=function(){var t=this.hh(),e=this.lf,i=this.qN.lineStyleSolid(t),n=this.qN.lineStyleDashed(t),r=i||n,o=this.qN.strokeFillSolid(t),s=this.qN.strokeFillLinearGradient(t),a=this.qN.strokeFillRadialGradient(t),u=this.qN.strokeFillPaletted(t),l=o||s||a||u&&["x","y"].includes(u.getLookUpProperty())&&u,h=this.Oi(),c=this.Ti(),f=this.Bu.C(),p=this.Bu.o,d=e.V();if(n&&this.vt instanceof Pn)return ne.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.UP.$z(this.vt),this.mf&&(this.iG=this.dP.Gz(Be([h,c],this.vt.wi()),!1,this.iG),this.Qh=S(y(h.x,h.y),y(c.x,c.y))),t||p){var v=this.sh()&&r&&l&&d>0,g=s?["gradient",s]:a?["gradient",a]:u?["lookup",u.getLookUpProperty(),u.lut]:"uniform";this.nG=v?{type:"triangulated",shader:this.dP.UL(zx["2D"],zx.Color({dataType:g}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),this.tG?zx.AliasedEdge:void 0,n&&zx.StippleTextureInstanced),mousePickingShader:f?this.dP.UL(zx["2D"],zx.MousePicking(),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),n&&zx.StippleTextureInstanced):void 0,geometry:sA(this.dP,d),thickness:d,lineStyleSolid:i,lineStyleDashed:n,fillStyleSolid:o,fillStyleLinearGradient:s,fillStyleRadialGradient:a,fillStylePaletted:u}:void 0}if(a?this.dR=SS(Jo(this.Qh,{x:this.xa(),y:this.wa()},this.vt),this.vt,a.getPosition(),a.getExtent(),a.getShape(),this.dP.kz()):s?this.AR=AS(Jo(this.Qh,{x:this.xa(),y:this.wa()},this.vt),this.vt,s.getAngle(!0),this.dP.kz()):(this.dR=void 0,this.AR=void 0),n){if(t||this.mf){var m=[0,0,Math.abs(c.x-h.x),Math.abs(c.y-h.y)];this.rG=this.dP.Gz(m,!1,this.rG)}this.eG=this.dP.vN(n.getPattern())}else this.rG&&(this.dP.tV(this.rG),this.rG=void 0),this.eG=void 0;return this.yf(e),this.mf=!1,this.Bu.o=!1,this},e.prototype.AE=function(t,e){var i,n,r=this,o=this.iG;if(!o)return{};var s=this.nG;if(!s)return{};var a=s.fillStyleSolid,u=s.fillStyleLinearGradient,l=s.fillStyleRadialGradient,h=s.fillStylePaletted,c=s.lineStyleDashed,f=s.thickness,p=1===t?null===(i=this.nG)||void 0===i?void 0:i.mousePickingShader:null===(n=this.nG)||void 0===n?void 0:n.shader;return p?(this.dP.TP(p).Wz(p,(function(i,n,p,d){if(r.dP.Qz(i("uIsHighlighted"),1===t||2===t?0:r.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),r.vt instanceof Cn||r.vt instanceof Ly?r.dP.Xz(i("uScale"),r.UP.Kz()).Xz(i("uDisp"),r.UP.Jz()).Xz(d("uScaleStart_highpart"),r.UP.SN()).Xz(d("uScaleStart_lowpart"),r.UP.xN()):r.vt instanceof Pn&&r.dP.Xz(d("uScaleStart"),r.UP.MixedScaleXY.uScaleStart).Xz(d("uScaleStartLog"),r.UP.MixedScaleXY.uScaleStartLog).Xz(d("uScaleInterval"),r.UP.MixedScaleXY.uScaleInterval).Xz(d("uScaleIntervalLog"),r.UP.MixedScaleXY.uScaleIntervalLog).Xz(i("uViewportStart"),r.UP.MixedScaleXY.uViewportStart).Xz(i("uViewportSize"),r.UP.MixedScaleXY.uViewportSize),1===t)r.dP.yV(i("uFirstId"),e).fN(p,1);else if(a)r.dP.HE(i("uColor"),a.getColor());else if(l){if(!r.dR)return!1;r.dP.$V(p,r.dR,l)}else if(u){if(!r.AR)return!1;r.dP.tN(p,r.AR,u)}else if(h){var y=qm(h,r,void 0);if(!y&&h.lut.percentageValues)return!1;r.dP.mN(p,h.lut,y)}if(c){if(!r.rG||!r.eG)return!1;aA.QR(r.dP,p,r.rG,n("aLengthSoFarA"),n("aLengthSoFarB"),2,0),r.dP.Xz(i("uStippleCount"),[r.fn.oi().x/r.eG.yN,r.fn.oi().y/r.eG.yN]).Qz(d("uStippleTextureWidthLimiter"),r.eG.AN/r.eG.yN).Qz(i("uStippleScale"),c.getPatternScale()).Zz(i("uStippleTexture"),r.eG.dN,1)}return aA.ZR(r.vt.wi(),r.dP,o,p,r.vt.wi()?4:2,0),aA.AE(r.UN,s.geometry,p,r.tG&&1!==t,1===t,f,1),!0})),{idCount:1}):{}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nG=void 0,this.iG&&(this.dP.tV(this.iG),this.iG=void 0),this.rG&&(this.dP.tV(this.rG),this.rG=void 0),this.eG=void 0,this},e.prototype.mP=function(){return this},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return ui(this.lf)},e.prototype.wa=function(){return ui(this.lf)},e}(ys),cA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.oG=[],s.sG=!1,s.uG=!1,s.hG=!1,s.aG=!1,s.UP=new OS,s.Qh=Mi,s.qN=Qm({lineStyleSolid:function(){return Zn(s.lf)&&s.lf},lineStyleDashed:function(){return ya(s.lf)&&s.lf},lineFillSolid:function(){var t=s.lf.getFillStyle();return it(t)&&t},lineFillRadialGradient:function(){var t=s.lf.getFillStyle();return pt(t)&&t},lineFillLinearGradient:function(){var t=s.lf.getFillStyle();return yt(t)&&t},lineIndividualPointFill:function(){var t=s.lf.getFillStyle();return rt(t)&&t}}),s.UN=e,s.WN=i,s.dP=e.YN(),s.tG=s.dP.NV,s.fG=e.Ws.Qs,s}return cA(e,t),e.prototype.Wo=function(){var t=this,e={mn:function(i){return t.cG(e,i)},cn:function(i){return t.lG(e,i)},Sy:function(i,n){return t.vG(e,i,n)},HE:function(i){return t.dG(e,i)},Fi:{x:0,y:0},ki:{x:0,y:0},zu:0,AG:void 0,yG:this.oG.length};return this.oG.push(e),e},e.prototype.zt=function(){var t;return this.oG.length=0,this.sG=!0,this.kn&&this.Os&&(null===(t=this.fn.ks)||void 0===t?void 0:t.entity)===this&&this.Os(this,void 0,this.fn.ks.collectionMember),this},e.prototype.mG=function(){return this.oG.length},e.prototype.C=function(t){var e=this.oG[t];return[e.Fi,e.ki]},e.prototype.Zb=function(){return this.oG},e.prototype.ql=function(t){var e,i=this.oG.indexOf(t);i>=0&&(this.oG.splice(i,1),this.sG=!0,this.kn&&this.Os&&(null===(e=this.fn.ks)||void 0===e?void 0:e.entity)===this&&this.Os(this,void 0,this.fn.ks.collectionMember))},e.prototype.cG=function(t,e){if(e&&!this.oG.includes(t))t.yG=this.oG.length,this.oG.push(t);else if(!e){var i=this.oG.indexOf(t);this.oG.splice(i,1)}return this.hG=!0,t},e.prototype.lG=function(t,e){return t.zu=e,this.uG=!0,t},e.prototype.vG=function(t,e,i){return t.Fi=e,t.ki=i,this.sG=!0,t},e.prototype.dG=function(t,e){return t.AG=e,this.aG=!0,t},e.prototype.En=function(){var t=this.Bu.C(),e=this.Bu.o,i=this.hh(),n=this.lf,r=this.oG,o=this.uG,s=this.sG,a=this.hG,u=this.aG,l=this.qN.lineStyleSolid(i),h=this.qN.lineStyleDashed(i),c=l||h,f=this.qN.lineFillSolid(i),p=this.qN.lineIndividualPointFill(i),d=this.qN.lineFillRadialGradient(i),y=this.qN.lineFillLinearGradient(i),v=f||p||y||d,g=n.V(),m=h?"triangulated":n.getThickness()<0?"primitive":"triangulated";if(h&&this.vt instanceof Pn)return ne.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.UP.$z(this.vt);var x=s||a;if(x){for(var S=[],A=0;A<r.length;A+=1){var b=r[A];S.push(b.Fi),S.push(b.ki)}this.iG=this.dP.Gz(Be(S,this.vt.wi()),!1,this.iG),this.Qh=Li(S)}if(i||e){var M=f?"uniform":p?"attribute":y?["gradient",y]:d?["gradient",d]:void 0,w=c&&v&&g>0&&M;this.nG=w?"triangulated"===m?{type:"triangulated",shader:this.dP.UL(zx["2D"],zx.Color({dataType:M}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,snapToNearestPixel:this.fG,ensureMinimumSegmentLength:void 0!==this.bf}),this.tG?zx.AliasedEdge:void 0,h&&zx.StippleTextureInstanced,zx.AttributeHighlight),mousePicking:t?{shader:this.dP.UL(zx["2D"],zx.MousePicking({useAttribute:!0}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,snapToNearestPixel:this.fG,ensureMinimumSegmentLength:void 0!==this.bf}),h&&zx.StippleTextureInstanced,zx.AttributeHighlight)}:void 0,geometry:sA(this.dP,g,!1),thickness:g,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:f,fillStyleIndividual:p,fillStyleLinearGradient:y,fillStyleRadialGradient:d}:{type:"primitive",shader:this.dP.UL(zx["2D"],zx.Color({dataType:M}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0,snapToNearestPixel:this.fG}),zx.AttributeHighlight),mousePicking:t?{shader:this.dP.UL(zx["2D"],zx.MousePicking({useAttribute:!0}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0,snapToNearestPixel:this.fG}),zx.AttributeHighlight)}:void 0,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:f,fillStyleIndividual:p,fillStyleLinearGradient:y,fillStyleRadialGradient:d}:void 0}if(h){if(i||x){var C=new Float32Array(4*r.length),P=0;for(A=0;A<r.length;A+=1){var E=r[A].Fi,T=r[A].ki;C[P]=0,C[P+1]=0,C[P+2]=Math.abs(T.x-E.x),C[P+3]=Math.abs(T.y-E.y),P+=4}this.rG=this.dP.Gz(C,!1,this.rG)}this.eG=this.dP.vN(h.getPattern())}else this.rG&&(this.dP.tV(this.rG),this.rG=void 0),this.eG=void 0;if(x||o)if("triangulated"===m){var k=new Float32Array(r.length),D=0;r.forEach((function(t){k[D]=t.zu,D+=1})),this.bG=this.dP.Gz(k,!0,this.bG)}else{var F=new Float32Array(2*r.length),_=0;r.forEach((function(t){for(var e=_;e<_+2;e+=2)F[e]=t.zu,F[e+1]=t.zu;_+=2})),this.bG=this.dP.Gz(F,!1,this.bG)}if(p)if(u||x||i)if("triangulated"===m){var I=new Float32Array(4*r.length),O=0;r.forEach((function(t){var e=t.AG||p.color;I[O]=e.r,I[O+1]=e.g,I[O+2]=e.b,I[O+3]=e.a,O+=4})),this.pG=this.dP.Gz(I,!1,this.pG)}else{var B=new Float32Array(8*r.length),z=0;r.forEach((function(t){for(var e=t.AG||p.color,i=z;i<z+8;i+=4)B[i]=e.r,B[i+1]=e.g,B[i+2]=e.b,B[i+3]=e.a;z+=8})),this.pG=this.dP.Gz(B,!1,this.pG)}else this.pG&&(this.dP.tV(this.pG),this.pG=void 0);if(t){if(x)if("triangulated"===m){var L=new Float32Array(r.length),R=0;r.forEach((function(t){L[R+0]=t.yG||0,R+=1})),this.gG=this.dP.Gz(L,!0,this.gG)}else{var V=new Float32Array(2*r.length),N=0;r.forEach((function(t){for(var e=N;e<N+1;e+=1)V[N+0]=t.yG||0;N+=2})),this.gG=this.dP.Gz(V,!1,this.gG)}}else this.gG&&(this.dP.tV(this.gG),this.gG=void 0);return d?this.oR=SS(this.Lu||this.Qh,this.vt,d.getPosition(),d.getExtent(),d.getShape(),this.dP.kz()):y?this.sR=AS(this.Lu||this.Qh,this.vt,y.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),this.yf(n),this.uG=!1,this.hG=!1,this.sG=!1,this.aG=!1,this.Bu.o=!1,this},e.prototype.AE=function(t,e){var i,n=this,r=this.iG,o=this.bG,s=this.gG;if(!r||!o)return{};var a=this.nG;if(!a)return{};var u=a.type,l=a.fillStyleSolid,h=a.fillStyleIndividual,c=a.fillStyleLinearGradient,f=a.fillStyleRadialGradient,p=a.lineStyleDashed,d=1===t?null===(i=a.mousePicking)||void 0===i?void 0:i.shader:a.shader;return d?(this.dP.TP(d).Wz(d,(function(i,d,y,v){if(n.vt instanceof Cn||n.vt instanceof Ly?n.dP.Xz(i("uScale"),n.UP.Kz()).Xz(i("uDisp"),n.UP.Jz()).Xz(v("uScaleStart_highpart"),n.UP.SN()).Xz(v("uScaleStart_lowpart"),n.UP.xN()):n.vt instanceof Pn&&n.dP.Xz(v("uScaleStart"),n.UP.MixedScaleXY.uScaleStart).Xz(v("uScaleStartLog"),n.UP.MixedScaleXY.uScaleStartLog).Xz(v("uScaleInterval"),n.UP.MixedScaleXY.uScaleInterval).Xz(v("uScaleIntervalLog"),n.UP.MixedScaleXY.uScaleIntervalLog).Xz(i("uViewportStart"),n.UP.MixedScaleXY.uViewportStart).Xz(i("uViewportSize"),n.UP.MixedScaleXY.uViewportSize),n.fG&&n.dP.Xz(v("uViewportSizePx"),[n.fn.oi().x*n.dP.kz(),n.fn.oi().y*n.dP.kz()]),void 0!==n.bf&&n.dP.Xz(i("uMinSegmentPixelVector"),[n.bf.x,n.bf.y]),n.dP.HE(i("uHighlightColorOffset"),1===t||2===t?R:n.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1===t){if(n.dP.yV(i("uFirstId"),e),!s)return!1;"triangulated"===u?n.dP.Yz(s,1,{location:d("aPickingIdOffset"),size:1}):n.dP.OV(d("aPickingIdOffset"),s)}else if(l)n.dP.HE(i("uColor"),l.getColor());else if(h){if(!n.pG)return!1;n.dP.Yz(n.pG,"triangulated"===u?1:void 0,{location:d("aColor"),size:4})}else if(f){if(!n.oR)return!1;n.dP.$V(y,n.oR,f)}else if(c){if(!n.sR)return!1;n.dP.tN(y,n.sR,c)}if(p){if(!n.rG||!n.eG)return!1;aA.JR(n.dP,y,n.rG,d("aLengthSoFarA"),d("aLengthSoFarB"),2,0),n.dP.Xz(i("uStippleCount"),[n.fn.oi().x/n.eG.yN,n.fn.oi().y/n.eG.yN]).Qz(v("uStippleTextureWidthLimiter"),n.eG.AN/n.eG.yN).Qz(i("uStippleScale"),p.getPatternScale()).Zz(i("uStippleTexture"),n.eG.dN,0)}if("triangulated"===u){var g=a.geometry,m=a.thickness;aA.KR(n.vt.wi(),n.dP,r,y,n.vt.wi()?4:2,0),n.dP.Yz(o,1,{location:d("aIsHighlighted"),size:1}),aA.AE(n.UN,g,y,n.tG&&1!==t,1===t,m,n.oG.length)}else uA.KR(n.vt.wi(),n.dP,r,y,n.vt.wi()?4:2,0),n.dP.OV(d("aIsHighlighted"),o),uA.$R(n.UN,n.oG.length);return!0})),{idCount:this.oG.length}):{}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nG=void 0,this.iG&&(this.dP.tV(this.iG),this.iG=void 0),this.rG&&(this.dP.tV(this.rG),this.rG=void 0),this.bG&&(this.dP.tV(this.bG),this.bG=void 0),this.gG&&(this.dP.tV(this.gG),this.gG=void 0),this.pG&&(this.dP.tV(this.pG),this.pG=void 0),this.eG=void 0,this},e.prototype.QN=function(t,e,i,n,r){return{collectionMember:this.oG.find((function(i){return e+i.yG===t}))}},e.prototype.mP=function(){return this},e.prototype.cn=function(e){var i,n;t.prototype.cn.call(this,e);try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.oG),o=r.next();!o.done;o=r.next())o.value.cn(e)}catch(t){i={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return this},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return ui(this.lf)},e.prototype.wa=function(){return ui(this.lf)},e}(vs),pA=function(){function t(t,e){var i=this;this.SG=!1,this.xG=!1,this.wG=!1,this.vt=t,this.MG=e,this.MG.Wu("DataPattern",(function(t){"ProgressiveX"!==t.pattern&&"RegressiveX"!==t.pattern||(i.SG="x"),"ProgressiveY"!==t.pattern&&"RegressiveY"!==t.pattern||(i.SG="y"),"RegressiveX"!==t.pattern&&"RegressiveY"!==t.pattern||(i.xG=!0),!0===t.regularProgressiveStep&&(i.wG=!0)}))}return t.prototype.calculateUserDataPointsProgressiveRange=function(t){if(0===t.length)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:"x"===this.SG?t[0].x:t[0].y,end:"x"===this.SG?t[t.length-1].x:t[t.length-1].y}},t.prototype.calculateUserDataPointsBoundaries=function(t){return this.SG?"x"===this.SG?function(t){var e=t.length;if(e>0){for(var i=Math.max(t[e-1].x,t[0].x),n=Math.min(t[e-1].x,t[0].x),r=t[0].y,o=t[0].y,s=0;s<e;s+=1){var a=t[s];a.y>r&&(r=a.y),a.y<o&&(o=a.y)}return S(y(n,o),y(i,r))}return Mi}(t):function(t){var e=t.length;if(e>0){for(var i=Math.max(t[e-1].y,t[0].y),n=Math.min(t[e-1].y,t[0].y),r=t[0].x,o=t[0].x,s=0;s<e;s+=1){var a=t[s];a.x>r&&(r=a.x),a.x<o&&(o=a.x)}return S(y(o,n),y(r,i))}return Mi}(t):Li(t)},t.prototype.calculateAvgStepBetweenDataPoints=function(t,e,i){return Math.abs(t-e)/(i-1)},t}(),dA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yA=function(){return(yA=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},vA=Math.min(1,1.5),gA=function(t){function e(e,i,n){var r=t.call(this,e,i)||this;return r.CG=!1,r._G={enabled:!1,totalDataPointsAtTime:0},r.TG=[],r.Sn=n,r.kG=e instanceof Cn?{type:"linear",scale:e}:e instanceof Pn?{type:"mixed",scale:e}:{type:"unknown"},r.MG.Wu("DataPattern",(function(t){!1===t.allowDataGrouping&&(r.CG=!0)})),r}return dA(e,t),e.prototype.OG=function(t,e){var i=this;if(void 0===e&&(e=!1),this.CG||!this.SG||"linear"!==this.kG.type)return!1;!1===e&&this.FG&&(clearTimeout(this.FG),this.FG=void 0);var n="x"===this.SG?this.kG.scale.x.EA:this.kG.scale.y.EA;if(!n)throw new Error("CP helper has no information about Axis state.");var r=t.length;if(r<2)return!1;var o=t[0],s=t[r-1],a=this.calculateAvgStepBetweenDataPoints("x"===this.SG?o.x:o.y,"x"===this.SG?s.x:s.y,r),u=this.kG.scale,l=Math.abs("x"===this.SG?u.Ri().x:u.Ri().y),h=l/a,c=Math.floor(h*vA),f=c*a,p=ne.performance.now(),d=!(p-n.me<500)&&(n.ce?p-n.ye<1e3:p-n.le<2e3||n.de),y=r>2*this._G.totalDataPointsAtTime;if(d&&!y)return this.FG=setTimeout((function(){return i.IG(t)}),1e3),!1;var v,g=c>=10,m=this._G.enabled?this._G.columnWidthAxis/l<1.5:void 0,x=this._G.enabled&&c>this._G.dataPointsPerColumn?c/this._G.dataPointsPerColumn>=2:void 0;!0===this._G.enabled?m?x&&(v={enabled:!0,columnWidthAxis:f,dataPointsPerColumn:c,totalDataPointsAtTime:r}):v=g?{enabled:!0,columnWidthAxis:f,dataPointsPerColumn:c,totalDataPointsAtTime:r}:{enabled:!1,totalDataPointsAtTime:r}:g&&(v={enabled:!0,columnWidthAxis:f,dataPointsPerColumn:c,totalDataPointsAtTime:r});var S=!1===e;return v?(S&&(this._G=v),!0):(S&&(this._G=yA(yA({},this._G),{totalDataPointsAtTime:r})),!1)},e.prototype.jG=function(){this.DG=void 0,this.TG.length=0,this.FG&&(clearTimeout(this.FG),this.FG=void 0)},e.prototype.BG=function(t){var e;if(0===t.length)return t;if(this.CG||!this.SG||"linear"!==this.kG.type||!this._G.enabled)return t;var i,n,r=(e=this.TG.length>0?Ge(this.TG,t,{canReturnB:!0}):t).length,o=[],s=void 0===this.DG,a=-1,u=-1,l=0,h=0;if("x"!==this.SG||this.xG)if("x"===this.SG&&this.xG)for(d=this._G.columnWidthAxis,y=(this.DG?this.DG.x:e[0].x)-d,p=0;p<r;p+=1)(v=e[p]).x>=y?((!i||v.y>i.y)&&(i=v,a=p),(!n||v.y<n.y)&&(n=v,u=p),h=p):(i&&n&&(s&&o.push(e[0]),a<u?o.push(i,n):o.push(n,i)),s=!1,y=v.x-d,i=v,a=p,n=v,u=p,l=p,h=p);else if("y"!==this.SG||this.xG){if("y"===this.SG&&this.xG)for(c=this._G.columnWidthAxis,f=(this.DG?this.DG.y:e[0].y)-c,p=0;p<r;p+=1)(v=e[p]).y>=f?((!i||v.x>i.x)&&(i=v,a=p),(!n||v.x<n.x)&&(n=v,u=p),h=p):(n&&i&&(s&&o.push(e[0]),a<u?o.push(i,n):o.push(n,i)),s=!1,f=v.y-c,i=v,a=p,n=v,u=p,l=p,h=p)}else for(var c=this._G.columnWidthAxis,f=(this.DG?this.DG.y:e[0].y)+c,p=0;p<r;p+=1)(v=e[p]).y<=f?((!i||v.x>i.x)&&(i=v,a=p),(!n||v.x<n.x)&&(n=v,u=p),h=p):(n&&i&&(s&&o.push(e[0]),a<u?o.push(i,n):o.push(n,i)),s=!1,f=v.y+c,i=v,a=p,n=v,u=p,l=p,h=p);else{var d=this._G.columnWidthAxis,y=(this.DG?this.DG.x:e[0].x)+d;for(p=0;p<r;p+=1){var v;(v=e[p]).x<=y?((!i||v.y>i.y)&&(i=v,a=p),(!n||v.y<n.y)&&(n=v,u=p),h=p):(i&&n&&(s&&o.push(e[0]),a<u?o.push(i,n):o.push(n,i)),s=!1,y=v.x+d,i=v,a=p,n=v,u=p,l=p,h=p)}}if(i||n){var g=e.slice(l,h+1);this.TG=g}else this.TG.length=0;var m=o.length;return m>0&&(this.DG=o[m-1]),o},e.prototype.EG=function(t){if(this.SG&&"linear"===this.kG.type){var e="x"===this.SG?this.kG.scale.x.EA:this.kG.scale.y.EA;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.ue===Lr.progressive||e.ue===Lr.regressive){var i=Math.abs("x"===this.SG?this.kG.scale.x.getInnerInterval():this.kG.scale.y.getInnerInterval());if(this._G.enabled)return 2*i/this._G.columnWidthAxis;var n=t.length,r=t[0],o=t[n-1];return i/this.calculateAvgStepBetweenDataPoints("x"===this.SG?r.x:r.y,"x"===this.SG?o.x:o.y,n)}}},e.prototype.PG=function(t,e,i){if(!this.SG)return e;var n=i.length,r=Uo(i,t.min,this.SG,this.xG,0,n-1);void 0===r&&(r=this.xG?n-1:0);var o=Uo(i,t.max,this.SG,this.xG,0,n-1);return void 0===o&&(o=this.xG?0:n-1),1+Math.abs(o-r)},e.prototype.LG=function(){this.FG&&(clearTimeout(this.FG),this.FG=void 0)},e.prototype.IG=function(t){this.OG(t,!0)&&this.Sn()},e}(pA),mA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),xA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return mA(e,t),e.prototype.renderVisibleOnly=function(t,e){var i=this.vt.x.getInnerStart(),n=this.vt.x.getInnerEnd(),r=Math.min(i,n),o=Math.max(i,n),s=this.vt.y.getInnerStart(),a=this.vt.y.getInnerEnd(),u=Math.min(s,a),l=Math.max(s,a);t.forEach((function(t,i){t.existingCoordinatesCount<=1||t.boundaries.max.x<r||t.boundaries.min.x>o||t.boundaries.max.y<u||t.boundaries.min.y>l||e(t)}))},e}(pA),SA=function(){return(SA=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},AA=function(){function t(t,e,i){this.zG=e,this.VG=i,this.NG=t,this.GG=[]}return t.prototype.UG=function(t,e,i,n){var r=t.length;if(0!==r){var o=t,s=r,a=this.NG[this.NG.length-1];do{var u=this.NG.length,l=void 0;a||(a=this.WG(e,s)),a&&0==a.allocatedCoordinatesCount-a.existingCoordinatesCount&&(a=void 0);var h=0;if(this.VG&&u>0&&(void 0===a||0===a.existingCoordinatesCount)){var c=this.NG[u-1].lastDataPoint;c?(o.splice(0,0,c),h=1,s+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(a)l=Math.min(s,a.allocatedCoordinatesCount-a.existingCoordinatesCount),n(a,o.slice(0,l),l,h);else{var f=Math.ceil(e)+h;l=Math.min(f,s);var p=o.slice(0,l),d=SA(SA({},i(f,p,l,h)),{isDropped:!1});this.NG.push(d)}l>0&&(s>l?s=(o=o.slice(l)).length:(o=[],s=0))}while(s>0);this.YG()}},t.prototype.XG=function(t){var e=t,i=this.NG.indexOf(e);i>=0&&this.NG.splice(i,1),e.droppedTimestamp=ne.performance.now(),this.GG.push(e)},t.prototype.HG=function(){var t=this;this.NG.slice().forEach((function(e){return t.XG(e)}))},t.prototype.ZG=function(){var t=this;this.NG.forEach((function(e){return t.zG(e)})),this.GG.forEach((function(e){return t.zG(e)})),this.NG.length=0,this.GG.length=0},t.prototype.WG=function(t,e){var i=2*t/3,n=4*t/3,r=this.GG.findIndex((function(t){return t.allocatedCoordinatesCount>=i&&t.allocatedCoordinatesCount<=n}));if(r>=0){var o=this.GG[r];return this.GG.splice(r,1),this.NG.push(o),o}},t.prototype.YG=function(){if(this.GG.length>5)for(var t=ne.performance.now(),e=0;e<this.GG.length-5;e+=1){var i=this.GG[e];(void 0===i.droppedTimestamp||t-i.droppedTimestamp>=1e4)&&(this.zG(i),this.GG.splice(e,1),e-=1)}},t}(),bA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),MA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bA(e,t),e.prototype.QG=function(t,e){if(!e||"object"!==a(e))return 0;var i=this.vt.x.getInnerStart(),n=this.vt.x.getInnerEnd(),r=Math.min(i,n),o=Math.max(i,n),s=this.vt.y.getInnerStart(),u=this.vt.y.getInnerEnd(),l=Math.min(s,u),h=Math.max(s,u);if("maxDataPointCount"in e)return this.KG(t,e.maxDataPointCount,r,o,l,h);if("minDataPointCount"in e)return this.JG(t,e.minDataPointCount,r,o,l,h);if("progressiveDataCleaningThreshold"in e)return this.qG(t,e.progressiveDataCleaningThreshold,r,o,l,h);throw new Error("Unimplemented data cleaning configuration: ".concat(JSON.stringify(e)))},e.prototype.KG=function(t,e,i,n,r,o){if(void 0===e||e<=0)return 0;var s=t.reduce((function(t,e){return t+e.existingDataPointsCount}),0);if(s<=e)return 0;for(var a=0,u=s,l=0;l<t.length;l+=1){var h=t[l];u>e&&(a+=1,u-=h.existingDataPointsCount)}return a},e.prototype.qG=function(t,e,i,n,r,o){if(void 0===e||!this.SG)return 0;for(var s=0,a=0;a<t.length;a+=1){var u=t[a],l=this.xG?"x"===this.SG?u.boundaries.min.x>n:u.boundaries.min.y>o:"x"===this.SG?u.boundaries.max.x<i:u.boundaries.max.y<r;if(!((this.xG?"x"===this.SG?u.boundaries.min.x>e:u.boundaries.min.y>e:"x"===this.SG?u.boundaries.max.x<e:u.boundaries.max.y<e)&&l&&u.existingCoordinatesCount>2))break;s+=1}return s},e.prototype.JG=function(t,e,i,n,r,o){if(void 0===e||0===e)return 0;for(var s=0,a=0,u=t.length-1;u>=0;u-=1){var l=t[u];if(a>e)if(this.SG){if(this.xG?"x"===this.SG?l.boundaries.min.x>n:l.boundaries.min.y>o:"x"===this.SG?l.boundaries.max.x<i:l.boundaries.max.y<r){s=1+u;break}}else l.boundaries.max.x<i||l.boundaries.min.x>n||l.boundaries.max.y<r||l.boundaries.min.y>o?s+=1:s=0;a+=l.existingDataPointsCount}return s},e.prototype.$G=function(t,e){var i=t.reduce((function(t,e){return Vi(t,e.boundaries)}),Mi);if(e&&"progressiveDataCleaningThreshold"in e&&e.progressiveDataCleaningThreshold){var n=e.progressiveDataCleaningThreshold;"x"!==this.SG||this.xG?"x"===this.SG&&this.xG?i.max.x=Math.min(i.max.x,n):"y"!==this.SG||this.xG?"y"===this.SG&&this.xG&&(i.max.y=Math.min(i.max.y,n)):i.min.y=Math.max(i.min.y,n):i.min.x=Math.max(i.min.x,n)}return i},e}(pA),wA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),CA=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;a.UP=new OS,a.tM=[],a.tU=new xA(a.vt,a),a.iU=new gA(a.vt,a,(function(){return a.fn.Sn()})),a.nU=new AA(a.tM,(function(t){t.coordsBuffer&&a.dP.tV(t.coordsBuffer),t.rG&&a.dP.tV(t.rG)}),!0),a.rU=new MA(a.vt,a),a.eU=0,a.oU=0,a.sU=!1,a.qN=Qm({lineStyleSolid:function(){return Zn(a.lf)&&a.lf},lineStyleDashed:function(){return ya(a.lf)&&a.lf},strokeFillSolid:function(){var t=a.lf.getFillStyle();return it(t)&&t},strokeFillLinearGradient:function(){var t=a.lf.getFillStyle();return yt(t)&&t},strokeFillRadialGradient:function(){var t=a.lf.getFillStyle();return pt(t)&&t},strokeFillPaletted:function(){var t=a.lf.getFillStyle();return st(t)&&t}}),a.WN=i,a.Ws=s,a.nG={type:"none"},a.dP=e.YN(),a.UN=e,a.tG=a.dP.NV;var u,l,h,c=a.vt.wi(),f=!0===(null==s?void 0:s.individualLookupValuesEnabled),p=0;c||(u=p,p+=2),c&&(l=p,p+=4),f&&(h=p,p+=1);var d=function(t,e){return e?function(e,i){return function(t,e){if(!e){for(var i=t.length,n=new Float32Array(3*i),r=0,o=0;r<i;r+=1){var s=t[r];n[o+0]=s.x,n[o+1]=s.y,n[o+2]=void 0!==s.value?s.value:0,o+=3}return n}var a=t.length,u=new Float32Array(5*a),l=0;for(r=0;r<a;r+=1){s=t[r];var h=Math.fround(s.x),c=Math.fround(s.y);u[l+0]=h,u[l+1]=c,u[l+2]=s.x-h,u[l+3]=s.y-c,u[l+4]=void 0!==s.value?s.value:0,l+=5}return u}(e,t)}:function(e,i){return Be(e,t,Float32Array)}}(c,f);return a.uU={individualLookupValuesEnabled:f,attributesPerVertex:p,attributeOffsetCoordinateLowPrecision:u,attributeOffsetCoordinateHighPrecision:l,attributeOffsetLookUpValue:h,prepareRenderData:function(t,e){return d(t,a.lf.getFillStyle())}},a}return wA(e,t),e.prototype.hU=function(t,e,i){for(var n=new Float32Array(2*e),r=0,o=i||t[0],s=0;s<e;s+=1){var a=t[s];this.eU+=Math.abs(o.x-a.x),this.oU+=Math.abs(o.y-a.y),n[r]=this.eU,n[r+1]=this.oU,r+=2,o=a}return n},e.prototype.En=function(){var t=this,e=this.ta,i=this.lf,n=this.hh(),r=this.Jh,o=r.length,s=o>0,a=this.Bu.C(),u=this.Bu.o,l=this.qN.lineStyleSolid(n),h=this.qN.lineStyleDashed(n),c=l||h,f=c&&c.getThickness(),p=this.qN.strokeFillSolid(n),d=this.qN.strokeFillLinearGradient(n),y=this.qN.strokeFillRadialGradient(n),v=this.qN.strokeFillPaletted(n),g=p||d||y||v,m=this.uU.individualLookupValuesEnabled;if(h&&this.vt instanceof Pn)return ne.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;s&&(this.pf=Ge(this.pf,r,{canReturnB:!0}),this.Kh+=o);var x=this.gf.o,S=this.rU.QG(this.tM,this.gf.C());if(S>0){for(var A=0,b=0;b<S;b+=1){var M=this.tM[0];A+=M.existingDataPointsCount,M.existingDataPointsCount=0,M.existingCoordinatesCount=0,M.jointPointsCount=0,M.boundaries=Mi,M.lastDataPoint=void 0,this.nU.XG(M)}this.pf=this.pf.slice(A),this.Kh=this.pf.length,x=!0}var w=r,C=!1;(this.iU.OG(this.pf)||e)&&(C=!0),h&&!this.sU?(C=!0,this.sU=!0,this.nU.ZG()):!h&&this.sU&&(this.tM.forEach((function(e){e.rG&&(t.dP.tV(e.rG),e.rG=void 0)})),this.sU=!1),C&&(this.iU.jG(),this.tM.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.jointPointsCount=0,t.boundaries=Mi,t.lastDataPoint=void 0})),this.nU.HG(),w=this.pf,this.eU=0,this.oU=0);var P=this.iU.BG(w),E=P.length;if(E>0){var T=this.iU.EG(this.pf)||(this.Wu("ApplicationType",(function(t){return"InternalUI"===t.type}))?this.Kh:1e5);E/T>10&&(T=E/10),this.nU.UG(P,T,(function(e,i,n,r){var o=t.tU.calculateUserDataPointsBoundaries(i),s=t.iU.PG(o,n,t.pf)-r;return t.aU=i[n-1],{allocatedCoordinatesCount:e,existingDataPointsCount:s,existingCoordinatesCount:n,jointPointsCount:r,boundaries:o,coordsBuffer:t.dP.pV(e*t.uU.attributesPerVertex,t.uU.prepareRenderData(i,n)),lastDataPoint:i[n-1],rG:t.sU?t.dP.pV(2*e,t.hU(i,n,t.aU)):void 0}}),(function(e,i,n,r){var o=Vi(e.boundaries,t.tU.calculateUserDataPointsBoundaries(i)),s=t.iU.PG(o,e.existingCoordinatesCount+n,t.pf)-(e.jointPointsCount+r);t.dP.gV(e.coordsBuffer,e.existingCoordinatesCount*t.uU.attributesPerVertex,t.uU.prepareRenderData(i,n)),t.sU&&e.rG&&t.dP.gV(e.rG,2*e.existingCoordinatesCount,t.hU(i,n,t.aU)),t.aU=i[n-1],e.jointPointsCount+=r,e.lastDataPoint=i[n-1],e.existingDataPointsCount=s,e.existingCoordinatesCount+=n,e.boundaries=o}))}if(x&&(this.Qh=this.rU.$G(this.tM,this.gf.C())),this.UP.$z(this.vt),y?this.dR=SS(this.Lu||this.Qh,this.vt,y.getPosition(),y.getExtent(),y.getShape(),this.dP.kz()):d?this.AR=AS(this.Lu||this.Qh,this.vt,d.getAngle(!0),this.dP.kz()):(this.dR=void 0,this.AR=void 0),n||u){if(v&&"value"===v.getLookUpProperty()&&!m){var k='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw ne.alert(k),new Error(k)}if(g&&c&&!1!==f){var D=-1===f?"primitive":"triangulated",F=d?["gradient",d]:y?["gradient",y]:v?["lookup",v.getLookUpProperty(),v.lut]:"uniform";this.nG="primitive"===D?{type:D,shader:this.dP.UL(zx["2D"],zx.Color({dataType:F}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),h&&zx.StippleTexture),mousePickingShader:a?this.dP.UL(zx["2D"],zx.MousePicking({useVertexId:!0}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),h&&zx.StippleTexture):void 0,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:p,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:v}:"triangulated"===D?{type:D,shader:this.dP.UL(zx["2D"],zx.Color({dataType:F}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),this.tG?zx.AliasedEdge:void 0,h&&zx.StippleTextureInstanced),mousePickingShader:a?this.dP.UL(zx["2D"],zx.MousePicking(),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),h&&zx.StippleTextureInstanced):void 0,geometry:sA(this.dP,f),thickness:f,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:p,fillStyleLinearGradient:d,fillStyleRadialGradient:y,fillStylePaletted:v}:{type:"none"}}else this.nG={type:"none"}}return this.eG=h?this.dP.vN(h.getPattern()):void 0,this.yf(i),this.ta=!1,this.Jh=[],this.Bu.o=!1,this.gf.o=!1,this},e.prototype.AE=function(t,e){var i=this,n=this.dP.gl,r=this.nG;if(!r||"none"===r.type)return{};var o=1===t?r.mousePickingShader:r.shader;if(!o)return{};var s=r.lineStyleDashed,a=r.fillStyleSolid,u=r.fillStyleLinearGradient,l=r.fillStyleRadialGradient,h=r.fillStylePaletted;return this.dP.TP(o).Wz(o,(function(o,c,f,p){var d=!1;if(i.dP.Qz(o("uIsHighlighted"),1===t||2===t?0:i.zu).HE(o("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(o("uRenderEffectMask"),2===t?1:0),i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(o("uScale"),i.UP.Kz()).Xz(o("uDisp"),i.UP.Jz()).Xz(p("uScaleStart_highpart"),i.UP.SN()).Xz(p("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(p("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(p("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(p("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(p("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(o("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(o("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),1===t);else if(a)i.dP.HE(o("uColor"),a.getColor());else if(l){if(!i.dR)return!1;i.dP.$V(f,i.dR,l)}else if(u){if(!i.AR)return!1;i.dP.tN(f,i.AR,u)}else if(h){var y=qm(h,i,void 0);if(!y&&h.lut.percentageValues)return!1;i.dP.mN(f,h.lut,y)}var v=gi(e);return i.tU.renderVisibleOnly(i.tM,(function(e){var a=e.coordsBuffer;if(a){if(1===t){var u=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(v.Gt(e.existingDataPointsCount),2),l=u[0],y=u[1];i.dP.yV(o("uFirstId"),l),"triangulated"===r.type?i.dP.fN(f,y):i.dP.hN(f,y)}n.bindBuffer(n.ARRAY_BUFFER,a);var g="triangulated"===r.type?aA.ZR:uA.ZR;if(i.vt.wi()||void 0===i.uU.attributeOffsetCoordinateLowPrecision?i.vt.wi()&&void 0!==i.uU.attributeOffsetCoordinateHighPrecision&&g(!0,i.dP,a,f,i.uU.attributesPerVertex,i.uU.attributeOffsetCoordinateHighPrecision):g(!1,i.dP,a,f,i.uU.attributesPerVertex,i.uU.attributeOffsetCoordinateLowPrecision),s){if(!e.rG||!i.eG)return;"triangulated"===r.type?aA.QR(i.dP,f,e.rG,c("aLengthSoFarA"),c("aLengthSoFarB"),2,0):uA.QR(i.dP,f,e.rG,c("aLengthSoFar"),2,0),i.dP.Xz(o("uStippleCount"),[i.fn.oi().x/i.eG.yN,i.fn.oi().y/i.eG.yN]).Qz(p("uStippleTextureWidthLimiter"),i.eG.AN/i.eG.yN).Qz(o("uStippleScale"),s.getPatternScale()).Zz(o("uStippleTexture"),i.eG.dN,1)}if(h&&"value"===h.lookUpProperty&&void 0!==i.uU.attributeOffsetLookUpValue&&1!==t)if("triangulated"===r.type){var m=c("aLookupValueA");n.vertexAttribPointer(m,1,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),i.dP._V(m,1),n.enableVertexAttribArray(m);var x=c("aLookupValueB");n.vertexAttribPointer(x,1,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(i.uU.attributeOffsetLookUpValue+i.uU.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),i.dP._V(x,1),n.enableVertexAttribArray(x)}else{var S=c("aLookupValue");n.vertexAttribPointer(S,1,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),n.enableVertexAttribArray(S)}if("triangulated"===r.type){var A=r.thickness;aA.AE(i.UN,r.geometry,f,i.tG&&1!==t,1===t,A,e.existingCoordinatesCount-1)}else uA.qR(i.UN,e.existingCoordinatesCount);d=!0}})),n.bindBuffer(n.ARRAY_BUFFER,null),d})),{idCount:this.Kh}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.aa=function(t,e){return Array.isArray(t)||(t=[t]),this.Jh=Ge(this.Jh,t,{canReturnB:!0}),this.Qh=Vi(this.Qh,e||e||this.tU.calculateUserDataPointsBoundaries(t)),this},e.prototype.zt=function(){return t.prototype.zt.call(this),this.eU=0,this.oU=0,this.aU=void 0,this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nU.ZG(),this.iU.LG(),this.nG={type:"none"},this.eG=void 0,this},e.prototype.mP=function(){return this},e.prototype.bw=function(t){this.ca()>0&&this.En();var e=this.ra(),i=Lo(e,t,this.Uu(),this.Ia,this.ja,this.vt,this.engine.vt,this.Qh,this.tU.SG,this.tU.xG);return void 0!==i?e[i]:void 0},e.prototype.RM=function(t){this.ca()>0&&this.En();var e=this.ra(),i=e.length;if(0!==i){var n=this.Ia?1:0,r=i-(this.ja?2:1),o=this.Uu();if(o===Bo.Nearest){for(var s=Ai,a=void 0,u=void 0,l=0;l<i;l+=1){var h=Pt(e[l],this.vt,this.fn.vt);if(void 0!==u){var c=Fi(u,h,t),f=Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2);f<s&&(s=f,a=c)}u=h}return void 0!==a?Pt(a,this.fn.vt,this.vt):void 0}if("x"===this.tU.SG&&o===Bo.NearestX||"y"===this.tU.SG&&o===Bo.NearestY){var p=Yo(e,Pt(t,this.fn.vt,this.vt),this.tU.SG,this.tU.xG,n,r);return p?Bi(e[p.a],e[p.b],p.lerpAmount):void 0}return this.bw(t)}},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return ui(this.lf)},e.prototype.wa=function(){return ui(this.lf)},e}(gs),PA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),EA=function(t){function e(e,i,n,r){var o=t.call(this,e)||this;o.HR=n,o.fU=i,o.cU=Be(i,!1),o.lU=i.length,o.eP=e.Gz(o.cU);var s=Li(o.fU);return o.Z=y(s.max.x-s.min.x,s.max.y-s.min.y),o.vU=r,o}return PA(e,t),e.prototype.dU=function(t){return t>1},e.prototype.Mb=function(t,e,i,n,r){return"object"===a(n)?e?this.dP.OV(t.attribute("aOffsetScale"),e,1).Xz(t.uniform("uSizePixels"),[n.width,n.height]):this.dP.Qz(t.uniform("uOffsetScale"),n.scale).Xz(t.uniform("uSizePixels"),[n.width,n.height]):r?e?this.dP.OV(t.attribute("aOffsetPixels"),e,1):this.dP.Qz(t.uniform("uOffsetPixels"),n):this.dP.Qz(t.uniform("uPointSize"),n),r?this.dP.Yz(this.eP,0,{location:t.attribute("aInstanceGeo"),size:2}).DV(this.HR,0,this.lU,i):this.dP.Mb(this.dP.gl.POINTS,i),this},e.prototype.fz=function(){this.dP.tV(this.eP)},e}(bS),TA=function(t,e){void 0===e&&(e=0);var i=[y(-.5,-.5),y(.5,-.5),y(.5,.5),y(-.5,.5)];return new EA(t,i,t.gl.TRIANGLE_FAN,e)},kA=function(t,e){void 0===e&&(e=0);var i=.05,n=[y(-.5,-.05),y(.5,-.05),y(.5,i),y(.5,i),y(-.5,i),y(-.5,-.05),y(-.05,-.5),y(i,-.5),y(i,.5),y(i,.5),y(-.05,.5),y(-.05,-.5)];return new EA(t,n,t.gl.TRIANGLES,e)},DA=function t(e,i,n){if(xa(e))return t(Co.Square,i,n);var r=i.uV.nz.get(e);if(e===Co.Circle||e===Co.HollowCircle){var o=n<=3?4:n<=5?8:n<=10?16:24;return e===Co.Circle?(r=i.uV.rz.get(o)||function(t,e,i){void 0===i&&(i=0);var n,r=(void 0===(n=e)&&(n=25),US(y(0,0),0,360,.5,.5,n)[0]);return new EA(t,r,t.gl.TRIANGLE_FAN,i)}(i,o),i.uV.rz.set(o,r),r):(r=i.uV.ez.get(o)||function(t,e,i){void 0===i&&(i=0);for(var n=[],r=2*Math.PI/e,o=0;o<=e;o+=1){var s=o*r,a=Math.cos(s),u=Math.sin(s);n.push({x:.5*a,y:.5*u}),n.push({x:.3*a,y:.3*u})}return new EA(t,n,t.gl.TRIANGLE_STRIP,i)}(i,o),i.uV.ez.set(o,r),r)}if(!r){switch(e){case Co.Triangle:r=function(t,e){void 0===e&&(e=0);var i,n=((i=[]).push(y(-2/1.73205080757/2,.3333333333333333)),i.push(y(0,-.6666666666666666)),i.push(y(.5773502691892515,.3333333333333333)),i);return new EA(t,n,t.gl.TRIANGLES,e)}(i);break;case Co.Square:r=TA(i);break;case Co.Plus:r=kA(i);break;case Co.Cross:r=kA(i,45);break;case Co.Diamond:r=TA(i,45);break;case Co.Arrow:r=function(t,e){void 0===e&&(e=0);var i=.05,n=[y(-.05,-.5),y(i,-.5),y(i,.45),y(i,.45),y(-.05,.45),y(-.05,-.5),y(-.5,0),y(-.4,0),y(0,.4),y(0,.4),y(0,.5),y(-.5,0),y(.5,0),y(.4,0),y(0,.4),y(0,.4),y(0,.5),y(.5,0)];return new EA(t,n,t.gl.TRIANGLES,e)}(i);break;case Co.Star:r=function(t,e){return void 0===e&&(e=0),new EA(t,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],t.gl.TRIANGLE_FAN,e)}(i);break;case Co.Minus:r=function(t,e){void 0===e&&(e=0);var i=.05,n=[y(-.5,-.05),y(.5,-.05),y(.5,i),y(.5,i),y(-.5,i),y(-.5,-.05)];return new EA(t,n,t.gl.TRIANGLES,e)}(i);break;default:return si(0,"LightningChart JS unidentified point shape")}i.uV.nz.set(e,r)}return r},FA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_A=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.KN=S(v(bi,bi),v(Ai,Ai)),s.qN=Qm({pointStyleSolid:function(){return it(s.Or)&&s.Or},pointStyleRadialGradient:function(){return pt(s.Or)&&s.Or},pointStyleLinearGradient:function(){return yt(s.Or)&&s.Or},pointStylePaletted:function(){return st(s.Or)&&s.Or},pointStyleIndividual:function(){return rt(s.Or)&&s.Or}}),s.UN=e,s.WN=i,s.dP=e.YN(),s}return FA(e,t),e.prototype.En=function(){var t,e=this.Bu.C(),i=this.Bu.o,n=this.Jh,r=n.length,o=r>0,s=this.Yh.C(),a=this.Or,u=this.size.C(),l=this.Yh.o||this.ph.o,h=this.vt.Vi(),c=this.size.o||this.Yh.o,f=this.ta||n&&n.length>0,p=h||c,d=this.rh(),y=this.qN.pointStyleSolid(d),v=this.qN.pointStyleRadialGradient(d),g=this.qN.pointStyleLinearGradient(d),m=this.qN.pointStylePaletted(d),x=this.qN.pointStyleIndividual(d),S=y||v||g||m||x;if(o&&(this.Wh=Ge(this.Wh,n,{canReturnB:!0}),this.Kh+=r),o||this.ta){this.Qh=this.$h?Vi(this.Qh,this.$h):Vi(this.Qh,Li(this.Wh));var A=Be(this.Wh,this.vt.wi());this.AU=this.Kh,this.yU=this.dP.Gz(A,!1,this.yU)}this.UP.$z(this.vt),a!==J?p&&(this.mU&&(this.mU=void 0),u>1||this.Xh.C()?u<=1&&!this.Xh.C()?this.HR=this.dP.gl.POINTS:(this.mU=DA(s,this.dP,this.Xh.C()?25:u),this.HR=this.mU.HR):this.HR=this.dP.gl.POINTS):this.mU&&(this.mU=void 0);var b=(null===(t=this.mU)||void 0===t?void 0:t.vU)||0,M=this.ph.C()+b;if(c||d||i||l){var w=this.Xh.C()?"attribute":"uniform",C=u<=1&&zx.PointSize(w),P=zx.VertexLocation({offset:u>1?{dataType:w,sizeUnit:"px",symmetric:!0,rotation:(this.Hh.C()||M%360!=0)&&{dataType:this.Hh.C()?"attribute":"uniform"}}:void 0,axisWorldTranslation:Zm(this.vt),normalSource:void 0});this.XP=S?this.dP.UL(zx["2D"],C,P,y?zx.Color({dataType:"uniform"}):x?zx.Color({dataType:"attribute"}):m?zx.Color({dataType:["lookup",m.getLookUpProperty(),m.lut]}):v?zx.Color({dataType:["gradient",v]}):g?zx.Color({dataType:["gradient",g]}):void 0):void 0,this.mR=e&&S?this.dP.UL(zx["2D"],C,P,zx.MousePicking()):void 0}if(f||d){var E=this.Wh.length;if(rt(a)&&this.AU&&this.AU>0){for(var T=a.getFallbackColor(),k=new Float32Array(4*E),D=0;D<E;D+=1)(R=this.Wh[D]).color?(k[4*D+0]=R.color.r,k[4*D+1]=R.color.g,k[4*D+2]=R.color.b,k[4*D+3]=R.color.a):(k[4*D+0]=T.r,k[4*D+1]=T.g,k[4*D+2]=T.b,k[4*D+3]=T.a);this.bU=this.dP.Gz(k,!0,this.bU)}else this.bU&&this.dP.tV(this.bU),this.bU=void 0;if(this.Xh.C()&&this.AU&&this.AU>0&&u>1){var F=new Float32Array(E);for(D=0;D<E;D+=1)(R=this.Wh[D]).size?F[D]=R.size:F[D]=u;this.pU=this.dP.Gz(F,!0,this.pU)}else this.pU&&(this.dP.tV(this.pU),this.pU=void 0);if(this.Hh.C()&&this.AU&&this.AU>0&&u>1){var _=new Float32Array(2*E),I=en(M),O=Math.sin(I),B=Math.cos(I);for(D=0;D<E;D+=1)if((R=this.Wh[D]).rotation){var z=en(R.rotation+b);_[2*D+0]=Math.sin(z),_[2*D+1]=Math.cos(z)}else _[2*D+0]=O,_[2*D+1]=B;this.gU=this.dP.Gz(_,!0,this.gU)}else this.gU&&(this.dP.tV(this.gU),this.gU=void 0);if(this.Zh.C()&&this.AU&&this.AU>0){var L=new Float32Array(E);for(D=0;D<E;D+=1){var R;"value"in(R=this.Wh[D])&&void 0!==R.value&&null!==R.value?L[D]=R.value:L[D]=-34028234663852886e22}this.SU=this.dP.Gz(L,!0,this.SU)}else this.SU&&(this.dP.tV(this.SU),this.SU=void 0);this.uh(this.Or)}if(pt(a)?this.oR=SS(Jo(this.Lu||this.Qh,{x:this.xa(),y:this.wa()},this.vt),this.vt,a.getPosition(),a.getExtent(),a.getShape(),this.dP.kz()):yt(a)?this.sR=AS(Jo(this.Lu||this.Qh,{x:this.xa(),y:this.wa()},this.vt),this.vt,a.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),f&&(this.Qh&&f&&(this.KN=Jo(this.Qh,{x:u,y:u},this.vt)),this.Jh=[],this.qh=0,this.$h=Mi),void 0===this.ia&&m&&"value"===m.lookUpProperty&&m.lut.percentageValues){var V=bi,N=Ai;for(D=0;D<this.Wh.length;D+=1){var U=this.Wh[D];void 0!==U.value&&U.value<N&&(N=U.value),void 0!==U.value&&U.value>V&&(V=U.value)}this.ia={min:N,max:V}}return this.eh=a,this.Yh.o=!1,this.size.o=!1,this.ph.o=!1,this.Bu.o=!1,this.ta=!1,this},e.prototype.AE=function(t,e){var i=this,n=1===t?this.mR:this.XP,r=this.yU,o=this.AU,s=this.Kh;return n&&r&&o&&(this.dP.TP(n),this.dP.Wz(n,(function(n,a,u,l){var h;if(i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(l("uScaleStart_highpart"),i.UP.SN()).Xz(l("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(l("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(l("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(l("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(l("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(n("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(n("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),i.dP.rN(u,r,i.vt.wi(),i.mU?1:void 0).Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0).Qz(l("uDevicePixelRatio"),i.dP.kz()),i.mU){var c=a("aInstanceGeo");i.dP.MV(c,i.mU.eP)._V(c,0)}if(1===t)i.dP.yV(n("uFirstId"),e).fN(u,s);else if(it(i.Or))i.dP.HE(n("uColor"),i.Or.getColor());else if(rt(i.Or)&&i.bU){var f=a("aColor");i.dP.kV(f,i.bU),i.HR!==i.dP.gl.POINTS&&i.dP._V(f,1)}else if(st(i.Or)){if("value"===i.Or.getLookUpProperty()&&i.SU){var p=a("aLookupValue");i.dP.OV(p,i.SU),i.HR!==i.dP.gl.POINTS&&i.dP._V(p,1)}var d=qm(i.Or,i,i.ia);if(!d&&i.Or.lut.percentageValues)return!1;i.dP.mN(u,i.Or.lut,d)}else if(pt(i.Or)){if(!i.oR)return!1;i.dP.$V(u,i.oR,i.Or)}else if(yt(i.Or)){if(!i.sR)return!1;i.dP.tN(u,i.sR,i.Or)}if(i.pU&&i.HR!==i.dP.gl.POINTS){var y=a("aOffsetPixels");i.dP.OV(y,i.pU),i.HR!==i.dP.gl.POINTS&&i.dP._V(y,1)}else if(i.HR!==i.dP.gl.POINTS){var v=n("uOffsetPixels");i.dP.Qz(v,i.size.C())}var g=((null===(h=i.mU)||void 0===h?void 0:h.vU)||0)+i.ph.C();if(i.gU&&i.HR!==i.dP.gl.POINTS){var m=a("aRot");i.dP.MV(m,i.gU),i.HR!==i.dP.gl.POINTS&&i.dP._V(m,1)}else if(i.HR!==i.dP.gl.POINTS&&g%360!=0){var x=en(g),S=Math.sin(x),A=Math.cos(x);i.dP.Xz(n("uRot"),[S,A])}if(i.HR===i.dP.gl.POINTS)i.dP.Qz(n("uPointSize"),i.size.C());else{var b={x:2/i.fn.oi().x,y:2/i.fn.oi().y};i.dP.Xz(n("uRatioPxClip"),[b.x,b.y])}var M=!1;return i.HR===i.dP.gl.POINTS?(i.dP.Mb(i.HR,o),M=!0):i.mU&&(i.dP.DV(i.HR,0,i.mU.lU,o),M=!0),M}))),{idCount:s}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.Ml=function(t){this.ca()>0&&this.En();var e=this.ra(),i=Lo(e,t,this.Uu(),!1,!1,this.vt,this.fn.vt,this.Qh,void 0,void 0);return void 0!==i?e[i]:void 0},e.prototype.Br=function(e){return t.prototype.Br.call(this,e)},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return this.Xh.C()?25:this.size.C()},e.prototype.wa=function(){return this.Xh.C()?25:this.size.C()},e.prototype.mP=function(){return this.yU&&(this.dP.tV(this.yU),this.yU=void 0),this.mU&&(this.mU=void 0),this.bU&&(this.dP.tV(this.bU),this.bU=void 0),this.gU&&(this.dP.tV(this.gU),this.gU=void 0),this.SU&&(this.dP.tV(this.SU),this.SU=void 0),this},e}(as),IA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),OA=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},BA=function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))},zA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.nG={fill:void 0,border:void 0},s.UP=new OS,s.Qh=Mi,s.xU=!1,s.wU=!1,s.MU=!1,s.CU=!1,s._U=!1,s.Kl=[],s.qN=Qm({polygonStyleSolid:function(){return it(s.Or)&&s.Or},polygonStyleImage:function(){return ha(s.Or)&&s.Or},polygonStyleRadialGradient:function(){return pt(s.Or)&&s.Or},polygonStyleLinearGradient:function(){return yt(s.Or)&&s.Or},polygonStylePaletted:function(){return st(s.Or)&&s.Or},polygonStyleIndividual:function(){return rt(s.Or)&&s.Or},lineStyleSolid:function(){return Zn(s.Fr)&&s.Fr},lineStyleFilled:function(){var t=s.Fr&&s.Fr.getFillStyle();return it(t)&&t}}),s.UN=e,s.WN=i,s.dP=e.YN(),s.tG=s.dP.NV,s}return IA(e,t),e.prototype.Wo=function(){var t=this,e={mn:function(i){return t.cG(e,i)},cn:function(i){return t.lG(e,i)},ga:function(i){return t.TU(e,i)},Tx:function(i){return t.kU(e,i)},HE:function(i){return t.dG(e,i)},Wh:[],S:void 0,OU:void 0,zu:0,FU:!0,IU:this.Kl.length};return this.Kl.push(e),e},e.prototype.zt=function(){var t;return this.Kl.length=0,this.xU=!0,this.kn&&this.Os&&(null===(t=this.fn.ks)||void 0===t?void 0:t.entity)===this&&this.Os(this,void 0,this.fn.ks.collectionMember),this},e.prototype.Zb=function(){return this.Kl},e.prototype.ql=function(t){var e,i=this.Kl.indexOf(t);i>=0&&(this.Kl.splice(i,1),this._U=!0,this.kn&&this.Os&&(null===(e=this.fn.ks)||void 0===e?void 0:e.entity)===this&&this.fn.ks.collectionMember===t&&this.Os(this,void 0,this.fn.ks.collectionMember))},e.prototype.cG=function(t,e){var i;return t.FU=e,this._U=!0,this.kn&&this.Os&&(null===(i=this.fn.ks)||void 0===i?void 0:i.entity)===this&&this.fn.ks.collectionMember===t&&!t.FU&&this.Os(this,void 0,this.fn.ks.collectionMember),t},e.prototype.lG=function(t,e){return t.zu=e,this.CU=!0,t},e.prototype.TU=function(t,e){return t.Wh=e,this.xU=!0,t},e.prototype.kU=function(t,e){return t.S=e,this.wU=!0,t},e.prototype.dG=function(t,e){return t.OU=null==e?void 0:e.toUint32(),this.MU=!0,t},e.prototype.En=function(){var t=this,e=this.Bu.C(),i=this.Bu.o,n=this.rh(),r=this.CU,o=this.xU,a=this.wU,u=this.MU,l=this._U,h=this.Fr,c=this.hh(),f=this.Kl.filter((function(t){return t.FU&&t.Wh.length>0}));if(this.UP.$z(this.vt),(o||l)&&(this.Qh=Vi.apply(void 0,BA([],OA(f.map((function(t){return Li(t.Wh)}))),!1))),o||l){var p=f.map((function(t){return BA(BA([],OA(t.Wh),!1),[t.Wh[0],{x:Number.NaN,y:Number.NaN}],!1)})).flat(),d=Be(p,!1,Float64Array),y=this.vt.wi()?Be(p,!0):d;this.iG=this.dP.Gz(y,!1,this.iG);var v=[];f.reduce((function(t,e){for(var i=t,n=2*(e.Wh.length+1),r=new Float64Array(d.buffer,i,n),o=s()(r,void 0,2),a=t/(2*Float64Array.BYTES_PER_ELEMENT),u=0;u<o.length;u+=1)o[u]+=a;return v=Ge(v,o,{canReturnB:!0}),i+(n+2)*Float64Array.BYTES_PER_ELEMENT}),0);var g=new Uint32Array(v);this.jU=this.dP.xV(g,this.jU),this.DU=g.length,this.BU=d.length/2-1}var m=this.qN.polygonStyleSolid(n),x=this.qN.polygonStylePaletted(n),S=this.qN.polygonStyleIndividual(n),A=this.qN.polygonStyleRadialGradient(n),b=this.qN.polygonStyleLinearGradient(n),M=this.qN.polygonStyleImage(n),w=m||x||b||A||M||S,C=this.qN.lineStyleSolid(c),P=this.qN.lineStyleFilled(c),E=P,T=C&&Math.max(C.getThickness(),0);if((n||c||i)&&(this.nG.fill=w?{shader:this.dP.UL(zx["2D"],m&&zx.Color({dataType:"uniform"}),b&&zx.Color({dataType:["gradient",b]}),A&&zx.Color({dataType:["gradient",A]}),x&&zx.Color({dataType:["lookup",x.getLookUpProperty(),x.lut]}),S&&zx.Color({dataType:"attribute"}),M&&zx.Color({dataType:["image",M]}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.AttributeHighlight),mousePicking:e?{shader:this.dP.UL(zx["2D"],zx.MousePicking({useAttribute:!0}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.AttributeHighlight)}:void 0,fillStyleSolid:m,fillStyleLinearGradient:b,fillStyleRadialGradient:A,fillStylePaletted:x,fillStyleImage:M,fillStyleIndividual:S}:void 0,this.nG.border=C&&E&&"number"==typeof T&&0!==T?{shader:this.dP.UL(zx["2D"],zx.Color({dataType:"uniform"}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),this.tG?zx.AliasedEdge:void 0,zx.AttributeHighlight),geometry:sA(this.dP,T),mousePicking:e?{shader:this.dP.UL(zx["2D"],zx.MousePicking({useAttribute:!0}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.AttributeHighlight)}:void 0,fillStyleSolid:P,thickness:T}:void 0),r||o){var k=f.reduce((function(t,e){return t+e.Wh.length+2}),0),D=new Float32Array(k),F=0;f.forEach((function(t){for(var e=t.Wh.length+2,i=F;i<F+e;i+=1)D[i]=t.zu;F+=e})),this.EU=this.dP.Gz(D,!0,this.EU)}if(e){if(o){k=f.reduce((function(t,e){return t+e.Wh.length+2}),0);var _=new Float32Array(k),I=0;f.forEach((function(t){for(var e=t.Wh.length+2,i=I;i<I+e;i+=1)_[i]=t.IU;I+=e})),this.PU=this.dP.Gz(_,!1,this.PU)}}else this.PU&&(this.dP.tV(this.PU),this.PU=void 0);if(a||o&&x&&"value"===x.getLookUpProperty()){k=f.reduce((function(t,e){return t+e.Wh.length+2}),0);var O=new Float32Array(k),B=0,z={min:Ai,max:bi};f.forEach((function(t){for(var e=void 0!==t.S?t.S:-34028234663852886e22,i=t.Wh.length+2,n=B;n<B+i;n+=1)O[n]=e;B+=i,void 0!==t.S&&(z.min=Math.min(z.min,e),z.max=Math.max(z.max,e))})),this.LU=z,this.zU=this.dP.Gz(O,!1,this.zU)}if(u||o&&S){k=f.reduce((function(t,e){return t+e.Wh.length+2}),0);var R=new Uint32Array(k),V=0,N=S?S.getFallbackColor().toUint32():L.toUint32();f.forEach((function(t){for(var e=void 0!==t.OU?t.OU:N,i=t.Wh.length+2,n=V;n<V+i;n+=1)R[n]=e;V+=i})),this.VU=this.dP.Gz(R,!1,this.VU,Uint32Array)}return A?this.oR=SS(this.Lu||this.Qh,this.vt,A.getPosition(),A.getExtent(),A.getShape(),this.dP.kz()):b?this.sR=AS(this.Lu||this.Qh,this.vt,b.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),this.NU=this.dP.bN(this,this.NU,M,void 0,o||l||this.vt.Vi(),(function(e,i,n){return t.RU(e,i,n,f)})),this.CU=!1,this._U=!1,this.xU=!1,this.wU=!1,this.MU=!1,this.Bu.o=!1,this.uh(this.Or),this.lh(h),this},e.prototype.AE=function(t,e){var i,n,r=this,o=this.nG,s=o.fill,a=o.border,u=this.iG,l=this.EU,h=this.PU;if(!u||!l)return{};if(s){var c=s.fillStyleSolid,f=s.fillStyleLinearGradient,p=s.fillStyleRadialGradient,d=s.fillStylePaletted,y=s.fillStyleImage,v=s.fillStyleIndividual,g=this.jU,m=this.DU;(x=1===t?null===(i=s.mousePicking)||void 0===i?void 0:i.shader:s.shader)&&u&&g&&void 0!==m&&this.dP.TP(x).Wz(x,(function(i,n,o,s){if(r.vt instanceof Cn||r.vt instanceof Ly?r.dP.Xz(i("uScale"),r.UP.Kz()).Xz(i("uDisp"),r.UP.Jz()).Xz(s("uScaleStart_highpart"),r.UP.SN()).Xz(s("uScaleStart_lowpart"),r.UP.xN()):r.vt instanceof Pn&&r.dP.Xz(s("uScaleStart"),r.UP.MixedScaleXY.uScaleStart).Xz(s("uScaleStartLog"),r.UP.MixedScaleXY.uScaleStartLog).Xz(s("uScaleInterval"),r.UP.MixedScaleXY.uScaleInterval).Xz(s("uScaleIntervalLog"),r.UP.MixedScaleXY.uScaleIntervalLog).Xz(i("uViewportStart"),r.UP.MixedScaleXY.uViewportStart).Xz(i("uViewportSize"),r.UP.MixedScaleXY.uViewportSize),r.dP.rN(o,u,r.vt.wi(),void 0).FV(g).OV(n("aIsHighlighted"),l).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1===t){if(r.dP.yV(i("uFirstId"),e),!h)return!1;r.dP.OV(n("aPickingIdOffset"),h)}else if(c)r.dP.HE(i("uColor"),c.getColor());else if(p){if(!r.oR)return!1;r.dP.$V(o,r.oR,p)}else if(f){if(!r.sR)return!1;r.dP.tN(o,r.sR,f)}else if(d){var a=qm(d,r,r.LU);if(!a&&d.lut.percentageValues)return!1;if(r.dP.mN(o,d.lut,a),"value"===d.getLookUpProperty()){if(!r.zU)return!1;r.dP.OV(n("aLookupValue"),r.zU)}}else if(y){if(!r.NU)return!1;r.dP.HE(s("uColor"),y.getSurroundingColor()).Zz(i("uColorTexture"),r.NU.texture.Mz()||r.NU.sourceMissingTexture,0).Yz(r.NU.texCoordsBuffer,void 0,{location:n("aTextureCoord"),size:2}).mV(y.fitMode)}else if(v){if(!r.VU)return!1;var x=n("aColor");r.dP.gl.bindBuffer(r.dP.gl.ARRAY_BUFFER,r.VU),r.dP.gl.vertexAttribPointer(x,4,r.dP.gl.UNSIGNED_BYTE,!0,0,0),r.dP.gl.enableVertexAttribArray(x)}return r.dP.jV(m,void 0,void 0,r.dP.gl.UNSIGNED_INT),!0}))}if(a){var x,S=a.geometry,A=a.fillStyleSolid,b=a.thickness,M=this.BU;(x=1===t?null===(n=a.mousePicking)||void 0===n?void 0:n.shader:a.shader)&&u&&M&&this.dP.TP(x).Wz(x,(function(i,n,o,s){if(r.vt instanceof Cn||r.vt instanceof Ly?r.dP.Xz(i("uScale"),r.UP.Kz()).Xz(i("uDisp"),r.UP.Jz()).Xz(s("uScaleStart_highpart"),r.UP.SN()).Xz(s("uScaleStart_lowpart"),r.UP.xN()):r.vt instanceof Pn&&r.dP.Xz(s("uScaleStart"),r.UP.MixedScaleXY.uScaleStart).Xz(s("uScaleStartLog"),r.UP.MixedScaleXY.uScaleStartLog).Xz(s("uScaleInterval"),r.UP.MixedScaleXY.uScaleInterval).Xz(s("uScaleIntervalLog"),r.UP.MixedScaleXY.uScaleIntervalLog).Xz(i("uViewportStart"),r.UP.MixedScaleXY.uViewportStart).Xz(i("uViewportSize"),r.UP.MixedScaleXY.uViewportSize),r.dP.Yz(l,1,{location:n("aIsHighlighted"),size:1}).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1===t){if(r.dP.yV(i("uFirstId"),e),!h)return!1;r.dP.OV(n("aPickingIdOffset"),h,1)}else A&&r.dP.HE(i("uColor"),A.getColor());return aA.ZR(r.vt.wi(),r.dP,u,o,r.vt.wi()?4:2,0),aA.AE(r.UN,S,o,r.tG&&1!==t,1===t,b,M),!0}))}return{idCount:this.Kl.length}},e.prototype.RU=function(t,e,i,n){var r,o,s,a,u=Pt({x:this.Qh.min.x,y:this.Qh.min.y},this.vt,this.fn.vt),l=Pt({x:this.Qh.max.x,y:this.Qh.max.y},this.vt,this.fn.vt),h={x:Math.abs(u.x-l.x),y:Math.abs(u.y-l.y)},c=CS(t,e,h.x,h.y,i),f=c[1],p=c[4],d=c[6],y=c[7],v=n.reduce((function(t,e){return t+e.Wh.length+2}),0),g=new Float32Array(2*v),m=this.Qh.max.x-this.Qh.min.x,x=this.Qh.max.y-this.Qh.min.y,S=p-d,A=y-f,b=0;try{for(var M=zA(n),w=M.next();!w.done;w=M.next()){var C=w.value;try{for(var P=(s=void 0,zA(C.Wh)),E=P.next();!E.done;E=P.next()){var T=E.value,k=(T.x-this.Qh.min.x)/m,D=(T.y-this.Qh.min.y)/x,F=d+S*k,_=f+A*D;g[b]=F,g[b+1]=_,b+=2}}catch(t){s={error:t}}finally{try{E&&!E.done&&(a=P.return)&&a.call(P)}finally{if(s)throw s.error}}var I=(C.Wh[0].x-this.Qh.min.x)/m,O=(C.Wh[0].y-this.Qh.min.y)/x,B=d+S*I,z=f+A*O;g[b]=B,g[b+1]=z,g[b+=2]=Number.NaN,g[b+1]=Number.NaN,b+=2}}catch(t){r={error:t}}finally{try{w&&!w.done&&(o=M.return)&&o.call(M)}finally{if(r)throw r.error}}return g},e.prototype.QN=function(t,e,i,n,r){return{collectionMember:this.Kl.find((function(i){return e+i.IU===t}))}},e.prototype.mP=function(){return this.jU&&(this.dP.tV(this.jU),this.jU=void 0),this.iG&&(this.dP.tV(this.iG),this.iG=void 0),this.EU&&(this.dP.tV(this.EU),this.EU=void 0),this.PU&&(this.dP.tV(this.PU),this.PU=void 0),this.zU&&(this.dP.tV(this.zU),this.zU=void 0),this.VU&&(this.dP.tV(this.VU),this.VU=void 0),this.nG={fill:void 0,border:void 0},this.NU=this.dP.pN(this,this.NU),this},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return ui(this.Fr)},e.prototype.wa=function(){return ui(this.Fr)},e}(rs),RA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),VA=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},NA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.GU=Mi,s.qN=Qm({fillStyleSolid:function(){return it(s.Or)&&s.Or},fillStyleRadialGradient:function(){return pt(s.Or)&&s.Or},fillStyleLinearGradient:function(){return yt(s.Or)&&s.Or},fillStyleImage:function(){return ha(s.Or)&&s.Or},strokeStyleSolid:function(){return Zn(s.Fr)&&s.Fr},strokeFillSolid:function(){var t=s.Fr.getFillStyle();return it(t)&&t},strokeFillLinearGradient:function(){var t=s.Fr.getFillStyle();return yt(t)&&t},strokeFillRadialGradient:function(){var t=s.Fr.getFillStyle();return pt(t)&&t}}),s.RU=function(t,e,i){var n=Pt(s.Bh(),s.vt,s.fn.vt),r=Zi(Pt(Hi(s.Bh(),s.oi()),s.vt,s.fn.vt),n);return CS(t,e,r.x,r.y,i)},s.UN=e,s.WN=i,s.dP=e.YN(),s.WN=i,s}return RA(e,t),e.prototype.En=function(){var e,i;t.prototype.En.call(this);var n=this.Bu.C(),r=this.rh(),o=this.Ah.o||this.Z.o||this.ph.o||this.Sh.o,s=this.Fr,a=this.hh(),u=s.getThickness(),l=this.ph.C();this.UP.$z(this.vt);var h=this.vt.Vi();if(o){var c=this.Z.C();this.Wh=function(t,e,i,n,r){var o=function(t,e,i){return[t,y(t.x+e,t.y),y(t.x+e,t.y+i),y(t.x,t.y+i)]}(t,e,i);if(0!==n||n%360!=0){var s=n*Math.PI/180;o[0]=Ui(o[0],r,s),o[1]=Ui(o[1],r,s),o[2]=Ui(o[2],r,s),o[3]=Ui(o[3],r,s)}return o}(this.Ah.C(),c.x,c.y,l,this.Sh.C());var f=Be(this.Wh,this.vt.wi());this.iR=this.dP.Gz(f,!1,this.iR),this.rR=this.Wh.length,this.GU=Li(this.Wh)}var p=this.qN.fillStyleSolid(r),d=this.qN.fillStyleRadialGradient(r),v=this.qN.fillStyleLinearGradient(r),g=this.qN.fillStyleImage(r),m=p||d||v||g;r&&(this.uR=m?this.dP.UL(zx["2D"],p&&zx.Color({dataType:"uniform"}),v&&zx.Color({dataType:["gradient",v]}),d&&zx.Color({dataType:["gradient",d]}),g&&zx.Color({dataType:["image",g]}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),d?this.oR=SS(this.Lu||this.GU,this.vt,d.getPosition(),d.getExtent(),d.getShape(),this.dP.kz()):v?this.sR=AS(this.Lu||this.GU,this.vt,v.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),this.NU=this.dP.bN(this,this.NU,g,void 0,h||o,this.RU);var x,S,A,b,M,w,C,P,E,T,k,D,F=this.qN.strokeStyleSolid(a),_=this.qN.strokeFillSolid(a),I=this.qN.strokeFillLinearGradient(a),O=this.qN.strokeFillRadialGradient(a),B=F,z=_||I||O;if(B&&(o||a||h&&1!==u)){if(1===u||-1===u)e=VA([this.Wh,void 0],2),this.hR=e[0],this.UU=e[1];else{var L=this.vt;i=VA(L instanceof Pn?function(t,e,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=e/2;return[[i.Gi(n,r,a,-a),i.Gi(r,n,-a,-a),i.Gi(s,o,-a,-a),i.Gi(o,s,a,-a),i.Gi(n,r,-a,a),i.Gi(r,n,a,a),i.Gi(s,o,a,a),i.Gi(o,s,-a,a)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]}(this.Wh,u,L):(x=this.Wh,S=L.Ri(),A=u,b=x[0],M=x[1],w=x[2],C=x[3],P=y(S.x*A*.5,S.y*A*.5),E=Gi(Yi(M,b)),T=Gi(Yi(C,b)),k=Ki(E),D=Ki(T),[[Hi(b,Hi(Xi(k,P.x),Xi(D,P.y))),Hi(M,Hi(Xi(E,P.x),Xi(D,P.y))),Hi(C,Hi(Xi(k,P.x),Xi(T,P.y))),Hi(w,Hi(Xi(E,P.x),Xi(T,P.y))),Hi(b,Hi(Xi(E,P.x),Xi(T,P.y))),Hi(M,Hi(Xi(k,P.x),Xi(T,P.y))),Hi(C,Hi(Xi(E,P.x),Xi(D,P.y))),Hi(w,Hi(Xi(k,P.x),Xi(D,P.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]),2),this.hR=i[0],this.UU=i[1]}this.fR=this.dP.Gz(Be(this.hR,this.vt.wi()),!1,this.fR),this.UU?(this.YR=this.dP.xV(new Uint16Array(this.UU),this.YR),this.aR=this.UU.length):(this.YR&&this.dP.tV(this.YR),this.YR=void 0,this.aR=this.hR.length)}return a&&(this.yR=B&&z?this.dP.UL(zx["2D"],zx.Color({dataType:O?["gradient",O]:I?["gradient",I]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),O?this.dR=SS(this.GU,this.vt,O.getPosition(),O.getExtent(),O.getShape(),this.dP.kz()):I?this.AR=AS(this.GU,this.vt,I.getAngle(!0),this.dP.kz()):(this.dR=void 0,this.AR=void 0),this.mR=n&&m?this.mR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.bR=n&&this.Fr!==gt?this.bR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.uh(this.Or),this.lh(s),this.Ah.o=!1,this.ph.o=!1,this.Z.o=!1,this.Sh.o=!1,this},e.prototype.AE=function(t,e){var i=this,n=1===t?this.mR:this.uR,r=this.iR,o=this.rR,s=this.qN.fillStyleSolid(!1),a=this.qN.fillStyleRadialGradient(!1),u=this.qN.fillStyleLinearGradient(!1),l=this.qN.fillStyleImage(!1);n&&r&&o&&this.Or!==J&&(this.dP.TP(n),this.dP.Wz(n,(function(n,h,c,f){if(i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(f("uScaleStart_highpart"),i.UP.SN()).Xz(f("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(f("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(f("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(f("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(f("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(n("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(n("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),1===t)i.dP.yV(n("uFirstId"),e).fN(c,1);else if(s)i.dP.HE(n("uColor"),s.getColor());else if(a){if(!i.oR)return!1;i.dP.$V(c,i.oR,a)}else if(u){if(!i.sR)return!1;i.dP.tN(c,i.sR,u)}else if(l){if(!i.NU)return!1;var p=i.NU&&i.NU.texture.Mz();i.dP.HE(f("uColor"),l.getSurroundingColor()).Zz(n("uColorTexture"),p||i.NU.sourceMissingTexture,0).Yz(i.NU.texCoordsBuffer,void 0,{location:h("aTextureCoord"),size:2}).mV(l.fitMode)}return i.dP.Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0).rN(c,r,i.vt.wi(),void 0).Mb(i.dP.gl.TRIANGLE_FAN,o),!0})));var h=1===t?this.bR:this.yR,c=this.qN.strokeStyleSolid(!1),f=this.qN.strokeFillSolid(!1),p=this.qN.strokeFillLinearGradient(!1),d=this.qN.strokeFillRadialGradient(!1),y=this.fR;return h&&y&&c&&(this.dP.TP(h),this.dP.Wz(h,(function(n,r,o,s){if(i.vt instanceof Cn||i.vt instanceof Ly?i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(s("uScaleStart_highpart"),i.UP.SN()).Xz(s("uScaleStart_lowpart"),i.UP.xN()):i.vt instanceof Pn&&i.dP.Xz(s("uScaleStart"),i.UP.MixedScaleXY.uScaleStart).Xz(s("uScaleStartLog"),i.UP.MixedScaleXY.uScaleStartLog).Xz(s("uScaleInterval"),i.UP.MixedScaleXY.uScaleInterval).Xz(s("uScaleIntervalLog"),i.UP.MixedScaleXY.uScaleIntervalLog).Xz(n("uViewportStart"),i.UP.MixedScaleXY.uViewportStart).Xz(n("uViewportSize"),i.UP.MixedScaleXY.uViewportSize),1===t)i.dP.yV(n("uFirstId"),e).fN(o,1);else if(f)i.dP.HE(n("uColor"),f.getColor());else if(d){if(!i.dR)return!1;i.dP.$V(o,i.dR,d)}else if(p){if(!i.AR)return!1;i.dP.tN(o,i.AR,p)}return i.dP.Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0).rN(o,y,i.vt.wi(),void 0),i.YR?i.dP.FV(i.YR).jV(i.aR):i.dP.Mb(i.dP.gl.LINE_LOOP,i.aR),!0}))),{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.mP=function(){return this.YR&&(this.dP.tV(this.YR),this.YR=void 0),this.iR&&(this.dP.tV(this.iR),this.iR=void 0),this.fR&&(this.dP.tV(this.fR),this.fR=void 0),this.NU=this.dP.pN(this,this.NU),this.uR=void 0,this.yR=void 0,this.mR=void 0,this.bR=void 0,this},e.prototype.yt=function(){return Math.max(this.Ah.C().x,this.Ah.C().x+this.Z.C().x)},e.prototype.At=function(){return Math.min(this.Ah.C().x,this.Ah.C().x+this.Z.C().x)},e.prototype.St=function(){return Math.max(this.Ah.C().y,this.Ah.C().y+this.Z.C().y)},e.prototype.bt=function(){return Math.min(this.Ah.C().y,this.Ah.C().y+this.Z.C().y)},e.prototype.xa=function(){return ui(this.Fr)},e.prototype.wa=function(){return ui(this.Fr)},e}(us),UA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),YA=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},GA=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UP=new OS,s.qN=Qm({fillStyleSolid:function(){return it(s.Or)&&s.Or},fillStylePaletted:function(){return st(s.Or)&&s.Or},fillStyleRadialGradient:function(){return pt(s.Or)&&s.Or},fillStyleLinearGradient:function(){return yt(s.Or)&&s.Or},fillStyleImage:function(){return ha(s.Or)&&s.Or},strokeLineStyleSolid:function(){return Zn(s.Fr)&&s.Fr},strokeLineSolidFill:function(){var t=s.Fr.getFillStyle();return it(t)&&t},strokeLinearGradientFill:function(){var t=s.Fr.getFillStyle();return yt(t)&&t},strokeRadialGradientFill:function(){var t=s.Fr.getFillStyle();return pt(t)&&t}}),s.RU=function(t,e,i){var n,r,o=Pt({x:s.Qh.min.x,y:s.Qh.min.y},s.vt,s.fn.vt),a=Pt({x:s.Qh.max.x,y:s.Qh.max.y},s.vt,s.fn.vt),u={x:Math.abs(o.x-a.x),y:Math.abs(o.y-a.y)},l=CS(t,e,u.x,u.y,i),h=l[1],c=l[4],f=l[6],p=l[7],d=new Float32Array(2*s.Wh.length),y=s.Qh.max.x-s.Qh.min.x,v=s.Qh.max.y-s.Qh.min.y,g=c-f,m=p-h,x=0;try{for(var S=YA(s.Wh),A=S.next();!A.done;A=S.next()){var b=A.value,M=(b.x-s.Qh.min.x)/y,w=(b.y-s.Qh.min.y)/v,C=f+g*M,P=h+m*w;d[x]=C,d[x+1]=P,x+=2}}catch(t){n={error:t}}finally{try{A&&!A.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}return d},s.UN=e,s.WN=i,s.dP=e.YN(),s.WN=i,s}return UA(e,t),e.prototype.Ml=function(t){var e,i,n,r=Number.MAX_VALUE;try{for(var o=YA(this.Wh),s=o.next();!s.done;s=o.next()){var a=s.value,u=Ii(Pt(a,this.vt,this.fn.vt),t);u<r&&(r=u,n=a)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}return n},e.prototype.En=function(){var t=this.Bu.C(),e=this.rh(),i=this.pa,n=this.Wh.length>=3,r=this.Fr,o=this.hh(),a=r.getThickness(),u=this.fh(a);this.UP.$z(this.vt),this.Vk=this.vt.Ri();var l=this.vt.Vi();if(i&&(this.Qh=Li(this.Wh)),i&&n){var h=Be(this.Wh,this.vt.wi());this.iR=this.dP.Gz(h,!1,this.iR),this.WU=new Uint16Array(s()(h)),this.YU=this.dP.xV(this.WU,this.YU),this.rR=this.WU.length}var c=this.qN.fillStyleSolid(e),f=this.qN.fillStylePaletted(e),p=this.qN.fillStyleRadialGradient(e),d=this.qN.fillStyleLinearGradient(e),y=this.qN.fillStyleImage(e),v=c||f&&"value"!==f.getLookUpProperty()&&f||d||p||y;if(e&&(this.uR=v?this.dP.UL(zx["2D"],c&&zx.Color({dataType:"uniform"}),d&&zx.Color({dataType:["gradient",d]}),p&&zx.Color({dataType:["gradient",p]}),f&&zx.Color({dataType:["lookup",f.getLookUpProperty(),f.lut]}),y&&zx.Color({dataType:["image",y]}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),p?this.oR=SS(this.Lu||this.Qh,this.vt,p.getPosition(),p.getExtent(),p.getShape(),this.dP.kz()):d?this.sR=AS(this.Lu||this.Qh,this.vt,d.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0),this.NU=this.dP.bN(this,this.NU,y,void 0,l||i,this.RU),(i||u||l&&1!==a)&&n){var g=1===a||-1===a?this.Wh:GS(this.Wh,this.Vk,a);this.hR=Be(g,this.vt.wi()),this.fR=this.dP.Gz(this.hR,!0,this.fR),this.aR=g.length}var m=this.qN.strokeLineStyleSolid(o),x=this.qN.strokeLineSolidFill(o),S=this.qN.strokeLinearGradientFill(o),A=this.qN.strokeRadialGradientFill(o),b=m,M=x||S||A;return o&&(this.yR=b&&M?this.dP.UL(zx["2D"],zx.Color({dataType:A?["gradient",A]:S?["gradient",S]:"uniform"}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0),A?this.dR=SS(this.Lu||this.Qh,this.vt,A.getPosition(),A.getExtent(),A.getShape(),this.dP.kz()):S?this.AR=AS(this.Lu||this.Qh,this.vt,S.getAngle(!0),this.dP.kz()):(this.dR=void 0,this.AR=void 0),this.mR=t&&v?this.mR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.bR=t&&this.Fr!==gt?this.mR||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})):void 0,this.pa=!1,this.uh(this.Or),this.lh(r),this},e.prototype.AE=function(t,e){var i=this,n=1===t?this.mR:this.uR,r=this.iR,o=this.rR,s=this.qN.fillStyleSolid(!1),a=this.qN.fillStyleRadialGradient(!1),u=this.qN.fillStyleLinearGradient(!1),l=this.qN.fillStylePaletted(!1),h=this.qN.fillStyleImage(!1);n&&r&&o&&this.dP.TP(n).Wz(n,(function(n,o,c,f){if(i.dP.Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).Xz(f("uScaleStart_highpart"),i.UP.SN()).Xz(f("uScaleStart_lowpart"),i.UP.xN()).rN(c,r,i.vt.wi(),void 0).FV(i.YU).Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0),1===t)i.dP.yV(n("uFirstId"),e).fN(c,1);else if(s)i.dP.HE(n("uColor"),s.getColor());else if(a){if(!i.oR)return!1;i.dP.$V(c,i.oR,a)}else if(u){if(!i.sR)return!1;i.dP.tN(c,i.sR,u)}else if(l){var p=qm(l,i,void 0);if(!p&&l.lut.percentageValues)return!1;i.dP.mN(c,l.lut,p)}else if(h){if(!i.NU)return!1;i.dP.HE(f("uColor"),h.getSurroundingColor()).Zz(n("uColorTexture"),i.NU.texture.Mz()||i.NU.sourceMissingTexture,0).Yz(i.NU.texCoordsBuffer,void 0,{location:o("aTextureCoord"),size:2}).mV(h.fitMode)}return i.dP.jV(i.rR),!0}));var c=1===t?this.bR:this.yR,f=this.Fr,p=this.fR,d=this.aR;return c&&p&&d&&this.dP.TP(c).Wz(c,(function(n,r,o,s){i.dP.Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0).Xz(n("uScale"),i.UP.Kz()).Xz(n("uDisp"),i.UP.Jz()).rN(o,p,i.vt.wi(),void 0);var a=f.getFillStyle();if(1===t)i.dP.yV(n("uFirstId"),e).fN(o,1);else if(it(a))i.dP.HE(n("uColor"),a.getColor());else if(pt(a)){if(!i.dR)return!1;i.dP.$V(o,i.dR,a)}else if(yt(a)){if(!i.AR)return!1;i.dP.tN(o,i.AR,a)}var u=f.getThickness(),l=-1===u||1===u;return i.dP.Mb(l?i.dP.gl.LINE_LOOP:i.dP.gl.TRIANGLE_STRIP,i.aR),!0})),{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.mP=function(){return this.YU&&(this.dP.tV(this.YU),this.YU=void 0),this.iR&&(this.dP.tV(this.iR),this.iR=void 0),this.fR&&(this.dP.tV(this.fR),this.fR=void 0),this.uR=void 0,this.yR=void 0,this.mR=void 0,this.bR=void 0,this.NU=this.dP.pN(this,this.NU),this},e}(hs),jA=function(t,e){for(var i=0,n=[];i<t;){var r=i,o=e,s=i>0;o-=s?1:0,o-=i+o<t?1:0;var a=Math.min(o,t-r),u=i-(s?1:0),l={start:u,startUnique:r,sizeData:Math.min(e,t-u),sizeUniqueData:a};n.push(l),i+=a}return n},WA=function(t,e){for(var i=0,n=[];i<t;){var r=i,o=e,s=i>0;o-=s?1:0,o-=0;var a=Math.min(o,t-r),u=i-(s?1:0),l={start:u,startUnique:r,sizeData:Math.min(e,t-u),sizeUniqueData:a};n.push(l),i+=a}return n},XA=function(t,e,i,n){if(i){var r=new Map;return e.gridTiles.forEach((function(t){r.set(t,{type:i,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:t.sizeHeatmapDataVectors}]})})),r}for(var o=new Map,s=function(i){var r=t[i],s={x:r.startPrimary,y:r.startSecondary},a={x:s.x+r.lengthPrimary-1,y:s.y+r.lengthSecondary-1},u=[s,{x:a.x,y:s.y},a,{x:s.x,y:a.y}];e.gridTiles.forEach((function(t){var e=t.iFirstVector,i=n(t),s={x:e.primary+i.primary-1,y:e.secondary+i.secondary-1},a=[{x:e.primary,y:e.secondary},{x:s.x,y:e.secondary},s,{x:e.primary,y:s.y}];if(Ei(u,a)){var l=o.get(t);l||(l={type:r.type,dataInvalidationRanges:[]},o.set(t,l));for(var h,c,f=(h=u,c=a,S(y(Math.max(Math.min(h[0].x,h[2].x),Math.min(c[0].x,c[2].x)),Math.max(Math.min(h[0].y,h[2].y),Math.min(c[0].y,c[2].y))),y(Math.min(Math.max(h[0].x,h[2].x),Math.max(c[0].x,c[2].x)),Math.min(Math.max(h[0].y,h[2].y),Math.max(c[0].y,c[2].y))))),p={primary:f.min.x-e.primary,secondary:f.min.y-e.secondary},d={primary:1+f.max.x-f.min.x,secondary:1+f.max.y-f.min.y},v=!1,g=[{x:p.primary,y:p.secondary},{x:p.primary+d.primary,y:p.secondary},{x:p.primary+d.primary,y:p.secondary+d.secondary},{x:p.primary,y:p.secondary+d.secondary}],m=0;m<l.dataInvalidationRanges.length;m+=1)if(!v){var x=l.dataInvalidationRanges[m],A=[{x:x.tileInvalidationOffset.primary,y:x.tileInvalidationOffset.secondary},{x:x.tileInvalidationOffset.primary+x.tileInvalidationLength.primary,y:x.tileInvalidationOffset.secondary},{x:x.tileInvalidationOffset.primary+x.tileInvalidationLength.primary,y:x.tileInvalidationOffset.secondary+x.tileInvalidationLength.secondary},{x:x.tileInvalidationOffset.primary,y:x.tileInvalidationOffset.secondary+x.tileInvalidationLength.secondary}];if(Ei(g,A)){var b=Ti(g,A);x.tileInvalidationOffset.primary=b.min.x,x.tileInvalidationOffset.secondary=b.min.y,x.tileInvalidationLength.primary=b.max.x-b.min.x,x.tileInvalidationLength.secondary=b.max.y-b.min.y,v=!0}}v||l.dataInvalidationRanges.push({tileInvalidationLength:d,tileInvalidationOffset:p})}}))},a=0;a<t.length;a+=1)s(a);return o},HA=function(t,e,i){if(1!==t.length||0!==e.startPrimary||0!==e.startSecondary||e.lengthPrimary!==t[0].sizeHeatmapDataVectors.primary||e.lengthSecondary!==t[0].sizeHeatmapDataVectors.secondary)t.forEach((function(t){for(var n=i(t),r=Math.max(e.startPrimary,t.iFirstVector.primary),o=Math.min(e.startPrimary+e.lengthPrimary-1,t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1),s=Math.max(e.startSecondary,t.iFirstVector.secondary),a=Math.min(e.startSecondary+e.lengthSecondary-1,t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1),u=r;u<=o;u+=1)for(var l=u-e.startPrimary,h=e.values[l],c=(u-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary,f=s;f<=a;f+=1){var p=f-e.startSecondary,d=f-t.iFirstVector.secondary,y=h[p];n[c+d]=y}}));else for(var n=t[0],r=i(n),o=0;o<e.lengthPrimary;o+=1){var s=o*n.sizeHeatmapDataVectors.secondary;r.set(e.values[o],s)}},ZA=function(t,e,i){var n,r,o=null===(n=t.gl2)||void 0===n?void 0:n.ctx;if(o)return t.KV(null,o.RED,!1,!0,{x:e,y:i},!1,o.FLOAT,o.R32F);var s=t.gl;return(null===(r=t.gl1)||void 0===r?void 0:r.optional.OES_texture_float)?t.KV(null,s.LUMINANCE,!1,!0,{x:e,y:i},!1,s.FLOAT):t.KV(null,s.RGBA,!1,!0,{x:e,y:i},!1,s.UNSIGNED_BYTE)},QA=function(t,e,i,n){e.forEach((function(e,r){var o,s,a=i(r),u=n(r),l=t.gl;l.bindTexture(l.TEXTURE_2D,u),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);var h=null===(o=t.gl2)||void 0===o?void 0:o.ctx,c=e.dataInvalidationRanges.length,f=e.dataInvalidationRanges.reduce((function(t,e){return t+e.tileInvalidationLength.primary}),0)/r.sizeHeatmapDataVectors.primary;1===c&&f<1||f<.5&&c<10?e.dataInvalidationRanges.forEach((function(e){var i,n=e.tileInvalidationOffset.primary*r.sizeHeatmapDataVectors.secondary,o=n+e.tileInvalidationLength.primary*r.sizeHeatmapDataVectors.secondary;if(h)h.texSubImage2D(l.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,h.RED,h.FLOAT,a.subarray(n,o));else if(null===(i=t.gl1)||void 0===i?void 0:i.optional.OES_texture_float)l.texSubImage2D(l.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,l.LUMINANCE,l.FLOAT,a.subarray(n,o));else{var s=new Uint8Array(a.buffer).subarray(4*n,4*o);l.texSubImage2D(l.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,r.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,l.RGBA,l.UNSIGNED_BYTE,s)}})):h?h.texImage2D(l.TEXTURE_2D,0,h.R32F,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,h.RED,h.FLOAT,a):(null===(s=t.gl1)||void 0===s?void 0:s.optional.OES_texture_float)?l.texImage2D(l.TEXTURE_2D,0,l.LUMINANCE,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,l.LUMINANCE,l.FLOAT,a):l.texImage2D(l.TEXTURE_2D,0,l.RGBA,r.sizeHeatmapDataVectors.secondary,r.sizeHeatmapDataVectors.primary,0,l.RGBA,l.UNSIGNED_BYTE,new Uint8Array(a.buffer)),l.bindTexture(l.TEXTURE_2D,null)}))},qA=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),KA=function(){return(KA=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},JA=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;a.XU=b("bilinear"),a.Fi={x:0,y:0},a.LC={x:1,y:1},a.Ff=ko.lineStyle,a.engine=e;var u="columns"===s.dataOrder?s.columns:s.rows,l="columns"===s.dataOrder?s.rows:s.columns;return a.Ws=KA(KA({},s),{primaryDimensionVectorsCount:u,secondaryDimensionVectorsCount:l}),a}return qA(e,t),e.prototype.Qg=function(t){return this.XU.M(t),this},e.prototype.Kg=function(){return this.XU.C()},e.prototype.Hg=function(t,e){return this.Fi=t,this.LC=e,this},e.prototype.Zg=function(){return{start:this.Fi,step:this.LC,end:{x:this.Fi.x+this.LC.x*this.Ws.columns,y:this.Fi.y+this.LC.y*this.Ws.rows}}},e.prototype.If=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this},e.prototype.jf=function(){return this.Ff},e}(ns),$A=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tb=function(){return(tb=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},eb=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;a.UP=new OS,a.nG={},a.HU=[],a.ZU=!1,a.ta=!1,a.qN=Qm({fillStyleSolid:function(){return it(a.Or)&&a.Or},fillStylePaletted:function(){return st(a.Or)&&a.Or},wireframeStyleLine:function(){return Zn(a.Ff)&&a.Ff},wireframeStyleFill:function(){var t=a.Ff&&a.Ff.getFillStyle();return it(t)&&t}}),a.QU=jA,a.UN=e,a.WN=i,a.dP=e.YN(),a.WN=i;var u=Math.min(a.dP.yP,void 0!==s.KU?s.KU:2048),l={x:Math.min(u,a.Ws.primaryDimensionVectorsCount),y:Math.min(u,a.Ws.secondaryDimensionVectorsCount)},h=function(t,e,i,n){var r,o=[],s=i(t.primaryDimensionVectorsCount,e.x),a=i(t.secondaryDimensionVectorsCount,e.y);return s.forEach((function(t){return a.forEach((function(e){var i={iFirstVector:{primary:t.start,secondary:e.start},iFirstUniqueVector:{primary:t.startUnique,secondary:e.startUnique},sizeHeatmapDataVectors:{primary:t.sizeData,secondary:e.sizeData},sizeUniqueHeatmapDataVectors:{primary:t.sizeUniqueData,secondary:e.sizeUniqueData}};o.push(i)}))})),r=[],o.forEach((function(t){var e=r.find((function(e){return e.sizeHeatmapData.primary===t.sizeHeatmapDataVectors.primary&&e.sizeHeatmapData.secondary===t.sizeHeatmapDataVectors.secondary}));e||(e={sizeHeatmapData:t.sizeHeatmapDataVectors,tiles:[]},r.push(e)),e.tiles.push(t)})),{gridTiles:o,gridTileSizes:r}}(a.Ws,l,a.QU),c=h.gridTiles.map((function(t){var e=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary);return tb(tb({},t),{intensityData:e,hasIntensityData:!1})})),f=h.gridTileSizes.map((function(t){return tb(tb({},t),{tiles:c.filter((function(e){return e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})}));return a.JU={gridTiles:c,gridTileSizes:f},a.Hg(a.Fi,a.LC),a}return $A(e,t),e.prototype.En=function(){var t=this.HU,e=this.Or,i=this.rh(),n=this.Ff,r=n!==this.Jf,o=this.qN.fillStylePaletted(i),s=this.qN.fillStyleSolid(i),a=this.XU.o,u=this.XU.C(),l=this.ta,h=this.Bu.C();this.qU=this.qU||this.$U();var c=this.qU,f=XA(t,c,l?"intensity":void 0,(function(t){return t.sizeHeatmapDataVectors}));f.size>0&&(QA(this.dP,f,(function(t){return t.intensityData}),(function(t){return t.intensityDataTexture})),this.ZU=!0),this.UP.$z(this.vt);var p=this.nG;if((i||a)&&(p.tile=o?{renderMode:"paletted",fillStylePaletted:o,shader:this.dP.UL(zx["2D"],zx.ColorGrid2D({heatmapType:"intensity",interpolation:"bilinear"===u&&"bilinear",flipXY:"rows"===this.Ws.dataOrder,intensityTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN,lut:o.lut}),zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Zm(this.vt),flipXY:"rows"===this.Ws.dataOrder,normalSource:void 0}))}:s?{renderMode:"solid",fillStyleSolid:s,shader:this.dP.UL(zx["2D"],zx.Color({dataType:"uniform"}),zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Zm(this.vt),flipXY:"rows"===this.Ws.dataOrder,normalSource:void 0}))}:void 0),r){var d=this.qN.wireframeStyleLine(r),y=this.qN.wireframeStyleFill(r);p.wireframe=d&&y?-1===d.getThickness()?{renderMode:"primitive",shader:this.dP.UL(zx["2D"],zx.Color({dataType:"uniform"}),zx.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Ws.dataOrder,axisWorldTranslation:Zm(this.vt),normalSource:void 0})),fillStyleSolid:y}:{renderMode:"triangulated",shader:this.dP.UL(zx["2D"],zx.Color({dataType:"uniform"}),zx.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Ws.dataOrder,axisWorldTranslation:Zm(this.vt),normalSource:void 0})),geometry:sA(this.dP,1),solidLine:d,fillStyleSolid:y}:void 0,p.wireframe?this.tW=this.tW||this.iW():this.tW&&(this.dP.tV(this.tW.wireframeCoordinatesBuffer),this.tW=void 0)}if(p.mousePicking=h?this.nG.mousePicking||{shader:this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Zm(this.vt),flipXY:"rows"===this.Ws.dataOrder,normalSource:void 0}))}:void 0,this.nG=p,void 0===this.ia&&o&&"value"===o.lookUpProperty&&o.lut.percentageValues){var v=Ai,g=bi;this.qU.gridTiles.forEach((function(t){for(var e=0;e<t.intensityData.length;e+=1){var i=t.intensityData[e];i<v&&(v=i),i>g&&(g=i)}})),this.ia={min:v,max:g}}return this.ta=!1,this.HU.length=0,this.uh(e),this.Jf=n,this.XU.o=!1,this},e.prototype.$U=function(){var t=this,e=this.JU.gridTiles.map((function(e){var i=ZA(t.dP,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary);return tb(tb({},e),{intensityDataTexture:i,tileData:e})})),i=this.JU.gridTileSizes.map((function(t){return tb(tb({},t),{tiles:e.filter((function(e){return e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}))})})),n=this.dP.Gz([0,0,1,0,0,1,1,1]),r=this.dP.gl.TRIANGLE_STRIP;return{gridTiles:e,gridTileSizes:i,rectangleLocationsBuffer:n,rectangleLocationsDrawMode:r,rectangleLocationsDrawLength:4}},e.prototype.iW=function(){for(var t=this.Ws.primaryDimensionVectorsCount+1+this.Ws.secondaryDimensionVectorsCount+1,e=new Float32Array(4*t),i=0,n=0;n<this.Ws.primaryDimensionVectorsCount+1;n+=1)e[i+0]=n,e[i+1]=0,e[i+2]=n,e[i+3]=this.Ws.secondaryDimensionVectorsCount,i+=4;for(var r=0;r<this.Ws.secondaryDimensionVectorsCount+1;r+=1)e[i+0]=0,e[i+1]=r,e[i+2]=this.Ws.primaryDimensionVectorsCount,e[i+3]=r,i+=4;return{wireframeCoordinatesBuffer:this.dP.Gz(e),wireframeSegmentsLength:t}},e.prototype.Hg=function(e,i){var n=this;t.prototype.Hg.call(this,e,i);var r=this.Ws,o=S({x:Math.min(this.Fi.x,this.Fi.x+r.columns*this.LC.x),y:Math.min(this.Fi.y,this.Fi.y+r.rows*this.LC.y)},{x:Math.max(this.Fi.x,this.Fi.x+r.columns*this.LC.x),y:Math.max(this.Fi.y,this.Fi.y+r.rows*this.LC.y)}),s=new Map;return this.JU.gridTiles.forEach((function(t){var e="columns"===n.Ws.dataOrder?{x:n.Fi.x+n.LC.x*t.iFirstVector.primary,y:n.Fi.y+n.LC.y*t.iFirstVector.secondary}:{x:n.Fi.x+n.LC.x*t.iFirstVector.secondary,y:n.Fi.y+n.LC.y*t.iFirstVector.primary},i="columns"===n.Ws.dataOrder?{x:n.LC.x*t.sizeHeatmapDataVectors.primary,y:n.LC.y*t.sizeHeatmapDataVectors.secondary}:{x:n.LC.x*t.sizeHeatmapDataVectors.secondary,y:n.LC.y*t.sizeHeatmapDataVectors.primary},r="columns"===n.Ws.dataOrder?{x:n.Fi.x+n.LC.x*t.iFirstUniqueVector.primary,y:n.Fi.y+n.LC.y*t.iFirstUniqueVector.secondary}:{x:n.Fi.x+n.LC.x*t.iFirstUniqueVector.secondary,y:n.Fi.y+n.LC.y*t.iFirstUniqueVector.primary},o="columns"===n.Ws.dataOrder?{x:n.LC.x*t.sizeUniqueHeatmapDataVectors.primary,y:n.LC.y*t.sizeUniqueHeatmapDataVectors.secondary}:{x:n.LC.x*t.sizeUniqueHeatmapDataVectors.secondary,y:n.LC.y*t.sizeUniqueHeatmapDataVectors.primary};s.set(t,{startLocationAxis:e,sizeAxis:i,startRenderLocationAxis:r,renderSizeAxis:o})})),this.nW={boundaries:o,tilesInfo:s},this},e.prototype.AE=function(t,e){var i,n,r=this,o=this.qU,s=this.nW,a=1===t?null===(i=this.nG.mousePicking)||void 0===i?void 0:i.shader:null===(n=this.nG.tile)||void 0===n?void 0:n.shader;if(this.nG.tile&&a&&o&&s){var u=a,l=this.nG.tile,h={x:(s.boundaries.max.x-s.boundaries.min.x)*Math.sign(this.LC.x),y:(s.boundaries.max.y-s.boundaries.min.y)*Math.sign(this.LC.y)},c={x:h.x/this.Ws.columns,y:h.y/this.Ws.rows},f=this.vt.Ri(),p={x:c.x/f.x,y:c.y/f.y};if("solid"===l.renderMode||1===t)this.dP.TP(u).Wz(u,(function(i,n,s){if(1===t)r.dP.yV(i("uFirstId"),e).fN(s,1);else if("solid"===l.renderMode){var a=l.fillStyleSolid;r.dP.HE(i("uColor"),a.getColor())}return r.dP.Qz(i("uIsHighlighted"),1===t||2===t?0:r.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0).Xz(i("uScale"),r.UP.Kz()).Xz(i("uDisp"),r.UP.Jz()).Yz(o.rectangleLocationsBuffer,void 0,{location:n("aPos"),size:2}).Xz(i("uScaling"),[r.LC.x*r.Ws.columns,r.LC.y*r.Ws.rows]).Xz(i("uTranslationAxis"),[r.Fi.x,r.Fi.y]).Mb(o.rectangleLocationsDrawMode,o.rectangleLocationsDrawLength),!0}));else if("paletted"===l.renderMode){var d=l.fillStylePaletted,y=this.ia;this.dP.Wz(u,(function(e,i,n){var a,l,h=!1;return r.dP.TP(u).Xz(e("uScale"),r.UP.Kz()).Xz(e("uDisp"),r.UP.Jz()).mN(n,d.lut,y).Yz(o.rectangleLocationsBuffer,void 0,{location:i("aPos"),size:2}).Qz(e("uIsHighlighted"),r.zu).HE(e("uHighlightColorOffset"),2===t?R:r.Gu).Qz(e("uRenderEffectMask"),2===t?1:0),a=function(t){r.dP.Xz(e("uTileDimensions"),["columns"===r.Ws.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===r.Ws.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary])},l=function(t,i){var n=s.tilesInfo.get(t.tileData);if(n){var a,u,l,c=r.dP.kz();a="bilinear"===r.XU.C()?[u=(r.vt.x.ct(n.startLocationAxis.x)+p.x/2)*c,l=(r.vt.y.ct(n.startLocationAxis.y)+p.y/2)*c,(r.vt.x.ct(n.startLocationAxis.x+n.sizeAxis.x)-p.x/2)*c-u,(r.vt.y.ct(n.startLocationAxis.y+n.sizeAxis.y)-p.y/2)*c-l]:[u=r.vt.x.ct(n.startLocationAxis.x)*c,l=r.vt.y.ct(n.startLocationAxis.y)*c,r.vt.x.ct(n.startLocationAxis.x+n.sizeAxis.x)*c-u,r.vt.y.ct(n.startLocationAxis.y+n.sizeAxis.y)*c-l],r.dP.lV(e("uTileBounds"),a).Xz(e("uScaling"),[n.renderSizeAxis.x,n.renderSizeAxis.y]).Xz(e("uTranslationAxis"),[n.startRenderLocationAxis.x,n.startRenderLocationAxis.y]).Zz(e("uTileIntensityValues"),t.intensityDataTexture,1).Mb(o.rectangleLocationsDrawMode,o.rectangleLocationsDrawLength),h=!0}},o.gridTileSizes.forEach((function(t){a(t),t.tiles.forEach((function(t){l(t)}))})),h}))}}var v=this.tW,g=this.nG.wireframe,m=1===t||null==g?void 0:g.shader;if(v&&g&&m&&"primitive"===g.renderMode){var x=g.fillStyleSolid;this.dP.TP(m).Wz(m,(function(e,i,n){return(r.vt instanceof Cn||r.vt instanceof Ly)&&r.dP.Xz(e("uScale"),r.UP.Kz()).Xz(e("uDisp"),r.UP.Jz()),r.dP.Qz(e("uIsHighlighted"),1===t||2===t?0:r.zu).HE(e("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(e("uRenderEffectMask"),2===t?1:0).HE(e("uColor"),x.getColor()).Yz(v.wireframeCoordinatesBuffer,void 0,{location:i("aPos"),size:2}).Xz(e("uScaling"),[r.LC.x,r.LC.y]).Xz(e("uTranslationAxis"),[r.Fi.x,r.Fi.y]).Mb(r.dP.gl.LINES,2*v.wireframeSegmentsLength),!0}))}else if(v&&g&&m&&"triangulated"===g.renderMode){var S=g.geometry,A=g.solidLine,b=g.fillStyleSolid;this.dP.TP(m).Wz(m,(function(e,i,n){return(r.vt instanceof Cn||r.vt instanceof Ly)&&r.dP.Xz(e("uScale"),r.UP.Kz()).Xz(e("uDisp"),r.UP.Jz()),r.dP.Qz(e("uIsHighlighted"),1===t||2===t?0:r.zu).HE(e("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(e("uRenderEffectMask"),2===t?1:0).HE(e("uColor"),b.getColor()).Qz(e("uThicknessPixels"),A.getThickness()).Xz(e("uRatioPxClip"),[2/r.fn.oi().x,2/r.fn.oi().y]).Yz(v.wireframeCoordinatesBuffer,1,{location:i("aLocationA"),size:2},{location:i("aLocationB"),size:2}).Xz(e("uScaling"),[r.LC.x,r.LC.y]).Xz(e("uTranslationAxis"),[r.Fi.x,r.Fi.y]),S.TP(n,!1).Mb(v.wireframeSegmentsLength),!0}))}return{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.Jg=function(t){return this.HU.push(t),HA(this.JU.gridTiles,t,(function(t){return t.hasIntensityData=!0,t.intensityData})),this.ia=void 0,this},e.prototype.zt=function(){return this.ZU&&(this.JU.gridTiles.forEach((function(t){t.intensityData.fill(0),t.hasIntensityData=!1})),this.ta=!0,this.ZU=!1,this.ia=void 0),this},e.prototype.dispose=function(){var e=this;t.prototype.dispose.call(this);var i=this.qU;i&&(i.gridTiles.forEach((function(t){e.dP.bP(t.intensityDataTexture)})),i.gridTiles.length=0,i.gridTileSizes.forEach((function(t){})),i.gridTileSizes.length=0,this.dP.tV(i.rectangleLocationsBuffer)),this.qU=void 0;var n=this.tW;return n&&this.dP.tV(n.wireframeCoordinatesBuffer),this.tW=void 0,this.nG={},this},e.prototype.mP=function(){return this.dispose(),this},e.prototype.Ml=function(t){var e=t,i="columns"===this.Ws.dataOrder?e.x:e.y,n="columns"===this.Ws.dataOrder?e.y:e.x,r="columns"===this.Ws.dataOrder?this.Fi.x:this.Fi.y,o="columns"===this.Ws.dataOrder?this.Fi.y:this.Fi.x,s=(i-r)/("columns"===this.Ws.dataOrder?this.LC.x:this.LC.y),a=(n-o)/("columns"===this.Ws.dataOrder?this.LC.y:this.LC.x);s=Math.floor(he(s,0,this.Ws.primaryDimensionVectorsCount-1)),a=Math.floor(he(a,0,this.Ws.secondaryDimensionVectorsCount-1));var u=this.rW(s,a),l="columns"===this.Ws.dataOrder?{x:this.Fi.x+(s+.5)*this.LC.x,y:this.Fi.y+(a+.5)*this.LC.y}:{x:this.Fi.x+(a+.5)*this.LC.x,y:this.Fi.y+(s+.5)*this.LC.y},h="columns"===this.Ws.dataOrder?s:a,c="columns"===this.Ws.dataOrder?a:s;return{x:l.x,y:l.y,column:h,row:c,cellValue:u}},e.prototype.lw=function(t){var e=this.nW;if(!(!e||t.x<e.boundaries.min.x||t.x>e.boundaries.max.x||t.y<e.boundaries.min.y||t.y>e.boundaries.max.y)){var i=t,n="columns"===this.Ws.dataOrder?i.x:i.y,r="columns"===this.Ws.dataOrder?i.y:i.x,o="columns"===this.Ws.dataOrder?this.Fi.x:this.Fi.y,s="columns"===this.Ws.dataOrder?this.Fi.y:this.Fi.x,a="columns"===this.Ws.dataOrder?this.LC.x:this.LC.y,u="columns"===this.Ws.dataOrder?this.LC.y:this.LC.x,l=he((n-o)/a-.5,0,this.Ws.primaryDimensionVectorsCount-1),h=he((r-s)/u-.5,0,this.Ws.secondaryDimensionVectorsCount-1),c=he(Math.ceil(l)-1,0,this.Ws.primaryDimensionVectorsCount-1),f=he(Math.ceil(h)-1,0,this.Ws.secondaryDimensionVectorsCount-1),p={point:{x:c,y:f},value:this.rW(c,f)},d={point:{x:c,y:f+1},value:this.rW(c,f+1)},y={point:{x:c+1,y:f},value:this.rW(c+1,f)},v={point:{x:c+1,y:f+1},value:this.rW(c+1,f+1)},g=Zs({x:l,y:h},p,d,y,v);if(void 0!==g){var m=he(Math.floor(l+.5),0,this.Ws.primaryDimensionVectorsCount-1),x=he(Math.floor(h+.5),0,this.Ws.secondaryDimensionVectorsCount-1),S="columns"===this.Ws.dataOrder?m:x,A="columns"===this.Ws.dataOrder?x:m,b=t;return{x:b.x,y:b.y,column:S,row:A,cellValue:g}}}},e.prototype.rW=function(t,e){for(var i=0;i<this.JU.gridTiles.length;i+=1){var n=this.JU.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){var r=t-n.iFirstVector.primary,o=e-n.iFirstVector.secondary,s=r*n.sizeHeatmapDataVectors.secondary+o;return n.intensityData[s]}}return 0},e.prototype.yt=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.boundaries.max.x)||0},e.prototype.At=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.boundaries.min.x)||0},e.prototype.St=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.boundaries.max.y)||0},e.prototype.bt=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.boundaries.min.y)||0},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype._M=function(){var t=[];return this.JU.gridTiles.forEach((function(e){if(e.hasIntensityData){for(var i=new Array(e.sizeUniqueHeatmapDataVectors.primary).fill(0).map((function(t){return new Array(e.sizeUniqueHeatmapDataVectors.secondary).fill(0)})),n=0;n<e.sizeUniqueHeatmapDataVectors.primary;n+=1)for(var r=n*e.sizeHeatmapDataVectors.secondary,o=i[n],s=0;s<e.sizeUniqueHeatmapDataVectors.secondary;s+=1){var a=e.intensityData[r+s];o[s]=a}t.push({type:"intensity",startPrimary:e.iFirstUniqueVector.primary,startSecondary:e.iFirstUniqueVector.secondary,lengthPrimary:e.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:e.sizeUniqueHeatmapDataVectors.secondary,values:i})}})),t},e}(JA),ib=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),nb=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;return a.Fi={x:0,y:0},a.LC={x:1,y:1},a.Ff=ko.lineStyle,a.gf=b(void 0),a.XU=b("bilinear"),a.engine=e,a.Ws=s,a}return ib(e,t),e.prototype.Hg=function(t,e){return this.Fi=t,this.LC=e,this},e.prototype.Zg=function(){return{start:this.Fi,step:this.LC}},e.prototype.If=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this},e.prototype.jf=function(){return this.Ff},e.prototype.Sf=function(t){return this.gf.M(t),this},e.prototype.xf=function(){return this.gf.C()},e.prototype.Qg=function(t){return this.XU.M(t),this},e.prototype.Kg=function(){return this.XU.C()},e}(ns),rb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ob=function(){return(ob=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},sb=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;return a.eW=0,a.tM=[],a.UN=e,a.WN=i,a.dP=e.YN(),a.WN=i,a.Qh="columns"===s.scrollDimension?S({x:a.Fi.x,y:a.Fi.y},{x:a.Fi.x,y:a.Fi.y+s.resolution*a.LC.y}):S({x:a.Fi.x,y:a.Fi.y},{x:a.Fi.x+s.resolution*a.LC.x,y:a.Fi.y}),a.oW={dataPerSegment:2048},a}return rb(e,t),e.prototype.En=function(){this.rU||(this.Nu.push({type:"DataPattern",args:{pattern:"columns"===this.Ws.scrollDimension?this.LC.x>0?"ProgressiveX":"RegressiveX":this.LC.y>0?"ProgressiveY":"RegressiveY",regularProgressiveStep:!0}}),this.rU=new MA(this.vt,this));var t=this.rU.QG(this.tM,this.gf.C());if(t>0){for(var e=0;e<t;e+=1)this.tM[0].shape.dispose().mP(),this.tM.shift();"columns"===this.Ws.scrollDimension?this.Qh.min.x=this.tM.length>0?this.tM[0].boundaries.min.x:Ai:this.Qh.min.y=this.tM.length>0?this.tM[0].boundaries.min.y:Ai}this.tM.forEach((function(t){return t.shape.En()}));var i=this.tM.reduce((function(t,e){var i,n;return t.min=Math.min(t.min,ye(null===(i=e.shape.ia)||void 0===i?void 0:i.min,Ai)),t.max=Math.max(t.max,ye(null===(n=e.shape.ia)||void 0===n?void 0:n.max,bi)),t}),{min:Ai,max:bi});return this.tM.forEach((function(t){t.shape.ia=i})),this.gf.o=!1,this},e.prototype.AE=function(t,e){var i=0;return this.tM.forEach((function(n){var r=n.shape.AE(t,e+i).idCount;void 0!==r&&(i+=r)})),{idCount:i}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.nS=function(t){if(0===t.length)return this;var e=0,i=this.oW.dataPerSegment,n=t.length;do{var r=this.tM[this.tM.length-1],o=r?i-(r.existingDataPointsCount+(r.hasJoint?1:0)):0,s=!1;if(!r||0===o){var a={columns:"columns"===this.Ws.scrollDimension?i:this.Ws.resolution,rows:"rows"===this.Ws.scrollDimension?i:this.Ws.resolution,heatmapDataType:this.Ws.heatmapDataType,dataOrder:this.Ws.scrollDimension},u="columns"===this.Ws.scrollDimension?{x:this.Fi.x+this.LC.x*this.eW,y:this.Fi.y}:{x:this.Fi.x,y:this.Fi.y+this.LC.y*this.eW};this.tM.length>0&&(u="columns"===this.Ws.scrollDimension?{x:u.x-1*this.LC.x,y:u.y}:{x:u.x,y:u.y-1*this.LC.y},s=!0);var l=new eb(this.UN,this.WN,this.vt,ue,[],a).Qg(this.XU.C()).Br(this.Or).If(this.Ff).Hg(u,this.LC);r={shape:l,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:i,dataStartIndex:this.eW,hasJoint:!1,boundaries:{min:{x:l.At(),y:l.bt()},max:{x:l.yt(),y:l.St()}}},this.tM.push(r),o=i-(s?1:0)}var h=n-e,c=Math.min(o,h),f=t.slice(e,e+c),p={type:"intensity",values:f,startPrimary:r.existingDataPointsCount+(r.hasJoint?1:0),startSecondary:0,lengthPrimary:c,lengthSecondary:this.Ws.resolution};s&&(p.values.unshift(this.sW),p.lengthPrimary+=1,r.hasJoint=!0),r.shape.Jg(p),r.existingDataPointsCount+=c,r.existingCoordinatesCount+=c+(s?1:0),this.sW=f[f.length-1],this.eW+=c,e+=c}while(e<n);return this.Qh.max="columns"===this.Ws.scrollDimension?ob(ob({},this.Qh.max),{x:this.Fi.x+this.eW*this.LC.x}):ob(ob({},this.Qh.max),{y:this.Fi.y+this.eW*this.LC.y}),this},e.prototype.Jg=function(t,e){var i=t,n=t+e.length-1,r=e[0].length;this.tM.forEach((function(t){var o=t.dataStartIndex,s=t.dataStartIndex+t.existingDataPointsCount-1;if(!(n<o||i>s)){var a=i-o,u=Math.min(n,s),l=u-a+1,h=e.slice(a-i,u-i+1),c={type:"intensity",startSecondary:0,lengthSecondary:r,startPrimary:a,lengthPrimary:l,values:h};t.shape.Jg(c)}}));var o=this.eW-1;if(n>o){var s=n-o,a=e.slice(-s);if(a.length<s)for(var u=this.sW||new Array(r).fill(0),l=a.length;l<s;l+=1)a.unshift(u);this.nS(a)}return this},e.prototype.DM=function(){return this.eW},e.prototype.zt=function(){return this.tM.forEach((function(t){t.shape.dispose().mP()})),this.tM.length=0,this.Qh="columns"===this.Ws.scrollDimension?S({x:this.Fi.x,y:this.Fi.y},{x:this.Fi.x,y:this.Fi.y+this.Ws.resolution*this.LC.y}):S({x:this.Fi.x,y:this.Fi.y},{x:this.Fi.x+this.Ws.resolution*this.LC.x,y:this.Fi.y}),this.eW=0,this.sW=void 0,this},e.prototype.Hg=function(e,i){return t.prototype.Hg.call(this,e,i),this.tM.forEach((function(t,n){var r={x:e.x+t.dataStartIndex*i.x,y:e.y+t.dataStartIndex*i.y};t.shape.Hg(r,i),t.boundaries={min:{x:t.shape.At(),y:t.shape.bt()},max:{x:t.shape.yt(),y:t.shape.St()}}})),this.tM.length>0?this.Qh=Vi.apply(void 0,function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.tM.map((function(t){return t.boundaries}))),!1)):this.Qh="columns"===this.Ws.scrollDimension?S({x:this.Fi.x,y:this.Fi.y},{x:this.Fi.x,y:this.Fi.y+this.Ws.resolution*this.LC.y}):S({x:this.Fi.x,y:this.Fi.y},{x:this.Fi.x+this.Ws.resolution*this.LC.x,y:this.Fi.y}),this},e.prototype.Br=function(e){var i=this;return t.prototype.Br.call(this,e),this.tM.forEach((function(t){return t.shape.Br(i.Or)})),this},e.prototype.If=function(e){var i=this;return t.prototype.If.call(this,e),this.tM.forEach((function(t){return t.shape.If(i.Ff)})),this},e.prototype.Qg=function(e){return t.prototype.Qg.call(this,e),this.tM.forEach((function(t){return t.shape.Qg(e)})),this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.tM.forEach((function(t){return t.shape.dispose()})),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.tM.forEach((function(t){return t.shape.setVisible(e)})),this},e.prototype.mP=function(){return this.tM.forEach((function(t){return t.shape.mP()})),this},e.prototype.Ml=function(t){var e=this,i=Pt(t,this.vt,this.engine.vt),n=this.tM.reduce((function(n,r){var o=r.shape.Ml(t);if(o){var s=Oi(Pt(o,e.vt,e.engine.vt),i);if(void 0===n||s<n.distance)return{result:o,distance:s,segment:r}}return n}),void 0);if(n&&n.result){var r="columns"===this.Ws.scrollDimension?n.result.column+n.segment.dataStartIndex:n.result.column,o="rows"===this.Ws.scrollDimension?n.result.row+n.segment.dataStartIndex:n.result.row;if("columns"===this.Ws.scrollDimension&&r>=this.eW||"rows"===this.Ws.scrollDimension&&o>=this.eW)return;return{x:n.result.x,y:n.result.y,column:r,row:o,cellValue:n.result.cellValue}}},e.prototype.lw=function(t){var e=this,i=Pt(t,this.vt,this.engine.vt),n=this.tM.reduce((function(n,r){var o=r.shape.lw(t);if(o){var s=Oi(Pt(o,e.vt,e.engine.vt),i);if(void 0===n||s<n.distance)return{result:o,distance:s,segment:r}}return n}),void 0);if(n&&n.result){var r="columns"===this.Ws.scrollDimension?n.result.column+n.segment.dataStartIndex:n.result.column,o="rows"===this.Ws.scrollDimension?n.result.row+n.segment.dataStartIndex:n.result.row;if("columns"===this.Ws.scrollDimension&&r>=this.eW||"rows"===this.Ws.scrollDimension&&o>=this.eW)return;return{x:n.result.x,y:n.result.y,column:r,row:o,cellValue:n.result.cellValue}}},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.cn=function(e){return t.prototype.cn.call(this,e),this.tM.forEach((function(t){return t.shape.cn(e)})),this},e}(nb),ab=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ub=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o)||this;return a.XU=b("bilinear"),a.Ff=ko.lineStyle,a.Ws=s,a}return ab(e,t),e.prototype.Qg=function(t){return this.XU.M(t),this},e.prototype.Kg=function(){return this.XU.C()},e.prototype.If=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this},e.prototype.jf=function(){return this.Ff},e}(ns),lb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hb=function(t){function e(e,i,n,r,o,s){var a=t.call(this,e,i,n,r,o,s)||this;a.UP=new OS,a.nG={},a.qN=Qm({fillStyleSolid:function(){return it(a.Or)&&a.Or},fillStylePaletted:function(){return st(a.Or)&&a.Or}}),a.UN=e,a.WN=i,a.dP=e.YN(),a.WN=i,a.MM=new eb(a.UN,e.uW,e.vt,ue,[],{columns:s.sectors,rows:s.annuli,heatmapDataType:"intensity",dataOrder:"annuli"===s.dataOrder?"rows":"columns",KU:a.dP.yP}).If(gt);var u=2*Math.PI/360,l=new Float32Array(724),h=0;l[h+0]=0,l[h+1]=0,h+=2;for(var c=0;c<=360;c+=1){var f=c*u,p=Math.cos(f),d=Math.sin(f);l[h+0]=p,l[h+1]=d,h+=2}return a.hW={vertexBuffer:a.dP.Gz(l),drawMode:a.dP.gl.TRIANGLE_FAN,drawLength:362},a}return lb(e,t),e.prototype.En=function(){var t=this.rh(),e=this.Or,i=this.qN.fillStyleSolid(t),n=this.qN.fillStylePaletted(t),r=i||n,o=this.XU.C(),s=this.XU.o,a=this.Bu.C(),u=this.Bu.o;return this.UP.$z(this.vt),this.MM.En(),this.MM.qU?((t||s)&&(this.nG.fill=r?{shader:this.dP.UL(zx["2D"],zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Zm(this.vt),normalSource:void 0}),n&&zx.PolarHeatmap({interpolation:"bilinear"===o&&"bilinear",intensityTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN,flipXY:"sectors"===this.Ws.dataOrder,lut:n.lut}),i&&zx.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:n,fillStyleSolid:i}:void 0),u&&(this.nG.mousePicking=a?{shader:this.dP.UL(zx["2D"],zx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.MousePicking())}:void 0),this.uh(e),this.XU.o=!1,this.Bu.o=!1,this):this},e.prototype.AE=function(t,e){var i,n=this,r=this.hW,o=r.vertexBuffer,s=r.drawLength,a=r.drawMode,u=this.MM.qU;if(!this.nG.fill||!u)return{};var l=this.nG.fill,h=l.fillStylePaletted,c=l.fillStyleSolid,f=1===t?null===(i=this.nG.mousePicking)||void 0===i?void 0:i.shader:this.nG.fill.shader;if(!f)return{};var p,d=this.vt.Hx(),y=Math.min(d.start,d.end),v=Math.max(d.start,d.end),g=Math.min(this.Ws.amplitudeStart,this.Ws.amplitudeStart+(this.Ws.annuli-1)*this.Ws.amplitudeStep),m=Math.max(this.Ws.amplitudeStart,this.Ws.amplitudeStart+(this.Ws.annuli-1)*this.Ws.amplitudeStep);return p=d.end>d.start?Math.min(m,v)-d.start:Math.max(g,y)-d.start,this.dP.TP(f).Wz(f,(function(i,r,l,f){if(n.dP.Xz(i("uScale"),n.UP.Kz()).Xz(i("uDisp"),n.UP.Jz()).Qz(i("uIsHighlighted"),1===t||2===t?0:n.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:n.Gu).Qz(i("uRenderEffectMask"),2===t?1:0).Xz(f("uViewportSize"),[n.UN.oi().x*n.dP.kz()/(1===t?n.fn.Ws.Hs:1),n.UN.oi().y*n.dP.kz()/(1===t?n.fn.Ws.Hs:1)]).Xz(i("uScaling"),[p,p]).Xz(i("uTranslationAxis"),[0,0]).Yz(o,void 0,{location:r("aPos"),size:2}).Qz(f("uAngleOffset"),n.vt.qx()%(2*Math.PI)).Qz(f("uAngleDirection"),n.vt.rw()?1:-1).Qz(f("uSectors"),n.Ws.sectors).Qz(f("uAnnuli"),n.Ws.annuli),1===t)n.dP.yV(i("uFirstId"),e).fN(l,1);else{if(n.dP.Qz(i("uAmplitudeStart"),n.Ws.amplitudeStart).Qz(i("uAmplitudeStep"),n.Ws.amplitudeStep).Qz(i("uAmplitudeAxisStart"),n.vt.Hx().start).Qz(i("uAmplitudeAxisEnd"),n.vt.Hx().end),h){var d=n.MM.ia;n.dP.mN(l,h.lut,d).Zz(i("uTileIntensityValues"),u.gridTiles[0].intensityDataTexture,0)}c&&n.dP.HE(i("uColor"),c.getColor())}return n.dP.Mb(a,s),!0})),{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.Jg=function(t){return this.MM.Jg(t),this},e.prototype.zt=function(){return this.MM.zt(),this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.MM.dispose(),this.nG={},this.dP.tV(this.hW.vertexBuffer),this},e.prototype.mP=function(){return this.dispose(),this},e.prototype.Br=function(e){return t.prototype.Br.call(this,e),this.MM.Br(this.Or),this},e.prototype.Ml=function(t){var e=this.Ws.amplitudeStart,i=this.Ws.amplitudeStart+(this.Ws.annuli-1)*this.Ws.amplitudeStep,n=Math.min(e,i),r=Math.max(e,i);if(!(t.angle<0||t.angle>360||t.amplitude<n||t.amplitude>r)){var o=Math.round((t.angle-0)/360*this.Ws.sectors);o>=this.Ws.sectors&&(o=0);var s=Math.round((t.amplitude-e)/(i-e)*(this.Ws.annuli-1));return{iAnnulus:s,iSector:o,cellValue:this.rW(s,o),angle:o*(360/this.Ws.sectors),amplitude:e+s*(i-e)/(this.Ws.annuli-1)}}},e.prototype.lw=function(t){var e=this.Ws.amplitudeStart,i=this.Ws.amplitudeStart+(this.Ws.annuli-1)*this.Ws.amplitudeStep,n=Math.min(e,i),r=Math.max(e,i);if(!(t.angle<0||t.angle>360||t.amplitude<n||t.amplitude>r)){var o=(t.angle-0)/360*this.Ws.sectors,s=(t.amplitude-e)/(i-e)*(this.Ws.annuli-1),a=Math.floor(o),u=Math.floor(s),l={point:{x:u,y:a},value:this.rW(u,a)},h={point:{x:u,y:a+1},value:this.rW(u,a+1)},c={point:{x:u+1,y:a},value:this.rW(u+1,a)},f={point:{x:u+1,y:a+1},value:this.rW(u+1,a+1)},p=Zs({x:s,y:o},l,h,c,f);if(void 0!==p)return{iAnnulus:u,iSector:a,cellValue:p,angle:t.angle,amplitude:t.amplitude}}},e.prototype.rW=function(t,e){for(var i="annuli"===this.Ws.dataOrder?t:e,n="annuli"===this.Ws.dataOrder?e:t,r=0;r<this.MM.JU.gridTiles.length;r+=1){var o=this.MM.JU.gridTiles[r];if(i>=o.iFirstVector.primary&&i<=o.iFirstVector.primary+o.sizeHeatmapDataVectors.primary-1&&n>=o.iFirstVector.secondary&&n<=o.iFirstVector.secondary+o.sizeHeatmapDataVectors.secondary-1){var s=i-o.iFirstVector.primary,a=n-o.iFirstVector.secondary,u=s*o.sizeHeatmapDataVectors.secondary+a;return o.intensityData[u]}}return 0},e.prototype.yt=function(){return 0},e.prototype.At=function(){return 0},e.prototype.St=function(){return 0},e.prototype.bt=function(){return 0},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e}(ub),cb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fb=function(t){function e(e){var i=t.call(this,e)||this,n=i.UR(),r=n.vertices,o=n.drawMode,s=n.drawSize;return i.WR=e.Gz(r),i.XR=s,i.HR=o,i}return cb(e,t),e.prototype.TP=function(t){return this.dP.Yz(this.WR,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this},e.prototype.Mb=function(t,e,i){return this.dP.DV(void 0!==e?e:this.HR,i||0,this.XR,t),this},e.prototype.UR=function(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.dP.gl.TRIANGLES,drawSize:6}},e.prototype.fz=function(){this.dP.tV(this.WR)},e}(bS),pb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),db=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}])||this;return o.aW=ko.fillStyle,o.fW=ko.fillStyle,o.cW=b(Co.Circle),o.lW=b(5),o.vW=b(0),o.dW=b(void 0),o.iT=!0,o.AW={x:0,y:0},o}return pb(e,t),e.prototype.Gl=function(t){return this.aW=$o(this.aW,t),this},e.prototype.rT=function(){return this.aW},e.prototype.yW=function(){return ts(this.mW,this.aW)},e.prototype.bW=function(){return ts(this.pW,this.fW)},e.prototype.Rl=function(t){return this.fW=$o(this.fW,t),ha(this.fW)&&(this.Wl(Co.Square),this.Ql(1)),this},e.prototype.Zl=function(){return this.fW},e.prototype.Wl=function(t){return this.cW.M(t),xa(this.cW.C())&&this.Ql(1),this},e.prototype.Yl=function(){return this.cW.C()},e.prototype.Ql=function(t){return this.lW.M(t),this},e.prototype.eT=function(){return this.lW.C()},e.prototype.Xl=function(t){return this.vW.M(t),this},e.prototype.Hl=function(){return this.vW.C()},e.prototype.oT=function(t){return this.AW=t,this},e.prototype.sT=function(){return this.AW},e.prototype.tT=function(t){return this.dW.M(t),this},e.prototype.uT=function(){return this.dW.C()},e}(ds),yb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vb=function(){return(vb=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},gb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mb=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.CG=!1,n._G={enabled:!1,totalDataPointsAtTime:0},n.kG=e instanceof Cn?{type:"linear",scale:e}:{type:"unknown"},n.MG.Wu("DataPattern",(function(t){!1===t.allowDataGrouping&&(n.CG=!0)})),n}return yb(e,t),e.prototype.gW=function(t,e){var i,n,r=null==t?void 0:t.rl,o=null==t?void 0:t.el,s=null==t?void 0:t.Rc,a=null==t?void 0:t.Nc;if(!t||this.CG||!this.SG||"linear"!==this.kG.type||!r||!o||void 0===s||void 0===a||!e)return{cpStateChanged:!1,cpActive:!1};var u=null===(i=t.nl())||void 0===i?void 0:i.x,l=null===(n=t.xl())||void 0===n?void 0:n.x;if(s<2||void 0===u||void 0===l||l===u)return{cpStateChanged:!1,cpActive:!1};var h,c=this.calculateAvgStepBetweenDataPoints(l,u,s),f=this.kG.scale,p=Math.abs("x"===this.SG?f.Ri().x:f.Ri().y),d=p/c,y=Math.floor(.8*d),v=y*c,g=y>=4,m=this._G.enabled?this._G.columnWidthAxis/p<1.5:void 0,x=this._G.enabled&&y>this._G.dataPointsPerColumn?y/this._G.dataPointsPerColumn>=2:void 0;return!0===this._G.enabled?m?x&&(h={enabled:!0,columnWidthAxis:v,dataPointsPerColumn:y,totalDataPointsAtTime:s}):h=g?{enabled:!0,columnWidthAxis:v,dataPointsPerColumn:y,totalDataPointsAtTime:s}:{enabled:!1,totalDataPointsAtTime:s}:g&&(h={enabled:!0,columnWidthAxis:v,dataPointsPerColumn:y,totalDataPointsAtTime:s}),this._G=h||vb(vb({},this._G),{totalDataPointsAtTime:s}),!!h&&this.jG(),{cpStateChanged:!!h,cpActive:this._G.enabled}},e.prototype.SW=function(t,e){var i,n,r,o,s,a,u,l=t.rl,h=t.el,c=t.Gc,f=t.Rc,p=t.Nc;if(!this.CG&&this._G.enabled&&l&&h&&void 0!==e){var d=l.length,y=this._G.columnWidthAxis,v=this.vt.x.getInnerStart(),g=this.vt.x.getInnerEnd(),m=Ea(v,g,l,c,f,p,e,1);if(m){var x=l[m.iFirstSampleDataArray];if(this.xW){if(this.xW.iFirstPackedSample<m.iFirstSample&&(b=Math.min(Math.floor((x-this.xW.origin)/y),this.xW.packedColumnsCount))>0)if(this.xW.packedColumnsCount-=b,this.xW.packedColumnsCount>0){this.xW.packedDataX.splice(0,2*b),this.xW.packedDataY.splice(0,2*b),this.xW.packedDataColors&&this.xW.packedDataColors.splice(0,2*b),this.xW.packedDataLookupValues&&this.xW.packedDataLookupValues.splice(0,2*b),this.xW.origin+=b*y;var S=Ta(this.xW.origin,Math.max(c-1-d+1,0),c-1,(function(t){return l[Pa(t,c,d)]})),A=Pa(S,c,d);this.xW.iFirstPackedSample=l[A]>=this.xW.origin?S:S+1}else this.xW=void 0;if(void 0!==(null===(s=this.xW)||void 0===s?void 0:s.iLastPackedSample)&&this.xW.iLastPackedSample>m.iLastSample){var b,M=l[m.iLastSampleDataArray];if((b=Math.min(Math.floor((this.xW.origin+this.xW.packedColumnsCount*y-M)/y),this.xW.packedColumnsCount))>0)if(this.xW.packedColumnsCount-=b,this.xW.packedColumnsCount>0){for(var w=0;w<2*b;w+=1)this.xW.packedDataX.pop(),this.xW.packedDataY.pop(),this.xW.packedDataColors&&this.xW.packedDataColors.pop(),this.xW.packedDataLookupValues&&this.xW.packedDataLookupValues.pop();S=Ta(this.xW.origin+this.xW.packedColumnsCount*y,Math.max(c-1-d+1,0),c-1,(function(t){return l[Pa(t,c,d)]})),A=Pa(S,c,d),this.xW.iLastPackedSample=l[A]<=this.xW.origin+this.xW.packedColumnsCount*y?S:S-1}else this.xW=void 0}}var C=this.xW||{origin:x,packedColumnsCount:0,packedDataX:[],packedDataY:[],packedDataColors:t.ll?[]:void 0,packedDataLookupValues:t.cl?[]:void 0,packedDataSize:t.vl?[]:void 0,packedDataRotation:t.dl?[]:void 0,iFirstPackedSample:m.iFirstSample,iLastPackedSample:void 0},P=function(t,e,i){for(var n=Math.min(t,t+e*y),r=Math.max(t,t+e*y),o=i,s=[],a=bi,u=bi,f=-1,p=Ai,x=Ai,S=-1,A=0;o<=m.iLastSample&&o>=m.iFirstSample;){var b=o%d,M=l[b],w=h[b];if(n<=M&&M<=r)A+=1,Number.isNaN(w)||(w>u&&(a=M,u=w,f=o),w<x&&(p=M,x=w,S=o)),o+=e;else{if(A>0)a=a===bi?Number.NaN:a,u=u===bi?Number.NaN:u,p=p===Ai?Number.NaN:p,x=x===Ai?Number.NaN:x,f<S?(s.push({iFirst:f,iSecond:S}),e>0?(C.packedDataX.push(a),C.packedDataY.push(u),C.packedDataX.push(p),C.packedDataY.push(x)):(C.packedDataX.unshift(p),C.packedDataY.unshift(x),C.packedDataX.unshift(a),C.packedDataY.unshift(u))):(s.push({iFirst:S,iSecond:f}),e>0?(C.packedDataX.push(p),C.packedDataY.push(x),C.packedDataX.push(a),C.packedDataY.push(u)):(C.packedDataX.unshift(a),C.packedDataY.unshift(u),C.packedDataX.unshift(p),C.packedDataY.unshift(x)));else{var P=e>0?C.iLastPackedSample:C.iFirstPackedSample;if(void 0===P)s.push({iFirst:0,iSecond:0}),e>0?(C.packedDataX.push(Number.NaN),C.packedDataY.push(Number.NaN),C.packedDataX.push(Number.NaN),C.packedDataY.push(Number.NaN)):(C.packedDataX.unshift(Number.NaN),C.packedDataY.unshift(Number.NaN),C.packedDataX.unshift(Number.NaN),C.packedDataY.unshift(Number.NaN));else{var E=Pa(P,c,d),T=l[E],k=h[E],D=(n+r)/2,F=D-e*y/6,_=k+(F-T)/(M-T)*(w-k),I=D+e*y/6,O=k+(I-T)/(M-T)*(w-k);s.push({iFirst:P,iSecond:P}),e>0?(C.packedDataX.push(F),C.packedDataY.push(_),C.packedDataX.push(I),C.packedDataY.push(O)):(C.packedDataX.unshift(F),C.packedDataY.unshift(_),C.packedDataX.unshift(I),C.packedDataY.unshift(O))}}if(C.packedColumnsCount+=1,e>0?C.iLastPackedSample=o-1:(C.iFirstPackedSample=o+1,C.origin=n),n=Math.min(t+s.length*e*y,t+(s.length+1)*e*y),r=Math.max(t+s.length*e*y,t+(s.length+1)*e*y),A=0,a=bi,u=bi,f=-1,p=Ai,x=Ai,S=-1,n<v||r>g)break}}return s},E=P(C.origin+C.packedColumnsCount*y,1,void 0!==(null===(a=this.xW)||void 0===a?void 0:a.iLastPackedSample)?this.xW.iLastPackedSample+1:m.iFirstSample),T=P(C.origin,-1,void 0!==(null===(u=this.xW)||void 0===u?void 0:u.iFirstPackedSample)?this.xW.iFirstPackedSample-1:m.iFirstSample),k=t.ll&&C.packedDataColors?[t.ll,C.packedDataColors]:void 0,D=t.cl&&C.packedDataLookupValues?[t.cl,C.packedDataLookupValues]:void 0,F=t.vl&&C.packedDataSize?[t.vl,C.packedDataSize]:void 0,_=t.dl&&C.packedDataRotation?[t.dl,C.packedDataRotation]:void 0;if(k||D||F||_){try{for(var I=gb(E),O=I.next();!O.done;O=I.next()){var B=O.value,z=Pa(B.iFirst,c,d,p),L=Pa(B.iSecond,c,d,p);k&&k[1].push(k[0][z],k[0][L]),D&&D[1].push(D[0][z],D[0][L]),F&&F[1].push(F[0][z],F[0][L]),_&&_[1].push(_[0][z],_[0][L])}}catch(t){i={error:t}}finally{try{O&&!O.done&&(n=I.return)&&n.call(I)}finally{if(i)throw i.error}}try{for(var R=gb(T),V=R.next();!V.done;V=R.next()){var N=V.value;z=Pa(N.iFirst,c,d,p),L=Pa(N.iSecond,c,d,p),k&&k[1].unshift(k[0][L],k[0][z]),D&&D[1].unshift(D[0][L],D[0][z]),F&&F[1].unshift(F[0][L],F[0][z]),_&&_[1].unshift(_[0][L],_[0][z])}}catch(t){r={error:t}}finally{try{V&&!V.done&&(o=R.return)&&o.call(R)}finally{if(r)throw r.error}}}return this.xW=C.packedColumnsCount>0?C:void 0,{x:C.packedDataX,y:C.packedDataY,color:C.packedDataColors,lookup:C.packedDataLookupValues,size:C.packedDataSize,rotation:C.packedDataRotation}}}},e.prototype.jG=function(){this.xW=void 0},e.prototype.EG=function(t){if(this.SG&&"linear"===this.kG.type){var e="x"===this.SG?this.kG.scale.x.EA:this.kG.scale.y.EA;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.ue===Lr.progressive||e.ue===Lr.regressive){var i=Math.abs("x"===this.SG?this.kG.scale.x.getInnerInterval():this.kG.scale.y.getInnerInterval());if(this._G.enabled)return 2*i/this._G.columnWidthAxis;var n=t.length,r=t[0],o=t[n-1];return i/this.calculateAvgStepBetweenDataPoints("x"===this.SG?r.x:r.y,"x"===this.SG?o.x:o.y,n)}}},e.prototype.PG=function(t,e,i){if(!this.SG)return e;var n=i.length,r=Uo(i,t.min,this.SG,this.xG,0,n-1);void 0===r&&(r=this.xG?n-1:0);var o=Uo(i,t.max,this.SG,this.xG,0,n-1);return void 0===o&&(o=this.xG?0:n-1),1+Math.abs(o-r)},e.prototype.LG=function(){},e}(pA),xb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Sb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ab=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.UP=new OS,o.iU=new mb(o.vt,o),o.qN=Qm({lineStyleSolid:function(){return Zn(o.lf)&&o.lf},lineStyleDashed:function(){return ya(o.lf)&&o.lf},strokeFillSolid:function(){var t=o.lf.getFillStyle();return it(t)&&t},strokeFillLinearGradient:function(){var t=o.lf.getFillStyle();return yt(t)&&t},strokeFillRadialGradient:function(){var t=o.lf.getFillStyle();return pt(t)&&t},strokeFillIndividual:function(){var t=o.lf.getFillStyle();return rt(t)&&t},strokeFillPaletted:function(){var t=o.lf.getFillStyle();return st(t)&&t},areaFillSolid:function(){return it(o.aW)&&o.aW},areaFillLinearGradient:function(){return yt(o.aW)&&o.aW},areaFillRadialGradient:function(){return pt(o.aW)&&o.aW},areaFillIndividual:function(){return rt(o.aW)&&o.aW},areaFillPaletted:function(){return st(o.aW)&&o.aW},markerFillSolid:function(){return it(o.fW)&&o.fW},markerFillLinearGradient:function(){return yt(o.fW)&&o.fW},markerFillRadialGradient:function(){return pt(o.fW)&&o.fW},markerFillPaletted:function(){return st(o.fW)&&o.fW},markerFillIndividual:function(){return rt(o.fW)&&o.fW},markerFillImage:function(){return ha(o.fW)&&o.fW},markerShapeIcon:function(){var t=o.cW.C();return xa(t)&&t}}),o.Vl=b(void 0),o.wW=[],o.ta=!1,o.MW=[],o._W=void 0,o.Gw={tk:"x",ik:function(){return o.TW()}},o.RU=function(t,e,i){var n,r=null===(n=o.kW)||void 0===n?void 0:n.shapeIcon,s=t,a=e;return r&&(s=r.oi().x,a=r.oi().y),CS(t,e,s*o.lW.C(),a*o.lW.C(),i)},o.WN=i,o.nG={type:"none"},o.dP=e.YN(),o.UN=e,o.tG=o.dP.NV,o}return xb(e,t),e.prototype.Nl=function(t){var e=this;return this.Vl.M(di(t,this.Vl.C(),(function(){return[t.Cl((function(i,n){e.wW.push({min:i,max:n}),void 0===t.bl()&&e.OW&&e.MW.push({min:i,max:n})})),t._l((function(){e.ta=!0,e.OW=void 0,e._W=void 0,e.iU.jG()}))]}))),this._W=void 0,this},e.prototype.TW=function(){var t,e,i,n,r,o,s,a,u,l,h,c,f,p,d,v=this,g=null===(i=this.Vl.C())||void 0===i?void 0:i.Nt,m=this.Vl.o,x=null==g?void 0:g.rl,S=null==g?void 0:g.el;if(g&&x&&S){var A,b,M=g.cl,w=g.ll,C=g.vl,P=g.dl,E=g.Gc,T=g.Rc,k=g.Nc,D=m||this.hh()||this.yW()||this.bW(),F=this.qN.lineStyleSolid(D),_=this.qN.lineStyleDashed(D),I=F||_,O=I&&I.getThickness(),B=this.qN.strokeFillSolid(D),z=this.qN.strokeFillLinearGradient(D),L=this.qN.strokeFillRadialGradient(D),R=this.qN.strokeFillIndividual(D),V=this.qN.strokeFillPaletted(D),N=B||z||L||R||V,U=this.qN.areaFillSolid(D),Y=this.qN.areaFillLinearGradient(D),G=this.qN.areaFillRadialGradient(D),j=this.qN.areaFillIndividual(D),W=this.qN.areaFillPaletted(D),X=U||Y||G||j||W,H=this.qN.markerFillSolid(D),Z=this.qN.markerFillLinearGradient(D),Q=this.qN.markerFillRadialGradient(D),q=this.qN.markerFillPaletted(D),K=this.qN.markerFillIndividual(D),J=this.qN.markerFillImage(D),$=H||Z||Q||q||K||J,tt=this.cW.C(),et=this.cW.o,it=this.qN.markerShapeIcon(et),nt=this.lW.C(),rt=this.lW.o,ot=this.dW.o,st=this.wW.length>0||ot,at=this.ta,ut=at?[g.pl()]:function(t){var e,i,n,r,o=[];try{for(var s=ie(t),a=s.next();!a.done;a=s.next()){var u=a.value,l=!1;try{for(var h=(n=void 0,ie(o)),c=h.next();!c.done;c=h.next()){var f=c.value;if(u.min>=f.min&&u.min<=f.max||u.max>=f.min&&u.max<=f.max){f.min=Math.min(f.min,u.min),f.max=Math.min(f.max,u.max),l=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}l||o.push(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return o}(this.wW),lt=this.vt.x.ai,ht=this.vt.x.getInnerStart(),ct=this.vt.x.getInnerEnd(),ft=g.bl(),pt=!!_,dt=this.Bu.C(),yt=this.Bu.o,vt=this.iU.gW(g,this.iT),gt=vt.cpStateChanged,mt=vt.cpActive;if(ft&&mt&&(gt||at||st||lt||D)){var xt=this.iU.SW(g,ft);if(xt){var St=!gt&&!at&&!D;this.FW=bb(this.dP,[xt.x,xt.y],xt.color,xt.lookup,xt.size,xt.rotation,pt,this.FW,St,ft,1e3,this.vt.wi(),(function(t){return Oe(t,v.vt.wi())})),this.IW={min:Ai,max:bi};for(var At=xt.y.length,bt=0;bt<At;bt+=1){var Mt=xt.y[bt];Number.isNaN(Mt)||(this.IW.min=Math.min(this.IW.min,Mt),this.IW.max=Math.max(this.IW.max,Mt))}}}if(ft&&!mt&&(gt||at||st||lt||ot||D)){var wt=Ea(ht,ct,x,E,T,k,ft,1);if(!this.jW||(null==wt?void 0:wt.iFirstSample)!==this.jW.iFirstSample||wt.iLastSample!==this.jW.iLastSample||at){this.IW={min:Ai,max:bi};try{for(var Ct=Sb((null==wt?void 0:wt.dataRanges)||[]),Pt=Ct.next();!Pt.done;Pt=Ct.next())for(bt=(It=Pt.value).offset;bt<It.offset+It.count;bt+=1)Mt=S[bt],Number.isNaN(Mt)||(this.IW.min=Math.min(this.IW.min,Mt),this.IW.max=Math.max(this.IW.max,Mt))}catch(e){t={error:e}}finally{try{Pt&&!Pt.done&&(e=Ct.return)&&e.call(Ct)}finally{if(t)throw t.error}}}if(this.jW=wt,void 0===wt)this.dP.tV(null===(n=this.FW)||void 0===n?void 0:n.bufferX),this.dP.tV(null===(r=this.FW)||void 0===r?void 0:r.bufferY),this.FW=void 0,this.dP.tV(null===(o=this.DW)||void 0===o?void 0:o.bufferX),this.dP.tV(null===(s=this.DW)||void 0===s?void 0:s.bufferY),this.DW=void 0,this.BW=wt;else if(gt||at||!this.BW||wt.iFirstSample<this.BW.iFirstSample||wt.iLastSample>this.BW.iLastSample||D){var Et=void 0,Tt=void 0,kt=void 0,Dt=void 0,Ft=void 0,_t=void 0;if(1===wt.dataRanges.length){var It=wt.dataRanges[0];Et=x.subarray(It.offset,It.offset+It.count),Tt=S.subarray(It.offset,It.offset+It.count),kt=w?w.subarray(It.offset,It.offset+It.count):void 0,Dt=M?M.subarray(It.offset,It.offset+It.count):void 0,Ft=C?C.subarray(It.offset,It.offset+It.count):void 0,_t=P?P.subarray(It.offset,It.offset+It.count):void 0}else{var Ot=wt.dataRanges[0],Bt=wt.dataRanges[1],zt=Ot.count+Bt.count;(Et=new Float32Array(zt)).set(x.subarray(Ot.offset),0),Et.set(x.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count),(Tt=new Float32Array(zt)).set(S.subarray(Ot.offset),0),Tt.set(S.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count),w&&((kt=new Uint32Array(zt)).set(w.subarray(Ot.offset),0),kt.set(w.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count)),M&&((Dt=new Float32Array(zt)).set(M.subarray(Ot.offset),0),Dt.set(M.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count)),C&&((Ft=new Float32Array(zt)).set(C.subarray(Ot.offset),0),Ft.set(C.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count)),P&&((_t=new Float32Array(zt)).set(P.subarray(Ot.offset),0),_t.set(P.subarray(Bt.offset,Bt.offset+Bt.count),Ot.count))}St=!gt&&!at&&!D,this.DW=bb(this.dP,[Et,Tt],kt,Dt,Ft,_t,pt,this.DW,St,ft,1e3,this.vt.wi(),(function(t){return Oe(t,v.vt.wi())}));var Lt=Et,Rt=Tt,Vt=kt,Nt=Dt,Ut=this.dW.C();if(Ut){var Yt="spline"===Ut.type?function(t,e){var i=t.xValues,n=t.yValues,r=t.lookupValues,o=t.colors;if(i.length<=2)return{xValues:Array.from(i),yValues:Array.from(n),lookupValues:r?Array.from(r):void 0,colors:o?Array.from(o):void 0};for(var s=function(t,e){var i=1e-5,n=t.length-1,r=Array(n);if(n>1)for(var o=y(0,0),s=y(0,0),a=y(0,0),u=Gi(Zi({x:t[1],y:e[1]},{x:t[0],y:e[0]})),l=0,h=0,c=0;c<n;c+=1){var f=Array(4);if(f[0]={x:t[c],y:e[c]},f[1]={x:t[c],y:e[c]},f[3]={x:t[c+1],y:e[c+1]},f[2]={x:t[c+1],y:e[c+1]},a=u,o=s,c+1<n?(u=t[c+2]===t[c+1]&&e[c+2]===e[c+1]?y(0,0):Gi(Zi({x:t[c+2],y:e[c+2]},{x:t[c+1],y:e[c+1]})),s=Gi(Hi(a,u))):s=y(0,0),e[c+1]===e[c])l=0,h=0;else{var p=t[c+1]-t[c];l=Math.abs(o.x)>i?Math.abs(p/(3*o.x)):1,h=Math.abs(s.x)>i?Math.abs(p/(3*s.x)):1}f[1]=Hi(Xi(o,l),f[1]),f[2]=Zi(f[2],Xi(s,h)),r[c]=f}return r.length>0?r:[]}(i,n),a=s.length,u=[],l=[],h=[],c=[],f=0;f<a;f+=1)for(var p=s[f],d=0;d<e;d+=1){var v=d/(e-1),g=v*v,m=g*v,x=1-v,S=x*x,A=S*x;u.push(A*p[0].x+3*v*S*p[1].x+3*g*x*p[2].x+m*p[3].x),l.push(A*p[0].y+3*v*S*p[1].y+3*g*x*p[2].y+m*p[3].y)}if(r)for(d=0;d<u.length;d+=1){var b=r[Math.round(d/e)];c[d]=b}if(o)for(d=0;d<u.length;d+=1){var M=o[Math.round(d/e)];h[d]=M}return{xValues:u,yValues:l,lookupValues:r?c:void 0,colors:o?h:void 0}}({xValues:Et,yValues:Tt,lookupValues:Dt,colors:kt},Ut.resolution||20):"step"===Ut.type?function(t,e){var i=t.xValues,n=t.yValues,r=t.lookupValues,o=t.colors,s=[],a=[],u=[],l=[],h=i.length,c=e;if(h>0){var f=0,p=i[0],d=n[0];s[f]=p,a[f]=d,f+=1;for(var y=1;y<h;y+=1){var v=i[y],g=n[y];if(c<=0)s[f]=p,a[f]=g,f+=1;else{var m=p*(1-c)+v*c;s[f]=m,a[f]=d,s[f+=1]=m,a[f]=g,f+=1}s[f]=v,a[f]=g,f+=1,p=v,d=g}}if(r)if(c===Sh.before)for(l[0]=r[0],y=1;y<h;y+=1)l[2*y-1]=r[y],l[2*y]=r[y];else if(c===Sh.middle||c===Sh.after)for(l[0]=r[0],l[1]=r[0],y=1;y<h;y+=1)l[3*y-1]=r[y],l[3*y]=r[y],l[3*y+1]=r[y];if(o)if(c===Sh.before)for(u[0]=o[0],y=1;y<h;y+=1)u[2*y-1]=o[y],u[2*y]=o[y];else if(c===Sh.middle||c===Sh.after)for(u[0]=o[0],u[1]=o[0],y=1;y<h;y+=1)u[3*y-1]=o[y],u[3*y]=o[y],u[3*y+1]=o[y];return{xValues:s,yValues:a,lookupValues:r?l:void 0,colors:o?u:void 0}}({xValues:Et,yValues:Tt,lookupValues:Dt,colors:kt},"before"===Ut.step?0:"after"===Ut.step?1:.5):void 0;Lt=Yt?Yt.xValues:Lt,Rt=Yt?Yt.yValues:Rt,Vt=(null==Yt?void 0:Yt.colors)?Yt.colors:Vt,Nt=(null==Yt?void 0:Yt.lookupValues)?Yt.lookupValues:Nt}this.FW=Lt===Et&&Rt===Tt?this.DW:bb(this.dP,[Lt,Rt],Vt,Nt,void 0,void 0,pt,(null===(a=this.FW)||void 0===a?void 0:a.bufferX)===this.DW.bufferX?void 0:this.FW,!(!St||ot||Ut),ft,1e3,this.vt.wi(),(function(t){return Oe(t,v.vt.wi())})),this.BW=wt}}else this.jW=void 0;if(!ft&&(at||st||D)){if(!this.FW||this.FW.bufferSize<g.Rc||pt){var Gt=void 0!==g.Al?g.Al:g.Rc,jt=void 0,Wt=0,Xt=0;if(pt){var Ht=Mb(x,S,x[0],S[0],0,0);jt=this.dP.pV(2*Gt,Ht[0],null===(u=this.FW)||void 0===u?void 0:u.bufferLengthSoFar,Float32Array),Wt=Ht[1],Xt=Ht[2]}this.FW={bufferX:this.dP.pV(Gt*(this.vt.wi()?2:1),Oe(x,this.vt.wi()),null===(l=this.FW)||void 0===l?void 0:l.bufferX),bufferY:this.dP.pV(Gt*(this.vt.wi()?2:1),Oe(S,this.vt.wi()),null===(h=this.FW)||void 0===h?void 0:h.bufferY),bufferColors:w?this.dP.pV(Gt,w,null===(c=this.FW)||void 0===c?void 0:c.bufferColors,Uint32Array):void 0,bufferLookupValues:M?this.dP.pV(Gt,M,null===(f=this.FW)||void 0===f?void 0:f.bufferLookupValues,Float32Array):void 0,bufferSizes:C?this.dP.pV(Gt,C,null===(p=this.FW)||void 0===p?void 0:p.bufferSizes,Float32Array):void 0,bufferRotations:P?this.dP.pV(Gt,P,null===(d=this.FW)||void 0===d?void 0:d.bufferRotations,Float32Array):void 0,bufferLengthSoFar:jt,lengthSoFarX:Wt,lengthSoFarY:Xt,bufferSize:Gt,valueCount:g.Rc}}else{var Zt=this.FW.bufferX,Qt=this.FW.bufferY;ut.forEach((function(t){var e,i,n,r,o=x.subarray(t.min,t.max+1),s=S.subarray(t.min,t.max+1);if(v.dP.gV(Zt,t.min*(v.vt.wi()?2:1),Oe(o,v.vt.wi())),v.dP.gV(Qt,t.min*(v.vt.wi()?2:1),Oe(s,v.vt.wi())),w&&(null===(e=v.FW)||void 0===e?void 0:e.bufferColors)){var a=w.subarray(t.min,t.max+1);v.dP.gV(v.FW.bufferColors,t.min,a,Uint32Array)}if(M&&(null===(i=v.FW)||void 0===i?void 0:i.bufferLookupValues)){var u=M.subarray(t.min,t.max+1);v.dP.gV(v.FW.bufferLookupValues,t.min,u,Float32Array)}if(P&&(null===(n=v.FW)||void 0===n?void 0:n.bufferRotations)){var l=P.subarray(t.min,t.max+1);v.dP.gV(v.FW.bufferRotations,t.min,l,Float32Array)}C&&(null===(r=v.FW)||void 0===r?void 0:r.bufferSizes)&&(l=C.subarray(t.min,t.max+1),v.dP.gV(v.FW.bufferSizes,t.min,l,Float32Array))})),this.FW.valueCount=g.Rc}this.DW=this.FW}if(D||rt||et||yt){if(N&&I&&!1!==O){var qt=-1===O?"primitive":"triangulated",Kt=V?["lookup",V.lookUpProperty,V.lut]:R?"attribute":z?["gradient",z]:L?["gradient",L]:"uniform";this.nG="primitive"===qt?{type:qt,shader:this.dP.UL(zx["2D"],zx.Color({dataType:Kt}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0}),_&&zx.StippleTexture),lineStyleSolid:F,lineStyleDashed:_,fillStyleSolid:B,fillStyleLinearGradient:z,fillStyleRadialGradient:L,fillStyleIndividual:R,fillStylePaletted:V,mousePickingShader:dt&&this.dP.UL(zx["2D"],zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0}),_&&zx.StippleTexture,zx.MousePicking({useVertexId:!0}))}:"triangulated"===qt?{type:qt,shader:this.dP.UL(zx["2D"],zx.Color({dataType:Kt}),zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0}),this.tG?zx.AliasedEdge:void 0,_&&zx.StippleTextureInstanced),geometry:sA(this.dP,O),thickness:O,lineStyleSolid:F,lineStyleDashed:_,fillStyleSolid:B,fillStyleLinearGradient:z,fillStyleRadialGradient:L,fillStyleIndividual:R,fillStylePaletted:V,mousePickingShader:dt&&this.dP.UL(zx["2D"],zx.LineInstanced2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0}),_&&zx.StippleTextureInstanced,zx.MousePicking())}:{type:"none"}}else this.nG={type:"none"};if(this.EW=X?{shader:this.dP.UL(zx["2D"],W&&zx.Color({dataType:["lookup",W.lookUpProperty,W.lut]}),j&&zx.Color({dataType:"attribute"}),U&&zx.Color({dataType:"uniform"}),Y&&zx.Color({dataType:["gradient",Y]}),G&&zx.Color({dataType:["gradient",G]}),zx.Area2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0})),geometry:(A=this.dP,b=A.uV.sz.get(void 0),b||(b=new fb(A),A.uV.sz.set(void 0,b),b)),fillStyleSolid:U,fillStyleLinearGradient:Y,fillStyleRadialGradient:G,fillStyleIndividual:j,fillStylePaletted:W,mousePickingShader:dt&&this.dP.UL(zx["2D"],zx.Area2D({axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0}),zx.MousePicking())}:void 0,$){var Jt=!(!J&&!it),$t=nt>1||Jt,te=C?"attribute":"uniform",ee=!$t&&zx.PointSize("uniform"),ne=zx.VertexLocation({offset:$t&&!Jt?{dataType:te,sizeUnit:"px",symmetric:!0,rotation:{dataType:P?"attribute-deg":"uniform"},useAlignment:!0}:$t&&Jt?{dataType:te,sizeUnit:"scale",rotation:{dataType:P?"attribute-deg":"uniform"},useAlignment:!0}:void 0,axisWorldTranslation:Zm(this.vt),normalSource:void 0,splitPosAttribute:!0});this.kW={shader:this.dP.UL(zx["2D"],ee,ne,H&&zx.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!it}),Z&&zx.Color({dataType:["gradient",Z],overrideOpacity:!0,maskTexture:!!it}),Q&&zx.Color({dataType:["gradient",Q],overrideOpacity:!0,maskTexture:!!it}),q&&zx.Color({dataType:["lookup",q.getLookUpProperty(),q.getPalette()],overrideOpacity:!0,maskTexture:!!it}),K&&zx.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!it}),J&&zx.Color({dataType:["image",J],overrideOpacity:!0,maskTexture:!!it})),geometry:DA(tt,this.dP,"uniform"===te?nt:25),fillStyleSolid:H,fillStyleLinearGradient:Z,fillStyleRadialGradient:Q,fillStylePaletted:q,fillStyleIndividual:K,fillStyleImage:J,mousePickingShader:dt&&this.dP.UL(zx["2D"],ee,ne,zx.MousePicking({useVertexId:!$t})),shapeIcon:it,pointSizeAsScale:Jt,instancedRendering:$t}}else this.kW=void 0}if((void 0===this._W||st)&&M&&(Km(V)||Km(W)||Km(q))){var re=this._W?ut:[g.pl()],oe=this._W?this._W.max:bi,se=this._W?this._W.min:Ai,ae=M;re.forEach((function(t){for(var e=t.min;e<=t.max;e+=1){var i=ae[e];se=i<se?i:se,oe=i>oe?i:oe}})),this._W={min:se,max:oe}}this.NU=this.dP.bN(this,this.NU,J,it,rt,this.RU),this.eG=_?this.dP.vN(_.getPattern()):void 0,this.yf(this.lf),this.mW=this.aW,this.pW=this.fW,this.cW.o=!1,this.lW.o=!1,this.wW.length=0,this.ta=!1,this.dW.o=!1,this.Vl.o=!1,this.Bu.o=!1}},e.prototype.En=function(){this.TW();var t=this.qN.strokeFillLinearGradient(!1),e=this.qN.strokeFillRadialGradient(!1),i=this.qN.areaFillLinearGradient(!1),n=this.qN.areaFillRadialGradient(!1),r=this.qN.markerFillLinearGradient(!1),o=this.qN.markerFillRadialGradient(!1);this.UP.$z(this.vt);var s=Jo({min:{x:this.At(),y:this.vt.y.getInnerStart()},max:{x:this.yt(),y:this.St()}},{x:this.xa(),y:this.wa()},this.vt),a=Jo({min:{x:this.At(),y:this.bt()},max:{x:this.yt(),y:this.St()}},{x:this.xa(),y:this.wa()},this.vt);return this.PW=this.dP.wN(t,this,a),this.LW=this.dP.MN(e,this,a),this.zW=this.dP.wN(i,this,s),this.VW=this.dP.MN(n,this,s),this.NW=this.dP.wN(r,this,a),this.RW=this.dP.MN(o,this,a),this},e.prototype.AE=function(t,e){var i,n,r,o,s,a,u,l,h,c,f,p,d,y,v,g,m,x,S,A=this,b=this.dP.gl,M=null===(i=this.FW)||void 0===i?void 0:i.bufferX,w=null===(n=this.FW)||void 0===n?void 0:n.bufferY,C=null===(r=this.FW)||void 0===r?void 0:r.bufferColors,P=null===(o=this.FW)||void 0===o?void 0:o.bufferLookupValues,E=null===(s=this.FW)||void 0===s?void 0:s.valueCount,T=null===(a=this.DW)||void 0===a?void 0:a.valueCount,k=null===(u=this.Vl.C())||void 0===u?void 0:u.Nt,D=null==k?void 0:k.bl(),F=Math.max((null===(l=this.FW)||void 0===l?void 0:l.valueCount)||0,(null===(h=this.DW)||void 0===h?void 0:h.valueCount)||0);if(!M||!w||!k)return{};var _=function(e,i,n){if(wb(A.dP,e,A.vt.wi(),M,"aLocation","X",1,!1,b.FLOAT,Float32Array.BYTES_PER_ELEMENT),wb(A.dP,e,A.vt.wi(),w,"aLocation","Y",1,!1,b.FLOAT,Float32Array.BYTES_PER_ELEMENT),i&&1!==t){if(!C)return!1;wb(A.dP,e,!1,C,"aColor","",4,!0,b.UNSIGNED_BYTE,1)}if(n&&"value"===n.lookUpProperty&&1!==t){if(!P)return!1;wb(A.dP,e,!1,P,"aLookupValue","",1,!1,b.FLOAT,Float32Array.BYTES_PER_ELEMENT)}return!0},I=1===t?null===(c=this.EW)||void 0===c?void 0:c.mousePickingShader:null===(f=this.EW)||void 0===f?void 0:f.shader;if(this.EW&&I&&void 0!==E&&E>0&&D&&2!==t){var O=this.EW;this.dP.TP(I).Wz(I,(function(i,n,r,o){return!!A.dP.gN(r,t,A,{uniforms:A.UP,idFirst:e,useInstanceID:1===t?F:void 0,fillStyleSolid:O.fillStyleSolid,fillStyleLinearGradient:O.fillStyleLinearGradient,fillStyleRadialGradient:O.fillStyleRadialGradient,fillStylePaletted:O.fillStylePaletted,linearGradientInfo:A.zW,radialGradientInfo:A.VW,lookupValueRange:O.fillStylePaletted?qm(O.fillStylePaletted,A,A._W):void 0,lookupValueBuffer:null})&&!!_(r,O.fillStyleIndividual,O.fillStylePaletted)&&(null==O||O.geometry.TP(r).Mb(E-1),!0)}))}var B="none"===this.nG.type?void 0:1===t?this.nG.mousePickingShader:this.nG.shader;if("none"!==this.nG.type&&B&&void 0!==E&&E>0){var z=this.nG;this.dP.TP(B).Wz(B,(function(i,n,r,o){var s,a;if(!A.dP.gN(r,t,A,{uniforms:A.UP,idFirst:e,useInstanceID:1===t&&"triangulated"===z.type?F:void 0,useVertexID:1===t&&"primitive"===z.type?F:void 0,fillStyleSolid:z.fillStyleSolid,fillStylePaletted:z.fillStylePaletted,fillStyleLinearGradient:z.fillStyleLinearGradient,fillStyleRadialGradient:z.fillStyleRadialGradient,fillStyleIndividual:z.fillStyleIndividual,linearGradientInfo:A.PW,radialGradientInfo:A.LW,lookupValueRange:z.fillStylePaletted?qm(z.fillStylePaletted,A,A._W):void 0,lookupValueBuffer:"primitive"===z.type?P:null,colorBuffer:"primitive"===z.type?C:null,coordsX:"primitive"===z.type?M:void 0,coordsY:"primitive"===z.type?w:void 0,coordsHighPrecision:A.vt.wi()}))return!1;if(z.lineStyleDashed){if(!A.eG)return!1;A.dP.Xz(i("uStippleCount"),[A.fn.oi().x/A.eG.yN,A.fn.oi().y/A.eG.yN]).Qz(o("uStippleTextureWidthLimiter"),A.eG.AN/A.eG.yN).Qz(i("uStippleScale"),z.lineStyleDashed.getPatternScale()).Zz(i("uStippleTexture"),A.eG.dN,1)}if("primitive"===z.type){if(z.lineStyleDashed){if(!(null===(s=A.FW)||void 0===s?void 0:s.bufferLengthSoFar))return!1;A.dP.MV(n("aLengthSoFar"),A.FW.bufferLengthSoFar)}uA.qR(A.UN,E)}else{if(!_(r,z.fillStyleIndividual,z.fillStylePaletted))return!1;if(z.lineStyleDashed){if(!(null===(a=A.FW)||void 0===a?void 0:a.bufferLengthSoFar))return!1;wb(A.dP,r,!1,A.FW.bufferLengthSoFar,"aLengthSoFar","",2,!1,b.FLOAT,Float32Array.BYTES_PER_ELEMENT)}aA.AE(A.UN,z.geometry,r,A.tG&&1!==t,1===t,z.thickness,E-1)}return!0}))}var L=null===(p=this.DW)||void 0===p?void 0:p.bufferX,R=null===(d=this.DW)||void 0===d?void 0:d.bufferY,V=null===(y=this.DW)||void 0===y?void 0:y.bufferColors,N=null===(v=this.DW)||void 0===v?void 0:v.bufferLookupValues,U=null===(g=this.DW)||void 0===g?void 0:g.bufferSizes,Y=null===(m=this.DW)||void 0===m?void 0:m.bufferRotations,G=1===t?null===(x=this.kW)||void 0===x?void 0:x.mousePickingShader:null===(S=this.kW)||void 0===S?void 0:S.shader,j=this.kW,W=1;if(D&&(I||B)){var X=this.Vl?Math.abs((this.yt()-this.At())/k.getSampleCount()):0,H=this.vt.x.getInnerInterval()/X,Z=this.lW.C(),Q=this.vt.x.ri()/Z/1,q=2*Q;W=H<=Q?1:Math.max(1-(H-Q)/(q-Q),0)}if(G&&j&&L&&R&&W>0&&void 0!==T&&T>0){var K=j,J=K.instancedRendering?1:0;this.dP.TP(G).Wz(G,(function(i,n,r,o){if(!A.dP.gN(r,t,A,{uniforms:A.UP,idFirst:e,useInstanceID:K.instancedRendering&&1===t?F:void 0,useVertexID:K.instancedRendering||1!==t?void 0:F,fillStyleSolid:K.fillStyleSolid,fillStyleLinearGradient:K.fillStyleLinearGradient,fillStyleRadialGradient:K.fillStyleRadialGradient,linearGradientInfo:A.NW,radialGradientInfo:A.RW,fillStylePaletted:K.fillStylePaletted,fillStyleIndividual:K.fillStyleIndividual,lookupValueRange:K.fillStylePaletted?qm(K.fillStylePaletted,A,A._W):void 0,lookupValueBuffer:N,lookupValueAttribDivisor:J,colorBuffer:V,colorAttribDivisor:J,fillStyleImage:K.fillStyleImage,texturedFillGLInfo:A.NU,texCoordAttribDivisor:0,maskTexture:K.shapeIcon&&A.NU,maskTextureCoordsAttribDivisor:0}))return!1;if(A.vt.wi()?A.dP.Yz(L,J,{location:n("aPos_highpartX"),size:1},{location:n("aPos_lowpartX"),size:1}).Yz(R,J,{location:n("aPos_highpartY"),size:1},{location:n("aPos_lowpartY"),size:1}):A.dP.OV(n("aPosX"),L,J).OV(n("aPosY"),R,J),1!==t&&A.dP.Qz(i("uOpacity"),W),K.instancedRendering)if(Y)A.dP.OV(n("aRotDeg"),Y,J).Qz(i("uBaseRotDeg"),K.geometry.vU);else{var s=en(A.vW.C()+K.geometry.vU),a=Math.sin(s),u=Math.cos(s);A.dP.Xz(i("uRot"),[a,u])}return A.dP.Xz(o("uOffsetAlignment"),[-A.AW.x/2,-A.AW.y/2]),K.geometry.Mb(r,U,T,K.pointSizeAsScale&&A.NU?{scale:A.lW.C(),width:K.shapeIcon?K.shapeIcon.oi().x:A.NU.texture.lz,height:K.shapeIcon?K.shapeIcon.oi().y:A.NU.texture.vz}:A.lW.C(),K.instancedRendering),!0}))}return{idCount:F}},e.prototype.QN=function(t,e,i,n,r){var o,s=null===(o=this.Vl.C())||void 0===o?void 0:o.Nt;if(null==s?void 0:s.bl())return{};var a=t-e;return{info:{dataPoint:null==s?void 0:s.wl(a)}}},e.prototype.dispose=function(){var e,i,n,r,o,s,a,u,l,h,c,f,p;return t.prototype.dispose.call(this),this.dP.tV(null===(e=this.FW)||void 0===e?void 0:e.bufferX),this.dP.tV(null===(i=this.FW)||void 0===i?void 0:i.bufferY),this.dP.tV(null===(n=this.FW)||void 0===n?void 0:n.bufferColors),this.dP.tV(null===(r=this.FW)||void 0===r?void 0:r.bufferLookupValues),this.dP.tV(null===(o=this.FW)||void 0===o?void 0:o.bufferRotations),this.dP.tV(null===(s=this.FW)||void 0===s?void 0:s.bufferSizes),this.dP.tV(null===(a=this.DW)||void 0===a?void 0:a.bufferX),this.dP.tV(null===(u=this.DW)||void 0===u?void 0:u.bufferY),this.dP.tV(null===(l=this.DW)||void 0===l?void 0:l.bufferColors),this.dP.tV(null===(h=this.DW)||void 0===h?void 0:h.bufferLookupValues),this.dP.tV(null===(c=this.DW)||void 0===c?void 0:c.bufferRotations),this.dP.tV(null===(f=this.DW)||void 0===f?void 0:f.bufferSizes),this.nG={type:"none"},this.EW=void 0,this.kW=void 0,this.iU.jG(),null===(p=this.Vl.C())||void 0===p||p.Vt(),this.FW=void 0,this.DW=void 0,this.PW=void 0,this.LW=void 0,this.zW=void 0,this.VW=void 0,this.NW=void 0,this.RW=void 0,this.dP.pN(this,this.NU),this},e.prototype.mP=function(){return this.dispose(),this},e.prototype.GW=function(t){var e,i;if(!this.OW){var n=t.readBack(),r=n.xValues,o=n.yValues;this.OW={min:{x:Ai,y:Ai},max:{x:bi,y:bi}};for(var s=r.length,a=0;a<s;a+=1){var u=r[a],l=o[a];this.OW.min.x=u<this.OW.min.x?u:this.OW.min.x,this.OW.min.y=l<this.OW.min.y?l:this.OW.min.y,this.OW.max.x=u>this.OW.max.x?u:this.OW.max.x,this.OW.max.y=l>this.OW.max.y?l:this.OW.max.y}return this.MW.length=0,this.OW}var h=t.rl,c=t.el;if(this.MW.length>0&&h&&c){try{for(var f=Sb(this.MW),p=f.next();!p.done;p=f.next()){var d=p.value;for(a=d.min;a<=d.max;a+=1)u=h[a],l=c[a],this.OW.min.x=u<this.OW.min.x?u:this.OW.min.x,this.OW.min.y=l<this.OW.min.y?l:this.OW.min.y,this.OW.max.x=u>this.OW.max.x?u:this.OW.max.x,this.OW.max.y=l>this.OW.max.y?l:this.OW.max.y;this.MW.length=0}}catch(t){e={error:t}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(e)throw e.error}}return this.OW}return this.OW},e.prototype.yt=function(){var t,e,i,n,r,o=null===(t=this.Vl.C())||void 0===t?void 0:t.Nt;if(!o)return 0;var s=o.bl();return"ProgressiveX"===s?(null===(e=o.nl())||void 0===e?void 0:e.x)||0:"RegressiveX"===s?(null===(i=o.xl())||void 0===i?void 0:i.x)||0:"ProgressiveY"===s?(null===(n=this.IW)||void 0===n?void 0:n.max)||0:"RegressiveY"===s?(null===(r=this.IW)||void 0===r?void 0:r.max)||0:this.GW(o).max.x},e.prototype.At=function(){var t,e,i,n,r,o=null===(t=this.Vl.C())||void 0===t?void 0:t.Nt;if(!o)return 0;var s=o.bl();return"ProgressiveX"===s?(null===(e=o.xl())||void 0===e?void 0:e.x)||0:"RegressiveX"===s?(null===(i=o.nl())||void 0===i?void 0:i.x)||0:"ProgressiveY"===s?(null===(n=this.IW)||void 0===n?void 0:n.min)||0:"RegressiveY"===s?(null===(r=this.IW)||void 0===r?void 0:r.min)||0:this.GW(o).min.x},e.prototype.St=function(){var t,e,i,n,r,o=null===(t=this.Vl.C())||void 0===t?void 0:t.Nt;if(!o)return 0;var s=o.bl();return"ProgressiveX"===s?ye(null===(e=this.IW)||void 0===e?void 0:e.max,0):"RegressiveX"===s?ye(null===(i=this.IW)||void 0===i?void 0:i.max,0):"ProgressiveY"===s?ye(null===(n=o.nl())||void 0===n?void 0:n.y,0):"RegressiveY"===s?ye(null===(r=o.xl())||void 0===r?void 0:r.y,0):this.GW(o).max.y},e.prototype.bt=function(){var t,e,i,n,r,o=null===(t=this.Vl.C())||void 0===t?void 0:t.Nt;if(!o)return 0;var s=o.bl();return"ProgressiveX"===s?ye(null===(e=this.IW)||void 0===e?void 0:e.min,0):"RegressiveX"===s?ye(null===(i=this.IW)||void 0===i?void 0:i.min,0):"ProgressiveY"===s?ye(null===(n=o.xl())||void 0===n?void 0:n.y,0):"RegressiveY"===s?ye(null===(r=o.nl())||void 0===r?void 0:r.y,0):this.GW(o).min.y},e.prototype.xa=function(){var t,e,i=this.lW.C();this.NU&&(i=Math.max(this.NU.texture.lz,this.NU.texture.vz)*this.lW.C());var n=Math.max(ui(this.lf),(null===(t=this.Vl.C())||void 0===t?void 0:t.Nt.Jc)?25:i),r=null===(e=this.Vl.C())||void 0===e?void 0:e.Nt.bl();return!r||"ProgressiveX"!==r&&"RegressiveX"!==r?n:0},e.prototype.wa=function(){var t,e,i=this.lW.C();this.NU&&(i=Math.max(this.NU.texture.lz,this.NU.texture.vz)*this.lW.C());var n=Math.max(ui(this.lf),(null===(t=this.Vl.C())||void 0===t?void 0:t.Nt.Jc)?25:i),r=null===(e=this.Vl.C())||void 0===e?void 0:e.Nt.bl();return!r||"ProgressiveY"!==r&&"RegressiveY"!==r?n:0},e}(db),bb=function(t,e,i,n,r,o,s,a,u,l,h,c,f){if("ProgressiveX"!==l)throw new Error("Unimplemented data pattern");var p=e[0],d=e[1],y=p.length,v=p[0],g=p[y-1],m=d[0],x=d[y-1],S=c?2:1;if(a&&u&&a.firstX&&a.lastX&&v>=a.firstX){var A=Ta(a.lastX,0,y-1,(function(t){return p[t]}));if(p[A]===a.lastX){var b=a.bufferSize-a.valueCount,M=A+1,w=y-M;if(0===w)return a;if(b>=w){var C=Fa(p,M,void 0),P=Fa(d,M,void 0);if(t.gV(a.bufferX,a.valueCount*S,f(C)),t.gV(a.bufferY,a.valueCount*S,f(P)),i&&a.bufferColors){var E=i.slice(M);t.gV(a.bufferColors,a.valueCount,E,Uint32Array)}if(n&&a.bufferLookupValues){var T=n.slice(M);t.gV(a.bufferLookupValues,a.valueCount,T,Float32Array)}if(r&&a.bufferSizes){var k=r.slice(M);t.gV(a.bufferSizes,a.valueCount,k,Float32Array)}if(o&&a.bufferRotations&&(k=o.slice(M),t.gV(a.bufferRotations,a.valueCount,k,Float32Array)),s&&a.bufferLengthSoFar){var D=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(Mb(C,P,a.lastX||0,a.lastY||0,a.lengthSoFarX,a.lengthSoFarY),3),F=(k=D[0],D[1]),_=D[2];t.gV(a.bufferLengthSoFar,2*a.valueCount,k,Float32Array),a.lengthSoFarX=F,a.lengthSoFarY=_}return a.valueCount+=w,a.lastX=g,a.lastY=x,a}}}var I,O=y+h,B=t.pV(O*S,f(p),null==a?void 0:a.bufferX),z=t.pV(O*S,f(d),null==a?void 0:a.bufferY),L=i?t.pV(O,i,null==a?void 0:a.bufferColors,Uint32Array):void 0,R=n?t.pV(O,n,null==a?void 0:a.bufferLookupValues,Float32Array):void 0,V=r?t.pV(O,r,null==a?void 0:a.bufferSizes,Float32Array):void 0,N=o?t.pV(O,o,null==a?void 0:a.bufferRotations,Float32Array):void 0,U=0,Y=0;if(s){var G=Mb(p,d,p[0],d[0],0,0);I=t.pV(2*O,G[0],null==a?void 0:a.bufferLengthSoFar,Float32Array),U=G[1],Y=G[2]}return{bufferX:B,bufferY:z,bufferColors:L,bufferLookupValues:R,bufferSizes:V,bufferRotations:N,bufferSize:O,bufferLengthSoFar:I,valueCount:y,firstX:v,lastX:g,firstY:m,lastY:x,lengthSoFarX:U,lengthSoFarY:Y}},Mb=function(t,e,i,n,r,o){var s=t.length,a=new Float32Array(2*s);if(0===s)return[a,0,0];for(var u=0,l=i,h=n,c=r,f=o,p=0;p<s;p+=1){var d=t[p],y=e[p];c+=Math.abs(l-d),f+=Math.abs(h-y),a[u]=c,a[u+1]=f,u+=2,l=d,h=y}return[a,c,f]},wb=function(t,e,i,n,r,o,s,a,u,l){var h=t.gl;if(i){var c=e.attribute("".concat(r,"A_highpart").concat(o)),f=e.attribute("".concat(r,"A_lowpart").concat(o)),p=e.attribute("".concat(r,"B_highpart").concat(o)),d=e.attribute("".concat(r,"B_lowpart").concat(o));h.bindBuffer(h.ARRAY_BUFFER,n),h.vertexAttribPointer(c,s,u,a,2*s*l,0*l),h.vertexAttribPointer(f,s,u,a,2*s*l,s*l),t._V(c,1),t._V(f,1),h.enableVertexAttribArray(c),h.enableVertexAttribArray(f),h.vertexAttribPointer(p,s,u,a,2*s*l,2*s*l),h.vertexAttribPointer(d,s,u,a,2*s*l,3*s*l),t._V(p,1),t._V(d,1),h.enableVertexAttribArray(p),h.enableVertexAttribArray(d),h.bindBuffer(h.ARRAY_BUFFER,null)}else{var y=e.attribute("".concat(r,"A").concat(o)),v=e.attribute("".concat(r,"B").concat(o));h.bindBuffer(h.ARRAY_BUFFER,n),h.vertexAttribPointer(y,s,u,a,s*l,0*l),h.vertexAttribPointer(v,s,u,a,s*l,s*l),t._V(y,1),t._V(v,1),h.enableVertexAttribArray(y),h.enableVertexAttribArray(v),h.bindBuffer(h.ARRAY_BUFFER,null)}},Cb={translation:function(t,e){return[1,0,0,0,1,0,t,e,1]},rotation:function(t){var e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},scaling:function(t,e){return[t,0,0,0,e,0,0,0,1]},translate:function(t,e,i){return Cb.multiply(t,Cb.translation(e,i))},rotate:function(t,e){return Cb.multiply(t,Cb.rotation(e))},scale:function(t,e,i){return Cb.multiply(t,Cb.scaling(e,i))},multiply:function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],h=t[8],c=e[0],f=e[1],p=e[2],d=e[3],y=e[4],v=e[5],g=e[6],m=e[7],x=e[8];return[c*i+f*o+p*u,c*n+f*s+p*l,c*r+f*a+p*h,d*i+y*o+v*u,d*n+y*s+v*l,d*r+y*a+v*h,g*i+m*o+x*u,g*n+m*s+x*l,g*r+m*a+x*h]},projection:function(t,e,i){return[2/t,0,0,0,-2*i/e,0,-1,1*i,1]}},Pb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Eb=function(t){function e(e,i,n,r,o){var s=t.call(this,e,i,n,r,o)||this;return s.UW=[],s.UP=new OS,s.WW=[y(0,0),y(0,0),y(0,0),y(0,0)],s.YW=S(y(0,0),y(0,0)),s.XW=S(y(0,0),y(0,0)),s.HW=y(0,0),s.ZW=y(0,0),s.Vk=y(0,0),s.QW=y(0,0),s.KW=0,s.JW=0,s.qN=Qm({fillStyleSolid:function(){return it(s.Or)&&s.Or},fillStyleRadialGradient:function(){return pt(s.Or)&&s.Or},fillStyleLinearGradient:function(){return yt(s.Or)&&s.Or}}),s.UN=e,s.WN=i,s.dP=e.YN(),s.WN=i,s.fG=e.Ws.Qs,s}return Pb(e,t),e.prototype.En=function(){var t,e=this.sh(),i=this.oh(),n=this.Bu.C();if(e){var r=this.rh(),o=this.qN.fillStyleSolid(r),s=this.qN.fillStyleRadialGradient(r),a=this.qN.fillStyleLinearGradient(r),u=o||s||a,l=this.dP,h=this.dP.kz(),c=h!==this.JW;if(this.JW=h,this.UP.$z(this.vt),this.gh.o||c){this.qW&&this.qW.kP(this),this.font.M(Ao(this.gh.C(),h));var f=this.font.C();this.qW=this.dP.Xe(f.properties.family),this.qW.TP(this)}var p=this.font.o,d=p||this.dh.o;d&&this.qW&&(f=this.font.C(),t=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(this.qW.FP(this.dh.C(),f,this.UN.$i.isDark),2),this.$W=t[0],this.XW=t[1],this.UW.forEach((function(t){t.texCoordBuff&&l.tV(t.texCoordBuff),t.vertexBuff&&l.tV(t.vertexBuff)})),this.UW=this.$W.map((function(t){return{texCoordBuff:l.Gz(t.texCoords,!1),texture:t.texture,info:t}})),this.gh.o=!1,this.font.o=!1,this.dh.o=!1);var v=this.vt.Vi()||i,g=this.Ah.o||this.mh.o||this.yh.o||this.bh.o||this.xh.o||this.Yt.o||d||v,m=this.xh.C(),x=Xi(y(this.mh.C()+1,this.yh.C()+1),.5);if(g&&this.$W&&(this.HW=y(-(m.left*h+this.XW.max.x-this.XW.min.x+m.right*h)*x.x-this.XW.min.x+m.right*h,-(m.bottom*h+this.XW.max.y-this.XW.min.y+m.top*h)*x.y-this.XW.min.y+m.top*h)),(g||v||this.ph.o||this.rh())&&this.Or!==J){if(this.$W){var S=Hi(this.Ah.C(),this.bh.C()),A=Pt(S,this.vt,this.fn.vt),b=Xi(A,h);this.QW=b;var M=en(this.ph.C());this.KW=M,d&&this.UW.forEach((function(t){var e=t.info;e&&(t.vertexBuffLen=e.vertices.length/2,t.vertexBuff=l.Gz(e.vertices,!0,t.vertexBuff))}));var w=this.Yt.C(),C=[Hi(Ui(y((this.XW.min.x+(-w.left-m.left)*h+this.HW.x)/h,(this.XW.max.y+(w.top+m.top)*h+this.HW.y)/h),this.Sh,M),A),Hi(Ui(y((this.XW.max.x+(w.right+m.right)*h+this.HW.x)/h,(this.XW.max.y+(w.top+m.top)*h+this.HW.y)/h),this.Sh,M),A),Hi(Ui(y((this.XW.max.x+(w.right+m.right)*h+this.HW.x)/h,(this.XW.min.y+(-w.bottom-m.bottom)*h+this.HW.y)/h),this.Sh,M),A),Hi(Ui(y((this.XW.min.x+(-w.left-m.left)*h+this.HW.x)/h,(this.XW.min.y+(-w.bottom-m.bottom)*h+this.HW.y)/h),this.Sh,M),A)];this.WW=[Pt(C[0],this.fn.vt,this.vt),Pt(C[1],this.fn.vt,this.vt),Pt(C[2],this.fn.vt,this.vt),Pt(C[3],this.fn.vt,this.vt)];var P=Li(C);this.ZW=y(-(P.max.x-P.min.x)*h*x.x-P.min.x*h+this.QW.x,-(P.max.y-P.min.y)*h*x.y-P.min.y*h+this.QW.y),this.vy=Zi(P.max,P.min);var E=Li(this.WW),T=this.vt.Ai(E.min,this.ZW),k=this.vt.Ai(E.max,this.ZW);this.YW=Li([T,k])}s?this.oR=SS(this.YW,this.vt,s.getPosition(),s.getExtent(),s.getShape(),this.dP.kz()):a?this.sR=AS(this.YW,this.vt,a.getAngle(!0),this.dP.kz()):(this.oR=void 0,this.sR=void 0)}(this.rh()||p)&&(this.XP=u?this.dP.UL(zx["2D"],zx.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.fG}),zx.Color({dataType:s?["gradient",s]:a?["gradient",a]:"uniform",maskTextureText:!0})):void 0),this.tY=n&&u?this.tY||this.dP.UL(zx["2D"],zx.MousePicking(),zx.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.fG})):void 0,this.Ah.o=!1,this.mh.o=!1,this.yh.o=!1,this.bh.o=!1,this.ph.o=!1,this.uh(this.Or)}return this.wh=e,this},e.prototype.AE=function(t,e){var i=this;if(this.sh()){var n=1===t?this.tY:this.XP;if(!n||0===this.UW.length)return{};var r=this.qN.fillStyleSolid(!1),o=this.qN.fillStyleRadialGradient(!1),s=this.qN.fillStyleLinearGradient(!1),a=this.fn.SL(),u=a.x,l=a.y,h=Cb.projection(u,l,-1),c=Cb.translation(this.HW.x,this.HW.y),f=Cb.translation(this.ZW.x,this.ZW.y);h=Cb.translate(h,this.QW.x,this.QW.y),h=Cb.multiply(h,f),h=Cb.rotate(h,this.KW),h=Cb.multiply(h,c),1===t&&(h=Cb.scale(h,this.XW.max.x,this.XW.max.y)),this.dP.TP(n).Wz(n,(function(n,u,l,c){if(i.dP.dV(n("uMatrix"),h).Qz(n("uIsHighlighted"),1===t||2===t?0:i.zu).HE(n("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(n("uRenderEffectMask"),2===t?1:0),i.fG&&i.dP.Xz(c("uViewportSizePx"),[a.x*i.dP.kz(),a.y*i.dP.kz()]),1===t)i.dP.yV(n("uFirstId"),e).fN(l,1);else if(r)i.dP.HE(n("uColor"),r.getColor());else if(o&&i.oR){i.dP.Xz(n("uCenter"),i.oR.center).Xz(n("uDistance"),i.oR.distance).lV(n("uBounds"),i.oR.bounds).Qz(n("uAspect"),i.oR.aspectRatio);for(var f=o.getColorStops(),p=0;p<f.length;p+=1)i.dP.HE(n("color_".concat(p)),f[p].color).Qz(n("stop_".concat(p)),f[p].offset)}else if(s&&i.sR)for(i.dP.Xz(n("uStartPoint"),i.sR.startPoint).Xz(n("uEndPoint"),i.sR.endPoint).lV(n("uBounds"),i.sR.bounds),f=s.getColorStops(),p=0;p<f.length;p+=1)i.dP.HE(n("color_".concat(p)),f[p].color).Qz(n("stop_".concat(p)),f[p].offset);return 1===t&&i.dP.MV(u("aPos"),i.dP.HV).Mb(i.dP.gl.TRIANGLES,6),1!==t&&i.UW.forEach((function(t){i.dP.MV(u("aPos"),t.vertexBuff).MV(u("aMaskTextureCoord"),t.texCoordBuff).Zz(n("uMaskTexture"),t.texture,0).Mb(i.dP.gl.TRIANGLES,t.vertexBuffLen)})),!0}))}return{idCount:1}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.te=function(){return this.sh()?this.WW:[]},e.prototype.Tl=function(){return this.sh()&&this.vy?this.vy:y(0,0)},e.prototype.oi=function(){if(this.sh()&&this.YW){var t=this.YW;return y(t.max.x-t.min.x,t.max.y-t.min.y)}return y(0,0)},e.prototype.mP=function(){var t=this;return this.UW.forEach((function(e){e.texCoordBuff&&t.dP.tV(e.texCoordBuff),e.vertexBuff&&t.dP.tV(e.vertexBuff)})),this.UW=[],this.qW&&this.qW.kP(this),this},e.prototype.yt=function(){return this.YW.max.x},e.prototype.At=function(){return this.YW.min.x},e.prototype.St=function(){return this.YW.max.y},e.prototype.bt=function(){return this.YW.min.y},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e}(ss),Tb=function(){function t(t,e,i){var n=this;this.iY=new Set,this.nY=function(t){return n.iY.add(t),t},this.rY=function(t){return n.iY.delete(t),t.mP(),n},this.fn=t,this.Ju=e,this.eY=i}return t.prototype.dE=function(t){this.iY.delete(t)&&this.iY.add(t)},t.prototype.U=function(){var t,e;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.iY),n=i.next();!n.done;n=i.next())n.value.mP().dispose()}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.fn.Cs(this.Ju)},t.prototype.Sn=function(){return this.fn.Sn(),this},t.prototype.Ms=function(){return this.Ju},t}(),kb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Db=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.oY=b(void 0),e.qu=!1,e}return kb(e,t),e.prototype.OS=function(t){return this.oY.M(t),this},e.prototype.am=function(){return this.oY.C()},e}(Tb),Fb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ib=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.UN=e,r.gl=e.YN(),r.sY=r.iY,r}return Fb(e,t),e.prototype.Rz=function(t){var e=t instanceof Ko&&t;if(!e)return Mi;var i=e.At(),n=e.yt(),r=e.bt(),o=e.St();if(i===Ai||n===bi||r===Ai||o===bi)return Mi;var s,a=e.xa(),u=e.wa(),l=Jo({min:{x:i,y:r},max:{x:n,y:o}},{x:a,y:u},e.vt),h={min:Pt(l.min,e.vt,t.fn.vt),max:Pt(l.max,e.vt,t.fn.vt)},c=this.oY.C();if(c){if((s={min:{x:Math.max(h.min.x,c.x),y:Math.max(h.min.y,c.y)},max:{x:Math.min(h.max.x,c.x+c.width),y:Math.min(h.max.y,c.y+c.height)}}).max.x<s.min.x||s.max.y<s.min.y)return Mi}else s=h;return s},e.prototype.Wr=function(t){return this.nY(new hA(this.UN,this,t,this.rY,[]))},e.prototype.py=function(t){return this.nY(new fA(this.UN,this,t,this.rY,[]))},e.prototype.Ib=function(t,e,i){return this.nY(new CA(this.UN,this,t,this.rY,i,e))},e.prototype.Ul=function(t){return this.nY(new Ab(this.UN,this,t,this.rY))},e.prototype.zo=function(t){return this.nY(new Eb(this.UN,this,t,this.rY,[]))},e.prototype.ig=function(t){return this.nY(new _A(this.UN,this,t,this.rY,[]))},e.prototype.Bc=function(t,e){if(void 0===e&&(e=cs.Simple),e===cs.Simple)return this.nY(new GA(this.UN,this,t,this.rY,[]));throw new Error("GlEngine.addPolygon | No such polygon type!")},e.prototype.vp=function(t){return this.nY(new LA(this.UN,this,t,this.rY,[]))},e.prototype.Er=function(t){return this.nY(new NA(this.UN,this,t,this.rY,[]))},e.prototype.nC=function(t){return this.nY(new nA(this.UN,this,t,this.rY,[]))},e.prototype.Fl=function(t){return this.nY(new XS(this.UN,this,t,this.rY,[]))},e.prototype.jM=function(t,e,i){if("intensity"===i.heatmapDataType)return this.nY(new sb(this.UN,this,t,this.rY,e,i));throw new qt("Unimplemented Heatmap Grid Static type")},e.prototype.CM=function(t,e,i){return this.nY(new eb(this.UN,this,t,this.rY,e,i))},e.prototype.cw=function(t,e,i){return this.nY(new hb(this.UN,this,t,this.rY,e,i))},e.prototype.uY=function(t){return this.nY(new NS(this.UN,this,this.rY,[],t))},e.prototype.En=function(){var t,e,i,n;if(this.qu){this.qu=!1;var r=Array.from(this.iY).sort((function(t,e){return t.th()-e.th()}));this.iY.clear();try{for(var o=_b(r),s=o.next();!s.done;s=o.next()){var a=s.value;this.iY.add(a)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}try{for(var u=_b(this.iY),l=u.next();!l.done;l=u.next())(a=l.value).En()}catch(t){i={error:t}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(i)throw i.error}}return this},e.prototype.AE=function(t,e,i){var n,r,o,s,a=this.oY.C();if(a){var u=a.x*this.gl.kz()*e,l=a.y*this.gl.kz()*e;s=[f=Math.ceil(u),p=Math.ceil(l),d=Math.floor(u+a.width*this.gl.kz()*e)-f,y=Math.floor(l+a.height*this.gl.kz()*e)-p],this.gl.Nz(s[0],s[1],s[2],s[3])}if(1!==t)try{for(var h=_b(this.iY),c=h.next();!c.done;c=h.next())if((x=c.value).getVisible()){if(x.Ui){u=x.Ui.x*this.gl.kz()*e,l=x.Ui.y*this.gl.kz()*e;var f=Math.ceil(u),p=Math.ceil(l),d=Math.floor(u+x.Ui.width*this.gl.kz()*e)-f,y=Math.floor(l+x.Ui.height*this.gl.kz()*e)-p;this.gl.Nz(f,p,d,y)}x.AE(t,0),x.Ui&&s&&this.gl.Nz(s[0],s[1],s[2],s[3])}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}else for(var v=((null===(o=i[i.length-1])||void 0===o?void 0:o.idLast)||0)+1,g=Array.from(this.sY.values()),m=0;m<g.length;m+=1){var x;if((x=g[m]).getMouseInteractions()&&x.getVisible()){x.Ui&&(u=x.Ui.x*this.gl.kz()*e,l=x.Ui.y*this.gl.kz()*e,f=Math.ceil(u),p=Math.ceil(l),d=Math.floor(u+x.Ui.width*this.gl.kz()*e)-f,y=Math.floor(l+x.Ui.height*this.gl.kz()*e)-p,this.gl.Nz(f,p,d,y));var S=x.AE(t,v).idCount;x.Ui&&s&&this.gl.Nz(s[0],s[1],s[2],s[3]),void 0!==S&&(i.push({entity:x,layer:this,entityIndex:m,idFirst:v,idCount:S,idLast:v+S-1}),v+=S)}}return this.gl.Ez(!1),this},e}(Db),Ob=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Bb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zb=function(t){function e(e){return t.call(this,e)||this}return Ob(e,t),e}(bS),Lb=function(t){function e(e){var i=t.call(this,e)||this;i.hY="attribute";var n=Rb(e.gl),r=n.vertices,o=n.drawSize,s=n.drawMode;return i.eP=e.Gz(r),i.XR=o,i.HR=s,i}return Ob(e,t),e.prototype.Mb=function(t,e,i,n){return this.dP.Yz(this.eP,0,{location:t.attribute("aInstanceGeo"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:n?t.attribute("aTriangleBary"):void 0,size:3}).DV(this.HR,0,this.XR,e),this},e.prototype.fz=function(){this.dP.tV(this.eP)},e}(zb),Rb=function(t){var e=new Float32Array(324),i=0;return e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,e[(i+=9)+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,{vertices:e,drawSize:(i+=9)/9,drawMode:t.TRIANGLES}},Vb=function(t){function e(e,i){var n=t.call(this,e)||this;n.hY="attribute",n.aY=i;var r=Nb(),o=r.vertices,s=r.indices;return n.eP=e.Gz(o),n.YR=e.xV(s),n.XR=s.length,n.HR=e.gl.TRIANGLES,n}return Ob(e,t),e.prototype.Mb=function(t,e,i,n){return this.dP.Yz(this.eP,0,{location:t.attribute("aEdge"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).FV(this.YR).Qz(t.uniform("uEdgeRoundness"),this.aY/2).BV(this.HR,this.XR,0,e),this},e.prototype.fz=function(){this.dP.tV(this.eP),this.dP.tV(this.YR)},e.prototype.fY=function(t){return this.aY=t,this},e.prototype.cY=function(){return this.aY},e}(zb),Nb=function(){var t,e,i,n,r,o,s,a,u,l,h=[],c=0,f=[],p=0;try{for(var d=Bb([{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}]),y=d.next();!y.done;y=d.next()){var v=y.value,g=v.normal,m=v.perpendA,x=v.perpendB,S=xi.multiply(m,-1),A=xi.multiply(x,-1),b=c;h[c]={thicknessDirection:xi.addVec(g,m,x),edge:xi.addVec(S,A),normal:g};var M=c+=1;h[c]={thicknessDirection:xi.addVec(g,S,x),edge:xi.addVec(m,A),normal:g};var w=c+=1;h[c]={thicknessDirection:xi.addVec(g,S,A),edge:xi.addVec(m,x),normal:g};var C=c+=1;h[c]={thicknessDirection:xi.addVec(g,m,A),edge:xi.addVec(S,x),normal:g},c+=1,f[p+0]=w,f[p+1]=b,f[p+2]=C,f[p+3]=w,f[p+4]=M,f[p+5]=b,p+=6;var P=[{A:m,B:x},{A:S,B:x},{A:S,B:A},{A:m,B:A}];try{for(var E=(i=void 0,Bb(P)),T=E.next();!T.done;T=E.next()){var k=T.value;k.thicknessDirection=xi.addVec(g,k.A,k.B),k.stripVerticesA=[],k.stripVerticesB=[];var D=[{direction:k.A,other:k.B,vertices:k.stripVerticesA},{direction:k.B,other:k.A,vertices:k.stripVerticesB}];try{for(var F=(r=void 0,Bb(D)),_=F.next();!_.done;_=F.next())for(var I=_.value,O=0;O<8;O+=1){var B=.5*O/7,z=xi.normalize(xi.lerp(g,I.direction,B)),L=Math.PI/2-xi.angle(z,g),R=xi.addVec(xi.multiply(xi.multiply(I.direction,-1),1-Math.cos(L)),xi.multiply(xi.multiply(g,-1),1-Math.sin(L)),xi.multiply(I.other,-1)),V=c;h[c]={thicknessDirection:k.thicknessDirection,normal:z,edge:R};var N=h[c];c+=1,I.vertices.push({index:V,vertex:N})}}catch(t){r={error:t}}finally{try{_&&!_.done&&(o=F.return)&&o.call(F)}finally{if(r)throw r.error}}}}catch(t){i={error:t}}finally{try{T&&!T.done&&(n=E.return)&&n.call(E)}finally{if(i)throw i.error}}for(var U=0;U<P.length;U+=1)for(var Y=P[U],G=P[U<P.length-1?U+1:0],j=U%2==0?Y.stripVerticesB:Y.stripVerticesA,W=U%2==0?G.stripVerticesB:G.stripVerticesA,X=1;X<j.length;X+=1){var H=j[X-1],Z=W[X-1],Q=j[X],q=W[X];f[p+0]=H.index,f[p+1]=Z.index,f[p+2]=q.index,f[p+3]=Q.index,f[p+4]=H.index,f[p+5]=q.index,p+=6}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}var K=Math.PI/15,J=2*Math.PI/15,$=c;try{for(var tt=Bb([{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}]),et=tt.next();!et.done;et=tt.next()){var it=et.value,nt=0;h[c]={thicknessDirection:it,normal:{x:0,y:it.y,z:0},edge:{x:-it.x,y:0,z:-it.z}},c+=1,nt+=1;for(var rt=1;rt<8.5;rt+=1)for(var ot=15===rt?Math.PI:rt*K,st=1*Math.cos(ot)*it.y,at=Math.sin(ot),ut=0;ut<Math.ceil(3.75)+1;ut+=1){var lt=15===ut?0:ut*J,ht=at*Math.cos(lt)*1*it.x,ct=at*Math.sin(lt)*1*it.z,ft={x:ht,y:st,z:ct},pt=xi.normalize({x:ht,y:st,z:ct});h[c]={thicknessDirection:it,normal:pt,edge:{x:ft.x-it.x,y:ft.y-it.y,z:ft.z-it.z}},c+=1,nt+=1}for(var dt=[],yt=1;yt<=Math.ceil(3.75);yt+=1)dt.push($),15===yt?dt.push($+1):dt.push($+yt+1),dt.push($+yt);var vt=$+1,gt=Math.ceil(3.75)+1;for(yt=0;yt<6.5;yt+=1)for(var mt=0;mt<Math.ceil(3.75);mt+=1){var xt=0,St=vt+(yt+1)*gt+mt,At=0;14===mt?(xt=vt+yt*gt,At=vt+(yt+1)*gt):(xt=vt+yt*gt+mt+1,At=vt+(yt+1)*gt+mt+1),dt.push(vt+yt*gt+mt),dt.push(xt),dt.push(St),dt.push(St),dt.push(xt),dt.push(At)}f.push.apply(f,it.flipVertexOrder?dt.reverse():dt),$+=nt}}catch(t){s={error:t}}finally{try{et&&!et.done&&(a=tt.return)&&a.call(tt)}finally{if(s)throw s.error}}var bt=new Float32Array(9*h.length),Mt=0;try{for(var wt=Bb(h),Ct=wt.next();!Ct.done;Ct=wt.next())N=Ct.value,bt[Mt+0]=N.edge.x,bt[Mt+1]=N.edge.y,bt[Mt+2]=N.edge.z,bt[Mt+3]=N.normal.x,bt[Mt+4]=N.normal.y,bt[Mt+5]=N.normal.z,bt[Mt+6]=N.thicknessDirection.x,bt[Mt+7]=N.thicknessDirection.y,bt[Mt+8]=N.thicknessDirection.z,Mt+=9}catch(t){u={error:t}}finally{try{Ct&&!Ct.done&&(l=wt.return)&&l.call(wt)}finally{if(u)throw u.error}}return{vertices:bt,indices:new Uint16Array(f)}},Ub=function(t,e){var i=t.uV.az.get(e);return i||(i=void 0!==e&&e>0?new Vb(t,he(e,0,1)):new Lb(t),t.uV.az.set(e,i),i)},Yb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yb(e,t),e.prototype.zp=function(t){return this._z=this.Op.C(),this.Op.M(t),this},e.prototype.$g=function(t){return this.lY=t,this},e.prototype.tS=function(){return this.lY},e}(TS),jb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Wb=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.vY=e,r.UN=e.UN,r.dP=r.UN.YN(),r}return jb(e,t),e}(Gb),Xb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Hb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zb=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.lY="cull-back",r.Qh=wi,r.dY={},r.AY=[],r.qN=Qm({fillStyleSolid:function(){return it(r.Or)&&r.Or},fillStyleIndividual:function(){return rt(r.Or)&&r.Or},fillStylePaletted:function(){return st(r.Or)&&r.Or}}),r.Or=ko.fillStyle,r.Op.M(oa),r}return Xb(e,t),e.prototype.En=function(t){var e,i,n,r,o,s,a,u,l=this.AY,h=this.Or,c=h!==J,f=this.yY,p=this.rh()||this.mY!==f,d=this.Cz(),y=this.Bu.C(),v=this.Bu.o;if(c){try{for(var g=Hb(l),m=g.next();!m.done;m=g.next())(V=m.value).id=void 0!==V.id?String(V.id):void 0,V.xSize=void 0!==V.xSize&&V.xSize<0?-V.xSize:V.xSize,V.ySize=void 0!==V.ySize&&V.ySize<0?-V.ySize:V.ySize,V.zSize=void 0!==V.zSize&&V.zSize<0?-V.zSize:V.zSize}catch(t){e={error:t}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(e)throw e.error}}var x,A,b,M=this.bY||0,w=M;try{for(var C=Hb(l),P=C.next();!P.done;P=C.next())void 0!==(N=(V=P.value).id)&&void 0!==this.dY[N]||(w+=1)}catch(t){n={error:t}}finally{try{P&&!P.done&&(r=C.return)&&r.call(C)}finally{if(n)throw n.error}}if(b=!(A=x=w!==M)&&(l.length<100?"chunks":"all"),x){var E=11*w,T=new Float32Array(E);this.cU&&T.set(this.cU),this.cU=T,this.pY=E,this.gY=11*M}var k=rt(h)?h.getFallbackColor():void 0;try{for(var D=Hb(l),F=D.next();!F.done;F=D.next()){var _=void 0!==(N=(V=F.value).id)&&this.dY[N],I=[V.xCenter,V.yCenter,V.zCenter,V.xSize,V.ySize,V.zSize,V.color?V.color.r:k?k.r:void 0,V.color?V.color.g:k?k.g:void 0,V.color?V.color.b:k?k.b:void 0,V.color?V.color.a:k?k.a:void 0,V.value];if(_){for(var O=0;O<11;O+=1)I[O]=void 0!==I[O]?I[O]:_.buffer[O];_.buffer.set(I)}else{var B=this.gY,z=new Float32Array(this.cU.buffer,B*Float32Array.BYTES_PER_ELEMENT,11);z.set(I),void 0!==N&&(this.dY[N]={location:B,buffer:z}),this.gY+=11}}}catch(t){o={error:t}}finally{try{F&&!F.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}if(A&&(this.WR=this.dP.Gz(this.cU,!0)),"all"===b)this.dP.gV(this.WR,0,this.cU);else if("chunks"===b)try{for(var L=Hb(l),R=L.next();!R.done;R=L.next()){var V,N;void 0!==(N=(V=R.value).id)&&(_=this.dY[N],this.dP.gV(this.WR,_.location,_.buffer))}}catch(t){a={error:t}}finally{try{R&&!R.done&&(u=L.return)&&u.call(L)}finally{if(a)throw a.error}}if(p||d||v){var U=this.qN.fillStyleSolid(p),Y=this.qN.fillStyleIndividual(p),G=this.qN.fillStylePaletted(p);U||Y||G?(this.SY=Ub(this.dP,this.xY()),this.XP=this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:Y?"attribute":G?["lookup",G.getLookUpProperty(),G.lut]:"uniform",shadingStyle:this.Op.C().type}),zx.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:Zm(this.vt),normalSource:this.SY.hY}),void 0!==this.yY&&zx.RoundedEdges3D),this.tY=y?this.dP.UL(zx["3D"],zx.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.MousePicking(),void 0!==this.yY&&zx.RoundedEdges3D):void 0):(this.SY=void 0,this.XP=void 0,this.tY=void 0)}if(l.length>0){var j=S({x:Ai,y:Ai,z:Ai},{x:bi,y:bi,z:bi});for(O=0;O<this.gY;O+=11){var W=this.cU[O+0],X=this.cU[O+3]/2,H=W-X,Z=W+X,Q=this.cU[O+1],q=this.cU[O+4]/2,K=Q-q,$=Q+q,tt=this.cU[O+2],et=this.cU[O+5]/2,it=tt-et,nt=tt+et;j.min.x=j.min.x<H?j.min.x:H,j.min.y=j.min.y<K?j.min.y:K,j.min.z=j.min.z<it?j.min.z:it,j.max.x=j.max.x>Z?j.max.x:Z,j.max.y=j.max.y>$?j.max.y:$,j.max.z=j.max.z>nt?j.max.z:nt}this.Qh=j}this.bY=w,this.AY.length=0}return this.uh(h),this.mY=f,this.Op.o=!1,this.Bu.o=!1,this},e.prototype.AE=function(t,e){var i=this,n=1===t?this.tY:this.XP,r=this.SY,o=this.WR,s=this.Or,a=this.bY,u=this.Op.C(),l=a||0;return n&&o&&void 0!==a&&this.dP.Wz(n,(function(h,c,f){var p=!1,d=c("aPos"),y=c("aOffsetAxis");i.dP.TP(n).vV(h("uScale"),i.vY.UP.Kz()).vV(h("uDisp"),i.vY.UP.Jz()).AV(h("uViewProjectionMatrix"),i.wY).Qz(h("uIsHighlighted"),1===t||2===t?0:i.zu).HE(h("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(h("uRenderEffectMask"),2===t?1:0);var v={location:d,size:3},g={location:y,size:3},m={location:void 0,size:4};if(1!==t&&"phong"===u.type&&i.dP.vV(h("uCameraLoc"),i.MY).vV(h("uLightLoc"),i.CY).Qz(h("uAmbientReflection"),u.ambientReflection).Qz(h("uSpecularReflection"),u.specularReflection).Qz(h("uDiffuseReflection"),u.diffuseReflection).Qz(h("uShininess"),u.shininess).HE(h("uLightColor"),u.specularColor).HE(h("uAmbientColor"),u.ambientColor),1===t)i.dP.yV(h("uFirstId"),e).fN(f,l);else if(it(s))i.dP.HE(h("uColorDiffuse"),s.getColor());else if(rt(s)){var x=c("aColor");m.location=x}else if(st(s)){var S=qm(s,i,void 0);if(!S&&s.lut.percentageValues)return!1;i.dP.mN(f,s.lut,S)}return o&&(i.dP.Yz(o,1,v,g,m,{location:void 0,size:1}),r.Mb(f,a,"phong"===u.type&&1!==t,!1),p=!0),p})),{idCount:l}},e.prototype.QN=function(t,e,i,n,r){var o,s,a=11*(t-e);if(!this.cU)return{};var u,l=this.cU[a+0],h=this.cU[a+1],c=this.cU[a+2],f=this.cU[a+3],p=this.cU[a+4],d=this.cU[a+5],y=ye(this.cU[a+6],void 0),v=ye(this.cU[a+7],void 0),g=ye(this.cU[a+8],void 0),m=ye(this.cU[a+9],void 0),x=ye(this.cU[a+10],void 0);try{for(var S=Hb(Object.keys(this.dY)),A=S.next();!A.done;A=S.next()){var b=A.value;if(this.dY[b].location===a){u=b;break}}}catch(t){o={error:t}}finally{try{A&&!A.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}return{info:{dataPoint:{x:l,y:h,z:c,xSize:f,ySize:p,zSize:d,r:y,g:v,b:g,a:m,intensity:x,id:u}}}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.WR&&(this.dP.tV(this.WR),this.WR=void 0),this.XP=void 0,this},e.prototype.mP=function(){return this.dispose(),this},e.prototype.Qp=function(t){this.AY=Ge(this.AY,t,{canReturnB:!0})},e.prototype.Br=function(t){return this.Or=$o(this.Or,t),this},e.prototype.We=function(){return this.Or},e.prototype.Hp=function(t){return this.yY=void 0!==t&&t>0?he(t,0,1):void 0,this},e.prototype.xY=function(){return this.yY},e.prototype.yt=function(){return this.Qh.max.x},e.prototype.At=function(){return this.Qh.min.x},e.prototype.St=function(){return this.Qh.max.y},e.prototype.bt=function(){return this.Qh.min.y},e.prototype.Rp=function(){return this.Qh.max.z},e.prototype.Gp=function(){return this.Qh.min.z},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.Wp=function(){return 0},e.prototype.rh=function(){return ts(this.eh,this.Or)},e.prototype.uh=function(t){this.eh=t},e}(Wb),Qb=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),qb=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kb=function(t){function e(e,i){var n=t.call(this,e)||this;n.hY="custom",n.GR=i;var r=n.UR(),o=r.vertices,s=r.drawSize;return n.WR=e.Gz(o),n.XR=s,n}return Qb(e,t),e.prototype.TP=function(t){return this.dP.Yz(this.WR,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this},e.prototype.Mb=function(t){return this.dP.DV(this.dP.gl.TRIANGLE_STRIP,0,this.XR,t),this},e.prototype.UR=function(){for(var t,e,i=this.GR,n=new Float32Array(2*(i+1)*3),r=0,o=0;o<=i;o+=1){var s=2*Math.PI*o/i,a=Math.cos(s),u=Math.sin(s);try{for(var l=(t=void 0,qb([0,1])),h=l.next();!h.done;h=l.next()){var c=h.value;n[r+0]=c,n[r+1]=a,n[r+2]=u,r+=3}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}}return{vertices:n,drawSize:r/3}},e.prototype.fz=function(){this.dP.tV(this.WR)},e}(bS),Jb=function(t,e){void 0===e&&(e=16);var i=t.uV.uz.get(e);return i||(i=new Kb(t,e),t.uV.uz.set(e,i),i)},$b=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tM=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.lY="cull-back",r._Y=wi,r.TY=[],r.kY=!1,r.lf=ko.lineStyle,r.Op.M(ia),r}return $b(e,t),e.prototype.En=function(t){var e=this.kY,i=this.lf,n=this.df!==i,r=this.Cz(),o=e;if(e){var s=ze(this.TY);this.OY=this.dP.Gz(s,!1,this.OY)}if(o&&(this._Y=Ri(this.TY)),n||r){var a=Zn(i)&&i.getFillStyle(),u=1===i.getThickness()?"primitive":"instanced";this.nG=void 0,it(a)&&("primitive"===u?this.nG={type:u,shader:this.dP.UL(zx["3D"],zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}),zx.Color({dataType:"uniform"})),fillStyle:a}:"instanced"===u&&(this.nG={type:u,shader:this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:"uniform",shadingStyle:this.Op.C().type}),zx.LineInstanced3D({axisWorldTranslation:Zm(this.vt)})),geometry:Jb(this.dP,8),fillStyle:a}))}return this.kY=!1,this.df=i,this.Op.o=!1,this},e.prototype.AE=function(t,e){var i=this;if(1===t)return{};var n=this.dP.gl,r=this.nG,o=this.OY,s=this.lf,a=this.Op.C();if(r&&o&&Zn(s))switch(r.type){case"instanced":var u=.5*this.In.yp(s.thickness),l=r.fillStyle.getColor(),h=r.shader,c=r.geometry;this.dP.Wz(h,(function(e,r,s){i.dP.TP(h).vV(e("uScale"),i.vY.UP.Kz()).vV(e("uDisp"),i.vY.UP.Jz()).AV(e("uViewProjectionMatrix"),i.wY).HE(e("uColorDiffuse"),l).Qz(e("uOffsetWU"),u).Qz(e("uIsHighlighted"),i.zu).HE(e("uHighlightColorOffset"),2===t?R:i.Gu).Qz(e("uRenderEffectMask"),2===t?1:0),"phong"===a.type&&i.dP.vV(e("uCameraLoc"),i.MY).vV(e("uLightLoc"),i.CY).Qz(e("uAmbientReflection"),a.ambientReflection).Qz(e("uSpecularReflection"),a.specularReflection).Qz(e("uDiffuseReflection"),a.diffuseReflection).Qz(e("uShininess"),a.shininess).HE(e("uLightColor"),a.specularColor).HE(e("uAmbientColor"),a.ambientColor),n.bindBuffer(n.ARRAY_BUFFER,o);var f=r("aLocationA"),p=r("aLocationB");return n.vertexAttribPointer(f,3,n.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),i.dP._V(f,1),n.enableVertexAttribArray(f),n.vertexAttribPointer(p,3,n.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),i.dP._V(p,1),n.enableVertexAttribArray(p),c.TP(s).Mb(i.TY.length/2),!0}));break;case"primitive":var f=Zn(s)?s.getFillStyle():void 0,p=f&&it(f)?f.getColor():void 0;if(p){var d=r.shader;this.dP.Wz(d,(function(e,r){return i.dP.TP(d).vV(e("uScale"),i.vY.UP.Kz()).vV(e("uDisp"),i.vY.UP.Jz()).AV(e("uViewProjectionMatrix"),i.wY).HE(e("uColor"),p).Qz(e("uIsHighlighted"),i.zu).HE(e("uHighlightColorOffset"),2===t?R:i.Gu).Qz(e("uRenderEffectMask"),2===t?1:0).Yz(o,void 0,{location:r("aPos"),size:3}).Mb(n.LINES,i.TY.length),!0}))}}return{idCount:this.TY.length}},e.prototype.QN=function(t,e,i,n,r){return{}},e.prototype.aa=function(t){for(var e=0;e<t.length-1;e+=1){var i=t[e],n=t[e+1];this.TY.push(i),this.TY.push(n)}return this.kY=!0,{cn:function(){return this},mn:function(){return this}}},e.prototype.zt=function(){return this.TY.length=0,this.kY=!0,this},e.prototype.Zb=function(){return[]},e.prototype.ql=function(t){},e.prototype.Ur=function(t){return this.lf="function"==typeof t?t(this.lf):t,this},e.prototype.vf=function(){return this.lf},e.prototype.mP=function(){return this.OY&&(this.dP.tV(this.OY),this.OY=void 0),this},e.prototype.yt=function(){return this._Y.max.x},e.prototype.At=function(){return this._Y.min.x},e.prototype.St=function(){return this._Y.max.y},e.prototype.bt=function(){return this._Y.min.y},e.prototype.Rp=function(){return this._Y.max.z},e.prototype.Gp=function(){return this._Y.min.z},e.prototype.xa=function(){var t=this.lf;return t===gt?0:t.getThickness()},e.prototype.wa=function(){var t=this.lf;return t===gt?0:t.getThickness()},e.prototype.Wp=function(){var t=this.lf;return t===gt?0:t.getThickness()},e}(Wb),eM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),iM=function(t){function e(e,i,n){var r=t.call(this,e)||this;r.hY="gpu-calculate",r.FY=i,r.IY=n;var o=r.UR(),s=o.vertices,a=o.drawSize;return r.WR=e.Gz(s),r.XR=a,r}return eM(e,t),e.prototype.Mb=function(t,e,i,n){return this.dP.Yz(this.WR,0,{location:t.attribute("aInstanceGeo"),size:3},{location:n?t.attribute("aTriangleBary"):void 0,size:3}).DV(this.dP.gl.TRIANGLES,0,this.XR,e),this},e.prototype.UR=function(){for(var t=this,e=this.IY,i=this.FY,n=new Float32Array(6*(6*i+6*(e-2)*i)),r=0,o=2*Math.PI/i,s=Math.PI/e,a=function(t,e,i,a,u){var l=e*o,h=Math.PI/2-t*s,c=Math.cos(h),f=c*Math.cos(l),p=c*Math.sin(l),d=Math.sin(h);n[r]=f,n[r+1]=d,n[r+2]=p,n[r+3]=i,n[r+4]=a,n[r+5]=u,r+=6},u=0;u<e;u+=1)for(var l=0;l<i;l+=1)u>0&&(a(u,l,1,0,0),a(u,l+1,1,1,0),a(u+1,l,0,0,1)),u<e-1&&(a(u,l+1,1,1,0),a(u+1,l+1,0,1,0),a(u+1,l,0,0,1));return r!==n.length&&$e(0,(function(){t.dP.Yd.Xs&&r>n.length&&ne.console.warn("LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.\nA point series 3D component might have missing points.\n\nThis warning can be omitted with LightningChartOptions.warnings")})),{vertices:n,drawSize:r/6}},e.prototype.fz=function(){this.dP.tV(this.WR)},e}(bS),nM=function(t,e){var i=Math.round(e);i<3&&$e(0,ue);var n=i,r=t.uV.hz.get(Array.from(t.uV.hz.keys()).find((function(t){return t.sectors===i&&t.stacks===n})));return r||(r=new iM(t,i,n),t.uV.hz.set({sectors:i,stacks:n},r),r)},rM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oM=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},sM=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.lY="cull-back",r.tM=[],r.nG={},r.nU=new AA(r.tM,(function(t){return t.vertexBuffer&&r.dP.tV(t.vertexBuffer)}),!0),r.pf=[],r.Kh=0,r.Jh=[],r.qh=0,r.Qh=wi,r.$h=wi,r.qN=Qm({lineStyleSolid:function(){var t=r.lf;return Zn(t)&&t},lineFillSolid:function(){var t=r.lf.getFillStyle();return it(t)&&t},lineFillPaletted:function(){var t=r.lf.getFillStyle();return st(t)&&t},jointStyleTriangulatedPoints:function(){return yo(r.Kp)&&r.Kp},jointSizeTriangulated:function(){var t=r.Kp;return yo(t)&&t.getSize()},jointFillSolid:function(){var t=r.Kp.getFillStyle();return it(t)&&t},jointFillPaletted:function(){var t=r.Kp.getFillStyle();return st(t)&&t},wireframeLineStyleSolid:function(){var t=yo(r.Kp)&&r.Kp.getWireframeStyle();return Zn(t)&&t},wireframeFillSolid:function(){var t=yo(r.Kp)&&r.Kp.getWireframeStyle(),e=t&&t.getFillStyle();return it(e)&&e}}),r.ta=!1,r.lf=ko.lineStyle,r.Kp=ko.pointStyle3D,r.Op.M(oa),r.uU={attributesPerVertex:3,prepareRenderData:function(t,e){return ze(t)}},r}return rM(e,t),e.prototype.QN=function(t,e,i,n,r){return{info:{dataPoint:this.pf[t-e]}}},e.prototype.En=function(t){var e=this,i=this.ta,n=this.Jh,r=this.qh,o=r>0,s=this.lf,u=s!==this.df,l=this.Kp,h=l!==this.jY,c=this.Cz(),f=this.Bu.o,p=this.Bu.C();this.$h&&(this.Qh=Ni(this.Qh,this.$h),this.$h=void 0),o&&(this.pf=Ge(this.pf,n,{canReturnB:!0}),this.Kh+=r);var d=n,y=r;if(i&&(this.tM.forEach((function(t){t.existingCoordinatesCount=0,t.existingDataPointsCount=0,t.boundaries=wi})),this.nU.HG(),d=this.pf,y=this.Kh),y>0){var v=Math.floor(this.UN.DY/(this.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),g=this.Wu("ApplicationType",(function(t){return"UserSeries"===t.type}))?y:1e3,m=he(g,1e5,v);this.nU.UG(d,m,(function(t,i,n,r){return{existingDataPointsCount:n-r,existingCoordinatesCount:n,allocatedCoordinatesCount:t,jointPointsCount:r,lastDataPoint:i[n-1],boundaries:wi,vertexBuffer:e.dP.pV(t*e.uU.attributesPerVertex,e.uU.prepareRenderData(i,n))}}),(function(t,i,n,r){e.dP.gV(t.vertexBuffer,t.existingCoordinatesCount*e.uU.attributesPerVertex,e.uU.prepareRenderData(i,n)),t.existingDataPointsCount+=n-r,t.existingCoordinatesCount+=n,t.jointPointsCount+=r,t.lastDataPoint=i[n-1]}))}if(u||h||c||f){var x={},S=this.qN.lineStyleSolid(u),A=this.qN.lineFillSolid(u),b=this.qN.lineFillPaletted(u),M=A||b,w=this.qN.jointStyleTriangulatedPoints(h),C=this.qN.jointSizeTriangulated(h),P=this.qN.jointFillSolid(h),E=this.qN.jointFillPaletted(h),T=P||E,k=this.qN.wireframeLineStyleSolid(h),D=this.qN.wireframeFillSolid(h),F=s.getThickness()<0||1===s.getThickness()&&this.Wu("ApplicationType",(function(t){return"InternalUI"===t.type}))?"primitive":"instanced",_=b?["lookup",b.getLookUpProperty(),b.lut]:"uniform";if("primitive"===F&&M?x.lines={type:"primitive",fillStyleSolid:A,fillStylePaletted:b,shader:this.dP.UL(zx["3D"],zx.Color({dataType:_}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})),mousePicking:p?{shader:this.dP.UL(zx["3D"],zx.MousePicking({useVertexId:!0}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}))}:void 0}:"instanced"===F&&S&&M&&(x.lines={type:"instanced",lineStyleSolid:S,fillStyleSolid:A,fillStylePaletted:b,shader:this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:_,shadingStyle:this.Op.C().type}),zx.LineInstanced3D({axisWorldTranslation:Zm(this.vt)})),geometry:aM(this.dP,S.getThickness()),mousePicking:p?{shader:this.dP.UL(zx["3D"],zx.MousePicking(),zx.LineInstanced3D({axisWorldTranslation:Zm(this.vt)}))}:void 0}),x.markers=void 0,T&&w){var I=Ue(w.getShape(),{cube:function(){return Ub(e.dP)},sphere:function(){return uM(e.dP,w)}});x.markers={geometry:I,pointStyle:w,pointSizeNWU:"number"==typeof C&&C,pointSizeAxis:"object"===a(C)&&C,fillStyleSolid:P,fillStylePaletted:E,shader:this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:E?["lookup",E.getLookUpProperty(),E.lut]:"uniform",shadingStyle:this.Op.C().type,wireframe:!1!==D}),zx.VertexLocation({offset:{dataType:"uniform",sizeUnit:"number"==typeof C?"nwu":"axis",symmetric:"number"==typeof C,halved:!0},axisWorldTranslation:Zm(this.vt),normalSource:I.hY})),mousePicking:p?{shader:this.dP.UL(zx["3D"],zx.MousePicking(),zx.VertexLocation({offset:{dataType:"uniform",sizeUnit:"number"==typeof C?"nwu":"axis",symmetric:"number"==typeof C,halved:!0},axisWorldTranslation:Zm(this.vt),normalSource:void 0}))}:void 0,wireframe:k&&D&&{thickness:k.getThickness(),fillStyleSolid:D}}}this.nG=x}return this.ta=!1,this.Jh=[],this.qh=0,this.df=s,this.jY=l,this.Op.o=!1,this.Bu.o=!1,this},e.prototype.AE=function(t,e){var i,n,r=this,o=this.dP.gl,s=this.nG,a=s.lines,u=s.markers,l=this.Op.C(),h=this.Kh,c=1===t?null===(i=null==a?void 0:a.mousePicking)||void 0===i?void 0:i.shader:null==a?void 0:a.shader;if(a&&c&&"instanced"===a.type){var f=c,p=a.geometry,d=a.lineStyleSolid,y=a.fillStyleSolid,v=a.fillStylePaletted;this.dP.Wz(f,(function(i,n,s){var a=!1;if(r.dP.TP(f).vV(i("uScale"),r.vY.UP.Kz()).vV(i("uDisp"),r.vY.UP.Jz()).AV(i("uViewProjectionMatrix"),r.wY).Qz(i("uOffsetWU"),r.In.yp(d.getThickness())).Qz(i("uIsHighlighted"),1===t||2===t?0:r.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===l.type&&r.dP.vV(i("uCameraLoc"),r.MY).vV(i("uLightLoc"),r.CY).Qz(i("uAmbientReflection"),l.ambientReflection).Qz(i("uSpecularReflection"),l.specularReflection).Qz(i("uDiffuseReflection"),l.diffuseReflection).Qz(i("uShininess"),l.shininess).HE(i("uLightColor"),l.specularColor).HE(i("uAmbientColor"),l.ambientColor),1===t);else if(y)r.dP.HE(i("uColorDiffuse"),y.getColor());else if(v){var u=qm(v,r,void 0);if(!u&&v.lut.percentageValues)return!1;r.dP.mN(s,v.lut,u)}var h=gi(e);return r.tM.forEach((function(e){if(1===t){var u=oM(h.Gt(e.existingDataPointsCount),2),l=u[0],c=u[1];r.dP.yV(i("uFirstId"),l).fN(s,c)}o.bindBuffer(o.ARRAY_BUFFER,e.vertexBuffer);var f=n("aLocationA"),d=n("aLocationB");o.vertexAttribPointer(f,3,o.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),r.dP._V(f,1),o.enableVertexAttribArray(f),o.vertexAttribPointer(d,3,o.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),r.dP._V(d,1),o.enableVertexAttribArray(d),p.TP(s).Mb(e.existingCoordinatesCount-1),a=!0})),a}))}if(a&&c&&"primitive"===a.type){var g=c,m=a.fillStyleSolid,x=a.fillStylePaletted;this.dP.Wz(g,(function(i,n,s){var a=!1;if(r.dP.TP(g).vV(i("uScale"),r.vY.UP.Kz()).vV(i("uDisp"),r.vY.UP.Jz()).AV(i("uViewProjectionMatrix"),r.wY).Qz(i("uIsHighlighted"),1===t||2===t?0:r.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1===t);else if(m)r.dP.HE(i("uColor"),m.getColor());else if(x){var u=qm(x,r,void 0);if(!u&&x.lut.percentageValues)return!1;r.dP.mN(s,x.lut,u)}var l=gi(e);return r.tM.forEach((function(e){if(1===t){var u=oM(l.Gt(e.existingDataPointsCount),2),h=u[0],c=u[1];r.dP.yV(i("uFirstId"),h).hN(s,c)}r.dP.Yz(e.vertexBuffer,void 0,{location:n("aPos"),size:3}).Mb(o.LINE_STRIP,e.existingCoordinatesCount),a=!0})),a}))}var S=1===t?null===(n=null==u?void 0:u.mousePicking)||void 0===n?void 0:n.shader:null==u?void 0:u.shader;if(u&&S){var A=S,b=u.geometry,M=u.fillStyleSolid,w=u.fillStylePaletted,C=u.pointSizeAxis,P=u.pointSizeNWU,E=u.wireframe;this.dP.Wz(A,(function(i,n,o,s){var a=!1;if(r.dP.TP(A).vV(i("uScale"),r.vY.UP.Kz()).vV(i("uDisp"),r.vY.UP.Jz()).AV(i("uViewProjectionMatrix"),r.wY).Qz(s("uRatioNwuWu"),r.vY.BY()).Qz(i("uIsHighlighted"),1===t||2===t?0:r.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:r.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===l.type&&r.dP.vV(i("uCameraLoc"),r.MY).vV(i("uLightLoc"),r.CY).Qz(i("uAmbientReflection"),l.ambientReflection).Qz(i("uSpecularReflection"),l.specularReflection).Qz(i("uDiffuseReflection"),l.diffuseReflection).Qz(i("uShininess"),l.shininess).HE(i("uLightColor"),l.specularColor).HE(i("uAmbientColor"),l.ambientColor),1===t);else if(M)r.dP.HE(i("uColorDiffuse"),M.getColor());else if(w){var u=qm(w,r,void 0);if(!u&&w.lut.percentageValues)return!1;r.dP.mN(o,w.lut,u)}E&&1!==t&&r.dP.Qz(i("uWireframeThickness"),E.thickness).HE(i("uWireframeColor"),E.fillStyleSolid.getColor()),!1!==C&&r.dP.vV(i("uOffsetAxis"),[C.x,C.y,C.z]),!1!==P&&r.dP.Qz(i("uOffsetNWU"),P);var h=gi(e);return r.tM.forEach((function(e){if(1===t){var s=oM(h.Gt(e.existingDataPointsCount),2),u=s[0],c=s[1];r.dP.yV(i("uFirstId"),u).fN(o,c)}r.dP.Yz(e.vertexBuffer,1,{location:n("aPos"),size:3}),b.Mb(o,e.existingCoordinatesCount,"phong"===l.type&&1!==t,Boolean(E)&&1!==t),a=!0})),a}))}return{idCount:h}},e.prototype.aa=function(t,e){Array.isArray(t)||(t=[t]),this.Jh=Ge(this.Jh,t,{canReturnB:!0}),this.qh+=t.length;var i=e||Ri(t);return this.$h=this.$h?Ni(this.$h,i):i,this},e.prototype.Ur=function(t){return this.lf="function"==typeof t?t(this.lf):t,this},e.prototype.vf=function(){return this.lf},e.prototype.fp=function(t){return this.Kp="function"==typeof t?t(this.Kp):t,this},e.prototype.EY=function(){return this.Kp},e.prototype.yt=function(){return this.$h?Math.max(this.$h.max.x,this.Qh.max.x):this.Qh.max.x},e.prototype.At=function(){return this.$h?Math.min(this.$h.min.x,this.Qh.min.x):this.Qh.min.x},e.prototype.St=function(){return this.$h?Math.max(this.$h.max.y,this.Qh.max.y):this.Qh.max.y},e.prototype.bt=function(){return this.$h?Math.min(this.$h.min.y,this.Qh.min.y):this.Qh.min.y},e.prototype.Rp=function(){return this.$h?Math.max(this.$h.max.z,this.Qh.max.z):this.Qh.max.z},e.prototype.Gp=function(){return this.$h?Math.min(this.$h.min.z,this.Qh.min.z):this.Qh.min.z},e.prototype.xa=function(){return ui(this.lf)},e.prototype.wa=function(){return ui(this.lf)},e.prototype.Wp=function(){return ui(this.lf)},e.prototype.ra=function(){return this.pf},e.prototype.na=function(){return this.Jh},e.prototype.fa=function(){return this.Kh},e.prototype.ca=function(){return this.qh},e.prototype.zt=function(){return this.ta=!0,this.pf.length=0,this.Kh=0,this.Jh=[],this.qh=0,this.Qh=wi,this.$h=void 0,this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nU.ZG(),this.nG={},this},e.prototype.mP=function(){return this.dispose(),this},e}(Wb),aM=function(t,e){return Jb(t,e>50?20:e>20?16:e>10?12:e>5?8:6)},uM=function(t,e){var i=e.getSize();return nM(t,"number"==typeof i?i>50?20:i>20?16:i>10?12:i>5?8:6:20)},lM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),hM=function(t){function e(e,i,n){var r=t.call(this,e,i,n)||this;return r.lY="disabled",r.PY=!1,r.LY=!1,r.zY={x:1,y:1,z:1},r.oS={x:0,y:0,z:0},r.eS={x:0,y:0,z:0},r.sS={x:0,y:0,z:0},r.uS={x:1,y:1,z:1},r.VY=xS.projectionOrthographic(-1,1,-1,1,1,-1),r.NY=xS.projectionOrthographic(-1,1,-1,1,1,-1),r.RY=!1,r.qN=Qm({fillStyleSolid:function(){return it(r.Or)&&r.Or},fillStyleValuePalette:function(){return st(r.Or)&&"value"===r.Or.lookUpProperty&&r.Or}}),r.Or=ko.fillStyle,r.Op.M(oa),r}return lM(e,t),e.prototype.En=function(t){var e,i=this.Cz(),n=this.Bu.C(),r=this.Bu.o,o=this.rh();this.qN.fillStyleSolid(o);var s=this.qN.fillStyleValuePalette(o),a=this.sS,u=this.uS;if(this.PY&&this.GY&&(this.WR=this.dP.Gz(this.GY.vertices,void 0,this.WR),this.YR=this.dP.xV(this.GY.indices,this.YR),this.UY=this.GY.indices.length),"phong"===this.Op.C().type&&(i||this.PY)&&(null===(e=this.GY)||void 0===e?void 0:e.normals)&&(this.WY=this.dP.Gz(this.GY.normals,void 0,this.WY)),!this.YY&&s&&"value"===s.lookUpProperty&&this.GY&&(this.YY=new Float32Array(this.GY.vertices.length/3),this.LY=!0),this.YY&&this.LY&&(this.HY=this.dP.Gz(this.YY,void 0,this.HY)),i||o||r){if(s&&"value"!==s.lookUpProperty)throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this.XP=this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:s?["lookup","value",s.lut]:"uniform",shadingStyle:this.Op.C().type,wireframe:!1}),zx.Model3D({normalSource:"phong"===this.Op.C().type?"attribute":void 0})),this.tY=n?this.dP.UL(zx["3D"],zx.MousePicking({useVertexId:!0}),zx.Model3D({normalSource:void 0})):void 0}if(this.RY){var l=xS.projectionOrthographic(-1,1,-1,1,1,-1);this.NY=xS.rotateXYZ(l,a),this.VY=xS.translate(l,u.x/2,u.y/2,u.z/2),this.VY=xS.rotateXYZ(this.VY,a),this.VY=xS.translate(this.VY,-u.x/2,-u.y/2,-u.z/2),this.RY=!1}return this.Op.o=!1,this.uh(this.Or),this.Bu.o=!1,this.PY=!1,this.LY=!1,this},e.prototype.AE=function(t,e){var i=this,n=1===t?this.tY:this.XP,r=1===t,o=this.YR,s=this.UY,a=this.WR,u=this.WY,l=this.HY,h=this.oS,c=this.eS,f=this.zY,p=this.uS,d=this.VY,y=this.NY,v=this.qN.fillStyleValuePalette(!1),g=this.qN.fillStyleSolid(!1),m=this.Op.C(),x={location:void 0,size:1};if(!(n&&a&&o&&s&&this.GY))return{};var S=this.GY.vertices.length;return this.dP.Wz(n,(function(A,b,M,w){if(i.dP.TP(n).vV(A("uScale"),i.vY.UP.Kz()).vV(A("uDisp"),i.vY.UP.Jz()).AV(A("uViewProjectionMatrix"),i.wY).Qz(A("uIsHighlighted"),1===t||2===t?0:i.zu).HE(A("uHighlightColorOffset"),i.Gu).Qz(A("uRenderEffectMask"),2===t?1:0),r)i.dP.yV(A("uFirstId"),e).hN(M,S);else{if(i.Or===J)return!1;if(g)i.dP.HE(A("uColorDiffuse"),g.getColor());else if(v){if(!l)return!1;var C=v.getPalette();x.location=b("aLookupValue"),i.dP.mN(M,C,void 0).Yz(l,void 0,x)}}return"phong"!==m.type||r||(i.dP.vV(A("uCameraLoc"),i.MY).vV(A("uLightLoc"),i.CY).Qz(A("uAmbientReflection"),m.ambientReflection).Qz(A("uSpecularReflection"),m.specularReflection).Qz(A("uDiffuseReflection"),m.diffuseReflection).Qz(A("uShininess"),m.shininess).HE(A("uLightColor"),m.specularColor).HE(A("uAmbientColor"),m.ambientColor).AV(A("uModelRotationNormals"),y),u&&i.dP.Yz(u,void 0,{location:M.attribute("aNormal"),size:3})),i.dP.AV(A("uModelRotation"),d).vV(A("uModelScale"),[f.x,f.y,f.z]).vV(A("uLocationAxis"),[h.x,h.y,h.z]).vV(A("uModelAlignment"),[c.x,c.y,c.z]).vV(A("uModelSize"),[p.x,p.y,p.z]),i.dP.Yz(a,0,{location:M.attribute("aGeoPos"),size:3}).FV(o).jV(s,i.dP.gl.TRIANGLES),!0})),{idCount:S}},e.prototype.ZY=function(t){if(this.QY)return this.QY;var e=this.oS,i=this.eS,n=this.zY,r=this.uS,o=this.sS,s=this.vY.HS(e),a=[],u=xS.projectionOrthographic(-1,1,-1,1,1,-1),l=xS.translate(u,r.x/2,r.y/2,r.z/2);l=xS.rotateXYZ(l,o),l=xS.translate(l,-r.x/2,-r.y/2,-r.z/2);for(var h=(i.x+1)*(r.x/2),c=(i.y+1)*(r.y/2),f=(i.z+1)*(r.z/2),p=0;p<t.vertices.length;p+=3){var d=xS.multiply(l,[t.vertices[p],t.vertices[p+1],t.vertices[p+2],1]),y={x:s.x+(d[0]-h)*n.x,y:s.y+(d[1]-c)*n.y,z:s.z+(d[2]-f)*n.z};a.push(y)}return this.QY=a,this.QY},e.prototype.cS=function(t){var e=this.GY;if(e){var i=this.ZY(e),n=t(i);0!==n.length&&(n.length!==i.length&&!0===this.fn.Ws.Xs&&ne.console.warn("LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.\nThis is most likely an application error."),this.YY=n instanceof Float32Array?n:new Float32Array(n),this.LY=!0)}},e.prototype.QN=function(t,e,i,n,r){return{info:{iVertex:t-e}}},e.prototype.aS=function(t,e){var i=this,n=this.GY;if(n&&void 0!==(null==t?void 0:t.iVertex)){for(var r=[],o=0;o<n.indices.length;o+=3){var s=n.indices[o],a=n.indices[o+1],u=n.indices[o+2];s!==t.iVertex&&a!==t.iVertex&&u!==t.iVertex||r.push([s,a,u])}var l=this.ZY(n),h=this.fn.Vr(e.clientX,e.clientY),c=r.map((function(t){return t.map((function(t){var e={x:n.vertices[3*t],y:n.vertices[3*t+1],z:n.vertices[3*t+2]},r=l[t],o=i.vY.ZS(r),s=i.vY.bp(o);return{index:t,vertex:e,world:r,axis:o,dist:s?Oi(s,h):Ai}}))})).flat();c.sort((function(t,e){return t.dist-e.dist}));var f=c[0];if(f){var p=this.YY?this.YY[f.index]:void 0;return{coordModel:f.vertex,coordAxis:f.axis,index:f.index,value:p}}}},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.WR&&(this.dP.tV(this.WR),this.WR=void 0),this.YR&&(this.dP.tV(this.YR),this.YR=void 0),this.WY&&(this.dP.tV(this.WY),this.WY=void 0),this.HY&&(this.dP.tV(this.HY),this.HY=void 0),this.XP=void 0,this.tY=void 0,this.GY=void 0,this.YY=void 0,this},e.prototype.mP=function(){return this.dispose(),this},e.prototype.fS=function(t){return this.GY=t,this.PY=!0,this.uS=t.modelSize,this},e.prototype.Br=function(t){return this.Or=$o(this.Or,t),this},e.prototype.We=function(){return this.Or},e.prototype.lS=function(t){return this.zY=t,this.QY=void 0,this},e.prototype.Kz=function(){return this.zY},e.prototype.vS=function(t){return this.oS=t,this.QY=void 0,this},e.prototype.dS=function(t){return this.eS=t,this.QY=void 0,this},e.prototype.AS=function(t){return this.sS=t,this.RY=!0,this.QY=void 0,this},e.prototype.yS=function(t){return this.lY=t,this},e.prototype.mS=function(){return this.lY},e.prototype.yt=function(){return bi},e.prototype.At=function(){return Ai},e.prototype.St=function(){return bi},e.prototype.bt=function(){return Ai},e.prototype.Rp=function(){return bi},e.prototype.Gp=function(){return Ai},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.Wp=function(){return 0},e.prototype.rh=function(){return ts(this.eh,this.Or)},e.prototype.uh=function(t){this.eh=t},e}(Wb),cM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fM=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n)||this;o.lY="cull-back",o.tM=[],o.nU=new AA(o.tM,(function(t){return t.vertexBuffer&&o.dP.tV(t.vertexBuffer)}),!1),o.pf=[],o.Kh=0,o.Jh=[],o.qh=0,o.Qh=wi,o.$h=wi,o.ta=!1,o.qN=Qm({fillStyleSolid:function(){var t=o.$p.getFillStyle();return it(t)&&t},fillStyleIndividual:function(){var t=o.$p.getFillStyle();return rt(t)&&t},fillStylePalette:function(){var t=o.$p.getFillStyle();return st(t)&&t},triangulatedPointStyle:function(){var t=o.$p;return yo(t)&&t},wireframeLineStyleSolid:function(){var t=yo(o.$p)&&o.$p,e=t&&t.getWireframeStyle();return Zn(e)&&e},wireframeFillStyleSolid:function(){var t=yo(o.$p)&&o.$p,e=t&&t.getWireframeStyle(),i=e&&e.getFillStyle();return it(i)&&i}}),o.ia=void 0,o.Ws=r,o.$p=ko.pointStyle3D,o.Op.M(oa);var s,u,l,h,c=!0===(null==r?void 0:r.individualPointColorEnabled),f=!0===(null==r?void 0:r.individualPointSizeEnabled),p=!0===(null==r?void 0:r.individualLookupValuesEnabled),d=!0===(null==r?void 0:r.individualPointSizeAxisEnabled),y=0;y+=3,c&&(s=y,y+=4),f&&(u=y,y+=1),p&&(l=y,y+=1),d&&(h=y,y+=3);var v=function(t,e,i,n){return t||e||i||n?!t||e||i||n?t||!e||i||n?t||e||!i||n?t||e||i||!n?function(r,o,s){for(var u=3+(t?4:0)+(e?1:0)+(i?1:0)+(n?3:0),l=r.length,h=new Float32Array(l*u),c=0,f=c,p=0;p<l;p+=1){var d=r[p];h[f+0]=d.x,h[f+1]=d.y,h[f+2]=d.z,f+=u}if(c+=3,t){var y=s&&rt(s)&&s.getFallbackColor()||L;for(f=c,p=0;p<l;p+=1){var v=(d=r[p]).color||y;h[f+0]=v.r,h[f+1]=v.g,h[f+2]=v.b,h[f+3]=v.a,f+=u}c+=4}if(e){var g=1;for("number"==typeof(x=o&&o.getSize())&&(g=x),f=c,p=0;p<l;p+=1){var m=void 0!==(d=r[p]).size?d.size:g;h[f+0]=m,f+=u}c+=1}if(i){for(f=c,p=0;p<l;p+=1)d=r[p],h[f+0]=void 0!==d.value?d.value:-34028234663852886e22,f+=u;c+=1}if(n){var x;for(g={x:1,y:1,z:1},"object"===a(x=o&&o.getSize())&&(g=x),f=c,p=0;p<l;p+=1){var S=void 0!==(d=r[p]).sizeAxisX?d.sizeAxisX:g.x,A=void 0!==d.sizeAxisY?d.sizeAxisY:g.y,b=void 0!==d.sizeAxisZ?d.sizeAxisZ:g.z;h[f+0]=S,h[f+1]=A,h[f+2]=b,f+=u}c+=3}return h}:function(t,e,i){return function(t,e){var i=e&&e.getSize(),n={x:1,y:1,z:1};"object"===a(i)&&(n=i);for(var r=t.length,o=new Float32Array(6*r),s=0,u=0;u<r;u+=1){var l=t[u];o[s+0]=l.x,o[s+1]=l.y,o[s+2]=l.z;var h=void 0!==l.sizeAxisX?l.sizeAxisX:n.x,c=void 0!==l.sizeAxisY?l.sizeAxisY:n.y,f=void 0!==l.sizeAxisZ?l.sizeAxisZ:n.z;o[s+3]=h,o[s+4]=c,o[s+5]=f,s+=6}return o}(t,e)}:function(t,e,i){return function(t){for(var e=t.length,i=new Float32Array(4*e),n=0,r=0;n<e;n+=1){var o=t[n];i[r+0]=o.x,i[r+1]=o.y,i[r+2]=o.z,i[r+3]=void 0!==o.value?o.value:-34028234663852886e22,r+=4}return i}(t)}:function(t,e,i){return function(t,e){var i=e&&e.getSize(),n=1;"number"==typeof i&&(n=i);for(var r=t.length,o=new Float32Array(4*r),s=0,a=0;s<r;s+=1){var u=t[s];o[a+0]=u.x,o[a+1]=u.y,o[a+2]=u.z;var l=void 0!==u.size?u.size:n;o[a+3]=l,a+=4}return o}(t,e)}:function(t,e,i){return function(t,e){for(var i=e&&rt(e)&&e.getFallbackColor()||L,n=t.length,r=new Float32Array(7*n),o=0,s=0;o<n;o+=1){var a=t[o];r[s+0]=a.x,r[s+1]=a.y,r[s+2]=a.z;var u=a.color||i;r[s+3]=u.r,r[s+4]=u.g,r[s+5]=u.b,r[s+6]=u.a,s+=7}return r}(t,i)}:function(t,e,i){return ze(t)}}(c,f,p,d);return o.uU={individualPointColorEnabled:c,individualPointSizeEnabled:f,individualLookupValuesEnabled:p,individualPointSizeAxisEnabled:d,attributesPerVertex:y,attributeOffsetCoordinate:0,attributeOffsetColor:s,attributeOffsetSize:u,attributeOffsetLookUpValue:l,attributeOffsetPointSize3D:h,prepareRenderData:function(t,e){return v(t,o.$p,o.$p.fillStyle)}},o}return cM(e,t),e.prototype.QN=function(t,e,i,n,r){return{info:{dataPoint:this.pf[t-e]}}},e.prototype.En=function(t){var e=this,i=this.ta,n=this.Jh,r=this.qh,o=r>0,s=this.$p,u=this.$p!==this.KY,l=this.Bu.C(),h=this.Bu.o,c=this.Cz();this.$h&&(this.Qh=Ni(this.Qh,this.$h),this.$h=void 0),o&&(this.pf=Ge(this.pf,n,{canReturnB:!0}),this.Kh+=r);var f=n,p=r;if(i&&(this.tM.forEach((function(t){t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.boundaries=wi})),this.nU.HG(),f=this.pf,p=this.Kh),p>0){var d=Math.floor(this.UN.DY/(this.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),y=he(p,1e5,d);this.nU.UG(f,y,(function(t,i,n){return{existingDataPointsCount:n,existingCoordinatesCount:n,allocatedCoordinatesCount:t,boundaries:wi,vertexBuffer:e.dP.pV(t*e.uU.attributesPerVertex,e.uU.prepareRenderData(i,n))}}),(function(t,i,n){e.dP.gV(t.vertexBuffer,t.existingCoordinatesCount*e.uU.attributesPerVertex,e.uU.prepareRenderData(i,n)),t.existingDataPointsCount+=n,t.existingCoordinatesCount=t.existingDataPointsCount}))}var v=s.getFillStyle(),g=this.qN.fillStyleSolid(u),m=this.qN.fillStyleIndividual(u),x=this.qN.fillStylePalette(u),S=v===J&&J;if(u||c||h){var A=void 0,b=s.getSize(),M=this.uU.individualPointColorEnabled,w=this.uU.individualPointSizeEnabled,C=this.uU.individualPointSizeAxisEnabled,P=this.uU.individualLookupValuesEnabled;if(m&&!M){var E="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw ne.alert(E),new Error(E)}if(x&&"value"===x.getLookUpProperty()&&!P)throw E='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !',ne.alert(E),new Error(E);var T=this.qN.wireframeLineStyleSolid(u),k=this.qN.wireframeFillStyleSolid(u);if(g||m||x||k){var D=m?"attribute":x?["lookup",x.getLookUpProperty(),x.lut]:"uniform",F=w&&"number"==typeof b,_=C&&"object"===a(b),I=F||_?"attribute":"uniform";if(yo(s)){var O=Ue(s.getShape(),{cube:function(){return Ub(e.dP)},sphere:function(){return pM(e.dP,s,w)}});A={type:"instanced",shader:this.dP.UL(zx["3D"],zx.ColorShaded3D({dataType:D,shadingStyle:this.Op.C().type,wireframe:!1!==k}),zx.VertexLocation({offset:{dataType:I,sizeUnit:"number"==typeof b?"nwu":"axis",halved:!0,symmetric:"number"==typeof b},axisWorldTranslation:Zm(this.vt),normalSource:O.hY})),pointStyle:s,useIndividualPointSize:F,useIndividualPointSize3D:_,pointSizeNWU:"number"==typeof b&&b,pointSizeAxis:"object"===a(b)&&b,fillStyleSolid:g,fillStyleIndividual:m,fillStylePaletted:x,fillStyleEmpty:S,mousePickingShader:l&&this.dP.UL(zx["3D"],zx.MousePicking(),zx.VertexLocation({offset:{dataType:I,sizeUnit:"number"==typeof b?"nwu":"axis",halved:!0,symmetric:"number"==typeof b},axisWorldTranslation:Zm(this.vt),normalSource:void 0})),geometry:O,wireframe:T&&k&&{thickness:T.getThickness()<0?1:T.getThickness(),fillStyleSolid:k}}}else go(s)&&"number"==typeof b&&(A={type:"primitive",shader:this.dP.UL(zx["3D"],zx.PointSize(I),zx.Color({dataType:D}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0})),pointStyle:s,pointSizePixels:b,useIndividualPointSize:F,fillStyleSolid:g,fillStyleIndividual:m,fillStylePaletted:x,mousePickingShader:l&&this.dP.UL(zx["3D"],zx.PointSize(I),zx.MousePicking({useVertexId:!0}),zx.VertexLocation({axisWorldTranslation:Zm(this.vt),normalSource:void 0}))})}this.nG=A}if(void 0===this.ia&&x&&"value"===x.lookUpProperty&&x.lut.percentageValues){for(var B=bi,z=Ai,L=0;L<this.pf.length;L+=1){var R=this.pf[L];void 0!==R.value&&R.value<z&&(z=R.value),void 0!==R.value&&R.value>B&&(B=R.value)}this.ia={min:z,max:B}}return this.ta=!1,this.Jh=[],this.qh=0,this.KY=s,this.Op.o=!1,this},e.prototype.AE=function(t,e){var i=this,n=this.dP.gl,r=this.nG,o=this.Kh;if(!r)return{};var s=1===t?r.mousePickingShader:r.shader;if(!s)return{};var a=this.Op.C(),u=r.fillStyleSolid,l=r.fillStylePaletted,h=r.useIndividualPointSize,c="instanced"===r.type&&r.useIndividualPointSize3D,f="instanced"===r.type&&r.wireframe;return this.dP.Wz(s,(function(o,p,d,y){var v=!1;if(i.dP.TP(s).vV(o("uScale"),i.vY.UP.Kz()).vV(o("uDisp"),i.vY.UP.Jz()).AV(o("uViewProjectionMatrix"),i.wY).Qz(o("uIsHighlighted"),1===t||2===t?0:i.zu).HE(o("uHighlightColorOffset"),1===t||2===t?R:i.Gu).Qz(o("uRenderEffectMask"),2===t?1:0),"instanced"===r.type){var g=r.pointSizeAxis,m=r.pointSizeNWU;!1!==g&&!1===c&&i.dP.vV(o("uOffsetAxis"),[g.x,g.y,g.z]),!1!==m&&!1===h&&i.dP.Qz(o("uOffsetNWU"),m).Qz(y("uRatioNwuWu"),i.vY.BY())}else if("primitive"===r.type){var x=r.pointSizePixels;h||i.dP.Qz(o("uPointSize"),x).Qz(o("uDevicePixelRatio"),i.dP.kz())}if(1===t);else if("instanced"===r.type?("phong"===a.type&&i.dP.vV(o("uCameraLoc"),i.MY).vV(o("uLightLoc"),i.CY).Qz(o("uAmbientReflection"),a.ambientReflection).Qz(o("uSpecularReflection"),a.specularReflection).Qz(o("uDiffuseReflection"),a.diffuseReflection).Qz(o("uShininess"),a.shininess).HE(o("uLightColor"),a.specularColor).HE(o("uAmbientColor"),a.ambientColor),f&&i.dP.Qz(o("uWireframeThickness"),f.thickness).HE(o("uWireframeColor"),f.fillStyleSolid.getColor()),u&&i.dP.HE(o("uColorDiffuse"),u.getColor()),r.fillStyleEmpty&&i.dP.HE(o("uColorDiffuse"),R)):"primitive"===r.type&&u&&i.dP.HE(o("uColor"),u.getColor()),l){var S=qm(l,i,i.ia);if(!S&&l.lut.percentageValues)return!1;i.dP.mN(d,l.lut,S)}var A=gi(e);return i.tM.forEach((function(e){if(1===t){var s=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(A.Gt(e.existingDataPointsCount),2),u=s[0],l=s[1];i.dP.yV(o("uFirstId"),u),"instanced"===r.type?i.dP.fN(d,l):i.dP.hN(d,l)}n.bindBuffer(n.ARRAY_BUFFER,e.vertexBuffer);var g=p("aPos");if(n.vertexAttribPointer(g,3,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),"instanced"===r.type&&i.dP._V(g,1),n.enableVertexAttribArray(g),r.fillStyleIndividual&&void 0!==i.uU.attributeOffsetColor&&1!==t){var m=p("aColor");n.vertexAttribPointer(m,4,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),"instanced"===r.type&&i.dP._V(m,1),n.enableVertexAttribArray(m)}if(h&&void 0!==i.uU.attributeOffsetSize){"instanced"===r.type?i.dP.Qz(y("uRatioNwuWu"),i.vY.BY()):"primitive"===r.type&&i.dP.Qz(o("uDevicePixelRatio"),i.dP.kz());var x=p("instanced"===r.type?"aOffsetNWU":"aPointSize");n.vertexAttribPointer(x,1,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),"instanced"===r.type&&i.dP._V(x,1),n.enableVertexAttribArray(x)}if(c&&void 0!==i.uU.attributeOffsetPointSize3D&&"instanced"===r.type){var S=p("aOffsetAxis");n.vertexAttribPointer(S,3,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),"instanced"===r.type&&i.dP._V(S,1),n.enableVertexAttribArray(S)}if(r.fillStylePaletted&&"value"===r.fillStylePaletted.getLookUpProperty()&&void 0!==i.uU.attributeOffsetLookUpValue&&1!==t){var b=p("aLookupValue");n.vertexAttribPointer(b,1,n.FLOAT,!1,i.uU.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,i.uU.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),"instanced"===r.type&&i.dP._V(b,1),n.enableVertexAttribArray(b)}"instanced"===r.type?(r.geometry.Mb(d,e.existingCoordinatesCount,"phong"===a.type&&1!==t,Boolean(f)&&1!==t),v=!0):"primitive"===r.type&&(i.dP.Mb(n.POINTS,e.existingCoordinatesCount),v=!0)})),v})),{idCount:o}},e.prototype.aa=function(t,e){Array.isArray(t)||(t=[t]),this.Jh=Ge(this.Jh,t,{canReturnB:!0}),this.qh+=t.length;var i=e||Ri(t);return this.$h=this.$h?Ni(this.$h,i):i,this.ia=void 0,this},e.prototype.tg=function(t){return this.$p="function"==typeof t?t(this.$p):t,this},e.prototype.JY=function(){return this.$p},e.prototype.yt=function(){return this.$h?Math.max(this.$h.max.x,this.Qh.max.x):this.Qh.max.x},e.prototype.At=function(){return this.$h?Math.min(this.$h.min.x,this.Qh.min.x):this.Qh.min.x},e.prototype.St=function(){return this.$h?Math.max(this.$h.max.y,this.Qh.max.y):this.Qh.max.y},e.prototype.bt=function(){return this.$h?Math.min(this.$h.min.y,this.Qh.min.y):this.Qh.min.y},e.prototype.Rp=function(){return this.$h?Math.max(this.$h.max.z,this.Qh.max.z):this.Qh.max.z},e.prototype.Gp=function(){return this.$h?Math.min(this.$h.min.z,this.Qh.min.z):this.Qh.min.z},e.prototype.xa=function(){var t=this.$p,e=t.getSize();return"number"==typeof e?yo(t)?e/2:go(t)?5:0:0},e.prototype.wa=function(){return this.xa()},e.prototype.Wp=function(){return this.xa()},e.prototype.ra=function(){return this.pf},e.prototype.na=function(){return this.Jh},e.prototype.fa=function(){return this.Kh},e.prototype.ca=function(){return this.qh},e.prototype.zt=function(){return this.ta=!0,this.pf.length=0,this.Kh=0,this.Jh=[],this.qh=0,this.Qh=wi,this.$h=void 0,this.ia=void 0,this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.nU.ZG(),this.nG=void 0,this},e.prototype.mP=function(){return this.dispose(),this},e}(Wb),pM=function(t,e,i){var n=e.getSize();return nM(t,"number"==typeof n?i||n>=50?20:n>=10?10:n>=3?5:3:32)},dM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),yM=function(){return(yM=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},vM=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n)||this;o.lY="disabled",o.Or=ko.fillStyle,o.Ff=ko.lineStyle,o.XU=b("bilinear"),o.qY=[],o.$Y=void 0,o.nG={},o.tX=!1,o.qN=Qm({fillStyleSolid:function(){return it(o.Or)&&o.Or},fillStylePaletted:function(){return st(o.Or)&&o.Or},wireframeStyleLine:function(){return Zn(o.Ff)&&o.Ff},wireframeStyleFill:function(){var t=o.Ff&&o.Ff.getFillStyle();return it(t)&&t}}),o.Fi={x:0,z:0},o.LC={x:1,z:1},o.Op.M(ia);var s="columns"===r.dataOrder?r.columns:r.rows,a="columns"===r.dataOrder?r.rows:r.columns;o.Ws=yM(yM({},r),{primaryDimensionVectorsCount:s,secondaryDimensionVectorsCount:a}),o.iX=new Array(o.Ws.primaryDimensionVectorsCount).fill(void 0),o.MM=new eb(o.UN,e.UN.uW,e.fn.vt,ue,[],o.Ws).If(gt),o.MM.QU=WA;var u=o.MM.JU.gridTiles.map((function(t){var e=t.sizeHeatmapDataVectors,i=t.sizeUniqueHeatmapDataVectors,n=t.iFirstVector,r=t.iFirstUniqueVector,o=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary),s={primary:t.sizeHeatmapDataVectors.primary-1,secondary:t.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:t.iFirstVector,iFirstUniqueVector:t.iFirstUniqueVector,sizeHeatmapDataVectors:t.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:t.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:n,iFirstGeometryUniqueVector:r,sizeGeometryDataVectors:e,sizeUniqueGeometryDataVectors:i,heightmapData:o,normalmapSize:s}})),l=o.MM.JU.gridTileSizes.map((function(t){var e=u.filter((function(e){return e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary})),i=e[0].sizeGeometryDataVectors;return yM(yM({},t),{tiles:e,sizeGeometryData:i})})),h=u.reduce((function(t,e){var i=e.sizeHeatmapDataVectors.primary,n=e.sizeHeatmapDataVectors.secondary,r=i*n;return r>t.cells?{primary:i,secondary:n,cells:r}:t}),{primary:0,secondary:0,cells:0});return o.nX={gridTiles:u,gridTileSizes:l,largestGridTileSize:h},o.Hg(o.Fi,o.LC),o}return dM(e,t),e.prototype.QN=function(t,e,i,n,r){var o=this,s=t-e,a=s%(this.Ws.secondaryDimensionVectorsCount-1),u=Math.floor(s/(this.Ws.secondaryDimensionVectorsCount-1)),l="columns"===this.Ws.dataOrder?u:a,h="rows"===this.Ws.dataOrder?u:a,c=[{x:this.Fi.x+l*this.LC.x,z:this.Fi.z+h*this.LC.z,y:this.rX(u,a),intensity:this.eX(u,a),column:"columns"===this.Ws.dataOrder?u:a,row:"columns"===this.Ws.dataOrder?a:u},{x:this.Fi.x+(l+("columns"===this.Ws.dataOrder?1:0))*this.LC.x,z:this.Fi.z+(h+("rows"===this.Ws.dataOrder?1:0))*this.LC.z,y:this.rX(u+1,a),intensity:this.eX(u+1,a),column:"columns"===this.Ws.dataOrder?u+1:a,row:"columns"===this.Ws.dataOrder?a:u+1},{x:this.Fi.x+(l+1)*this.LC.x,z:this.Fi.z+(h+1)*this.LC.z,y:this.rX(u+1,a+1),intensity:this.eX(u+1,a+1),column:"columns"===this.Ws.dataOrder?u+1:a+1,row:"columns"===this.Ws.dataOrder?a+1:u+1},{x:this.Fi.x+(l+("columns"===this.Ws.dataOrder?0:1))*this.LC.x,z:this.Fi.z+(h+("rows"===this.Ws.dataOrder?0:1))*this.LC.z,y:this.rX(u,a+1),intensity:this.eX(u,a+1),column:"columns"===this.Ws.dataOrder?u:a+1,row:"columns"===this.Ws.dataOrder?a+1:u}],f=c.map((function(t){return o.vY.bp(t)})).map((function(t){return void 0===t?Ai:Oi(t,{x:n,y:r})})).map((function(t,e){return{i:e,dist:t}}));f.sort((function(t,e){return t.dist-e.dist}));var p=f[0].i;return{info:{dataPoint:yM({},c[p])}}},e.prototype.rX=function(t,e){for(var i=0;i<this.nX.gridTiles.length;i+=1){var n=this.nX.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){var r=t-n.iFirstVector.primary,o=e-n.iFirstVector.secondary,s=r*n.sizeHeatmapDataVectors.secondary+o;return n.heightmapData[s]}}return 0},e.prototype.eX=function(t,e){if(this.MM.ZU)for(var i=0;i<this.MM.JU.gridTiles.length;i+=1){var n=this.MM.JU.gridTiles[i];if(t>=n.iFirstVector.primary&&t<=n.iFirstVector.primary+n.sizeHeatmapDataVectors.primary-1&&e>=n.iFirstVector.secondary&&e<=n.iFirstVector.secondary+n.sizeHeatmapDataVectors.secondary-1){var r=t-n.iFirstVector.primary,o=e-n.iFirstVector.secondary,s=r*n.sizeHeatmapDataVectors.secondary+o;return n.intensityData[s]}}},e.prototype.oX=function(t){this.sX=t,this.$Y=void 0},e.prototype.Hg=function(t,e){var i=this;this.Fi=t,this.LC=e;var n=this.Ws,r={min:{x:Math.min(this.Fi.x,this.Fi.x+(n.columns-1)*this.LC.x),z:Math.min(this.Fi.z,this.Fi.z+(n.rows-1)*this.LC.z)},max:{x:Math.max(this.Fi.x,this.Fi.x+(n.columns-1)*this.LC.x),z:Math.max(this.Fi.z,this.Fi.z+(n.rows-1)*this.LC.z)}},o=new Map;return this.nX.gridTiles.forEach((function(t){var e="columns"===i.Ws.dataOrder?{x:i.LC.x*(t.sizeHeatmapDataVectors.primary-1),z:i.LC.z*(t.sizeHeatmapDataVectors.secondary-1)}:{x:i.LC.x*(t.sizeHeatmapDataVectors.secondary-1),z:i.LC.z*(t.sizeHeatmapDataVectors.primary-1)},n="columns"===i.Ws.dataOrder?{x:i.Fi.x+i.LC.x*t.iFirstVector.primary,z:i.Fi.z+i.LC.z*t.iFirstVector.secondary}:{x:i.Fi.x+i.LC.x*t.iFirstVector.secondary,z:i.Fi.z+i.LC.z*t.iFirstVector.primary};o.set(t,{sizeAxis:e,startLocationAxis:n})})),this.nW={uX:r,tilesInfo:o},this},e.prototype.Zg=function(){return{start:this.Fi,step:this.LC,end:{x:this.Fi.x+this.LC.x*this.Ws.columns,z:this.Fi.z+this.LC.z*this.Ws.rows}}},e.prototype.En=function(t){var e=this,i=this.qY,n=ts(this.eh,this.Or),r=this.qN.fillStyleSolid(n),o=this.qN.fillStylePaletted(n),s=this.Ff,a=this.Ff!==this.Jf,u=this.qN.wireframeStyleLine(a),l=this.qN.wireframeStyleFill(a),h=!1!==l,c=this.XU.o,f=this.XU.C(),p=this.Op.C(),d=this.Cz(),y=this.Bu.C();this.MM.En();var v=this.MM.qU;if(!v)return this;this.hX=this.hX||this.aX(v);var g=this.hX;this.fX(g);var m=XA(i,g,void 0,(function(t){return t.sizeGeometryDataVectors}));if(m.size>0&&(QA(this.dP,m,(function(t){return t.heightmapData}),(function(t){return t.heightmapDataTexture})),this.tX=!0),"phong"===p.type&&(m.size>0||d)){var x=this.dP.gl,S=this.dP.UL(zx["2D"],zx.DrawToNormalTexture({flipXZ:"rows"===this.Ws.dataOrder,vertexIdSource:this.dP.uN(),normalTextureType:this.dP.gl2?"uint":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN}));g.gridTileSizes.forEach((function(t){t.tiles.forEach((function(i){var n,r=i.normalmapTexture,o=null===(n=e.nW)||void 0===n?void 0:n.tilesInfo.get(i.tileData);if(r&&o){var s={x:i.normalmapSize.secondary,y:i.normalmapSize.primary},a=s.x*s.y;e.dP.WV.AE((function(){e.dP.Wz(S,(function(n,r,s,u){return e.dP.TP(S).hN(s,a).Xz(n("uTileDimensionsXZ"),["columns"===e.Ws.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===e.Ws.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary]).cV(n("uTileDimensions"),[t.sizeHeatmapData.primary,t.sizeHeatmapData.secondary]).Xz(n("uTileStartLocationAxisXZ"),[o.startLocationAxis.x,o.startLocationAxis.z]).Xz(n("uTileSizeAxisXZ"),[o.sizeAxis.x,o.sizeAxis.z]).Zz(n("uHeightmapTexture"),i.heightmapDataTexture,1).Mb(x.POINTS,a),!0}))}),r,s,void 0,e.fn.ps(),0)}}))}))}var A=this.nG;if(n||a||c){var b=u&&l?{wireframeSolid:u,wireframeFillSolid:l}:void 0;r?A.surface={shader:this.dP.UL(zx["3D"],zx.SurfaceGrid({axisWorldTranslation:Zm(this.vt),fillColor:"uniform",interpolation:"bilinear"===f&&"bilinear",flipXZ:"rows"===this.Ws.dataOrder,shadingStyle:p.type,wireframe:h,normalTextureType:this.dP.gl2?"uint":"ubyte",intensityTextureType:this.dP.zL?"float":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:r},wireframe:b}:o&&"value"===o.getLookUpProperty()?A.surface={shader:this.dP.UL(zx["3D"],zx.SurfaceGrid({axisWorldTranslation:Zm(this.vt),fillColor:["lookup","value",o.lut],interpolation:"bilinear"===f&&"bilinear",flipXZ:"rows"===this.Ws.dataOrder,shadingStyle:p.type,wireframe:h,normalTextureType:this.dP.gl2?"uint":"ubyte",intensityTextureType:this.dP.zL?"float":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:o},wireframe:b}:o?A.surface={shader:this.dP.UL(zx["3D"],zx.SurfaceGrid({axisWorldTranslation:Zm(this.vt),fillColor:["lookup",o.getLookUpProperty(),o.lut],interpolation:"bilinear"===f&&"bilinear",flipXZ:"rows"===this.Ws.dataOrder,shadingStyle:p.type,wireframe:h,normalTextureType:this.dP.gl2?"uint":"ubyte",intensityTextureType:this.dP.zL?"float":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:o},wireframe:b}:h&&(A.surface={shader:this.dP.UL(zx["3D"],zx.SurfaceGrid({axisWorldTranslation:Zm(this.vt),fillColor:void 0,interpolation:"bilinear"===f&&"bilinear",flipXZ:"rows"===this.Ws.dataOrder,shadingStyle:p.type,wireframe:h,normalTextureType:this.dP.gl2?"uint":"ubyte",intensityTextureType:this.dP.zL?"float":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:b})}return A.mousePicking=y?this.nG.mousePicking||{shader:this.dP.UL(zx["3D"],zx.MousePicking(),zx.SurfaceGrid({axisWorldTranslation:Zm(this.vt),fillColor:void 0,interpolation:"bilinear"===f&&"bilinear",flipXZ:"rows"===this.Ws.dataOrder,shadingStyle:"simple",wireframe:!1,normalTextureType:this.dP.gl2?"uint":"ubyte",intensityTextureType:this.dP.zL?"float":"ubyte",heightmapTextureType:this.dP.zL?"float":"ubyte",littleEndian:this.dP.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.nG=A,this.qY.length=0,this.eh=this.Or,this.Jf=s,this.Op.o=!1,this},e.prototype.aX=function(t){var e=this,i=this.nX.gridTiles.map((function(i){var n=ZA(e.dP,i.sizeHeatmapDataVectors.secondary,i.sizeHeatmapDataVectors.primary),r=t.gridTiles.find((function(t){return t.iFirstUniqueVector.primary===i.iFirstUniqueVector.primary&&t.iFirstUniqueVector.secondary===i.iFirstUniqueVector.secondary}));if(!r)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return yM(yM({},i),{intensityDataTexture:r.intensityDataTexture,heightmapDataTexture:n,normalmap:void 0,tileData:i})})),n=this.nX.gridTileSizes.map((function(t){var e=i.filter((function(e){return e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary}));return yM(yM({},t),{tiles:e})})),r=this.dP.Gz([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),o=this.dP.gl.TRIANGLES;return{gridTiles:i,gridTileSizes:n,rectangleLocationsBuffer:r,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:o}},e.prototype.fX=function(t){var e,i=this;if("phong"===this.Op.C().type)for(var n=0;n<t.gridTiles.length;n+=1){var r=t.gridTiles[n];if(r.normalmapTexture)return;var o=void 0,s=null===(e=this.dP.gl2)||void 0===e?void 0:e.ctx;if(s)o=this.dP.KV(null,s.RGBA_INTEGER,!1,!0,{x:r.normalmapSize.secondary,y:r.normalmapSize.primary},!1,s.UNSIGNED_INT,s.RGBA32UI);else{var a=this.dP.gl;o=this.dP.KV(null,a.RGBA,!1,!0,{x:r.normalmapSize.secondary,y:r.normalmapSize.primary},!1,a.UNSIGNED_BYTE)}r.normalmapTexture=o}else t.gridTiles.forEach((function(t){t.normalmapTexture&&(i.dP.bP(t.normalmapTexture),t.normalmapTexture=void 0)}))},e.prototype.AE=function(t,e){var i,n,r,o,s=this,a=this.dP.gl,u=this.hX;if(!u)return{};var l=this.Op.C(),h=this.nG,c=1===t?null===(i=h.mousePicking)||void 0===i?void 0:i.shader:null===(n=h.surface)||void 0===n?void 0:n.shader;if(!c)return{};var f=1!==t?null===(r=h.surface)||void 0===r?void 0:r.wireframe:void 0,p=1!==t?null===(o=h.surface)||void 0===o?void 0:o.fill:void 0;return this.dP.Wz(c,(function(i,n,r,o){var h=!1;if(s.dP.TP(c).fN(r,s.nX.largestGridTileSize.cells).vV(i("uScale"),s.vY.UP.Kz()).vV(i("uDisp"),s.vY.UP.Jz()).AV(i("uViewProjectionMatrix"),s.wY).Qz(i("uIsHighlighted"),1===t||2===t?0:s.zu).HE(i("uHighlightColorOffset"),1===t||2===t?R:s.Gu).Qz(i("uRenderEffectMask"),2===t?1:0),1!==t&&("phong"===l.type&&s.dP.vV(i("uCameraLoc"),s.MY).vV(i("uLightLoc"),s.CY).Qz(i("uAmbientReflection"),l.ambientReflection).Qz(i("uSpecularReflection"),l.specularReflection).Qz(i("uDiffuseReflection"),l.diffuseReflection).Qz(i("uShininess"),l.shininess).HE(i("uLightColor"),l.specularColor).HE(i("uAmbientColor"),l.ambientColor),f)){var d=f.wireframeFillSolid,y=f.wireframeSolid,v=y.getThickness()<0?1:y.getThickness();s.dP.HE(i("uWireframeColor"),d.getColor()).Qz(i("uWireframeThickness"),v)}return 1===t||"solid"===(null==p?void 0:p.fillMode)&&s.dP.HE(i("uColorDiffuse"),p.fillStyleSolid.getColor()),u.gridTileSizes.forEach((function(o){s.dP.Xz(i("uTileDimensionsXZ"),["columns"===s.Ws.dataOrder?o.sizeHeatmapData.primary:o.sizeHeatmapData.secondary,"columns"===s.Ws.dataOrder?o.sizeHeatmapData.secondary:o.sizeHeatmapData.primary]).cV(i("uTileDimensions"),[o.sizeHeatmapData.primary,o.sizeHeatmapData.secondary]),o.tiles.forEach((function(l){var c,d=null===(c=s.nW)||void 0===c?void 0:c.tilesInfo.get(l.tileData);if(d){var y=0,v=(l.sizeHeatmapDataVectors.primary-1)*(l.sizeHeatmapDataVectors.secondary-1);if(s.sX){var g=s.sX.fill.iFirstPrimary,m=s.sX.fill.iFirstPrimary+s.sX.fill.amountPrimary-1,x=l.iFirstVector.primary,A=l.iFirstVector.primary+l.sizeHeatmapDataVectors.primary-1;if(x>m||A<g)return;var b=function(t,e,i,n){return S(Math.max(t,i),Math.min(e,n))}(g,m,x,A);y=(b.min-l.iFirstVector.primary)*(o.sizeGeometryData.secondary-1),v=(b.max-b.min)*(o.sizeGeometryData.secondary-1)}if(!(y<0||v<=0)){if("intensity"===(null==p?void 0:p.fillMode)){var M=p.fillStylePaletted,w=s.MM.ia;s.dP.mN(r,M.lut,w).Zz(i("uTileIntensityValues"),l.intensityDataTexture,2).lV(i("uTileBoundsAxisXZ"),[d.startLocationAxis.x,d.startLocationAxis.z,d.sizeAxis.x,d.sizeAxis.z])}if("xyz"===(null==p?void 0:p.fillMode)){if(!(w="x"===(M=p.fillStylePaletted).getLookUpProperty()?{min:s.At(),max:s.yt()}:"y"===M.getLookUpProperty()?{min:s.bt(),max:s.St()}:"z"===M.getLookUpProperty()?{min:s.Gp(),max:s.Rp()}:void 0)&&M.lut.percentageValues)return;s.dP.mN(r,M.lut,w)}1!==t&&"phong"===s.Op.C().type&&l.normalmapTexture&&s.dP.Zz(i("uNormalmapTexture"),l.normalmapTexture,3),1===t&&s.dP.yV(i("uFirstId"),e+y),s.dP.Yz(u.rectangleLocationsBuffer,0,{location:n("aGeoCellOffset"),size:2},{location:f?n("aTriangleBary"):void 0,size:3}).yV(i("uBaseInstance"),y).Xz(i("uTileStartLocationAxisXZ"),[d.startLocationAxis.x,d.startLocationAxis.z]).Xz(i("uTileSizeAxisXZ"),[d.sizeAxis.x,d.sizeAxis.z]).Zz(i("uHeightmapTexture"),l.heightmapDataTexture,0).DV(u.rectangleLocationsDrawMode,0,u.rectangleLocationsDrawLength,v),h=!0,a.bindBuffer(a.ARRAY_BUFFER,null)}}}))})),h})),{idCount:this.Ws.columns*this.Ws.rows}},e.prototype.dispose=function(){var e=this;return t.prototype.dispose.call(this),this.MM.dispose(),this.hX&&(this.hX.gridTileSizes.forEach((function(t){})),this.hX.gridTiles.forEach((function(t){e.dP.bP(t.heightmapDataTexture),t.normalmapTexture&&e.dP.bP(t.normalmapTexture)})),this.dP.tV(this.hX.rectangleLocationsBuffer),this.hX=void 0),this.nG={},this},e.prototype.mP=function(){return this.dispose(),this.MM.mP(),this},e.prototype.Jg=function(t){return this.MM.Jg(t),this},e.prototype.qg=function(t){this.qY.push(t),HA(this.nX.gridTiles,t,(function(t){return t.heightmapData}));for(var e=t.startPrimary;e<t.startPrimary+t.lengthPrimary;e+=1)this.iX[e]=void 0;return this.$Y=void 0,this},e.prototype.Qg=function(t){return this.XU.M(t),this},e.prototype.Kg=function(){return this.XU.C()},e.prototype.Br=function(t){return this.Or=$o(this.Or,t),this.MM.Br(this.Or),this},e.prototype.We=function(){return this.Or},e.prototype.If=function(t){return this.Ff="function"==typeof t?t(this.Ff):t,this},e.prototype.jf=function(){return this.Ff},e.prototype.yt=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.uX.max.x)||0},e.prototype.At=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.uX.min.x)||0},e.prototype.St=function(){var t=this.$Y||this.cX();return this.$Y=t,t.max},e.prototype.bt=function(){var t=this.$Y||this.cX();return this.$Y=t,t.min},e.prototype.Rp=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.uX.max.z)||0},e.prototype.Gp=function(){var t;return(null===(t=this.nW)||void 0===t?void 0:t.uX.min.z)||0},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.Wp=function(){return 0},e.prototype.cX=function(){var t=this;if(this.$Y)return this.$Y;var e=this.sX?this.sX.fill.iFirstPrimary:0,i=this.sX?e+this.sX.fill.amountPrimary-1:this.Ws.primaryDimensionVectorsCount-1,n=Ai,r=bi;return this.nX.gridTiles.forEach((function(o){for(var s=Math.max(e,o.iFirstUniqueVector.primary);s<=Math.min(i,o.iFirstUniqueVector.primary+o.sizeUniqueHeatmapDataVectors.primary-1);s+=1){var a=(s-o.iFirstUniqueVector.primary)*o.sizeHeatmapDataVectors.secondary,u=t.iX[s];if(u)n=n<u.min?n:u.min,r=r>u.max?r:u.max;else{u={min:Ai,max:bi},t.iX[s]=u;for(var l=0;l<o.sizeHeatmapDataVectors.secondary;l+=1){var h=o.heightmapData[a+l];n=n<h?n:h,r=r>h?r:h,u.min=Math.min(u.min,h),u.max=Math.max(u.max,h)}}}})),this.$Y={min:n,max:r},this.$Y},e}(Wb),gM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),mM=function(){return(mM=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},xM=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n)||this;o.lY="disabled",o.eW=0,o.sW={},o.lX=new Map,o.Fi={x:0,z:0},o.LC={x:1,z:1},o.Ws=mM(mM({},r),{scrollDimensionSize:"columns"===r.scrollDimension?r.columns:r.rows,staticDimensionSize:"columns"===r.scrollDimension?r.rows:r.columns}),o.uX={min:{x:o.Fi.x,z:o.Fi.z},max:{x:"rows"===r.scrollDimension?o.Fi.x+(r.columns-1)*o.LC.x:o.Fi.x,z:"columns"===r.scrollDimension?o.Fi.z+(r.rows-1)*o.LC.z:o.Fi.z}};var s=function(){return{shape:new vM(o.vY,ue,o.Nu,{columns:r.columns+("columns"===r.scrollDimension?1:0),rows:r.rows+("rows"===r.scrollDimension?1:0),dataOrder:r.scrollDimension,heatmapDataType:"intensity"}).setVisible(!1),hasData:!1}};return o.tM=[s(),s()],o}return gM(e,t),e.prototype.En=function(t){this.tM.forEach((function(e){e.shape.En(t)}));var e=this.tM.reduce((function(t,e){var i,n;return t.min=Math.min(t.min,ye(null===(i=e.shape.MM.ia)||void 0===i?void 0:i.min,Ai)),t.max=Math.max(t.max,ye(null===(n=e.shape.MM.ia)||void 0===n?void 0:n.max,bi)),t}),{min:Ai,max:bi}),i=this.tM.reduce((function(t,e){var i,n;return t.min=Math.min(t.min,ye(null===(i=e.shape.$Y)||void 0===i?void 0:i.min,Ai)),t.max=Math.max(t.max,ye(null===(n=e.shape.$Y)||void 0===n?void 0:n.max,bi)),t}),{min:Ai,max:bi});return this.tM.forEach((function(t){t.shape.MM.ia=e,t.shape.$Y=i})),this},e.prototype.AE=function(t,e){var i=this,n=0;return this.tM.forEach((function(r){if(r.hasData){r.shape.wY=i.wY,r.shape.MY=i.MY,r.shape.CY=i.CY;var o=r.shape.AE(t,e+n).idCount;void 0!==o&&(i.lX.set(r,{idFirst:e+n,idCount:o}),n+=o)}})),{idCount:n}},e.prototype.QN=function(t,e,i,n,r){var o=Array.from(this.lX).find((function(e){return _i(t,e[1].idFirst,e[1].idFirst+e[1].idCount-1)}));return o?o[0].shape.QN(t,o[1].idFirst,o[1].idCount,n,r):{}},e.prototype.Hg=function(t,e){var i=this;return this.Fi=t,this.LC=e,this.tM.forEach((function(t){t.shape.Hg("columns"===i.Ws.scrollDimension?{x:t.shape.Zg().start.x,z:i.Fi.z}:{x:i.Fi.x,z:t.shape.Zg().start.z},i.LC)})),"columns"===this.Ws.scrollDimension?(this.uX.min.z=t.z,this.uX.max.z=this.Fi.z+(this.Ws.rows-1)*this.LC.z):(this.uX.min.x=t.x,this.uX.max.x=this.Fi.x+(this.Ws.columns-1)*this.LC.x),this},e.prototype.Zg=function(){return{start:this.Fi,step:this.LC}},e.prototype.zt=function(){return this.eW=0,this.sW={},this.uX={min:{x:this.Fi.x,z:this.Fi.z},max:{x:"rows"===this.Ws.scrollDimension?this.Fi.x+(this.Ws.columns-1)*this.LC.x:this.Fi.x,z:"columns"===this.Ws.scrollDimension?this.Fi.z+(this.Ws.rows-1)*this.LC.z:this.Fi.z}},this.tM.forEach((function(t){t.shape.setVisible(!1),t.shape.tX=!1,t.hasData=!1})),this},e.prototype.nS=function(t){var e,i=this.tM[0],n=this.tM[1],r=t.heightMapValues?t.heightMapValues.length:null===(e=t.intensityValues)||void 0===e?void 0:e.length,o=0;if(!r)return this;do{var s=Math.floor(this.eW/this.Ws.scrollDimensionSize)%this.tM.length,a=this.tM[s],u=this.eW%this.Ws.scrollDimensionSize,l=this.Ws.scrollDimensionSize-u,h=0===u,c=Math.min(l,r),f=u+c,p=u,d=p+1,y=o,v=o+c,g=this.eW>=this.Ws.scrollDimensionSize&&f<=this.Ws.scrollDimensionSize-1,m=h;h&&(a.shape.Hg("columns"===this.Ws.scrollDimension?{x:this.Fi.x+(this.eW-1)*this.LC.x,z:this.Fi.z}:{x:this.Fi.x,z:this.Fi.z+(this.eW-1)*this.LC.z},this.LC),a.shape.setVisible(!0));var x=g?0:1,S=f+(g?1:0);a.shape.oX({fill:{iFirstPrimary:x,amountPrimary:S},wireframe:{iFirstPrimary:x,amountPrimary:S,connectNext:!1}});var A=a===i?n:i,b=f+1,M=1+this.Ws.scrollDimensionSize-b;A.shape.oX({fill:{iFirstPrimary:b,amountPrimary:M},wireframe:{iFirstPrimary:b,amountPrimary:M-1,connectNext:!0}});var w={};if(t.heightMapValues){var C=t.heightMapValues.slice(y,v),P=!1;m&&this.sW.yValues&&(P=!0,C.splice(0,0,this.sW.yValues));var E={startPrimary:P?p:d,startSecondary:0,lengthPrimary:C.length,lengthSecondary:this.Ws.staticDimensionSize,values:C,type:"y"};a.shape.qg(E),a.hasData=!0,w.yValues=C[c-1]}if(t.intensityValues){var T=t.intensityValues.slice(y,v),k=!1;m&&this.sW.intensityValues&&(k=!0,T.splice(0,0,this.sW.intensityValues)),E={startPrimary:k?p:d,startSecondary:0,lengthPrimary:T.length,lengthSecondary:this.Ws.staticDimensionSize,values:T,type:"intensity"},a.shape.Jg(E),a.hasData=!0,w.intensityValues=T[c-1]}this.eW+=c,o+=c,this.sW=w}while(o<r);return"columns"===this.Ws.scrollDimension?(this.uX.min.x=this.Fi.x+Math.max(this.eW-this.Ws.scrollDimensionSize,0)*this.LC.x,this.uX.max.x=this.Fi.x+(this.eW-1)*this.LC.x):(this.uX.min.z=this.Fi.z+Math.max(this.eW-this.Ws.scrollDimensionSize,0)*this.LC.z,this.uX.max.z=this.Fi.z+(this.eW-1)*this.LC.z),this},e.prototype.Qg=function(t){return this.tM.forEach((function(e){return e.shape.Qg(t)})),this},e.prototype.Kg=function(){return this.tM[0].shape.Kg()},e.prototype.Br=function(t){return this.tM.forEach((function(e){return e.shape.Br(t)})),this},e.prototype.We=function(){return this.tM[0].shape.We()},e.prototype.If=function(t){return this.tM.forEach((function(e){return e.shape.If(t)})),this},e.prototype.jf=function(){return this.tM[0].shape.jf()},e.prototype.mP=function(){return this.dispose(),this.tM.forEach((function(t){return t.shape.mP()})),this},e.prototype.dispose=function(){return t.prototype.dispose.call(this),this.tM.forEach((function(t){return t.shape.dispose()})),this},e.prototype.setVisible=function(e){return t.prototype.setVisible.call(this,e),this.tM.forEach((function(t){return t.shape.setVisible(e&&t.hasData)})),this},e.prototype.zp=function(e){return t.prototype.zp.call(this,e),this.tM.forEach((function(t){return t.shape.zp(e)})),this},e.prototype.yt=function(){return this.uX.max.x},e.prototype.At=function(){return this.uX.min.x},e.prototype.St=function(){return Math.max(this.tM[0].shape.St(),this.tM[1].shape.St())},e.prototype.bt=function(){return Math.min(this.tM[0].shape.bt(),this.tM[1].shape.bt())},e.prototype.Rp=function(){return this.uX.max.z},e.prototype.Gp=function(){return this.uX.min.z},e.prototype.xa=function(){return 0},e.prototype.wa=function(){return 0},e.prototype.Wp=function(){return 0},e.prototype.cn=function(e){return t.prototype.cn.call(this,e),this.tM.forEach((function(t){return t.shape.cn(e)})),this},e}(Wb),SM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),AM=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n)||this;return o.vX=45,o.dX=.1,o.AX=100,o.MY=m(0,0,1),o.yX=m(0,0,-1),o.mX=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],o.Op=new ta,o.vt=r,o}return SM(e,t),e.prototype.kS=function(){var t=this.vt,e=t.cellIndex,i=t.cellSpan,n=t.cellsAmount,r=i.x/n.x,o=i.y/n.y,s=e.x/n.x,a=e.y/n.y,u=this.fn.oi();return{x:s*u.x,y:a*u.y,width:r*u.x,height:o*u.y}},e.prototype.setCameraLocation=function(t){return this.MY=t,this},e.prototype.getCameraLocation=function(){return this.MY},e.prototype.setCameraDirection=function(t){return this.yX=xi.normalize(t),this},e.prototype.getCameraDirection=function(){return this.yX},e.prototype.setLightLocation=function(t){return this.CY=t,this},e.prototype.getLightLocation=function(){return this.CY},e.prototype.bX=function(){return m(this.mX[0],this.mX[1],this.mX[2])},e.prototype.pX=function(){return m(this.mX[4],this.mX[5],this.mX[6])},e}(Tb),bM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),MM=function(){return(MM=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},wM=function(t){function e(e,i,n,r){var o=t.call(this,e,i,n,r)||this;return o.UP=new BS,o.gX=!0,o.SX="perspective",o.UN=e,o.gl=e.YN(),o.sY=o.iY,o.xX=o.fn._u((function(){o.gX=!0})),o.wX=r.W((function(){o.gX=!0})),o}return bM(e,t),e.prototype.Rz=function(t){var e=t.At(),i=t.bt(),n=t.Gp(),r=t.yt(),o=t.St(),s=t.Rp();if(e===Ai||r===bi||i===Ai||o===bi||n===Ai||s===bi)return Mi;var a,u=t.xa(),l=t.wa(),h=t.Wp(),c=Math.abs(t.In.yp(u)*t.vt.x.et()),f=Math.abs(t.In.yp(l)*t.vt.y.et()),p=Math.abs(t.In.yp(h)*t.vt.z.et()),d=e-c,y=r+c,v=i-f,g=o+f,m=n-p,x=s+p;return[{x:d,y:v,z:m},{x:y,y:v,z:m},{x:d,y:g,z:m},{x:y,y:g,z:m},{x:d,y:v,z:x},{x:y,y:v,z:x},{x:d,y:g,z:x},{x:y,y:g,z:x}].map((function(e){return t.In.bp(e)})).forEach((function(t){if(t){var e={min:t,max:t};a=a?Vi(a,{min:t,max:t}):e}})),a||Mi},e.prototype.bp=function(t){if(this.MX(),this.CX(),this.wY){var e=this.UP.Jz(),i=m(e[0],e[1],e[2]),n=this.UP.Kz(),r=m(n[0],n[1],n[2]),o=xi.divideVec(xi.subtractVec(t,i),r),s=this.wY,a=xS.multiply(s,[o.x,o.y,o.z,1]),u=y(a[0]/a[3],a[1]/a[3]),l=this.fn.oi();return{x:.5*(1+u.x)*l.x,y:.5*(1+u.y)*l.y}}},e.prototype.HS=function(t){var e=this.UP.Jz(),i=this.UP.Kz(),n=xi.divideVec(xi.subtractVec(t,{x:e[0],y:e[1],z:e[2]}),{x:i[0],y:i[1],z:i[2]});return MM(MM({},t),{x:n.x,y:n.y,z:n.z})},e.prototype.ZS=function(t){var e=this.UP.Jz(),i=this.UP.Kz(),n=xi.addVec(xi.multiplyVec(t,{x:i[0],y:i[1],z:i[2]}),{x:e[0],y:e[1],z:e[2]});return MM(MM({},t),{x:n.x,y:n.y,z:n.z})},e.prototype.yp=function(t){return t/1e3},e.prototype.BY=function(){return.001},e.prototype.En=function(){var t=this.MY,e=this.CY,i=this.vt.x.o||this.vt.y.o||this.vt.z.o;if(!e)throw $e(0,(function(){return ti()}));var n=this.MX().viewProjectionMatrix;this.CX();var r=[t.x,t.y,t.z],o=[e.x,e.y,e.z];return this.iY.forEach((function(t){t.wY=n,t.MY=r,t.CY=o,t.En(i)})),this},e.prototype.YS=function(t){this.SX!==t&&(this.SX=t,this.gX=!0)},e.prototype.XS=function(){return this.SX},e.prototype.MX=function(){if(!this.gX&&this.wY)return{viewProjectionMatrix:this.wY};var t=this.kS(),e=t.width/t.height;if("perspective"===this.SX)this._X=xS.projectionPerspective(this.vX,e,this.dX,this.AX);else{var i=void 0,n=void 0;e>1?n=(i=.5)/e:i=(n=.5)*e,this._X=xS.projectionOrthographic(-i,i,-n,n,this.dX,this.AX)}var r=this.MY;this.mX[12]=r.x,this.mX[13]=r.y,this.mX[14]=r.z;var o=this.yX,s=m(0,1,0),a=xi.multiply(o,-1),u=xi.normalize(xi.cross(s,a)),l=xi.normalize(xi.cross(a,u));this.mX[0]=u.x,this.mX[1]=u.y,this.mX[2]=u.z,this.mX[4]=l.x,this.mX[5]=l.y,this.mX[6]=l.z,this.mX[8]=a.x,this.mX[9]=a.y,this.mX[10]=a.z,this.TX=xS.inverse(this.mX);var h=this.vt,c=h.cellIndex,f=h.cellSpan,p=h.cellsAmount,d=f.x/p.x,y=f.y/p.y,v=(c.x+f.x/2)/p.x,g=(c.y+f.y/2)/p.y,x=xS.multiply(xS.translation(Hs(-1,1,v),Hs(-1,1,g),0),xS.scaling(d,y,1));return this.wY=xS.multiply(x,xS.multiply(this._X,this.TX)),this.kX=xS.inverse(this.wY),this.gX=!1,{viewProjectionMatrix:this.wY}},e.prototype.CX=function(){this.UP.PN(this.vt.x),this.UP.LN(this.vt.y),this.UP.zN(this.vt.z)},e.prototype.AE=function(t,e,i){var n,r=this.gl.kz(),o=this.kS(),s={x:o.x*r*e,y:o.y*r*e,width:o.width*r*e,height:o.height*r*e};this.gl.Nz(s.x,s.y,s.width,s.height);for(var a=((null===(n=i[i.length-1])||void 0===n?void 0:n.idLast)||0)+1,u=Array.from(this.sY.values()),l=0;l<u.length;l+=1){var h=u[l];if(h.getVisible())if(this.gl.Bz(h.lY),this.gl.Vp(h.jp),1!==t)h.AE(t,0);else if(1===t&&h.getMouseInteractions()){var c=h.AE(t,a).idCount;void 0!==c&&(i.push({entity:h,layer:this,entityIndex:l,idFirst:a,idCount:c,idLast:a+c-1}),a+=c)}}return this.gl.Bz("disabled"),this.gl.Vp(!1),this.gl.Ez(!1),this},e.prototype.setCameraLocation=function(e){return this.MY.x===e.x&&this.MY.y===e.y&&this.MY.z===e.z||(this.gX=!0),t.prototype.setCameraLocation.call(this,e),this},e.prototype.setCameraDirection=function(e){return this.yX.x===e.x&&this.yX.y===e.y&&this.yX.z===e.z||(this.gX=!0),t.prototype.setCameraDirection.call(this,e),this},e.prototype.U=function(){t.prototype.U.call(this),this.fn.Tu(this.xX),this.vt.Y(this.wX)},e.prototype.ig=function(t){return this.nY(new fM(this,this.rY,[],t))},e.prototype.Ib=function(t){return this.nY(new sM(this,this.rY,t))},e.prototype.Zp=function(){return this.nY(new Zb(this,this.rY,[]))},e.prototype.hS=function(){return this.nY(new hM(this,this.rY,[]))},e.prototype.py=function(){return this.nY(new tM(this,this.rY,[]))},e.prototype.Yg=function(t){return this.nY(new vM(this,this.rY,[],t))},e.prototype.iS=function(t){return this.nY(new xM(this,this.rY,[],t))},e}(AM),CM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),PM=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EM=function(t){function e(e,i,n,r){void 0===r&&(r=FS);var o=t.call(this,e,i,n)||this;if(o.Z=v(1,1),o.OX=!1,o.FX=0,o.IX=!0,o.jX=0,o.DY=8*Math.pow(1024,2),o.kL=[null,null],o.DX=null,o.BX=null,o.EX=0,o.Ey=!1,o.PX=0,o.Sn=function(t){return void 0===t&&(t=!1),o.Hi||o.os||Jx(o.dP.gl)||(t&&(o.OX=!0),o.Jo=!0,o.LX||o.Ns.GL(t)),o},o.LX=!1,o.HL=function(t){if(!o.Hi&&!o.os){var e=t-o.FX;if(e>=o.Js||-1===o.Js){o.LX=!0,o.FX=t,o.OX=!1;var i=e>50?1e3/60:e;o.qo&&o.qo(i),o.Jo=!1,-1!==o.Js&&o.OX&&(o.Ns.GL(o.OX),o.Jo=!0),o.an.En(e),o.Ss(),o.xs(),o.$o&&o.$o(),o.LX=!1,o.D.emit("render"),o.Jo&&o.Sn(o.OX)}else o.Jo=!0,o.Ns.GL()}},o.zX=new Map,o.YN=function(){return o.dP},o.VX=function(){var t,e,i,n=o.zs(),r=o.IX,s=ne.performance.now(),a=null===(t=o.NX)||void 0===t?void 0:t.RX.reduce((function(t,e){return t?e.GX&&t.GX&&e.GX>t.GX?e:t:e}),void 0),u=null==a?void 0:a.GX,l=null===(e=o.Ds)||void 0===e?void 0:e.timeStamp,h=null===(i=o.Vs)||void 0===i?void 0:i.timeStamp,c=o.UX;return r?(o.Sn(!0),!1):void 0===a||(void 0===a||!a.WX)&&(void 0!==h&&void 0!==u&&h>u||(void 0!==u&&void 0===n?s-u>=1e3:!(void 0!==u&&void 0!==l&&s-l>=2e3&&(void 0===c||s-c>=2e3))||s-u>=1e3))},o.YX=function(){var t,e;o.XX=void 0;var i=null===(e=null===(t=o.NX)||void 0===t?void 0:t.HX)||void 0===e?void 0:e.ZX;void 0===i||i>=o.jX||o.QX()},o.xs=function(){var t,e;if(o.Hi||o.os)return o;var i=o.dP.gl,n=ne.performance.now();o.dP.zz(i.FRAMEBUFFER,o.Ns.PL?o.kL[0]:null);var r=o.Z,s=r.x>0&&r.y>0;if(o.bs.o&&o.dP.PV(o.bs.C()),i.resize&&s&&i.resize(r.x*o.dP.kz(),r.y*o.dP.kz()),o.dP.Vz(0,0,r.x*o.dP.kz(),r.y*o.dP.kz()),o.dP.Nz(0,0,r.x*o.dP.kz(),r.y*o.dP.kz()),o.dP.zt(),s)try{for(var a=PM(o.Zo.values()),u=a.next();!u.done;u=a.next())u.value.AE(0,1,[])}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}if(o.Ws.Zs&&s&&(o.XX&&(ne.clearTimeout(o.XX),o.XX=void 0),o.VX()?(o.QX(),o.dP.zz(i.FRAMEBUFFER,o.Ns.PL?o.kL[0]:null)):o.XX=ne.setTimeout(o.YX,500)),o.K(),o.ss(),o.Ts&&o._s(o.Ts),o.Ns.PL){var l=o.dP.gl2.ctx;l.bindFramebuffer(l.READ_FRAMEBUFFER,o.kL[0]),l.bindFramebuffer(l.DRAW_FRAMEBUFFER,o.kL[1]),l.clearBufferfv(l.COLOR,0,[1,1,1,1]),l.blitFramebuffer(0,0,o.Z.x*o.dP.kz(),o.Z.y*o.dP.kz(),0,0,o.Z.x*o.dP.kz(),o.Z.y*o.dP.kz(),i.COLOR_BUFFER_BIT,i.LINEAR)}else i.bindTexture(i.TEXTURE_2D,o.xL),i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,0,0,o.Z.x*o.dP.kz(),o.Z.y*o.dP.kz(),0),i.bindTexture(i.TEXTURE_2D,null);return o.dP.zz(i.FRAMEBUFFER,null),Jx(o.dP.gl)?o.Ns.gL(0,0,o.Z.x*o.dP.kz(),o.Z.y*o.dP.kz(),[o]):o.Ns.GL(),o.IX=!1,o.jX=n,o},o.Ss=function(){var t,e;if("use-window"===o.KX.mode){var i=ne.devicePixelRatio||1;o.dP.QV(i)}var n=o.Z;if(0===n.x||0===n.y)return o;o.au.tt(n);try{for(var r=PM(o.Zo.values()),s=r.next();!s.done;s=r.next())s.value.En()}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return o.K(),o},o.Ns=e,o.Ns.BL){o.JX=ne.document.createElement("canvas"),o.JX.style.width="100%",o.JX.style.height="100%",o.JX.style.display="block",o.JX.style.boxSizing="content-box",o.JX.style.position="absolute";var s=o.JX.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!s)throw new qt("No Canvas context available.");o.wL=s,o.us.appendChild(o.JX)}o.Ns.KL(o);var a,u={preserveDrawingBuffer:!0,antialias:i?i.antialias:void 0,alpha:!0,lineAntialias:!i||(!0===i.lineAntiAlias||!1===i.lineAntiAlias?i.lineAntiAlias:!1!==i.antialias)};if(o.Ns.PL&&e.gl2&&(a=new r(o,o.Ws,{type:"webgl2",ctx:e.gl2.ctx,antialias:u.antialias,lineAntialias:u.lineAntialias},o.$i.isDark)),a||o.Ns.PL||(a=new r(o,o.Ws,{type:"webgl1",ctx:e.gl,antialias:u.antialias,lineAntialias:u.lineAntialias},o.$i.isDark)),!a)throw new qt("No WebGL context available");if(o.dP=a,"number"==typeof(null==i?void 0:i.devicePixelRatio))o.KX={mode:"fixed",value:i.devicePixelRatio},o.dP.QV(i.devicePixelRatio);else{var l=ne.document.head.querySelector('meta[name="viewport"]'),h=!0===i.devicePixelRatio||(null==l?void 0:l.content.includes("width=device-width")),c=ne.devicePixelRatio||1;o.KX=h?{mode:"use-window"}:{mode:"fixed",value:c},o.dP.QV(c)}var f=i?i.width:void 0,p=i?i.height:void 0;o.su=o.qX(f),o.hu=o.qX(p),o.$X(o.su,o.hu),o.uW=o.sF("engine offscreen",1e6),o.tH=o.sF("engine bg",0);var d="function"==typeof o.$i.lcjsBackgroundFillStyle?o.$i.lcjsBackgroundFillStyle(o.Ws.Kn):o.$i.lcjsBackgroundFillStyle;o.au=o.tH.Er(o.vt).Br(d).Dr(o.$i.lcjsBackgroundStrokeStyle).setMouseInteractions(!1).Lr({x:0,y:0});var y=o.sF("engine effects",200001).uY(o.$i.effect);o.rn=y;var g=o.Ns.PL,m=o.oi();g&&(o.kL=[a.rV(),a.rV()]);var x=o.dP.gl;g&&(o.DX=x.createRenderbuffer(),o.BX=x.createRenderbuffer()),o.xL=x.createTexture();var S,A=m.x*o.dP.kz(),b=m.y*o.dP.kz();if(g){x.bindRenderbuffer(x.RENDERBUFFER,o.DX);var M=o.dP.gl2.ctx;o.EX=o.Ns.lL&&!1!==i.antialias?M.getParameter(M.MAX_SAMPLES):0,M.renderbufferStorageMultisample(M.RENDERBUFFER,o.EX,M.RGBA8,A,b),x.bindRenderbuffer(x.RENDERBUFFER,o.BX),x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,A,b),M.renderbufferStorageMultisample(M.RENDERBUFFER,o.EX,M.DEPTH_COMPONENT16,A,b)}g&&(o.dP.zz(x.FRAMEBUFFER,o.kL[0]),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.RENDERBUFFER,o.DX),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.RENDERBUFFER,o.BX)),x.bindTexture(x.TEXTURE_2D,o.xL),x.texImage2D(x.TEXTURE_2D,0,x.RGBA,A,b,0,x.RGBA,x.UNSIGNED_BYTE,null),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.LINEAR),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),g&&(o.dP.zz(x.FRAMEBUFFER,o.kL[1]),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,o.xL,0)),o.dP.zz(x.FRAMEBUFFER,null),o.vs(),o.ss(),o.Gy={container:(S=o).us,setMouseStyle:function(t,e){return S.ds(t,e)},restoreMouseStyle:function(t){return S.As(t)},captureFrame:function(t,e,i){return S.iH(t,e,i)},renderFrame:function(t,e,i){return void 0===i&&(i=!1),S.nH(t,e,i)},layout:function(){S.ls(),S.ss(),S.Ns.yL(),S.Sn()},setBackgroundFillStyle:function(t){return S.setBackgroundFillStyle(t),this},setBackgroundStrokeStyle:function(t){return S.setBackgroundStrokeStyle(t),this},getBackgroundFillStyle:function(){return S.getBackgroundFillStyle()},getBackgroundStrokeStyle:function(){return S.getBackgroundStrokeStyle()},addCustomIcon:function(t,e){return S.rH(t,e)},onRenderFrame:function(t){return S.ru(t)},offRenderFrame:function(t){return S.eu(t)}},o.Uy={$i:o.$i,an:o.an,vt:o.vt,Sn:function(t){return o.Sn(t)},zs:function(){return o.zs()},pn:function(t){return o.UX=ne.performance.now(),o.pn({x:t.clientX,y:t.clientY})},Qj:function(t){return o.Qj(t)},Ws:o.Ws,Rs:function(t){return o.Rs(t)},rn:o.rn,ju:function(t){return o.ju(t)},Du:function(t){return o.Du(t)},Ay:{vy:function(t,e,i){return o.dP.Xe(e.family).OP(t,e,i,o.$i.isDark)}}};var w=function(){o.U()};ne.addEventListener("unload",w),o.ts.push((function(){ne.removeEventListener("unload",w)}))}return CM(e,t),Object.defineProperty(e.prototype,"eH",{get:function(){return this.Zo},enumerable:!1,configurable:!0}),e.prototype.rH=function(t,e){var i=this,n=this.zX.get(t);if(!n){var r=this.dP.iN(t),o=new Set,s=[];n={imageTexture:r,instances:o,handleNewInstance:function(t){o.add(t)},handleInstanceDisposed:function(e){o.delete(e)&&0===o.size&&(r.unbindResources(),i.zX.delete(t))},sharedEngineReference:{Kj:function(){return r.Az},Jj:function(t){r.Az?t():s.push(t)}}},this.zX.set(t,n),r.TP(this),r.xz((function(){s.forEach((function(t){t()})),s.length=0}))}var a=new ma(t,n.handleNewInstance,n.handleInstanceDisposed,e);return n.handleNewInstance(a),a},e.prototype.Qj=function(t){var e=Array.from(this.zX.values()).find((function(e){return e.instances.has(t)}));if(!e)throw $e(0,(function(){return new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!")}));return e.sharedEngineReference},e.prototype.pn=function(t){var e,i=this,n=null===(e=this.NX)||void 0===e?void 0:e.HX;if(n){var r=this.Vr(t.x,t.y),o=Math.round(r.x*this.dP.kz()),s=Math.round(r.y*this.dP.kz());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map((function(t){return i.oH(n,o+t[0]/n.sH,s+t[1]/n.sH)})).reduce((function(t,e){if(void 0===e)return t||void 0;var i=1e6*e.layerIndex+e.entityIndex;return!t||i>t.zIndexForComparison?{zIndexForComparison:i,entity:e.entity,collectionMember:e.collectionMember,info:e.info}:t}),void 0)}},e.prototype.oH=function(t,e,i){var n=Math.round(e*t.sH),r=Math.round(i*t.sH);if(!(n<0||n>=t.Z.x||r<0||r>=t.Z.y)){var o=4*(n+r*t.Z.x),s=t.uH[o+0],a=t.uH[o+1],u=t.uH[o+2],l=t.uH[o+3];if(void 0!==s&&void 0!==a&&void 0!==u&&void 0!==l&&(0!==s||0!==a||0!==u||0!==l)){var h=16777216*s+65536*a+256*u+l,c=t.hH.find((function(t){return h>=t.idFirst&&h<=t.idLast}));if(c){var f=c.entity.QN(h,c.idFirst,c.idCount,e,i),p=f.collectionMember,d=f.info;return{entity:c.entity,collectionMember:p,entityIndex:c.entityIndex,layerIndex:c.layer.Ms(),info:d}}}}},e.prototype.iH=function(t,e,i){var n=this.dP.gl;this.Ns.PL?(this.dP.zz(n.FRAMEBUFFER,this.kL[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.xL,0)):this.dP.zz(n.FRAMEBUFFER,null);var r=this.SL(),o=r.x,s=r.y,a=new Uint8Array(o*s*4);this.Ns.PL||this.xs(),n.readPixels(0,0,o,s,n.RGBA,n.UNSIGNED_BYTE,a);var u=new ImageData(new Uint8ClampedArray(a),o,s),l=document.createElement("canvas"),h=l.getContext("2d");if(!h)throw new Error("Failed to create 2D context for saving image.");l.width=o,l.height=s,h.putImageData(u,0,0),h.translate(0,s),h.scale(1,-1),h.drawImage(l,0,0),this.Ns.PL&&(this.dP.zz(n.FRAMEBUFFER,this.kL[0]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,this.DX),this.dP.zz(n.FRAMEBUFFER,this.kL[1]),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.xL,0)),this.dP.zz(n.FRAMEBUFFER,null);var c=l.toDataURL(t,e);return i?c:function(t){for(var e=t.split(",")[0].split(":")[1].split(";")[0],i=ne.atob(t.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;r+=1)n[r]=i.charCodeAt(r);return new ne.Blob([n.buffer],{type:e})}(c)},e.prototype.nH=function(t,e,i){void 0===i&&(i=!1),this.vs(y(Math.round(t),Math.round(e))),this.gs();var n=this.dP.gl.drawingBufferWidth,r=this.dP.gl.drawingBufferHeight,o=new Uint8Array(n*r*4);if(this.dP.gl.readPixels(0,0,n,r,this.dP.gl.RGBA,this.dP.gl.UNSIGNED_BYTE,o),!i)for(var s=r/2|0,a=4*n,u=new Uint8Array(4*n),l=0;l<s;l+=1){var h=l*a,c=(r-l-1)*a;u.set(o.subarray(h,h+a)),o.copyWithin(h,c,c+a),o.set(u,c)}return this.Ko={x:0,y:e},o},e.prototype.ZB=function(t){return void 0!==this.su?this.su[0]=t:this.su=[t,void 0],this.us.style.minWidth="".concat(this.su[0],"px"),this.vs(),this},e.prototype.KB=function(t){return void 0!==this.su?this.su[1]=t:this.su=[void 0,t],this.us.style.maxWidth="".concat(this.su[1],"px"),this.vs(),this},e.prototype.qB=function(t){return void 0!==this.hu?this.hu[0]=t:this.hu=[t,void 0],this.us.style.minHeight="".concat(this.hu[0],"px"),this.vs(),this},e.prototype.tE=function(t){return void 0!==this.hu?this.hu[1]=t:this.hu=[void 0,t],this.us.style.maxHeight="".concat(this.hu[1],"px"),this.vs(),this},e.prototype.$X=function(t,e){return this.su=t,this.hu=e,this.us.style.minWidth="".concat(this.su[0],"px"),this.us.style.maxWidth="".concat(this.su[1],"px"),this.us.style.minHeight="".concat(this.hu[0],"px"),this.us.style.maxHeight="".concat(this.hu[1],"px"),this.vs(),this},e.prototype.pL=function(t){return this.Ey!==t&&(this.D.emit("inViewChange",t),this.Ey=t),this},e.prototype.bL=function(){return this.Ey},e.prototype.JL=function(t){this.PX=t},e.prototype.QL=function(){return this.PX},e.prototype.sF=function(t,e){void 0===e&&(e=this.du());var i=this.vu(e);if(i){if($e(0,(function(){})),!(i instanceof Ib))throw new Error("Unexpected Engine Layer error");return i}return this.ws(new Ib(this,e,t))},e.prototype.aF=function(t,e,i){var n=this.vu(e);if(n){if($e(0,(function(){})),!(n instanceof wM))throw new Error("Unexpected Engine Layer error");return n}return this.ws(new wM(this,e,t,i))},e.prototype.oi=function(){return this.Z},e.prototype.SL=function(){var t=this.dP.kz();return{x:Math.round(this.Z.x*t),y:Math.round(this.Z.y*t)}},e.prototype.qX=function(t){return t instanceof Array||(t=[t,t]),t},e.prototype.aH=function(){return this.Ns.ML},e.prototype.fH=function(){return Jx(this.dP.gl)},e.prototype.QX=function(){var t,e,i,n=this,r=this.dP.gl,o=ne.performance.now(),s=this.Ws.Hs,a={x:Math.ceil(this.Z.x*this.dP.kz()*s),y:Math.ceil(this.Z.y*this.dP.kz()*s)};this.NX||(this.NX={sH:s,cH:a,RX:[],HX:void 0});var u=this.NX.RX.find((function(t){return!t.WX})),l=!1;u||(l=!0,u={WX:!1,Z:a,dN:r.createTexture(),lH:this.dP.rV(),BX:this.dP.eV(),vH:new Uint8Array,GX:void 0},this.NX.RX.push(u));var h=u;(l||h.Z.x!==a.x||h.Z.y!==a.y)&&(r.bindTexture(r.TEXTURE_2D,h.dN),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,a.x,a.y,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.dP.zz(r.FRAMEBUFFER,h.lH),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h.dN,0),r.bindRenderbuffer(r.RENDERBUFFER,h.BX),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,a.x,a.y),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,h.BX),h.vH=new Uint8Array(a.x*a.y*4),h.Z=a),h.WX=!0,h.GX=o,this.dP.zz(r.FRAMEBUFFER,h.lH),r.clearDepth(1),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.disable(r.BLEND),r.resize&&r.resize(a.x,a.y),this.dP.Vz(0,0,a.x,a.y);var c=[];try{for(var f=PM(this.Zo.values()),p=f.next();!p.done;p=f.next())p.value.AE(1,s,c)}catch(e){t={error:e}}finally{try{p&&!p.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}this.dP.zz(r.FRAMEBUFFER,null),r.bindTexture(r.TEXTURE_2D,null),r.bindRenderbuffer(r.RENDERBUFFER,null),r.enable(r.BLEND);var d=null===(i=this.dP.gl2)||void 0===i?void 0:i.ctx,y=function(){if(n.NX){var t=n.NX.HX;if(t&&t.ZX>o)return;n.NX.HX={ZX:o,sH:s,Z:a,uH:h.vH,hH:c}}};d?this.dP.cN(d,h.lH,0,0,a.x,a.y,r.RGBA,r.UNSIGNED_BYTE,h.vH).then((function(){n.Hi||(h.WX=!1,y())})).catch((function(t){n.Hi||(h.WX=!1,ne.console.warn("LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"))})):(this.dP.lN(h.lH,0,0,a.x,a.y,r.RGBA,r.UNSIGNED_BYTE,h.vH),h.WX=!1,y())},e.prototype.vs=function(t){var e=this.dP.kz();if("use-window"===this.KX.mode){var i=ne.devicePixelRatio||1;this.dP.QV(i)}var n=this.Z.x,r=this.Z.y,o=t||{x:this.us.offsetWidth,y:this.us.offsetHeight},s=this.dP.kz();if(0!==o.x&&0!==o.y&&(o.x!==n||o.y!==r||e!==s)){this.Z=o,this.vt.x.q(0,o.x).tt(o.x),this.vt.y.q(0,o.y).tt(o.y);var a=o.x*s,u=o.y*s,l=this.dP.gl;this.Ns.BL&&this.wL&&(this.wL.canvas.width=a,this.wL.canvas.height=u);var h=this.Ns.PL;if(this.xL&&(l.bindTexture(l.TEXTURE_2D,this.xL),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,u,0,l.RGBA,l.UNSIGNED_BYTE,null)),h){var c=this.dP.gl2.ctx;this.DX&&(l.bindRenderbuffer(l.RENDERBUFFER,this.DX),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.EX,c.RGBA8,a,u)),this.BX&&(l.bindRenderbuffer(l.RENDERBUFFER,this.BX),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,a,u),c.renderbufferStorageMultisample(c.RENDERBUFFER,this.EX,c.DEPTH_COMPONENT16,a,u))}l.bindRenderbuffer(l.RENDERBUFFER,null),this.D.emit("resize",[this.Z.x,this.Z.y])}},e.prototype.U=function(){var e,i=this;this.Hi||(t.prototype.U.call(this),this.XX&&(ne.clearTimeout(this.XX),this.XX=void 0),Array.from(this.dP.nL.entries()).forEach((function(t){var e=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(t,2),n=e[0];e[1].mP(!1),i.dP.nL.delete(n)})),Array.from(this.dP.hV.values()).forEach((function(t){t.unbindResources()})),this.dP.hV.clear(),this.dP.uV.fz(),this.dP.YV.U(),this.dP.tV(this.dP.XV),this.dP.tV(this.dP.HV),this.dP.RV.forEach((function(t,e){i.dP.gl.deleteBuffer(e)})),this.dP.RV.clear(),this.dP.sN&&(this.dP.tV(this.dP.sN.buffer),this.dP.sN=void 0),this.dP.sV(this.kL[0]),this.dP.sV(this.kL[1]),this.dP.oV(this.DX),this.dP.bP(this.xL),this.dP.oV(this.BX),this.NX&&(this.NX.RX.forEach((function(t){i.dP.oV(t.BX),i.dP.sV(t.lH),i.dP.bP(t.dN)})),this.NX=void 0),this.dP.zV.forEach((function(t){return i.dP.tV(t)})),this.zX.clear(),this.Ns.qL(this),this.JX&&(null===(e=this.JX.parentElement)||void 0===e||e.removeChild(this.JX),this.JX=void 0),this.wL&&(this.wL=void 0),this.dP.gl=void 0)},e}(Do),TM="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},kM={exports:{}};!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function r(t,e,i){if(r.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this.Sz(t||0,e||10,i||"be"))}var o;"object"===a(t)?t.exports=r:e.BN=r,r.BN=r,r.wordSize=26;try{o=(void 0).Buffer}catch(t){}function s(t,e,n){for(var r=0,o=Math.min(t.length,n),s=0,a=e;a<o;a++){var u,l=t.charCodeAt(a)-48;r<<=4,r|=u=l>=49&&l<=54?l-49+10:l>=17&&l<=22?l-17+10:l,s|=u}return i(!(240&s),"Invalid character in "+t),r}function u(t,e,n,r){for(var o=0,s=0,a=Math.min(t.length,n),u=e;u<a;u++){var l=t.charCodeAt(u)-48;o*=r,s=l>=49?l-49+10:l>=17?l-17+10:l,i(l>=0&&s<r,"Invalid character"),o+=s}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(r.isBN=function(t){return t instanceof r||null!==t&&"object"===a(t)&&t.constructor.wordSize===r.wordSize&&Array.isArray(t.words)},r.max=function(t,e){return t.cmp(e)>0?t:e},r.min=function(t,e){return t.cmp(e)<0?t:e},r.prototype.Sz=function(t,e,n){if("number"==typeof t)return this.dH(t,e,n);if("object"===a(t))return this.AH(t,e,n);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&r++,16===e?this.yH(t,r):this.mH(t,e,r),"-"===t[0]&&(this.negative=1),this.bH(),"le"===n&&this.AH(this.toArray(),e,n)},r.prototype.dH=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this.AH(this.toArray(),e,n)},r.prototype.AH=function(t,e,n){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var o,s,a=0;if("be"===n)for(r=t.length-1,o=0;r>=0;r-=3)s=t[r]|t[r-1]<<8|t[r-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(r=0,o=0;r<t.length;r+=3)s=t[r]|t[r+1]<<8|t[r+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.bH()},r.prototype.yH=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,r,o=0;for(i=t.length-6,n=0;i>=e;i-=6)r=s(t,i,i+6),this.words[n]|=r<<o&67108863,this.words[n+1]|=r>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);i+6!==e&&(r=s(t,e,i+6),this.words[n]|=r<<o&67108863,this.words[n+1]|=r>>>26-o&4194303),this.bH()},r.prototype.mH=function(t,e,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=e)n++;n--,r=r/e|0;for(var o=t.length-i,s=o%n,a=Math.min(o,o-s)+i,l=0,h=i;h<a;h+=n)l=u(t,h,h+n,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this.pH(l);if(0!==s){var c=1;for(l=u(t,h,t.length,e),h=0;h<s;h++)c*=e;this.imuln(c),this.words[0]+l<67108864?this.words[0]+=l:this.pH(l)}},r.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},r.prototype.gH=function(t){l(t,this)},r.prototype.clone=function(){var t=new r(null);return this.copy(t),t},r.prototype.SH=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},r.prototype.bH=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this.xH()},r.prototype.xH=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){r.prototype.inspect=h}else r.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,i){i.negative=e.negative^t.negative;var n=t.length+e.length|0;i.length=n,n=n-1|0;var r=0|t.words[0],o=0|e.words[0],s=r*o,a=67108863&s,u=s/67108864|0;i.words[0]=a;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),p=Math.max(0,l-t.length+1);p<=f;p++){var d=l-p|0;h+=(s=(r=0|t.words[d])*(o=0|e.words[p])+c)/67108864|0,c=67108863&s}i.words[l]=0|c,u=0|h}return 0!==u?i.words[l]=0|u:i.length--,i.bH()}r.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var r=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<r|o)).toString(16);n=0!=(o=a>>>24-r&16777215)||s!==this.length-1?c[6-u.length]+u+n:u+n,(r+=2)>=26&&(r-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],h=p[t];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(h).toString(t);n=(d=d.idivn(h)).isZero()?y+n:c[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}i(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},r.prototype.toJSON=function(){return this.toString(16,2)},o&&(r.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),r.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},r.prototype.toArrayLike=function(t,e,n){this.bH();var r=this.byteLength(),o=n||Math.max(1,r);i(r<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,r),s},r.prototype.wH=function(t,e){for(var i=0,n=0,r=0,o=0;r<this.length;r++){var s=this.words[r]<<o|n;t[i++]=255&s,i<t.length&&(t[i++]=s>>8&255),i<t.length&&(t[i++]=s>>16&255),6===o?(i<t.length&&(t[i++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(i<t.length)for(t[i++]=n;i<t.length;)t[i++]=0},r.prototype.MH=function(t,e){for(var i=t.length-1,n=0,r=0,o=0;r<this.length;r++){var s=this.words[r]<<o|n;t[i--]=255&s,i>=0&&(t[i--]=s>>8&255),i>=0&&(t[i--]=s>>16&255),6===o?(i>=0&&(t[i--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(i>=0)for(t[i--]=n;i>=0;)t[i--]=0},Math.clz32?r.prototype.CH=function(t){return 32-Math.clz32(t)}:r.prototype.CH=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},r.prototype._H=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},r.prototype.bitLength=function(){var t=this.words[this.length-1],e=this.CH(t);return 26*(this.length-1)+e},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this._H(this.words[e]);if(t+=i,26!==i)break}return t},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},r.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.bH()},r.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},r.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},r.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},r.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.bH()},r.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},r.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},r.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},r.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var n=0;n<i.length;n++)this.words[n]=e.words[n]^i.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.bH()},r.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},r.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},r.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},r.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this.SH(e),n>0&&e--;for(var r=0;r<e;r++)this.words[r]=67108863&~this.words[r];return n>0&&(this.words[r]=~this.words[r]&67108863>>26-n),this.bH()},r.prototype.notn=function(t){return this.clone().inotn(t)},r.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var n=t/26|0,r=t%26;return this.SH(n+1),this.words[n]=e?this.words[n]|1<<r:this.words[n]&~(1<<r),this.bH()},r.prototype.iadd=function(t){var e,i,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this.xH();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e.xH();this.length>t.length?(i=this,n=t):(i=t,n=this);for(var r=0,o=0;o<n.length;o++)e=(0|i.words[o])+(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<i.length;o++)e=(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},r.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},r.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e.xH()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this.xH();var i,n,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=t):(i=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|i.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<i.length;s++)o=(e=(0|i.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<i.length&&i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=Math.max(this.length,s),i!==this&&(this.negative=1),this.bH()},r.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,i){var n,r,o,s=t.words,a=e.words,u=i.words,l=0,h=0|s[0],c=8191&h,f=h>>>13,p=0|s[1],d=8191&p,y=p>>>13,v=0|s[2],g=8191&v,m=v>>>13,x=0|s[3],S=8191&x,A=x>>>13,b=0|s[4],M=8191&b,w=b>>>13,C=0|s[5],P=8191&C,E=C>>>13,T=0|s[6],k=8191&T,D=T>>>13,F=0|s[7],_=8191&F,I=F>>>13,O=0|s[8],B=8191&O,z=O>>>13,L=0|s[9],R=8191&L,V=L>>>13,N=0|a[0],U=8191&N,Y=N>>>13,G=0|a[1],j=8191&G,W=G>>>13,X=0|a[2],H=8191&X,Z=X>>>13,Q=0|a[3],q=8191&Q,K=Q>>>13,J=0|a[4],$=8191&J,tt=J>>>13,et=0|a[5],it=8191&et,nt=et>>>13,rt=0|a[6],ot=8191&rt,st=rt>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ht=0|a[8],ct=8191&ht,ft=ht>>>13,pt=0|a[9],dt=8191&pt,yt=pt>>>13;i.negative=t.negative^e.negative,i.length=19;var vt=(l+(n=Math.imul(c,U))|0)+((8191&(r=(r=Math.imul(c,Y))+Math.imul(f,U)|0))<<13)|0;l=((o=Math.imul(f,Y))+(r>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(d,U),r=(r=Math.imul(d,Y))+Math.imul(y,U)|0,o=Math.imul(y,Y);var gt=(l+(n=n+Math.imul(c,j)|0)|0)+((8191&(r=(r=r+Math.imul(c,W)|0)+Math.imul(f,j)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(r>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,U),r=(r=Math.imul(g,Y))+Math.imul(m,U)|0,o=Math.imul(m,Y),n=n+Math.imul(d,j)|0,r=(r=r+Math.imul(d,W)|0)+Math.imul(y,j)|0,o=o+Math.imul(y,W)|0;var mt=(l+(n=n+Math.imul(c,H)|0)|0)+((8191&(r=(r=r+Math.imul(c,Z)|0)+Math.imul(f,H)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(r>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(S,U),r=(r=Math.imul(S,Y))+Math.imul(A,U)|0,o=Math.imul(A,Y),n=n+Math.imul(g,j)|0,r=(r=r+Math.imul(g,W)|0)+Math.imul(m,j)|0,o=o+Math.imul(m,W)|0,n=n+Math.imul(d,H)|0,r=(r=r+Math.imul(d,Z)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,Z)|0;var xt=(l+(n=n+Math.imul(c,q)|0)|0)+((8191&(r=(r=r+Math.imul(c,K)|0)+Math.imul(f,q)|0))<<13)|0;l=((o=o+Math.imul(f,K)|0)+(r>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(M,U),r=(r=Math.imul(M,Y))+Math.imul(w,U)|0,o=Math.imul(w,Y),n=n+Math.imul(S,j)|0,r=(r=r+Math.imul(S,W)|0)+Math.imul(A,j)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(g,H)|0,r=(r=r+Math.imul(g,Z)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,Z)|0,n=n+Math.imul(d,q)|0,r=(r=r+Math.imul(d,K)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,K)|0;var St=(l+(n=n+Math.imul(c,$)|0)|0)+((8191&(r=(r=r+Math.imul(c,tt)|0)+Math.imul(f,$)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(r>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(P,U),r=(r=Math.imul(P,Y))+Math.imul(E,U)|0,o=Math.imul(E,Y),n=n+Math.imul(M,j)|0,r=(r=r+Math.imul(M,W)|0)+Math.imul(w,j)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(S,H)|0,r=(r=r+Math.imul(S,Z)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,Z)|0,n=n+Math.imul(g,q)|0,r=(r=r+Math.imul(g,K)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,K)|0,n=n+Math.imul(d,$)|0,r=(r=r+Math.imul(d,tt)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,tt)|0;var At=(l+(n=n+Math.imul(c,it)|0)|0)+((8191&(r=(r=r+Math.imul(c,nt)|0)+Math.imul(f,it)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(r>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(k,U),r=(r=Math.imul(k,Y))+Math.imul(D,U)|0,o=Math.imul(D,Y),n=n+Math.imul(P,j)|0,r=(r=r+Math.imul(P,W)|0)+Math.imul(E,j)|0,o=o+Math.imul(E,W)|0,n=n+Math.imul(M,H)|0,r=(r=r+Math.imul(M,Z)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(S,q)|0,r=(r=r+Math.imul(S,K)|0)+Math.imul(A,q)|0,o=o+Math.imul(A,K)|0,n=n+Math.imul(g,$)|0,r=(r=r+Math.imul(g,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0,n=n+Math.imul(d,it)|0,r=(r=r+Math.imul(d,nt)|0)+Math.imul(y,it)|0,o=o+Math.imul(y,nt)|0;var bt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(r=(r=r+Math.imul(c,st)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,st)|0)+(r>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(_,U),r=(r=Math.imul(_,Y))+Math.imul(I,U)|0,o=Math.imul(I,Y),n=n+Math.imul(k,j)|0,r=(r=r+Math.imul(k,W)|0)+Math.imul(D,j)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(P,H)|0,r=(r=r+Math.imul(P,Z)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(M,q)|0,r=(r=r+Math.imul(M,K)|0)+Math.imul(w,q)|0,o=o+Math.imul(w,K)|0,n=n+Math.imul(S,$)|0,r=(r=r+Math.imul(S,tt)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,tt)|0,n=n+Math.imul(g,it)|0,r=(r=r+Math.imul(g,nt)|0)+Math.imul(m,it)|0,o=o+Math.imul(m,nt)|0,n=n+Math.imul(d,ot)|0,r=(r=r+Math.imul(d,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0;var Mt=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(r=(r=r+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(r>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,U),r=(r=Math.imul(B,Y))+Math.imul(z,U)|0,o=Math.imul(z,Y),n=n+Math.imul(_,j)|0,r=(r=r+Math.imul(_,W)|0)+Math.imul(I,j)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(k,H)|0,r=(r=r+Math.imul(k,Z)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,Z)|0,n=n+Math.imul(P,q)|0,r=(r=r+Math.imul(P,K)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,K)|0,n=n+Math.imul(M,$)|0,r=(r=r+Math.imul(M,tt)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(S,it)|0,r=(r=r+Math.imul(S,nt)|0)+Math.imul(A,it)|0,o=o+Math.imul(A,nt)|0,n=n+Math.imul(g,ot)|0,r=(r=r+Math.imul(g,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0,n=n+Math.imul(d,ut)|0,r=(r=r+Math.imul(d,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0;var wt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(r=(r=r+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(r>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,U),r=(r=Math.imul(R,Y))+Math.imul(V,U)|0,o=Math.imul(V,Y),n=n+Math.imul(B,j)|0,r=(r=r+Math.imul(B,W)|0)+Math.imul(z,j)|0,o=o+Math.imul(z,W)|0,n=n+Math.imul(_,H)|0,r=(r=r+Math.imul(_,Z)|0)+Math.imul(I,H)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,q)|0,r=(r=r+Math.imul(k,K)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,K)|0,n=n+Math.imul(P,$)|0,r=(r=r+Math.imul(P,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(M,it)|0,r=(r=r+Math.imul(M,nt)|0)+Math.imul(w,it)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(S,ot)|0,r=(r=r+Math.imul(S,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,n=n+Math.imul(g,ut)|0,r=(r=r+Math.imul(g,lt)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,lt)|0,n=n+Math.imul(d,ct)|0,r=(r=r+Math.imul(d,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var Ct=(l+(n=n+Math.imul(c,dt)|0)|0)+((8191&(r=(r=r+Math.imul(c,yt)|0)+Math.imul(f,dt)|0))<<13)|0;l=((o=o+Math.imul(f,yt)|0)+(r>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(R,j),r=(r=Math.imul(R,W))+Math.imul(V,j)|0,o=Math.imul(V,W),n=n+Math.imul(B,H)|0,r=(r=r+Math.imul(B,Z)|0)+Math.imul(z,H)|0,o=o+Math.imul(z,Z)|0,n=n+Math.imul(_,q)|0,r=(r=r+Math.imul(_,K)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,$)|0,r=(r=r+Math.imul(k,tt)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(P,it)|0,r=(r=r+Math.imul(P,nt)|0)+Math.imul(E,it)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(M,ot)|0,r=(r=r+Math.imul(M,st)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,st)|0,n=n+Math.imul(S,ut)|0,r=(r=r+Math.imul(S,lt)|0)+Math.imul(A,ut)|0,o=o+Math.imul(A,lt)|0,n=n+Math.imul(g,ct)|0,r=(r=r+Math.imul(g,ft)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ft)|0;var Pt=(l+(n=n+Math.imul(d,dt)|0)|0)+((8191&(r=(r=r+Math.imul(d,yt)|0)+Math.imul(y,dt)|0))<<13)|0;l=((o=o+Math.imul(y,yt)|0)+(r>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(R,H),r=(r=Math.imul(R,Z))+Math.imul(V,H)|0,o=Math.imul(V,Z),n=n+Math.imul(B,q)|0,r=(r=r+Math.imul(B,K)|0)+Math.imul(z,q)|0,o=o+Math.imul(z,K)|0,n=n+Math.imul(_,$)|0,r=(r=r+Math.imul(_,tt)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,tt)|0,n=n+Math.imul(k,it)|0,r=(r=r+Math.imul(k,nt)|0)+Math.imul(D,it)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(P,ot)|0,r=(r=r+Math.imul(P,st)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,st)|0,n=n+Math.imul(M,ut)|0,r=(r=r+Math.imul(M,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(S,ct)|0,r=(r=r+Math.imul(S,ft)|0)+Math.imul(A,ct)|0,o=o+Math.imul(A,ft)|0;var Et=(l+(n=n+Math.imul(g,dt)|0)|0)+((8191&(r=(r=r+Math.imul(g,yt)|0)+Math.imul(m,dt)|0))<<13)|0;l=((o=o+Math.imul(m,yt)|0)+(r>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,q),r=(r=Math.imul(R,K))+Math.imul(V,q)|0,o=Math.imul(V,K),n=n+Math.imul(B,$)|0,r=(r=r+Math.imul(B,tt)|0)+Math.imul(z,$)|0,o=o+Math.imul(z,tt)|0,n=n+Math.imul(_,it)|0,r=(r=r+Math.imul(_,nt)|0)+Math.imul(I,it)|0,o=o+Math.imul(I,nt)|0,n=n+Math.imul(k,ot)|0,r=(r=r+Math.imul(k,st)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,st)|0,n=n+Math.imul(P,ut)|0,r=(r=r+Math.imul(P,lt)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,lt)|0,n=n+Math.imul(M,ct)|0,r=(r=r+Math.imul(M,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var Tt=(l+(n=n+Math.imul(S,dt)|0)|0)+((8191&(r=(r=r+Math.imul(S,yt)|0)+Math.imul(A,dt)|0))<<13)|0;l=((o=o+Math.imul(A,yt)|0)+(r>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(R,$),r=(r=Math.imul(R,tt))+Math.imul(V,$)|0,o=Math.imul(V,tt),n=n+Math.imul(B,it)|0,r=(r=r+Math.imul(B,nt)|0)+Math.imul(z,it)|0,o=o+Math.imul(z,nt)|0,n=n+Math.imul(_,ot)|0,r=(r=r+Math.imul(_,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,n=n+Math.imul(k,ut)|0,r=(r=r+Math.imul(k,lt)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,lt)|0,n=n+Math.imul(P,ct)|0,r=(r=r+Math.imul(P,ft)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ft)|0;var kt=(l+(n=n+Math.imul(M,dt)|0)|0)+((8191&(r=(r=r+Math.imul(M,yt)|0)+Math.imul(w,dt)|0))<<13)|0;l=((o=o+Math.imul(w,yt)|0)+(r>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(R,it),r=(r=Math.imul(R,nt))+Math.imul(V,it)|0,o=Math.imul(V,nt),n=n+Math.imul(B,ot)|0,r=(r=r+Math.imul(B,st)|0)+Math.imul(z,ot)|0,o=o+Math.imul(z,st)|0,n=n+Math.imul(_,ut)|0,r=(r=r+Math.imul(_,lt)|0)+Math.imul(I,ut)|0,o=o+Math.imul(I,lt)|0,n=n+Math.imul(k,ct)|0,r=(r=r+Math.imul(k,ft)|0)+Math.imul(D,ct)|0,o=o+Math.imul(D,ft)|0;var Dt=(l+(n=n+Math.imul(P,dt)|0)|0)+((8191&(r=(r=r+Math.imul(P,yt)|0)+Math.imul(E,dt)|0))<<13)|0;l=((o=o+Math.imul(E,yt)|0)+(r>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,n=Math.imul(R,ot),r=(r=Math.imul(R,st))+Math.imul(V,ot)|0,o=Math.imul(V,st),n=n+Math.imul(B,ut)|0,r=(r=r+Math.imul(B,lt)|0)+Math.imul(z,ut)|0,o=o+Math.imul(z,lt)|0,n=n+Math.imul(_,ct)|0,r=(r=r+Math.imul(_,ft)|0)+Math.imul(I,ct)|0,o=o+Math.imul(I,ft)|0;var Ft=(l+(n=n+Math.imul(k,dt)|0)|0)+((8191&(r=(r=r+Math.imul(k,yt)|0)+Math.imul(D,dt)|0))<<13)|0;l=((o=o+Math.imul(D,yt)|0)+(r>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(R,ut),r=(r=Math.imul(R,lt))+Math.imul(V,ut)|0,o=Math.imul(V,lt),n=n+Math.imul(B,ct)|0,r=(r=r+Math.imul(B,ft)|0)+Math.imul(z,ct)|0,o=o+Math.imul(z,ft)|0;var _t=(l+(n=n+Math.imul(_,dt)|0)|0)+((8191&(r=(r=r+Math.imul(_,yt)|0)+Math.imul(I,dt)|0))<<13)|0;l=((o=o+Math.imul(I,yt)|0)+(r>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(R,ct),r=(r=Math.imul(R,ft))+Math.imul(V,ct)|0,o=Math.imul(V,ft);var It=(l+(n=n+Math.imul(B,dt)|0)|0)+((8191&(r=(r=r+Math.imul(B,yt)|0)+Math.imul(z,dt)|0))<<13)|0;l=((o=o+Math.imul(z,yt)|0)+(r>>>13)|0)+(It>>>26)|0,It&=67108863;var Ot=(l+(n=Math.imul(R,dt))|0)+((8191&(r=(r=Math.imul(R,yt))+Math.imul(V,dt)|0))<<13)|0;return l=((o=Math.imul(V,yt))+(r>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=vt,u[1]=gt,u[2]=mt,u[3]=xt,u[4]=St,u[5]=At,u[6]=bt,u[7]=Mt,u[8]=wt,u[9]=Ct,u[10]=Pt,u[11]=Et,u[12]=Tt,u[13]=kt,u[14]=Dt,u[15]=Ft,u[16]=_t,u[17]=It,u[18]=Ot,0!==l&&(u[19]=l,i.length++),i};function v(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var n=0,r=0,o=0;o<i.length-1;o++){var s=r;r=0;for(var a=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;a=67108863&(f=f+a|0),r+=(s=(s=s+(c/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}i.words[o]=a,n=s,s=r}return 0!==n?i.words[o]=n:i.length--,i.bH()}function g(t,e,i){return v(t,e,i)}Math.imul||(y=d),r.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):i<63?d(this,t,e):i<1024?v(this,t,e):g(this,t,e)},r.prototype.mul=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},r.prototype.mulf=function(t){var e=new r(null);return e.words=new Array(this.length+t.length),g(this,t,e)},r.prototype.imul=function(t){return this.clone().mulTo(t,this)},r.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var n=0,r=0;r<this.length;r++){var o=(0|this.words[r])*t,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[r]=67108863&s}return 0!==n&&(this.words[r]=n,this.length++),e?this.ineg():this},r.prototype.muln=function(t){return this.clone().imuln(t)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var n=i/26|0,r=i%26;e[i]=t.words[n]>>>r&1}return e}(t);if(0===e.length)return new r(1);for(var i=this,n=0;n<e.length&&0===e[n];n++,i=i.sqr());if(++n<e.length)for(var o=i.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(i=i.mul(o));return i},r.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,n=t%26,r=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,u=(0|this.words[e])-a<<n;this.words[e]=u|s,s=a>>>26-n}s&&(this.words[e]=s,this.length++)}if(0!==r){for(e=this.length-1;e>=0;e--)this.words[e+r]=this.words[e];for(e=0;e<r;e++)this.words[e]=0;this.length+=r}return this.bH()},r.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},r.prototype.iushrn=function(t,e,n){var r;i("number"==typeof t&&t>=0),r=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,u=n;if(r-=s,r=Math.max(0,r),u){for(var l=0;l<s;l++)u.words[l]=this.words[l];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,l=0;l<this.length;l++)this.words[l]=this.words[l+s];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=r);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&a}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.bH()},r.prototype.ishrn=function(t,e,n){return i(0===this.negative),this.iushrn(t,e,n)},r.prototype.shln=function(t){return this.clone().ishln(t)},r.prototype.ushln=function(t){return this.clone().iushln(t)},r.prototype.shrn=function(t){return this.clone().ishrn(t)},r.prototype.ushrn=function(t){return this.clone().iushrn(t)},r.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,r=1<<e;return!(this.length<=n||!(this.words[n]&r))},r.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var r=67108863^67108863>>>e<<e;this.words[this.length-1]&=r}return this.bH()},r.prototype.maskn=function(t){return this.clone().imaskn(t)},r.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this.pH(t)},r.prototype.pH=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},r.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.bH()},r.prototype.addn=function(t){return this.clone().iaddn(t)},r.prototype.subn=function(t){return this.clone().isubn(t)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype.TH=function(t,e,n){var r,o,s=t.length+n;this.SH(s);var a=0;for(r=0;r<t.length;r++){o=(0|this.words[r+n])+a;var u=(0|t.words[r])*e;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[r+n]=67108863&o}for(;r<this.length-n;r++)a=(o=(0|this.words[r+n])+a)>>26,this.words[r+n]=67108863&o;if(0===a)return this.bH();for(i(-1===a),a=0,r=0;r<this.length;r++)a=(o=-(0|this.words[r])+a)>>26,this.words[r]=67108863&o;return this.negative=1,this.bH()},r.prototype.kH=function(t,e){var i=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!=(i=26-this.CH(s))&&(o=o.ushln(i),n.iushln(i),s=0|o.words[o.length-1]);var a,u=n.length-o.length;if("mod"!==e){(a=new r(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var h=n.clone().TH(o,1,u);0===h.negative&&(n=h,a&&(a.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[o.length+c])+(0|n.words[o.length+c-1]);for(f=Math.min(f/s|0,67108863),n.TH(o,f,c);0!==n.negative;)f--,n.negative=0,n.TH(o,1,c),n.isZero()||(n.negative^=1);a&&(a.words[c]=f)}return a&&a.bH(),n.bH(),"div"!==e&&0!==i&&n.iushrn(i),{div:a||null,mod:n}},r.prototype.divmod=function(t,e,n){return i(!t.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new r(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new r(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new r(this.modrn(t.words[0]))}:this.kH(t,e);var o,s,a},r.prototype.div=function(t){return this.divmod(t,"div",!1).div},r.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},r.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},r.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),r=t.andln(1),o=i.cmp(n);return o<0||1===r&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},r.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=(1<<26)%t,r=0,o=this.length-1;o>=0;o--)r=(n*r+(0|this.words[o]))%t;return e?-r:r},r.prototype.modn=function(t){return this.modrn(t)},r.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var n=0,r=this.length-1;r>=0;r--){var o=(0|this.words[r])+67108864*n;this.words[r]=o/t|0,n=o%t}return this.bH(),e?this.ineg():this},r.prototype.divn=function(t){return this.clone().idivn(t)},r.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new r(1),s=new r(0),a=new r(0),u=new r(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var h=n.clone(),c=e.clone();!e.isZero();){for(var f=0,p=1;0==(e.words[0]&p)&&f<26;++f,p<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(h),s.isub(c)),o.iushrn(1),s.iushrn(1);for(var d=0,y=1;0==(n.words[0]&y)&&d<26;++d,y<<=1);if(d>0)for(n.iushrn(d);d-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(h),u.isub(c)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(u)):(n.isub(e),a.isub(o),u.isub(s))}return{a:a,b:u,gcd:n.iushln(l)}},r.prototype.OH=function(t){i(0===t.negative),i(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new r(1),a=new r(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,h=1;0==(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var c=0,f=1;0==(n.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(n.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s))}return(o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},r.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var n=0;e.isEven()&&i.isEven();n++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var r=e.cmp(i);if(r<0){var o=e;e=i,i=o}else if(0===r||0===i.cmpn(1))break;e.isub(i)}return i.iushln(n)},r.prototype.invm=function(t){return this.egcd(t).a.umod(t)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(t){return this.words[0]&t},r.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,n=(t-e)/26,r=1<<e;if(this.length<=n)return this.SH(n+1),this.words[n]|=r,this;for(var o=r,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.bH(),this.length>1)e=1;else{n&&(t=-t),i(t<=67108863,"Number is too big");var r=0|this.words[0];e=r===t?0:r<t?-1:1}return 0!==this.negative?0|-e:e},r.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},r.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|t.words[i];if(n!==r){n<r?e=-1:n>r&&(e=1);break}}return e},r.prototype.gtn=function(t){return 1===this.cmpn(t)},r.prototype.gt=function(t){return 1===this.cmp(t)},r.prototype.gten=function(t){return this.cmpn(t)>=0},r.prototype.gte=function(t){return this.cmp(t)>=0},r.prototype.ltn=function(t){return-1===this.cmpn(t)},r.prototype.lt=function(t){return-1===this.cmp(t)},r.prototype.lten=function(t){return this.cmpn(t)<=0},r.prototype.lte=function(t){return this.cmp(t)<=0},r.prototype.eqn=function(t){return 0===this.cmpn(t)},r.prototype.eq=function(t){return 0===this.cmp(t)},r.red=function(t){return new w(t)},r.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this).FH(t)},r.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype.FH=function(t){return this.red=t,this},r.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this.FH(t)},r.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},r.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},r.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},r.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},r.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},r.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.IH(this,t),this.red.mul(this,t)},r.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.IH(this,t),this.red.imul(this,t)},r.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red.jH(this),this.red.sqr(this)},r.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red.jH(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red.jH(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red.jH(this),this.red.invm(this)},r.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red.jH(this),this.red.neg(this)},r.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red.jH(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function x(t,e){this.name=t,this.p=new r(e,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this.DH()}function S(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var e=r.BH(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function C(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.OH(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype.DH=function(){var t=new r(null);return t.words=new Array(Math.ceil(this.n/13)),t},x.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):void 0!==i.strip?i.strip():i.bH(),i},x.prototype.split=function(t,e){t.iushrn(this.n,0,e)},x.prototype.imulK=function(t){return t.imul(this.k)},n(S,x),S.prototype.split=function(t,e){for(var i=4194303,n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&i,r=10;r<t.length;r++){var s=0|t.words[r];t.words[r-10]=(s&i)<<4|o>>>22,o=s}o>>>=22,t.words[r-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},S.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var n=0|t.words[i];e+=977*n,t.words[i]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,x),n(b,x),n(M,x),M.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var n=19*(0|t.words[i])+e,r=67108863&n;n>>>=26,t.words[i]=r,e=n}return 0!==e&&(t.words[t.length++]=e),t},r.BH=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new S;else if("p224"===t)e=new A;else if("p192"===t)e=new b;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return m[t]=e,e},w.prototype.jH=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},w.prototype.IH=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t).FH(this):(l(t,t.umod(this.m).FH(this)),t)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t).FH(this)},w.prototype.add=function(t,e){this.IH(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i.FH(this)},w.prototype.iadd=function(t,e){this.IH(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},w.prototype.sub=function(t,e){this.IH(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i.FH(this)},w.prototype.isub=function(t,e){this.IH(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},w.prototype.shl=function(t,e){return this.jH(t),this.imod(t.ushln(e))},w.prototype.imul=function(t,e){return this.IH(t,e),this.imod(t.imul(e))},w.prototype.mul=function(t,e){return this.IH(t,e),this.imod(t.mul(e))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var n=this.m.add(new r(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);i(!o.isZero());var a=new r(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new r(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,o),f=this.pow(t,o.addn(1).iushrn(1)),p=this.pow(t,o),d=s;0!==p.cmp(a);){for(var y=p,v=0;0!==y.cmp(a);v++)y=y.redSqr();i(v<d);var g=this.pow(c,new r(1).iushln(d-v-1));f=f.redMul(g),c=g.redSqr(),p=p.redMul(c),d=v}return f},w.prototype.invm=function(t){var e=t.OH(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(t,e){if(e.isZero())return new r(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new r(1).toRed(this),i[1]=t;for(var n=2;n<i.length;n++)i[n]=this.mul(i[n-1],t);var o=i[0],s=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;o!==i[0]&&(o=this.sqr(o)),0!==c||0!==s?(s<<=1,s|=c,(4==++a||0===n&&0===h)&&(o=this.mul(o,i[s]),a=0,s=0)):a=0}u=26}return o},w.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},w.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},r.mont=function(t){return new C(t)},n(C,w),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},C.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o.FH(this)},C.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new r(0).FH(this);var i=t.mul(e),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=i.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s.FH(this)},C.prototype.invm=function(t){return this.imod(t.OH(this.m).mul(this.r2)).FH(this)}}(kM,TM);var DM=kM.exports;function FM(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var i=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)i[n]=0|t[n];return i}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0".concat(t)),n=0;n<t.length;n+=2)i.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var r=t.charCodeAt(n),o=r>>8,s=255&r;o?i.push(o,s):i.push(s)}return i}var _M,IM=function(t,e,i){var n=new Array(Math.max(t.bitLength(),i)+1);n.fill(0);for(var r=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a=void 0,u=o.andln(r-1);o.isOdd()?(a=u>(r>>1)-1?(r>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},OM=function(t,e){var i=[[],[]];t=t.clone(),e=e.clone();for(var n=0,r=0;t.cmpn(-n)>0||e.cmpn(-r)>0;){var o=t.andln(3)+n&3,s=e.andln(3)+r&3;3===o&&(o=-1),3===s&&(s=-1);var a;a=0==(1&o)?0:3!=(u=t.andln(7)+n&7)&&5!==u||2!==s?o:-o,i[0].push(a);var u,l;l=0==(1&s)?0:3!=(u=e.andln(7)+r&7)&&5!==u||2!==o?s:-s,i[1].push(l),2*n===a+1&&(n=1-n),2*r===l+1&&(r=1-r),t.iushrn(1),e.iushrn(1)}return i},BM=function(){function t(t,e){this.type=t,this.p=new DM(e.p,16),this.red=e.prime?DM.red(e.prime):DM.mont(this.p),this.zero=new DM(0).toRed(this.red),this.one=new DM(1).toRed(this.red),this.two=new DM(2).toRed(this.red),this.n=e.n&&new DM(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this.EH=new Array(4),this.PH=new Array(4),this.LH=new Array(4),this.zH=new Array(4),this.VH=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this.NH=!0,this.redN=this.n.toRed(this.red))}return t.prototype.RH=function(t,e){var i=t.GH(),n=IM(e,1,this.VH),r=(1<<i.step+1)-(i.step%2==0?2:1);r/=3;for(var o=[],s=0;s<n.length;s+=i.step){for(var a=0,u=s+i.step-1;u>=s;u--)a=(a<<1)+n[u];o.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=r;c>0;c--){for(s=0;s<o.length;s++)(a=o[s])===c?h=h.mixedAdd(i.points[s]):a===-c&&(h=h.mixedAdd(i.points[s].neg()));l=l.add(h)}return l.toP()},t.prototype.UH=function(t,e){var i=4,n=t.WH(i);i=n.wnd;for(var r=n.points,o=IM(e,i,this.VH),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(;a>=0&&0===o[a];a--);if(a>=0&&e++,s=s.dblp(e),a<0)break;var u=o[a];s="affine"===t.type?u>0?s.mixedAdd(r[u-1>>1]):s.mixedAdd(r[-u-1>>1].neg()):u>0?s.add(r[u-1>>1]):s.add(r[-u-1>>1].neg())}return"affine"===t.type?s.toP():s},t.prototype.YH=function(t,e,i,n,r){for(var o=this.EH,s=this.PH,a=this.LH,u=0,l=0;l<n;l++){var h=(w=e[l]).WH(t);o[l]=h.wnd,s[l]=h.points}for(l=n-1;l>=1;l-=2){var c=l-1,f=l;if(1===o[c]&&1===o[f]){var p=[e[c],null,null,e[f]];0===e[c].y.cmp(e[f].y)?(p[1]=e[c].add(e[f]),p[2]=e[c].toJ().mixedAdd(e[f].neg())):0===e[c].y.cmp(e[f].y.redNeg())?(p[1]=e[c].toJ().mixedAdd(e[f]),p[2]=e[c].add(e[f].neg())):(p[1]=e[c].toJ().mixedAdd(e[f]),p[2]=e[c].toJ().mixedAdd(e[f].neg()));var d=[-3,-1,-5,-7,0,7,5,1,3],y=OM(i[c],i[f]);u=Math.max(y[0].length,u),a[c]=new Array(u),a[f]=new Array(u);for(var v=0;v<u;v++){var g=0|y[0][v],m=0|y[1][v];a[c][v]=d[3*(g+1)+(m+1)],a[f][v]=0,s[c]=p}}else a[c]=IM(i[c],o[c],this.VH),a[f]=IM(i[f],o[f],this.VH),u=Math.max(a[c].length,u),u=Math.max(a[f].length,u)}var x=this.jpoint(null,null,null),S=this.zH;for(l=u;l>=0;l--){for(var A=0;l>=0;){var b=!0;for(v=0;v<n;v++)S[v]=0|a[v][l],0!==S[v]&&(b=!1);if(!b)break;A++,l--}if(l>=0&&A++,x=x.dblp(A),l<0)break;for(v=0;v<n;v++){var M=S[v],w=void 0;0!==M&&(M>0?w=s[v][M-1>>1]:M<0&&(w=s[v][-M-1>>1].neg()),x="affine"===w.type?x.mixedAdd(w):x.add(w))}}for(l=0;l<n;l++)s[l]=null;return r?x:x.toP()},t.prototype.decodePoint=function(t,e){t=FM(t,e);var i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw new Error("Unknown point format")},t}(),zM=function(){function t(t,e){this.curve=t,this.type=e,this.precomputed=null}return t.prototype.eq=function(t){throw new Error("Not implemented")},t.prototype.validate=function(){return this.curve.validate(this)},t.prototype.encodeCompressed=function(t){return this.encode(t,!0)},t.prototype.XH=function(t){var e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))},t.prototype.encode=function(t,e){return function(t,e){return"hex"===e?function(t){for(var e,i="",n=0;n<t.length;n++)i+=1===(e=t[n].toString(16)).length?"0".concat(e):e;return i}(t):t}(this.XH(e),t)},t.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this.WH(8),e.doubles=this.GH(4,t),e.beta=this.HH(),this.precomputed=e,this},t.prototype.ZH=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},t.prototype.GH=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,r=0;r<e;r+=t){for(var o=0;o<t;o++)n=n.dbl();i.push(n)}return{step:t,points:i}},t.prototype.WH=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],i=(1<<t)-1,n=1===i?null:this.dbl(),r=1;r<i;r++)e[r]=e[r-1].add(n);return{wnd:t,points:e}},t.prototype.HH=function(){return null},t.prototype.dblp=function(t){for(var e=this,i=0;i<t;i++)e=e.dbl();return e},t}(),LM=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),RM=function(t){function e(e){var i=t.call(this,"short",e)||this;return i.a=new DM(e.a,16).toRed(i.red),i.b=new DM(e.b,16).toRed(i.red),i.tinv=i.two.redInvm(),i.zeroA=0===i.a.fromRed().cmpn(0),i.threeA=0===i.a.fromRed().sub(i.p).cmpn(-3),i.endo=i.QH(e),i.KH=new Array(4),i.JH=new Array(4),i}return LM(e,t),e.prototype.pointFromJSON=function(t,e){return VM.fromJSON(this,t,e)},e.prototype.QH=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,i;if(t.beta)e=new DM(t.beta,16).toRed(this.red);else{var n=this.qH(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)i=new DM(t.lambda,16);else{var r=this.qH(this.n);i=0===this.g.mul(r[0]).x.cmp(this.g.x.redMul(e))?r[0]:r[1]}return{beta:e,lambda:i,basis:t.basis?t.basis.map((function(t){return{a:new DM(t.a,16),b:new DM(t.b,16)}})):this.$H(i)}}},e.prototype.qH=function(t){var e=t===this.p?this.red:DM.mont(t),i=new DM(2).toRed(e).redInvm(),n=i.redNeg(),r=new DM(3).toRed(e).redNeg().redSqrt().redMul(i);return[n.redAdd(r).fromRed(),n.redSub(r).fromRed()]},e.prototype.$H=function(t){for(var e,i,n,r,o,s,a,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),p=new DM(1),d=new DM(0),y=new DM(0),v=new DM(1),g=0;0!==c.cmpn(0);){var m=f.div(c);u=f.sub(m.mul(c)),l=y.sub(m.mul(p));var x=v.sub(m.mul(d));if(!n&&u.cmp(h)<0)e=a.neg(),i=p,n=u.neg(),r=l;else if(n&&2==++g)break;a=u,f=c,c=u,y=p,p=l,v=d,d=x}o=u.neg(),s=l;var S=n.sqr().add(r.sqr());return o.sqr().add(s.sqr()).cmp(S)>=0&&(o=e,s=i),n.negative&&(n=n.neg(),r=r.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:r},{a:o,b:s}]},e.prototype.tZ=function(t){var e=this.endo.basis,i=e[0],n=e[1],r=n.b.mul(t).divRound(this.n),o=i.b.neg().mul(t).divRound(this.n),s=r.mul(i.a),a=o.mul(n.a),u=r.mul(i.b),l=o.mul(n.b);return{k1:t.sub(s).sub(a),k2:u.add(l).neg()}},e.prototype.point=function(t,e,i){return new VM(this,t,e,i)},e.prototype.pointFromX=function(t,e){(t=new DM(t,16)).red||(t=t.toRed(this.red));var i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var r=n.fromRed().isOdd();return(e&&!r||!e&&r)&&(n=n.redNeg()),this.point(t,n)},e.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,i=t.y,n=this.a.redMul(e),r=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)},e.prototype.iZ=function(t,e,i){var n=this.KH,r=this.JH,o=0;for(o=0;o<t.length;o++){var s=this.tZ(e[o]),a=t[o],u=a.HH();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,r[2*o]=s.k1,r[2*o+1]=s.k2}for(var l=this.YH(1,n,r,2*o,i),h=0;h<2*o;h++)n[h]=null,r[h]=null;return l},e.prototype.jpoint=function(t,e,i){return new NM(this,t,e,i)},e}(BM),VM=function(t){function e(e,i,n,r){var o=t.call(this,e,"affine")||this;return null===i&&null===n?(o.x=null,o.y=null,o.inf=!0):(o.x=new DM(i,16),o.y=new DM(n,16),r&&(o.x.forceRed(o.curve.red),o.y.forceRed(o.curve.red)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.inf=!1),o}return LM(e,t),e.prototype.pointFromX=function(t,e){throw new Error("Method not implemented.")},e.prototype.point=function(t,i,n){return new e(this,t,i,n)},e.prototype.HH=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var i=this.curve,n=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},e.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},e.fromJSON=function(t,e,i){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],i);if(!e[2])return n;function r(e){return t.point(e[0],e[1],i)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(r))}},n},e.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: ".concat(this.x.fromRed().toString(16,2)," y: ").concat(this.y.fromRed().toString(16,2),">")},e.prototype.isInfinity=function(){return this.inf},e.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var i=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},e.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,i=this.x.redSqr(),n=t.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(n),o=r.redSqr().redISub(this.x.redAdd(this.x)),s=r.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},e.prototype.getX=function(){return this.x.fromRed()},e.prototype.getY=function(){return this.y.fromRed()},e.prototype.mul=function(t){return t=new DM(t,16),this.isInfinity()?this:this.ZH(t)?this.curve.RH(this,t):this.curve.endo?this.curve.iZ([this],[t]):this.curve.UH(this,t)},e.prototype.mulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve.iZ(n,r):this.curve.YH(1,n,r,2)},e.prototype.jmulAdd=function(t,e,i){var n=[this,e],r=[t,i];return this.curve.endo?this.curve.iZ(n,r,!0):this.curve.YH(1,n,r,2,!0)},e.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},e.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var i=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return e},e.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},e}(zM),NM=function(t){function e(e,i,n,r){var o=t.call(this,e,"jacobian")||this;return null===i&&null===n&&null===r?(o.x=o.curve.one,o.y=o.curve.one,o.z=new DM(0)):(o.x=new DM(i,16),o.y=new DM(n,16),o.z=new DM(r,16)),o.x.red||(o.x=o.x.toRed(o.curve.red)),o.y.red||(o.y=o.y.toRed(o.curve.red)),o.z.red||(o.z=o.z.toRed(o.curve.red)),o.zOne=o.z===o.curve.one,o}return LM(e,t),e.prototype.getY=function(){throw new Error("Method not implemented.")},e.prototype.getX=function(){throw new Error("Method not implemented.")},e.prototype.pointFromX=function(t,e){throw new Error("Method not implemented.")},e.prototype.point=function(t,e,i){throw new Error("Method not implemented.")},e.prototype.jpoint=function(t,i,n){return new e(this,t,i,n)},e.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(i,n)},e.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},e.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(e),r=t.x.redMul(i),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(i.redMul(this.z)),a=n.redSub(r),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),h=l.redMul(a),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),p=u.redMul(c.redISub(f)).redISub(o.redMul(h)),d=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,p,d)},e.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),i=this.x,n=t.x.redMul(e),r=this.y,o=t.y.redMul(e).redMul(this.z),s=i.redSub(n),a=r.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),h=i.redMul(u),c=a.redSqr().redIAdd(l).redISub(h).redISub(h),f=a.redMul(h.redISub(c)).redISub(r.redMul(l)),p=this.z.redMul(s);return this.curve.jpoint(c,f,p)},e.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,i=0;i<t;i++)e=e.dbl();return e}var n=this.curve.a,r=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),l=s.redAdd(s);for(i=0;i<t;i++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),p=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),d=o.redMul(c),y=p.redSqr().redISub(d.redAdd(d)),v=d.redISub(y),g=p.redMul(v);g=g.redIAdd(g).redISub(f);var m=l.redMul(a);i+1<t&&(u=u.redMul(f)),o=y,a=m,l=g}return this.curve.jpoint(o,l.redMul(r),a)},e.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this.nZ():this.curve.threeA?this.rZ():this.eZ()},e.prototype.nZ=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),s=this.x.redAdd(r).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=a.redMul(s.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),p=this.x.redAdd(c).redSqr().redISub(h).redISub(f);p=p.redIAdd(p);var d=h.redAdd(h).redIAdd(h),y=d.redSqr(),v=f.redIAdd(f);v=(v=v.redIAdd(v)).redIAdd(v),t=y.redISub(p).redISub(p),e=d.redMul(p.redISub(t)).redISub(v),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(t,e,i)},e.prototype.rZ=function(){var t,e,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),o=r.redSqr(),s=this.x.redAdd(r).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=a.redMul(s.redISub(u)).redISub(l),i=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),p=this.x.redSub(h).redMul(this.x.redAdd(h));p=p.redAdd(p).redIAdd(p);var d=f.redIAdd(f),y=(d=d.redIAdd(d)).redAdd(d);t=p.redSqr().redISub(y),i=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var v=c.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),e=p.redMul(d.redISub(t)).redISub(v)}return this.curve.jpoint(t,e,i)},e.prototype.eZ=function(){var t=this.curve.a,e=this.x,i=this.y,n=this.z,r=n.redSqr().redSqr(),o=e.redSqr(),s=i.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(r)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(s),h=a.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=a.redMul(c).redISub(f),d=i.redAdd(i).redMul(n);return this.curve.jpoint(h,p,d)},e.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),n=e.redSqr(),r=t.redAdd(t).redIAdd(t),o=r.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=r.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(a).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(s).redSqr().redISub(i).redISub(a);return this.curve.jpoint(c,f,p)},e.prototype.mul=function(t,e){return t=new DM(t,e),this.curve.UH(this,t)},e.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),r=i.redMul(t.z);return 0===this.y.redMul(r).redISub(t.y.redMul(n)).cmpn(0)},e.prototype.eqXToP=function(t){var e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}},e.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: ".concat(this.x.toString(16,2)," y: ").concat(this.y.toString(16,2)," z: ").concat(this.z.toString(16,2),">")},e.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},e}(zM),UM=function(t){this.curve=new RM(t),this.g=this.curve.g,this.n=this.curve.n},YM={};YM.PresetCurve=UM,_M={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(YM,"secp256k1",{configurable:!0,enumerable:!0,get:function(){var t=new UM(_M);return Object.defineProperty(YM,"secp256k1",{configurable:!0,enumerable:!0,value:t}),t}});var GM=function(){function t(t,e){this.ec=t,this.priv=null,this.pub=null,e.pub&&this.oZ(e.pub,e.pubEnc)}return t.fromPublic=function(e,i,n){return i instanceof t?i:new t(e,{pub:i,pubEnc:n})},t.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},t.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},t.prototype.oZ=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type||"short"===this.ec.curve.type||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},t.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},t}();function jM(t,e){var i=t[e.place++];if(!(128&i))return i;var n=15&i;if(0===n||n>4)return!1;for(var r=0,o=e.place,s=0;s<n;s++,o++)r<<=8,r|=t[o],r>>>=0;return!(r<=127)&&(e.place=o,r)}var WM,XM=function(){this.place=0},HM=function(){function t(e,i){if(e instanceof t)return e;this.sZ(e,i)||(this.r=new DM(e.r,16),this.s=new DM(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}return t.prototype.sZ=function(t,e){t=FM(t,e);var i=new XM;if(48!==t[i.place++])return!1;var n=jM(t,i);if(!1===n)return!1;if(n+i.place!==t.length)return!1;if(2!==t[i.place++])return!1;var r=jM(t,i);if(!1===r)return!1;var o=t.slice(i.place,r+i.place);if(i.place+=r,2!==t[i.place++])return!1;var s=jM(t,i);if(!1===s)return!1;if(t.length!==s+i.place)return!1;var a=t.slice(i.place,s+i.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new DM(o),this.s=new DM(a),this.recoveryParam=null,!0},t}(),ZM=function(){function t(e){if(!(this instanceof t))return new t(e);"string"==typeof e&&(e=YM[e]),e instanceof YM.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1)}return t.prototype.keyFromPublic=function(t,e){return GM.fromPublic(this,t,e)},t.prototype.uZ=function(t,e){var i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},t.prototype.verify=function(t,e,i,n){t=this.uZ(new DM(t,16)),i=this.keyFromPublic(i,n);var r=(e=new HM(e,"hex")).r,o=e.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),a=s.mul(t).umod(this.n),u=s.mul(r).umod(this.n);if(!this.curve.NH){var l=this.g.mulAdd(a,i.getPublic(),u);return!l.isInfinity()&&0===l.getX().umod(this.n).cmp(r)}var h=this.g.jmulAdd(a,i.getPublic(),u);return!h.isInfinity()&&h.eqXToP(r)},t}(),QM={exports:{}};QM.exports=WM=WM||function(t,e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==TM&&TM.crypto&&(i=TM.crypto),!i)try{i=e}catch(t){}var n=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),o={},s=o.lib={},a=s.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=a.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++){var s=i[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<r;a+=4)e[n+a>>>2]=i[a>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(n());return new u.init(e,t)}}),l=o.enc={},h=l.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new u.init(i,e/2)}},c=l.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new u.init(i,e)}},f=l.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=a.extend({reset:function(){this.GC=new u.init,this.hZ=0},aZ:function(t){"string"==typeof t&&(t=f.parse(t)),this.GC.concat(t),this.hZ+=t.sigBytes},fZ:function(e){var i,n=this.GC,r=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=e?t.ceil(a):t.max((0|a)-this.cZ,0))*s,h=t.min(4*l,o);if(l){for(var c=0;c<l;c+=s)this.lZ(r,c);i=r.splice(0,l),n.sigBytes-=h}return new u.init(i,h)},clone:function(){var t=a.clone.call(this);return t.GC=this.GC.clone(),t},cZ:0});s.Hasher=p.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this.vZ()},update:function(t){return this.aZ(t),this.fZ(),this},finalize:function(t){return t&&this.aZ(t),this.dZ()},blockSize:16,AZ:function(t){return function(e,i){return new t.init(i).finalize(e)}},yZ:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}});var d=o.algo={};return o}(Math);var qM,KM,JM,$M={exports:{}}.exports=function(t){return function(e){var i=t,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.algo,a=[],u=[];!function(){function t(t){for(var i=e.sqrt(t),n=2;n<=i;n++)if(!(t%n))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var n=2,r=0;r<64;)t(n)&&(r<8&&(a[r]=i(e.pow(n,.5))),u[r]=i(e.pow(n,1/3)),r++),n++}();var l=[],h=s.SHA256=o.extend({vZ:function(){this.mZ=new r.init(a.slice(0))},lZ:function(t,e){for(var i=this.mZ.words,n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],h=i[5],c=i[6],f=i[7],p=0;p<64;p++){if(p<16)l[p]=0|t[e+p];else{var d=l[p-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=l[p-2],g=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[p]=y+l[p-7]+g+l[p-16]}var m=n&r^n&o^r&o,x=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),S=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&h^~a&c)+u[p]+l[p];f=c,c=h,h=a,a=s+S|0,s=o,o=r,r=n,n=S+(x+m)|0}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+s|0,i[4]=i[4]+a|0,i[5]=i[5]+h|0,i[6]=i[6]+c|0,i[7]=i[7]+f|0},dZ:function(){var t=this.GC,i=t.words,n=8*this.hZ,r=8*t.sigBytes;return i[r>>>5]|=128<<24-r%32,i[14+(r+64>>>9<<4)]=e.floor(n/4294967296),i[15+(r+64>>>9<<4)]=n,t.sigBytes=4*i.length,this.fZ(),this.mZ},clone:function(){var t=o.clone.call(this);return t.mZ=this.mZ.clone(),t}});i.SHA256=o.AZ(h),i.HmacSHA256=o.yZ(h)}(Math),t.SHA256}(QM.exports),tw={exports:{}}.exports=function(t){return i=(e=t).lib.WordArray,n=e.algo,r=n.SHA256,o=n.SHA224=r.extend({vZ:function(){this.mZ=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},dZ:function(){var t=r.dZ.call(this);return t.sigBytes-=4,t}}),e.SHA224=r.AZ(o),e.HmacSHA224=r.yZ(o),t.SHA224;var e,i,n,r,o}(QM.exports),ew={exports:{}}.exports=QM.exports.enc.Hex,iw={exports:{}}.exports=QM.exports.enc.Utf8;!function(t){return i=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this.bZ;t.clamp();for(var r=[],o=0;o<i;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<i;a++)r.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;r.length%4;)r.push(u);return r.join("")},parse:function(t){var e=t.length,n=this.bZ,r=this.pZ;if(!r){r=this.pZ=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=t.indexOf(s);-1!==a&&(e=a)}return function(t,e,n){for(var r=[],o=0,s=0;s<e;s++)if(s%4){var a=n[t.charCodeAt(s-1)]<<s%4*2|n[t.charCodeAt(s)]>>>6-s%4*2;r[o>>>2]|=a<<24-o%4*8,o++}return i.create(r,o)}(t,e,r)},bZ:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var e,i}(QM.exports),function(t){(function(e){var i=t,n=i.lib,r=n.WordArray,o=n.Hasher,s=i.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=s.MD5=o.extend({vZ:function(){this.mZ=new r.init([1732584193,4023233417,2562383102,271733878])},lZ:function(t,e){for(var i=0;i<16;i++){var n=e+i,r=t[n];t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var o=this.mZ.words,s=t[e+0],u=t[e+1],p=t[e+2],d=t[e+3],y=t[e+4],v=t[e+5],g=t[e+6],m=t[e+7],x=t[e+8],S=t[e+9],A=t[e+10],b=t[e+11],M=t[e+12],w=t[e+13],C=t[e+14],P=t[e+15],E=o[0],T=o[1],k=o[2],D=o[3];E=l(E,T,k,D,s,7,a[0]),D=l(D,E,T,k,u,12,a[1]),k=l(k,D,E,T,p,17,a[2]),T=l(T,k,D,E,d,22,a[3]),E=l(E,T,k,D,y,7,a[4]),D=l(D,E,T,k,v,12,a[5]),k=l(k,D,E,T,g,17,a[6]),T=l(T,k,D,E,m,22,a[7]),E=l(E,T,k,D,x,7,a[8]),D=l(D,E,T,k,S,12,a[9]),k=l(k,D,E,T,A,17,a[10]),T=l(T,k,D,E,b,22,a[11]),E=l(E,T,k,D,M,7,a[12]),D=l(D,E,T,k,w,12,a[13]),k=l(k,D,E,T,C,17,a[14]),E=h(E,T=l(T,k,D,E,P,22,a[15]),k,D,u,5,a[16]),D=h(D,E,T,k,g,9,a[17]),k=h(k,D,E,T,b,14,a[18]),T=h(T,k,D,E,s,20,a[19]),E=h(E,T,k,D,v,5,a[20]),D=h(D,E,T,k,A,9,a[21]),k=h(k,D,E,T,P,14,a[22]),T=h(T,k,D,E,y,20,a[23]),E=h(E,T,k,D,S,5,a[24]),D=h(D,E,T,k,C,9,a[25]),k=h(k,D,E,T,d,14,a[26]),T=h(T,k,D,E,x,20,a[27]),E=h(E,T,k,D,w,5,a[28]),D=h(D,E,T,k,p,9,a[29]),k=h(k,D,E,T,m,14,a[30]),E=c(E,T=h(T,k,D,E,M,20,a[31]),k,D,v,4,a[32]),D=c(D,E,T,k,x,11,a[33]),k=c(k,D,E,T,b,16,a[34]),T=c(T,k,D,E,C,23,a[35]),E=c(E,T,k,D,u,4,a[36]),D=c(D,E,T,k,y,11,a[37]),k=c(k,D,E,T,m,16,a[38]),T=c(T,k,D,E,A,23,a[39]),E=c(E,T,k,D,w,4,a[40]),D=c(D,E,T,k,s,11,a[41]),k=c(k,D,E,T,d,16,a[42]),T=c(T,k,D,E,g,23,a[43]),E=c(E,T,k,D,S,4,a[44]),D=c(D,E,T,k,M,11,a[45]),k=c(k,D,E,T,P,16,a[46]),E=f(E,T=c(T,k,D,E,p,23,a[47]),k,D,s,6,a[48]),D=f(D,E,T,k,m,10,a[49]),k=f(k,D,E,T,C,15,a[50]),T=f(T,k,D,E,v,21,a[51]),E=f(E,T,k,D,M,6,a[52]),D=f(D,E,T,k,d,10,a[53]),k=f(k,D,E,T,A,15,a[54]),T=f(T,k,D,E,u,21,a[55]),E=f(E,T,k,D,x,6,a[56]),D=f(D,E,T,k,P,10,a[57]),k=f(k,D,E,T,g,15,a[58]),T=f(T,k,D,E,w,21,a[59]),E=f(E,T,k,D,y,6,a[60]),D=f(D,E,T,k,b,10,a[61]),k=f(k,D,E,T,p,15,a[62]),T=f(T,k,D,E,S,21,a[63]),o[0]=o[0]+E|0,o[1]=o[1]+T|0,o[2]=o[2]+k|0,o[3]=o[3]+D|0},dZ:function(){var t=this.GC,i=t.words,n=8*this.hZ,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296),s=n;i[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(i.length+1),this.fZ();for(var a=this.mZ,u=a.words,l=0;l<4;l++){var h=u[l];u[l]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return a},clone:function(){var t=o.clone.call(this);return t.mZ=this.mZ.clone(),t}});function l(t,e,i,n,r,o,s){var a=t+(e&i|~e&n)+r+s;return(a<<o|a>>>32-o)+e}function h(t,e,i,n,r,o,s){var a=t+(e&n|i&~n)+r+s;return(a<<o|a>>>32-o)+e}function c(t,e,i,n,r,o,s){var a=t+(e^i^n)+r+s;return(a<<o|a>>>32-o)+e}function f(t,e,i,n,r,o,s){var a=t+(i^(e|~n))+r+s;return(a<<o|a>>>32-o)+e}i.MD5=o.AZ(u),i.HmacMD5=o.yZ(u)})(Math),t.MD5}(QM.exports),function(t){return i=(e=t).lib,n=i.WordArray,r=i.Hasher,o=e.algo,s=[],a=o.SHA1=r.extend({vZ:function(){this.mZ=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},lZ:function(t,e){for(var i=this.mZ.words,n=i[0],r=i[1],o=i[2],a=i[3],u=i[4],l=0;l<80;l++){if(l<16)s[l]=0|t[e+l];else{var h=s[l-3]^s[l-8]^s[l-14]^s[l-16];s[l]=h<<1|h>>>31}var c=(n<<5|n>>>27)+u+s[l];c+=l<20?1518500249+(r&o|~r&a):l<40?1859775393+(r^o^a):l<60?(r&o|r&a|o&a)-1894007588:(r^o^a)-899497514,u=a,a=o,o=r<<30|r>>>2,r=n,n=c}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+u|0},dZ:function(){var t=this.GC,e=t.words,i=8*this.hZ,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(n+64>>>9<<4)]=i,t.sigBytes=4*e.length,this.fZ(),this.mZ},clone:function(){var t=r.clone.call(this);return t.mZ=this.mZ.clone(),t}}),e.SHA1=r.AZ(a),e.HmacSHA1=r.yZ(a),t.SHA1;var e,i,n,r,o,s,a}(QM.exports),KM=(qM=QM.exports).lib.Base,JM=qM.enc.Utf8,qM.algo.HMAC=KM.extend({init:function(t,e){t=this.gZ=new t.init,"string"==typeof e&&(e=JM.parse(e));var i=t.blockSize,n=4*i;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var r=this.SZ=e.clone(),o=this.xZ=e.clone(),s=r.words,a=o.words,u=0;u<i;u++)s[u]^=1549556828,a[u]^=909522486;r.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this.gZ;t.reset(),t.update(this.xZ)},update:function(t){return this.gZ.update(t),this},finalize:function(t){var e=this.gZ,i=e.finalize(t);return e.reset(),e.finalize(this.SZ.clone().concat(i))}}),function(t){return n=(i=(e=t).lib).Base,r=i.WordArray,s=(o=e.algo).MD5,a=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i,n=this.cfg,o=n.hasher.create(),s=r.create(),a=s.words,u=n.keySize,l=n.iterations;a.length<u;){i&&o.update(i),i=o.update(t).finalize(e),o.reset();for(var h=1;h<l;h++)i=o.finalize(i),o.reset();s.concat(i)}return s.sigBytes=4*u,s}}),e.EvpKDF=function(t,e,i){return a.create(i).compute(t,e)},t.EvpKDF;var e,i,n,r,o,s,a}(QM.exports),function(t){t.lib.Cipher||function(e){var i=t,n=i.lib,r=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,a=i.enc;a.Utf8;var u=a.Base64,l=i.algo.EvpKDF,h=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this.wZ,t,e)},createDecryptor:function(t,e){return this.create(this.MZ,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this.CZ=t,this._Z=e,this.reset()},reset:function(){s.reset.call(this),this.vZ()},process:function(t){return this.aZ(t),this.fZ()},finalize:function(t){return t&&this.aZ(t),this.dZ()},keySize:4,ivSize:4,wZ:1,MZ:2,AZ:function(){function t(t){return"string"==typeof t?x:g}return function(e){return{encrypt:function(i,n,r){return t(n).encrypt(e,i,n,r)},decrypt:function(i,n,r){return t(n).decrypt(e,i,n,r)}}}}()});n.StreamCipher=h.extend({dZ:function(){return this.fZ(!0)},blockSize:1});var c=i.mode={},f=n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this.TZ=t,this.kZ=e}}),p=c.CBC=function(){var t=f.extend();function e(t,e,i){var n,r=this.kZ;r?(n=r,this.kZ=void 0):n=this.OZ;for(var o=0;o<i;o++)t[e+o]^=n[o]}return t.Encryptor=t.extend({processBlock:function(t,i){var n=this.TZ,r=n.blockSize;e.call(this,t,i,r),n.encryptBlock(t,i),this.OZ=t.slice(i,i+r)}}),t.Decryptor=t.extend({processBlock:function(t,i){var n=this.TZ,r=n.blockSize,o=t.slice(i,i+r);n.decryptBlock(t,i),e.call(this,t,i,r),this.OZ=o}}),t}(),d=(i.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,n=i-t.sigBytes%i,r=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(r);var u=o.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:p,padding:d}),reset:function(){var t;h.reset.call(this);var e=this.cfg,i=e.iv,n=e.mode;this.CZ==this.wZ?t=n.createEncryptor:(t=n.createDecryptor,this.cZ=1),this.FZ&&this.FZ.IZ==t?this.FZ.init(this,i&&i.words):(this.FZ=t.call(n,this,i&&i.words),this.FZ.IZ=t)},lZ:function(t,e){this.FZ.processBlock(t,e)},dZ:function(){var t,e=this.cfg.padding;return this.CZ==this.wZ?(e.pad(this.GC,this.blockSize),t=this.fZ(!0)):(t=this.fZ(!0),e.unpad(t)),t},blockSize:4});var y=n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(e):e).toString(u)},parse:function(t){var e,i=u.parse(t),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),y.create({ciphertext:i,salt:e})}},g=n.SerializableCipher=r.extend({cfg:r.extend({format:v}),encrypt:function(t,e,i,n){n=this.cfg.extend(n);var r=t.createEncryptor(i,n),o=r.finalize(e),s=r.cfg;return y.create({ciphertext:o,key:i,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,i,n){return n=this.cfg.extend(n),e=this.jZ(e,n.format),t.createDecryptor(i,n).finalize(e.ciphertext)},jZ:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(i.kdf={}).OpenSSL={execute:function(t,e,i,n){n||(n=o.random(8));var r=l.create({keySize:e+i}).compute(t,n),s=o.create(r.words.slice(e),4*i);return r.sigBytes=4*e,y.create({key:r,iv:s,salt:n})}},x=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:m}),encrypt:function(t,e,i,n){var r=(n=this.cfg.extend(n)).kdf.execute(i,t.keySize,t.ivSize);n.iv=r.iv;var o=g.encrypt.call(this,t,e,r.key,n);return o.mixIn(r),o},decrypt:function(t,e,i,n){n=this.cfg.extend(n),e=this.jZ(e,n.format);var r=n.kdf.execute(i,t.keySize,t.ivSize,e.salt);return n.iv=r.iv,g.decrypt.call(this,t,e,r.key,n)}})}()}(QM.exports);var nw,rw,ow,sw={exports:{}}.exports=function(t){return function(){var e=t,i=e.lib.BlockCipher,n=e.algo,r=[],o=[],s=[],a=[],u=[],l=[],h=[],c=[],f=[],p=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,n=0;for(e=0;e<256;e++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,r[i]=d,o[d]=i;var y=t[i],v=t[y],g=t[v],m=257*t[d]^16843008*d;s[i]=m<<24|m>>>8,a[i]=m<<16|m>>>16,u[i]=m<<8|m>>>24,l[i]=m,m=16843009*g^65537*v^257*y^16843008*i,h[d]=m<<24|m>>>8,c[d]=m<<16|m>>>16,f[d]=m<<8|m>>>24,p[d]=m,i?(i=y^t[t[t[g^y]]],n^=t[t[n]]):i=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=i.extend({vZ:function(){if(!this.DZ||this.BZ!==this._Z){for(var t=this.BZ=this._Z,e=t.words,i=t.sigBytes/4,n=4*((this.DZ=i+6)+1),o=this.EZ=[],s=0;s<n;s++)s<i?o[s]=e[s]:(l=o[s-1],s%i?i>6&&s%i==4&&(l=r[l>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l]):(l=r[(l=l<<8|l>>>24)>>>24]<<24|r[l>>>16&255]<<16|r[l>>>8&255]<<8|r[255&l],l^=d[s/i|0]<<24),o[s]=o[s-i]^l);for(var a=this.PZ=[],u=0;u<n;u++){if(s=n-u,u%4)var l=o[s];else l=o[s-4];a[u]=u<4||s<=4?l:h[r[l>>>24]]^c[r[l>>>16&255]]^f[r[l>>>8&255]]^p[r[255&l]]}}},encryptBlock:function(t,e){this.LZ(t,e,this.EZ,s,a,u,l,r)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this.LZ(t,e,this.PZ,h,c,f,p,o),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},LZ:function(t,e,i,n,r,o,s,a){for(var u=this.DZ,l=t[e]^i[0],h=t[e+1]^i[1],c=t[e+2]^i[2],f=t[e+3]^i[3],p=4,d=1;d<u;d++){var y=n[l>>>24]^r[h>>>16&255]^o[c>>>8&255]^s[255&f]^i[p++],v=n[h>>>24]^r[c>>>16&255]^o[f>>>8&255]^s[255&l]^i[p++],g=n[c>>>24]^r[f>>>16&255]^o[l>>>8&255]^s[255&h]^i[p++],m=n[f>>>24]^r[l>>>16&255]^o[h>>>8&255]^s[255&c]^i[p++];l=y,h=v,c=g,f=m}y=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^i[p++],v=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^i[p++],g=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^i[p++],m=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^i[p++],t[e]=y,t[e+1]=v,t[e+2]=g,t[e+3]=m},keySize:8});e.AES=i.AZ(y)}(),t.AES}(QM.exports),aw={exports:{}}.exports=function(t){return t.mode.CTR=(i=(e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){var i=this.TZ,n=i.blockSize,r=this.kZ,o=this.zZ;r&&(o=this.zZ=r.slice(0),this.kZ=void 0);var s=o.slice(0);i.encryptBlock(s,0),o[n-1]=o[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=s[a]}}),e.Decryptor=i,e),t.mode.CTR;var e,i}(QM.exports),uw={exports:{}}.exports=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,i=e.init;(e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,n=[],r=0;r<e;r++)n[r>>>2]|=t[r]<<24-r%4*8;i.call(this,n,e)}else i.apply(this,arguments)}).prototype=e}}(),t.lib.WordArray}(QM.exports),lw={exports:{}}.exports=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding}(QM.exports),hw=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},cw="aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvYXBwLWRlcGxveW1lbnQv",fw={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAxODAxMjA="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw=="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI="],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Y2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ=="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA=="]},pw=ne,dw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.slice(1).reduce((function(e,i){return e+pw.atob(fw[t[0]][i].toString())}),"")},yw=new Uint8Array([]),vw=function(){function t(){}return Object.defineProperty(t.prototype,"e",{get:function(){rw={Iv:!1,jv:!1,Dv:!1,Bv:!1,Ev:!1,Pv:!1,Lv:!1,zv:!1,Vv:!1,Nv:!1,Rv:!1,Gv:!1,Uv:!1,Wv:!1,Yv:!1,Xv:!1,Hv:!1,Zv:!1,Qv:!1,Kv:!1,Jv:!1,qv:!1,$v:!1,td:!1};var t=yw.length,e=t>=1?yw[0]:void 0,i=t>=2?yw[1]:void 0,n=t>=3?yw[2]:void 0;return void 0!==e&&(rw.Iv=!!(1&e),rw.jv=!!(2&e),rw.Dv=!!(4&e),rw.Bv=!!(8&e),rw.Ev=!!(16&e),rw.Pv=!!(32&e),rw.Lv=!!(64&e),rw.zv=!!(128&e)),void 0!==i&&(rw.Vv=!!(1&i),rw.Nv=!!(2&i),rw.Rv=!!(4&i),rw.Gv=!!(8&i),rw.Uv=!!(16&i),rw.Wv=!!(32&i),rw.Yv=!!(64&i),rw.Xv=!!(128&i)),void 0!==n&&(rw.Hv=!!(1&n),rw.Zv=!!(2&n),rw.Qv=!!(4&n),rw.Kv=!!(8&n),rw.Jv=!!(16&n),rw.qv=!!(32&n),rw.$v=!!(64&n),rw.td=!!(128&n)),rw.Pv},set:function(t){nw=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"l",{get:function(){return ow},set:function(t){ow=t},enumerable:!1,configurable:!0}),t}(),gw=!1,mw=function(t,e){var i=new RegExp(".{".concat(e,"}"),"g");return(t.match(i)||[]).map((function(t){return parseInt(t,16)}))},xw=function(t){if(4===t.byteLength){var e=t[0].toString().padStart(2,"0"),i=t[1].toString().padStart(2,"0"),n=t[2].toString().padStart(2,"0"),r=t[3].toString().padStart(2,"0");return"".concat(e).concat(i).concat(n).concat(r)}},Sw=function(t){return t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")},Aw=function(t){var e={},i=t.split("-");if(3!==i.length)return{VZ:dw(0,0,1,7,1,12,5)};var n=0,r=Uint8Array.from(atob(i[1]),(function(t){return t.charCodeAt(0)}));n+=1;var o=r.subarray(n,n+=20),s=new DataView(r.buffer).getUint16(n,!0);n+=2;for(var a=Uint8Array.from(Array(s)),u=0;u<s;u+=1)a[u]=r[u+n]^o[u%o.byteLength];var l=new DataView(a.buffer);e.NZ=a,n=0;var h=Uint8Array.from(Array(l.getUint16(n,!0)));n+=2,h.set(a.subarray(n,n+=h.byteLength)),yw=new Uint8Array(h);var c=xw(a.subarray(n,n+=4)),f=dw(-3,0);if(!c)return{VZ:dw(0,0,1,7,1,12,5)};if(c<f)return{VZ:dw(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&h[0]){var p=xw(a.subarray(n,n+=4)),d=Sw(new Date);if(!p)return{VZ:dw(0,0,1,7,1,12,5)};if(p<d)return{VZ:dw(0,0,1,2,1,3,1,4,5),RZ:dw(-2,2)}}e.GZ=n;var y="".concat(i[0],"-").concat(i[1]),v=Array.prototype.reduce.call(atob(i[2]),(function(t,e){return t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)}),"");return ww(y,v)?e:{VZ:dw(0,0,1,7,1,12,5)}},bw=function(t){var e=t.slice(0,4),i=t.slice(5);switch(e){case"0001":i=i.replace(/-/g,"");var n=Uint8Array.from(mw(i,2)),r=n.slice(36,40),o=new Uint8Array(4),s=function(t){for(var e,i=[],n=0;n<256;n+=1){e=n;for(var r=0;r<8;r+=1)e=1&e?3988292384^e>>>1:e>>>1;i[n]=e}for(var o=-1,s=0;s<t.length;s+=1)o=o>>>8^i[255&(o^t[s])];return(-1^o)>>>0}(n.slice(0,36));new DataView(o.buffer).setUint32(0,s,!0);for(var a=n.slice(28,34),u=0,l=a.length-1;l>0;l-=1)u+=a[l]*Math.pow(2,8*l);var h=new Date(u);if(Sw(h)<dw(-3,0))return{VZ:dw(0,0,1,2,1,3,1,4,5),RZ:dw(-2,2)};if(r.every((function(t,e){return o[e]===t})))return{};break;case"0002":return Aw(t);default:return{VZ:dw(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{VZ:dw(0,0,1,2,1,7,1,12,5)}},Mw=function(t){if(!t)return{VZ:dw(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};var e=(t[dw(-1,9)]||t[dw(-1,37)]).map((function(t){return(t||"").trim()}));if(e.indexOf(pw[dw(-1,6)][dw(-1,7)])>-1)return{UZ:!0};var i=e.filter((function(t){return t.indexOf("*")>-1}));if(kw(pw[dw(-1,6)][dw(-1,7)],i))return{UZ:!0};var n=t[dw(-1,8)]||t[dw(-1,38)];if(""!==n&&null!=n){if(kw(pw[dw(-1,6)][dw(-1,7)],[n]))return{UZ:!1};if(n===pw[dw(-1,6)][dw(-1,7)])return{UZ:!1}}return{VZ:dw(0,14,1,20,5),RZ:"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvd2ViLWRlcGxveW1lbnQv"}},ww=function(t,e){var i=new ZM("secp256k1").keyFromPublic(dw(-4,0),"hex"),n=tw(t).toString();return i.verify(n,e)},Cw=function(t){switch(t.slice(0,4)){case"0001":return function(t){var e,i="";try{var n=t.split("-"),r=n[1],o=n[2],s=n[3];if(!ww(o,s))return{VZ:dw(0,21,1,2,1,7,1,12,5)};var a=ew.parse(o);i=sw.decrypt({ciphertext:ew.parse(r)},a,{mode:aw,padding:lw,iv:ew.parse("00000000000000000000000000000001")}).toString(iw)}catch(t){return{VZ:dw(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(i)}catch(t){return{VZ:dw(0,21,1,2,1,7,1,12,5)}}if(void 0===e[dw(-1,5)]||null===e[dw(-1,4)]||!e[dw(-1,9)])return{VZ:dw(0,21,1,2,1,7,1,12,5)};var u=parseInt(dw(-3,0),10)||Number(parseInt(dw(-3,0),10));return e[dw(-1,5)]<u?{VZ:dw(0,21,1,2,1,3,1,4,5)}:Mw(e)}(t);case"0002":return function(t){var e=Aw(t),i=e.NZ,n=e.GZ;if(e.VZ||void 0===i||void 0===n)return e;var r,o="";try{for(var s=i.slice(e.GZ,n+16),a=new DataView(s.buffer),u=new Int32Array(4),l=0;l<u.length;l+=1)u[l]=a.getInt32(4*l,!1);var h=uw.create(Array.from(u)),c=n+16,f=i.slice(c,i.length),p=new DataView(f.buffer),d=new Int32Array(Math.floor(f.byteLength/4));for(l=0;l<d.length;l+=1)d[l]=p.getInt32(4*l,!1);var y=uw.create(Array.from(d)),v=sw.decrypt({ciphertext:y},h,{mode:aw,padding:lw,iv:ew.parse("00000000000000000000000000000001")});o=pw.atob(v.toString(iw))}catch(t){return{VZ:dw(0,21,1,2,1,7,1,12,5)}}try{r=JSON.parse(o)}catch(t){return{VZ:dw(0,21,1,2,1,7,1,12,5)}}return r[dw(-1,37)]?Mw(r):{VZ:dw(0,21,1,2,1,7,1,12,5)}}(t);default:return{VZ:dw(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},Pw=function(t,e){switch(t.slice(0,4)){case"0001":return function(t,e){if(!e)return{VZ:dw(0,39,1,40,1,41,5),RZ:cw};var i=t.split("-"),n=i[1].slice(1),r=i[2],o=i[3];if(!ww("".concat(n,"-").concat(r),o))return{VZ:dw(0,21,1,2,1,7,1,12,5)};for(var s=Uint8Array.from(mw(r,2)),a=0,u=s.length-1;u>0;u-=1)a+=s[u]*Math.pow(2,8*u);if(a<(parseInt(dw(-3,0),10)||Number(parseInt(dw(-3,0),10))))return{VZ:dw(0,21,1,2,1,3,1,4,5)};var l=Int32Array.from(mw(n,8)),h=$M(e[dw(-1,31)]).toString(ew),c=Int32Array.from(mw(h,8)),f=$M(e[dw(-1,32)]).toString(ew),p=Int32Array.from(mw(f,8)),d=new Int32Array(c.length);for(u=0;u<d.length;u+=1)d[u]=c[u]^p[u];return l.every((function(t,e){return d[e]===t}))?{}:{VZ:dw(0,21,1,2,1,7,1,12,5)}}(t,e);case"0002":return function(t,e){if(!e)return{VZ:dw(0,39,1,40,1,41,5),RZ:cw};var i=Aw(t),n=i.NZ,r=i.GZ;if(i.VZ||void 0===n||void 0===r)return i;for(var o=n.slice(r,n.length),s=new DataView(o.buffer),a=new Int32Array(8),u=0;u<a.length;u+=1)a[u]=s.getInt32(4*u,!1);var l=$M(e[dw(-1,31)]).toString(ew),h=Int32Array.from(mw(l,8)),c=$M(e[dw(-1,32)]).toString(ew),f=Int32Array.from(mw(c,8)),p=new Int32Array(h.length);for(u=0;u<p.length;u+=1)p[u]=h[u]^f[u];return a.every((function(t,e){return p[e]===t}))?{}:{VZ:dw(0,21,1,2,1,7,1,12,5)}}(t,e);default:return{VZ:dw(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},Ew=function(t,e,i,n){void 0===i&&(i=!0),gw=!1,e.nu();var r=e.us,o=!!r&&(r===ne.document.body||ne.document.body.contains(r)),s=r&&o?r:document.body;if(void 0===Array.from(s.children).find((function(t){return"lcjs-error"===t.id}))){var a=ne.document.createElement("div");a.id="lcjs-error",s.append(a),a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="black",a.style.boxSizing="border-box",a.style.padding="20px",a.style.font="Arial",a.style.fontSize="20px";var u=(t||"LICENSE_ERROR").toLowerCase().split("_").join(" ");u=(i?dw(0,0,1,2,1,23,1,24,25,1):"")+u.charAt(0).toUpperCase()+u.substr(1);var l=void 0;if(n){var h=ne.document.createElement("a");h.href=n,l=h}else l=ne.document.createElement("p1");a.append(l),l.innerHTML=u,l.style.color="red",e.fH()&&pw.console.error(u)}},Tw=function(t,e,i){e?(t[dw(-1,17)](dw(-1,19),i),t[dw(-1,17)](dw(-1,20),i),t[dw(-1,17)](dw(-1,21),i),t[dw(-1,17)](dw(-1,22),i)):(t[dw(-1,18)](dw(-1,19),i),t[dw(-1,18)](dw(-1,20),i),t[dw(-1,18)](dw(-1,21),i),t[dw(-1,18)](dw(-1,22),i))},kw=function(t,e){var i=t.split(".").reverse();return e.some((function(t){var e=t.split(".").reverse(),n=!1,r=e.findIndex((function(t){return"*"===t})),o=i.every((function(t,i){if(!n){if(!(i<e.length))return!1;if(!(n="*"===e[i]&&i+1>2)&&t!==e[i])return!1}return!0}));return!(r>i.length-1||!o)}))},Dw=new Map,Fw=function(t,e){var i="object"===a(t)?t.license:t,n="object"===a(t)?t.licenseInformation:e,o="object"===a(t)?t:void 0,s=new vw;s.e=i;var u=Dw.get(i||"E");return u||(u=function(t,e){var i,n,o=!1,s=!1,a=!1,u=!1,l="",h=!1,c=!1;try{if(nw){var f=function(t){if(nw){var e=nw.split("-");if(e.length>0)switch(e[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";default:return}}}();if("0001"===f){yw=new Uint8Array([2]);var p=function(t){if(nw){var e=nw.split("-");return 4===e.length?e[1].startsWith("m")?2:1:0}}();if(1===p){var d=Cw(nw);a=!d.UZ,i=d,o=!0}else 2===p?(i=Pw(nw,t),s=!0):(gw=!0,i=bw(nw),u=!0)}else if("0002"===f)104===(p=function(t){if(nw){var e=nw.split("-");if(e.length>=2)return Uint8Array.from(atob(e[1]),(function(t){return t.charCodeAt(0)}))[0]}}())?(gw=!0,i=bw(nw),u=!0):189===p?(d=Cw(nw),a=!d.UZ,i=d,o=!0):159===p?(i=Pw(nw,t),s=!0):i={VZ:dw(0,0,1,7,1,12,5)};else if("T001"===f){d=function(t,e){var i=nw.split("-");if(3!==i.length)return{VZ:dw(0,0,1,7,1,12,5)};var n="".concat(i[1]),r=Array.prototype.reduce.call(atob(i[2]),(function(t,e){return t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)}),"");if(!ww(n,r))return{VZ:dw(0,0,1,7,1,12,5)};var o=0,s=Uint8Array.from(atob(i[1]),(function(t){return t.charCodeAt(o)})),a=s.subarray(o,o+=20),u=new DataView(s.buffer).getUint16(o,!0);o+=2;for(var l=Uint8Array.from(Array(u)),h=0;h<u;h+=1)l[h]=s[h+o]^a[h%a.byteLength];o=0;var c=new DataView(l.buffer),f=xw(l.subarray(o,o+=4)),p=dw(-3,0);if(!f)return{VZ:dw(0,0,1,7,1,12,5)};if(f<p)return{VZ:dw(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};var d=new Date,y=new Date;d.setDate(d.getDate()+1),y.setDate(y.getDate()-1);var v=Sw(y),g=Sw(d);if(f<v||f>g)return{VZ:dw(0,0,1,2,1,3,1,4,5)};var m=c.getUint16(o,!0),x=l.subarray(o+=2,o+m);if(yw=new Uint8Array(x),e&&"dHJhZGVy"in e&&"dGVjaG5pY2FsIGFuYWx5c2lz"===e.dHJhZGVy)return{WZ:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(e&&"logoGraphic"in e&&e.logoGraphic){var S=e.logoGraphic.split("-");return 3===S.length&&ww(S[0],S[2])?{WZ:S[0]}:{VZ:dw(0,0,1,7,1,12,5)}}return{VZ:dw(0,0,1,7,1,12,5)}}(0,t),i=d;var y=d.WZ;y&&e?("string"==typeof y&&(e.l=y),o=!0):i={VZ:dw(0,0,1,7,1,12,5)}}else i={VZ:dw(0,0,1,7,1,12,5)}}else["localhost","127.0.0.1","::1"].includes(window.location.hostname)||/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./.test(window.location.hostname)?i={VZ:dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),RZ:dw(-2,2)}:window.location.host===pw.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(c=!0,h=!1,yw=new Uint8Array([38]),i={}):(c=!0,h=!0,yw=new Uint8Array([38]),i={})}catch(t){i={VZ:dw(0,0,1,7,1,12,5)}}try{u&&(n=pw[dw(-1,34)][dw(-1,35)](dw(-1,39))||void 0)}catch(t){pw.console.error(t)}var v=!1;if(n){var g=n.split("-");if(2===g.length&&ww(g[0],g[1])){var m=hw(g[0].split(":").map((function(t){return Number(t)})),2),x=m[0],S=m[1];Date.now()-S<.95*x*1e3&&(v=!0)}}var A=!(c||h||i.VZ||o||s||v),b=function(){var t=new(pw[dw(-1,0)]);return t.open(dw(0,26),dw(-2,0)),t.setRequestHeader(dw(-1,24),dw(-1,25)),t.withCredentials=!0,t}(),M=new r.a;if(A){var w=void 0;try{w=parseInt(nw?nw.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(t){w=Math.floor(1e6*Math.random())}var C=Math.floor(1e6*Math.random());l=(w^C).toString();var P={},E="",T="",D="";nw=nw||"";for(var F=dw(-4,0),_=0;_<nw.length;_+=1){var I=nw.charCodeAt(_)^F.charCodeAt(_);E+=String.fromCharCode(I)}for(var O=dw(-3,0),B=0;B<O.length;B+=1)T+=String.fromCharCode(O.charCodeAt(B)^F.charCodeAt(B));for(var z=0;z<l.length;z+=1)D+=String.fromCharCode(l.charCodeAt(z)^F.charCodeAt(z));P[dw(-1,3)]=pw.btoa(E),P[dw(-1,4)]=pw.btoa(T),P.h=pw.btoa(D),P.v=3,P.s=pw[dw(-1,34)][dw(-1,35)](dw(-1,33))||void 0,b.send(JSON.stringify(P))}return function(t,r){var o=[],s={Rs:function(t){o.indexOf(t)>=0||(o.push(t),u())},Gs:function(t){return M.on("logoChange",t)},Us:function(t){return M.off(t)}},u=function(){o.forEach((function(t){var e=f(t);if(e){var i=e.YZ,n=e.XZ?dw(-2,1):void 0,r="".concat(dw(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)).concat(i).concat(n?dw(0,1,63,1,64,1,59,1,65,1,41):"");Ew(r,p,!1,n)}}))},c=function(t){return t.toLowerCase().split("_").join(" ")},f=function(t){var e,i=null===(e=Object.entries(Nu).find((function(e){return e[1]===t})))||void 0===e?void 0:e[0];if(i){switch(t){case Nu.Dv:return rw.Iv||rw.Dv?void 0:{YZ:c(i),XZ:!0};case Nu.Lv:return rw.Iv||rw.Lv?void 0:{YZ:c(i),XZ:!0};case Nu.zv:return rw.Iv||rw.jv||rw.zv?void 0:{YZ:c(i)};case Nu.jv:return rw.Iv||rw.jv?void 0:{YZ:c(i)};case Nu.Uv:return rw.Iv||rw.jv||rw.Uv?void 0:{YZ:c(i)};case Nu.Xv:return rw.Iv||rw.jv||rw.Xv?void 0:{YZ:c(i)};case Nu.Kv:return rw.Iv||rw.jv||rw.Kv?void 0:{YZ:c(i)};case Nu.qv:return rw.Iv||rw.jv||rw.qv?void 0:{YZ:c(i)};case Nu.$v:return rw.Iv||rw.jv||rw.$v?void 0:{YZ:c(i)};case Nu.Jv:return rw.Iv||rw.jv||rw.Jv?void 0:{YZ:c(i)};case Nu.Nv:return rw.Iv||rw.jv||rw.Nv?void 0:{YZ:c(i)};case Nu.Yv:return rw.Iv||rw.jv||rw.Yv?void 0:{YZ:c(i)};case Nu.Gv:return rw.Iv||rw.jv||rw.Gv?void 0:{YZ:c(i)};case Nu.Hv:return rw.Iv||rw.jv||rw.Hv?void 0:{YZ:c(i)};case Nu.Qv:return rw.Iv||rw.jv||rw.Qv?void 0:{YZ:c(i)};case Nu.Zv:return rw.Iv||rw.jv||rw.Zv?void 0:{YZ:c(i)};case Nu.Vv:return rw.Iv||rw.jv||rw.Vv?void 0:{YZ:c(i)};case Nu.Rv:return rw.Iv||rw.jv||rw.Rv?void 0:{YZ:c(i)};case Nu.Wv:return rw.Iv||rw.jv||rw.Wv?void 0:{YZ:c(i)};case Nu.td:return rw.Iv||rw.jv||rw.td?void 0:{YZ:c(i)};case Nu.Iv:case Nu.Bv:case Nu.Pv:case Nu.Ev:return}return si(0,"")}},p=new EM(r,t,s);(null==i?void 0:i.VZ)&&Ew(i.VZ,p,void 0,i.RZ);var d=function(t){if("error"===(null==t?void 0:t.type)&&n){var e=n.split("-");if(2===e.length&&ww(e[0],e[1])&&hw(e[0].split(":").map((function(t){return Number(t)})),2)[1]+9e5>Date.now())return gw=!1,void Tw(b,!1,y)}if(b.readyState===pw[dw(-1,0)].DONE)if(200===b.status){var i=JSON.parse(b[dw(-1,23)]);if(!ww(l+dw(-3,0),i.h)){var r=dw(0,0,1,27,1,28,1,29,1,30,1,31,5);Ew(r,p)}pw[dw(-1,34)][dw(-1,36)](dw(-1,39),i.t),pw[dw(-1,34)][dw(-1,36)](dw(-1,33),i.s),gw=!1}else{r=dw(0,0,1,2,1,7,1,12,5);try{r=t&&"loadend"!==t.type?dw(0,0,1,23,1,32,1,24,5):JSON.parse(b[dw(-1,23)]).message,Tw(b,!1,y)}catch(t){console.error(t)}Ew(r,p,void 0,"aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvbGljZW5zZXMvZGV2ZWxvcGVyLWxpY2Vuc2Vz")}},y=function(t){d(t)};if(Tw(b,!0,y),A?setTimeout((function(){if(gw){var t=!0;if(n){var e=n.split("-");2===e.length&&ww(e[0],e[1])&&hw(e[0].split(":").map((function(t){return Number(t)})),2)[1]+9e5>Date.now()&&(t=!1)}t&&Ew(dw(0,25,1,23,1,32,1,24,5),p)}}),1e4):Tw(b,!1,y),h){var v=function(){var t=new(pw[dw(-1,0)]);return t.open(dw(0,26),dw(1,0)),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!0,t}(),g=Array.from({length:10},(function(){return String.fromCharCode(Math.floor(256*Math.random()))})).join(""),m=function(t){!function(t){if("error"===(null==t?void 0:t.type)){var i=dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);Ew(i,p,!1,dw(-2,2)),Tw(b,!1,m)}if(v.readyState===pw.XMLHttpRequest.DONE){var n=v.getResponseHeader("X-LCJS-SANDBOX-V");if(200!==v.status||n&&"1"!==n)i=dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),Ew(i,p,!1,dw(-2,2)),Tw(b,!1,m);else{var r=JSON.parse(v.responseText);ww(g,r.s)||(i=dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),Ew(i,p,!1,dw(-2,2)),Tw(b,!1,m)),void 0!==e&&(e.l=r.l),M.emit("logoChange",r.l)}}else i=dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),Ew(i,p,!1,dw(-2,2)),Tw(b,!1,m)}(t)};Tw(v,!0,m),v.send(g),setTimeout((function(){if(v.readyState<2){var t=dw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);Ew(t,p,!1,dw(-2,2)),Tw(b,!1,m)}}),1e4)}return a?function(t){var e;gw=!1;var i=function(){e&&(t.Cs(e.Ms()),e=void 0);var i=t.oi();(e=t.sF("deployment test")).zo(t.vt).vo(dw(0,34,1,33)).Lr({x:i.x/2,y:i.y/2})._h(50).Ze(13).Br(new et({color:k(128,128,128,100)})).Mh("Arial").kh(500).setMouseInteractions(!1),t.Ss().xs()};t._u((function(){i()})),setTimeout(i,0),setInterval((function(){e&&e.Ms()<t.du()-1?i():e||i()}),1e3)}(p):b.readyState===pw[dw(-1,0)].DONE&&d(),p}}(n,s)),function(t,e,i,n){var r,o,s,a,u,l,h,c,f;if(i&&i.license){var p=i.license.split("-");f=p[p.length-1]}var d=null===(r=null==i?void 0:i.webgl)||void 0===r?void 0:r.version,y={ML:null===(o=null==i?void 0:i.sharedContextOptions)||void 0===o?void 0:o.canvas,Xs:null==i?void 0:i.warnings,EL:"webgl1"===d?1:"webgl2"===d?2:void 0,IL:!1!==(null===(s=null==i?void 0:i.sharedContextOptions)||void 0===s?void 0:s.antialias),FL:(null===(a=null==i?void 0:i.sharedContextOptions)||void 0===a?void 0:a.devicePixelRatio)||void 0,WL:(null===(u=null==i?void 0:i.sharedContextOptions)||void 0===u?void 0:u.noCanvasStyles)||void 0,ZL:(null===(l=null==i?void 0:i.sharedContextOptions)||void 0===l?void 0:l.noCanvasTransform)||void 0,DL:!1!==(null===(h=null==i?void 0:i.sharedContextOptions)||void 0===h?void 0:h.useStackingOrder),BL:!1!==(null===(c=null==i?void 0:i.sharedContextOptions)||void 0===c?void 0:c.useIndividualCanvas),YL:f||void 0},v=new eS(y),g=function(e){return t(e,v)};return{Dashboard:nS(g,e,i,n),ChartXY:sS(g,e,i,n),Spider:aS(g,e,i,n),Polar:uS(g,e,i,n),Pie:lS(g,e,i,n),UIPanel:oS(g,e,i,n),Gauge:hS(g,e,i,n),Funnel:cS(g,e,i,n),Pyramid:fS(g,e,i,n),Chart3D:dS(g,e,i,n),Map:pS(g,e,i,n),DataGrid:yS(g,e,i,n),BarChart:vS(g,e,i,n),ZoomBandChart:gS(g,e,i,n),TreeMapChart:mS(g,e,i,n),dispose:v.U.bind(v),layout:v.$L.bind(v)}}(u,s.e,o,s.l)}}.call(this,i(5))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i}]]);